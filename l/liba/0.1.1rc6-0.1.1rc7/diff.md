# Comparing `tmp/liba-0.1.1rc6.tar.gz` & `tmp/liba-0.1.1rc7.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "liba-0.1.1rc6.tar", last modified: Fri May 19 18:00:36 2023, max compression
+gzip compressed data, was "liba-0.1.1rc7.tar", last modified: Mon Jul 17 07:25:36 2023, max compression
```

## Comparing `liba-0.1.1rc6.tar` & `liba-0.1.1rc7.tar`

### file list

```diff
@@ -1,94 +1,104 @@
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.568374 liba-0.1.1rc6/
--rw-rw-rw-   0        0        0    16727 2023-04-16 10:53:49.000000 liba-0.1.1rc6/LICENSE.txt
--rw-rw-rw-   0        0        0       87 2023-05-06 04:29:13.000000 liba-0.1.1rc6/MANIFEST.in
--rw-rw-rw-   0        0        0     4517 2023-05-19 18:00:36.568374 liba-0.1.1rc6/PKG-INFO
--rw-rw-rw-   0        0        0     3770 2023-05-06 04:29:13.000000 liba-0.1.1rc6/README.md
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.448805 liba-0.1.1rc6/include/
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.487591 liba-0.1.1rc6/include/a/
--rw-rw-rw-   0        0        0    40337 2023-05-14 06:54:59.000000 liba-0.1.1rc6/include/a/a.h
--rw-rw-rw-   0        0        0     9641 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/avl.h
--rw-rw-rw-   0        0        0    11297 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/buf.h
--rw-rw-rw-   0        0        0    12712 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/complex.h
--rw-rw-rw-   0        0        0     1949 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/crc.h
--rw-rw-rw-   0        0        0    10381 2023-05-16 13:05:57.000000 liba-0.1.1rc6/include/a/fpid.h
--rw-rw-rw-   0        0        0     1416 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/fuzzy.h
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.495254 liba-0.1.1rc6/include/a/host/
--rw-rw-rw-   0        0        0      731 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/host/a.h
--rw-rw-rw-   0        0        0    10149 2023-05-07 16:15:03.000000 liba-0.1.1rc6/include/a/host/que.h
--rw-rw-rw-   0        0        0     8826 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/host/str.h
--rw-rw-rw-   0        0        0    13105 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/host/vec.h
--rw-rw-rw-   0        0        0    13539 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/host/vector.h
--rw-rw-rw-   0        0        0    14260 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/list.h
--rw-rw-rw-   0        0        0     5525 2023-05-16 10:53:09.000000 liba-0.1.1rc6/include/a/math.h
--rw-rw-rw-   0        0        0     3350 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/mf.h
--rw-rw-rw-   0        0        0   111610 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/notefreqs.h
--rw-rw-rw-   0        0        0     3133 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/oop.h
--rw-rw-rw-   0        0        0     2277 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/operator.h
--rw-rw-rw-   0        0        0     9592 2023-05-16 11:24:27.000000 liba-0.1.1rc6/include/a/pid.h
--rw-rw-rw-   0        0        0     1295 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/poly.h
--rw-rw-rw-   0        0        0    12547 2023-05-19 15:24:44.000000 liba-0.1.1rc6/include/a/polytrack.h
--rw-rw-rw-   0        0        0     9917 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/rbt.h
--rw-rw-rw-   0        0        0     3499 2023-05-06 04:29:13.000000 liba-0.1.1rc6/include/a/real.h
--rw-rw-rw-   0        0        0     7095 2023-05-07 15:31:27.000000 liba-0.1.1rc6/include/a/slist.h
--rw-rw-rw-   0        0        0     2244 2023-05-09 10:41:29.000000 liba-0.1.1rc6/include/a/tf.h
--rw-rw-rw-   0        0        0     1597 2023-05-17 19:12:49.000000 liba-0.1.1rc6/include/a/utf.h
--rw-rw-rw-   0        0        0     7813 2023-05-18 08:36:26.000000 liba-0.1.1rc6/include/a/version.h
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.501576 liba-0.1.1rc6/liba.egg-info/
--rw-rw-rw-   0        0        0     4517 2023-05-19 18:00:36.000000 liba-0.1.1rc6/liba.egg-info/PKG-INFO
--rw-rw-rw-   0        0        0     1432 2023-05-19 18:00:36.000000 liba-0.1.1rc6/liba.egg-info/SOURCES.txt
--rw-rw-rw-   0        0        0        1 2023-05-19 18:00:36.000000 liba-0.1.1rc6/liba.egg-info/dependency_links.txt
--rw-rw-rw-   0        0        0        5 2023-05-19 18:00:36.000000 liba-0.1.1rc6/liba.egg-info/top_level.txt
--rw-rw-rw-   0        0        0       92 2023-05-06 04:29:13.000000 liba-0.1.1rc6/pyproject.toml
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.450800 liba-0.1.1rc6/python/
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.505576 liba-0.1.1rc6/python/src/
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.532514 liba-0.1.1rc6/python/src/a/
--rw-rw-rw-   0        0        0     1393 2023-05-10 07:52:27.000000 liba-0.1.1rc6/python/src/a/__init__.pxd
--rw-rw-rw-   0        0        0       20 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/__init__.pxi
--rw-rw-rw-   0        0        0     1475 2023-05-16 11:29:18.000000 liba-0.1.1rc6/python/src/a/fpid.pxd
--rw-rw-rw-   0        0        0     4988 2023-05-10 07:52:27.000000 liba-0.1.1rc6/python/src/a/fpid.pxi
--rw-rw-rw-   0        0        0      117 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/math.pxd
--rw-rw-rw-   0        0        0      544 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/math.pxi
--rw-rw-rw-   0        0        0      651 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/mf.pxd
--rw-rw-rw-   0        0        0     2427 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/mf.pxi
--rw-rw-rw-   0        0        0     1620 2023-05-16 11:26:38.000000 liba-0.1.1rc6/python/src/a/pid.pxd
--rw-rw-rw-   0        0        0     3032 2023-05-10 07:52:27.000000 liba-0.1.1rc6/python/src/a/pid.pxi
--rw-rw-rw-   0        0        0      449 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/poly.pxd
--rw-rw-rw-   0        0        0      710 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/poly.pxi
--rw-rw-rw-   0        0        0     1652 2023-05-19 15:32:46.000000 liba-0.1.1rc6/python/src/a/polytrack.pxd
--rw-rw-rw-   0        0        0     6272 2023-05-19 15:31:52.000000 liba-0.1.1rc6/python/src/a/polytrack.pxi
--rw-rw-rw-   0        0        0      504 2023-05-09 10:41:29.000000 liba-0.1.1rc6/python/src/a/tf.pxd
--rw-rw-rw-   0        0        0     1297 2023-05-09 10:41:29.000000 liba-0.1.1rc6/python/src/a/tf.pxi
--rw-rw-rw-   0        0        0      168 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/version.pxd
--rw-rw-rw-   0        0        0      481 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a/version.pxi
--rw-rw-rw-   0        0        0  1133561 2023-05-19 15:32:55.000000 liba-0.1.1rc6/python/src/a.c
--rw-rw-rw-   0        0        0      494 2023-05-06 04:29:13.000000 liba-0.1.1rc6/python/src/a.pyx
--rw-rw-rw-   0        0        0      590 2023-05-19 18:00:36.569397 liba-0.1.1rc6/setup.cfg
--rw-rw-rw-   0        0        0     6135 2023-05-06 04:29:13.000000 liba-0.1.1rc6/setup.py
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.560396 liba-0.1.1rc6/src/
--rw-rw-rw-   0        0        0     1672 2023-05-16 10:52:49.000000 liba-0.1.1rc6/src/a.c
--rw-rw-rw-   0        0        0    25528 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/avl.c
--rw-rw-rw-   0        0        0     4688 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/buf.c
--rw-rw-rw-   0        0        0    23728 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/complex.c
--rw-rw-rw-   0        0        0      648 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/complex.h
--rw-rw-rw-   0        0        0     5503 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/crc.c
--rw-rw-rw-   0        0        0     7171 2023-05-16 13:16:52.000000 liba-0.1.1rc6/src/fpid.c
--rw-rw-rw-   0        0        0      484 2023-05-16 10:53:09.000000 liba-0.1.1rc6/src/fpid.h
--rw-rw-rw-   0        0        0      800 2023-05-16 13:16:39.000000 liba-0.1.1rc6/src/fuzzy.c
-drwxrwxrwx   0        0        0        0 2023-05-19 18:00:36.567404 liba-0.1.1rc6/src/host/
--rw-rw-rw-   0        0        0      551 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/host/a.c
--rw-rw-rw-   0        0        0     9439 2023-05-07 16:12:39.000000 liba-0.1.1rc6/src/host/que.c
--rw-rw-rw-   0        0        0     5684 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/host/str.c
--rw-rw-rw-   0        0        0     6897 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/host/vec.c
--rw-rw-rw-   0        0        0     8277 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/host/vector.c
--rw-rw-rw-   0        0        0     4776 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/math.c
--rw-rw-rw-   0        0        0      257 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/math.h
--rw-rw-rw-   0        0        0     2329 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/mf.c
--rw-rw-rw-   0        0        0     5335 2023-05-16 11:23:59.000000 liba-0.1.1rc6/src/pid.c
--rw-rw-rw-   0        0        0      461 2023-05-16 10:53:09.000000 liba-0.1.1rc6/src/pid.h
--rw-rw-rw-   0        0        0     1407 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/poly.c
--rw-rw-rw-   0        0        0     7783 2023-05-19 15:23:08.000000 liba-0.1.1rc6/src/polytrack.c
--rw-rw-rw-   0        0        0    24524 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/rbt.c
--rw-rw-rw-   0        0        0      877 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/real.c
--rw-rw-rw-   0        0        0     1432 2023-05-09 10:41:29.000000 liba-0.1.1rc6/src/tf.c
--rw-rw-rw-   0        0        0     2890 2023-05-17 19:12:04.000000 liba-0.1.1rc6/src/utf.c
--rw-rw-rw-   0        0        0     1213 2023-05-06 04:29:13.000000 liba-0.1.1rc6/src/version.c
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.330217 liba-0.1.1rc7/
+-rwxrwxrwx   0 root         (0) root         (0)       87 2023-07-17 02:44:36.000000 liba-0.1.1rc7/MANIFEST.in
+-rwxrwxrwx   0 root         (0) root         (0)     5842 2023-07-17 07:25:36.330217 liba-0.1.1rc7/PKG-INFO
+-rwxrwxrwx   0 root         (0) root         (0)     3891 2023-07-17 07:11:16.000000 liba-0.1.1rc7/README.md
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.180407 liba-0.1.1rc7/include/
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.235634 liba-0.1.1rc7/include/a/
+-rwxrwxrwx   0 root         (0) root         (0)    32982 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/a.h
+-rwxrwxrwx   0 root         (0) root         (0)     9676 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/avl.h
+-rwxrwxrwx   0 root         (0) root         (0)    11237 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/buf.h
+-rwxrwxrwx   0 root         (0) root         (0)    12768 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/complex.h
+-rwxrwxrwx   0 root         (0) root         (0)     1984 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/crc.h
+-rwxrwxrwx   0 root         (0) root         (0)     1436 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/fuzzy.h
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.243615 liba-0.1.1rc7/include/a/host/
+-rwxrwxrwx   0 root         (0) root         (0)      714 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/host/a.h
+-rwxrwxrwx   0 root         (0) root         (0)    10052 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/host/que.h
+-rwxrwxrwx   0 root         (0) root         (0)     8714 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/host/str.h
+-rwxrwxrwx   0 root         (0) root         (0)    13007 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/host/vec.h
+-rwxrwxrwx   0 root         (0) root         (0)    13397 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/host/vector.h
+-rwxrwxrwx   0 root         (0) root         (0)     2097 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/hpf.h
+-rwxrwxrwx   0 root         (0) root         (0)    14161 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/list.h
+-rwxrwxrwx   0 root         (0) root         (0)     2025 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/lpf.h
+-rwxrwxrwx   0 root         (0) root         (0)     8962 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/math.h
+-rwxrwxrwx   0 root         (0) root         (0)     3387 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/mf.h
+-rwxrwxrwx   0 root         (0) root         (0)   111612 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/notefreqs.h
+-rwxrwxrwx   0 root         (0) root         (0)     3135 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/oop.h
+-rwxrwxrwx   0 root         (0) root         (0)     2279 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/operator.h
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.246606 liba-0.1.1rc7/include/a/pid/
+-rwxrwxrwx   0 root         (0) root         (0)     7360 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/pid/fuzzy.h
+-rwxrwxrwx   0 root         (0) root         (0)     4398 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/pid/neuron.h
+-rwxrwxrwx   0 root         (0) root         (0)     4407 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/pid.h
+-rwxrwxrwx   0 root         (0) root         (0)     1313 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/poly.h
+-rwxrwxrwx   0 root         (0) root         (0)    12530 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/polytrack.h
+-rwxrwxrwx   0 root         (0) root         (0)     1773 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/rbf.h
+-rwxrwxrwx   0 root         (0) root         (0)     9960 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/rbt.h
+-rwxrwxrwx   0 root         (0) root         (0)     7032 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/slist.h
+-rwxrwxrwx   0 root         (0) root         (0)     2212 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/tf.h
+-rwxrwxrwx   0 root         (0) root         (0)     1610 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/utf.h
+-rwxrwxrwx   0 root         (0) root         (0)     8015 2023-07-17 07:11:16.000000 liba-0.1.1rc7/include/a/version.h
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.252541 liba-0.1.1rc7/liba.egg-info/
+-rwxrwxrwx   0 root         (0) root         (0)     5842 2023-07-17 07:25:36.000000 liba-0.1.1rc7/liba.egg-info/PKG-INFO
+-rwxrwxrwx   0 root         (0) root         (0)     1589 2023-07-17 07:25:36.000000 liba-0.1.1rc7/liba.egg-info/SOURCES.txt
+-rwxrwxrwx   0 root         (0) root         (0)        1 2023-07-17 07:25:36.000000 liba-0.1.1rc7/liba.egg-info/dependency_links.txt
+-rwxrwxrwx   0 root         (0) root         (0)        5 2023-07-17 07:25:36.000000 liba-0.1.1rc7/liba.egg-info/top_level.txt
+-rwxrwxrwx   0 root         (0) root         (0)       92 2023-07-17 02:44:36.000000 liba-0.1.1rc7/pyproject.toml
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.183784 liba-0.1.1rc7/python/
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.256527 liba-0.1.1rc7/python/src/
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.286469 liba-0.1.1rc7/python/src/a/
+-rwxrwxrwx   0 root         (0) root         (0)      927 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/__init__.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     1387 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/crc.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     3055 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/crc.pxi
+-rwxrwxrwx   0 root         (0) root         (0)      209 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/math.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     1122 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/math.pxi
+-rwxrwxrwx   0 root         (0) root         (0)      686 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/mf.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     2453 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/mf.pxi
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.292504 liba-0.1.1rc7/python/src/a/pid/
+-rwxrwxrwx   0 root         (0) root         (0)     1700 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/pid/fuzzy.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     4476 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/pid/fuzzy.pxi
+-rwxrwxrwx   0 root         (0) root         (0)      951 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/pid/neuron.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     3430 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/pid/neuron.pxi
+-rwxrwxrwx   0 root         (0) root         (0)      945 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/pid.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     2435 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/pid.pxi
+-rwxrwxrwx   0 root         (0) root         (0)      465 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/poly.pxd
+-rwxrwxrwx   0 root         (0) root         (0)      722 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/poly.pxi
+-rwxrwxrwx   0 root         (0) root         (0)     1681 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/polytrack.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     6340 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/polytrack.pxi
+-rwxrwxrwx   0 root         (0) root         (0)      531 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/tf.pxd
+-rwxrwxrwx   0 root         (0) root         (0)     1297 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/tf.pxi
+-rwxrwxrwx   0 root         (0) root         (0)      308 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/version.pxd
+-rwxrwxrwx   0 root         (0) root         (0)      591 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a/version.pxi
+-rwxrwxrwx   0 root         (0) root         (0)  1351218 2023-07-17 07:12:57.000000 liba-0.1.1rc7/python/src/a.c
+-rwxrwxrwx   0 root         (0) root         (0)     1080 2023-07-17 07:11:16.000000 liba-0.1.1rc7/python/src/a.pyx
+-rwxrwxrwx   0 root         (0) root         (0)      592 2023-07-17 07:25:36.332213 liba-0.1.1rc7/setup.cfg
+-rwxrwxrwx   0 root         (0) root         (0)     5271 2023-07-17 07:11:16.000000 liba-0.1.1rc7/setup.py
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.318249 liba-0.1.1rc7/src/
+-rwxrwxrwx   0 root         (0) root         (0)     2650 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/a.c
+-rwxrwxrwx   0 root         (0) root         (0)    25489 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/avl.c
+-rwxrwxrwx   0 root         (0) root         (0)     4647 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/buf.c
+-rwxrwxrwx   0 root         (0) root         (0)    24361 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/complex.c
+-rwxrwxrwx   0 root         (0) root         (0)      668 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/complex.h
+-rwxrwxrwx   0 root         (0) root         (0)     5952 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/crc.c
+-rwxrwxrwx   0 root         (0) root         (0)      824 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/fuzzy.c
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.324232 liba-0.1.1rc7/src/host/
+-rwxrwxrwx   0 root         (0) root         (0)      539 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/host/a.c
+-rwxrwxrwx   0 root         (0) root         (0)     9452 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/host/que.c
+-rwxrwxrwx   0 root         (0) root         (0)     5596 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/host/str.c
+-rwxrwxrwx   0 root         (0) root         (0)     6818 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/host/vec.c
+-rwxrwxrwx   0 root         (0) root         (0)     8156 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/host/vector.c
+-rwxrwxrwx   0 root         (0) root         (0)     5704 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/math.c
+-rwxrwxrwx   0 root         (0) root         (0)      257 2023-07-17 02:44:36.000000 liba-0.1.1rc7/src/math.h
+-rwxrwxrwx   0 root         (0) root         (0)     2371 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/mf.c
+drwxrwxrwx   0 root         (0) root         (0)        0 2023-07-17 07:25:36.329246 liba-0.1.1rc7/src/pid/
+-rwxrwxrwx   0 root         (0) root         (0)     6695 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/pid/fuzzy.c
+-rwxrwxrwx   0 root         (0) root         (0)      648 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/pid/fuzzy.h
+-rwxrwxrwx   0 root         (0) root         (0)     3725 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/pid/neuron.c
+-rwxrwxrwx   0 root         (0) root         (0)      876 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/pid/neuron.h
+-rwxrwxrwx   0 root         (0) root         (0)     4886 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/pid.c
+-rwxrwxrwx   0 root         (0) root         (0)      888 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/pid.h
+-rwxrwxrwx   0 root         (0) root         (0)     1451 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/poly.c
+-rwxrwxrwx   0 root         (0) root         (0)     7824 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/polytrack.c
+-rwxrwxrwx   0 root         (0) root         (0)     2815 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/rbf.c
+-rwxrwxrwx   0 root         (0) root         (0)    24599 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/rbt.c
+-rwxrwxrwx   0 root         (0) root         (0)     1417 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/tf.c
+-rwxrwxrwx   0 root         (0) root         (0)     2990 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/utf.c
+-rwxrwxrwx   0 root         (0) root         (0)     1232 2023-07-17 07:11:16.000000 liba-0.1.1rc7/src/version.c
```

### Comparing `liba-0.1.1rc6/README.md` & `liba-0.1.1rc7/README.md`

 * *Files 4% similar despite different names*

```diff
@@ -30,14 +30,15 @@
 - [emsdk](https://emscripten.org)
 - [xmake](https://xmake.io)
 - [cmake](https://cmake.org)
 - [conan](https://conan.io)
 - [vcpkg](https://vcpkg.io)
 - [meson](https://mesonbuild.com)
 - [python](https://www.python.org)
+- [quickjs](https://github.com/bellard/quickjs)
 
 ## build
 
 ### xmake
 
 ```bash
 xmake f
@@ -125,15 +126,14 @@
 ```
 
 ### Java
 
 ```java
 public class test {
     public static void main(String[] args) {
-        liba.init();
         System.out.println("version " + liba.version());
     }
 }
 ```
 
 ### Rust
 
@@ -156,14 +156,21 @@
 ### Python
 
 ```py
 import liba
 print("version", liba.version())
 ```
 
+### QuickJS
+
+```js
+import * as liba from "liba.so";
+console.log("version", liba.VERSION)
+```
+
 ## Copyright {#copyright}
 
 Copyright (C) 2020-present tqfx, All rights reserved.
 
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at <https://mozilla.org/MPL/2.0/>.
```

### Comparing `liba-0.1.1rc6/include/a/a.h` & `liba-0.1.1rc7/include/a/a.h`

 * *Files 19% similar despite different names*

```diff
@@ -251,27 +251,27 @@
 #if !defined A_BYTE_ORDER
 #if defined(__BYTE_ORDER__)
 #define A_BYTE_ORDER __BYTE_ORDER__
 #endif /* __BYTE_ORDER__ */
 #endif /* A_BYTE_ORDER */
 
 /* size of void pointer */
-#if !defined A_SIZE_VPTR
+#if !defined A_SIZE_POINTER
 #if defined(__SIZEOF_POINTER__)
-#define A_SIZE_VPTR __SIZEOF_POINTER__
+#define A_SIZE_POINTER __SIZEOF_POINTER__
 #elif defined(_WIN64)
-#define A_SIZE_VPTR 8
+#define A_SIZE_POINTER 8
 #elif defined(_WIN32)
-#define A_SIZE_VPTR 4
+#define A_SIZE_POINTER 4
 #endif /* __SIZEOF_POINTER__ */
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 
 #include <stddef.h>
-#include <stdint.h>
 #include <limits.h>
+#include <stdint.h>
 #include <float.h>
 
 /*!
  @addtogroup A algorithm library
  @{
 */
 
@@ -282,31 +282,24 @@
 #define a_cast_c(T, x) const_cast<T>(x)
 #else /* !__cplusplus */
 #define a_cast_r(T, x) ((T)(x))
 #define a_cast_d(T, x) ((T)(x))
 #define a_cast_s(T, x) ((T)(x))
 #define a_cast_c(T, x) ((T)(x))
 #endif /* __cplusplus */
+#define A_CASE_3(a, b, c) a##b##c
+#define A_CASE_2(a, b) a##b
+#define A_CASE_1(a) #a
 
 #if defined(__cplusplus) && defined(A_HAVE_NULLPTR)
 #define A_NULL nullptr
 #else /* !__cplusplus */
 #define A_NULL NULL
 #endif /* __cplusplus */
 
-#if !defined A_VOID_T
-#define A_VOID_T void
-#endif /* A_VOID_T */
-/*! static cast to \ref a_void_t */
-#define a_void_c(x) a_cast_s(A_VOID_T, x)
-#define a_void_p(x) a_cast_s(A_VOID_T *, x)
-#define A_VOID_P(x) a_cast_s(A_VOID_T const *, x)
-/*! as the declaration of the incomplete type */
-#define a_void_t A_VOID_T
-
 #if defined(__cplusplus)
 #define A_TRUE true
 #define A_FALSE false
 #if !defined A_BOOL_T
 #define A_BOOL_T bool
 #endif /* A_BOOL_T */
 #else /* !__cplusplus */
@@ -317,471 +310,333 @@
 #endif /* A_BOOL_T */
 #endif /* __cplusplus */
 /*! static cast to \ref a_bool_t */
 #define a_bool_c(x) (!!(x))
 /*! type, capable of holding one of the two values: 1 and 0 */
 #define a_bool_t A_BOOL_T
 
-#define a_char_t char
-#define A_CHAR_MIN CHAR_MIN
-#define A_CHAR_MAX CHAR_MAX
-#define a_byte_t unsigned char
-#define A_BYTE_MAX UCHAR_MAX
-#define a_char_c(x) a_cast_s(a_char_t, x)
-#define a_byte_c(x) a_cast_s(a_byte_t, x)
-#define a_char_p(x) a_cast_s(a_char_t *, x)
-#define a_byte_p(x) a_cast_s(a_byte_t *, x)
-#define A_CHAR_P(x) a_cast_s(a_char_t const *, x)
-#define A_BYTE_P(x) a_cast_s(a_byte_t const *, x)
-/* the most optimal integer type for the platform */
-#define a_int_t int
+#define A_INT_T int
 #define A_INT_MIN INT_MIN
 #define A_INT_MAX INT_MAX
-#define a_uint_t unsigned int
-#define A_UINT_MAX UINT_MAX
-#define a_int_c(x) a_cast_s(a_int_t, x)
-#define a_uint_c(x) a_cast_s(a_uint_t, x)
-#define a_int_p(x) a_cast_s(a_int_t *, x)
-#define a_uint_p(x) a_cast_s(a_uint_t *, x)
-#define A_INT_P(x) a_cast_s(a_int_t const *, x)
-#define A_UINT_P(x) a_cast_s(a_uint_t const *, x)
-
-#define A_I_T int
-#define A_I_MIN INT_MIN
-#define A_I_MAX INT_MAX
-#define A_U_T unsigned A_I_T
-#define A_U_MAX UINT_MAX
-/*! static cast to \ref a_i_t */
-#define a_i_c(x) a_cast_s(A_I_T, x)
-#define a_i_p(x) a_cast_s(A_I_T *, x)
-#define A_I_P(x) a_cast_s(A_I_T const *, x)
-/*! static cast to \ref a_u_t */
-#define a_u_c(x) a_cast_s(A_U_T, x)
-#define a_u_p(x) a_cast_s(A_U_T *, x)
-#define A_U_P(x) a_cast_s(A_U_T const *, x)
+/*! static cast to \ref a_int_t . */
+#define a_int_c(_, x) a_cast_s(A_INT_T _, x)
 /*! signed integer type is guaranteed to be at least 16 bits */
-#define a_i_t A_I_T
+#define a_int_t A_INT_T
+
+#define A_UINT_T unsigned int
+#define A_UINT_MAX UINT_MAX
+/*! static cast to \ref a_uint_t . */
+#define a_uint_c(_, x) a_cast_s(A_UINT_T _, x)
 /*! unsigned integer type is guaranteed to be at least 16 bits */
-#define a_u_t A_U_T
+#define a_uint_t A_UINT_T
 
-#define A_IS_T short
-#define A_IS_MIN SHRT_MIN
-#define A_IS_MAX SHRT_MAX
-#define A_US_T unsigned A_IS_T
-#define A_US_MAX USHRT_MAX
-/*! static cast to \ref a_is_t */
-#define a_is_c(x) a_cast_s(A_IS_T, x)
-#define a_is_p(x) a_cast_s(A_IS_T *, x)
-#define A_IS_P(x) a_cast_s(A_IS_T const *, x)
-/*! static cast to \ref a_us_t */
-#define a_us_c(x) a_cast_s(A_US_T, x)
-#define a_us_p(x) a_cast_s(A_US_T *, x)
-#define A_US_P(x) a_cast_s(A_US_T const *, x)
+#define A_SHRT_T short
+#define A_SHRT_MIN SHRT_MIN
+#define A_SHRT_MAX SHRT_MAX
+/*! static cast to \ref a_shrt_t . */
+#define a_shrt_c(_, x) a_cast_s(A_SHRT_T _, x)
 /*! signed integer type is guaranteed to be at least 16 bits */
-#define a_is_t A_IS_T
+#define a_shrt_t A_SHRT_T
+
+#define A_USHRT_T unsigned short
+#define A_USHRT_MAX USHRT_MAX
+/*! static cast to \ref a_ushrt_t . */
+#define a_ushrt_c(_, x) a_cast_s(A_USHRT_T _, x)
 /*! unsigned integer type is guaranteed to be at least 16 bits */
-#define a_us_t A_US_T
+#define a_ushrt_t A_USHRT_T
 
-#define A_IL_T long
-#define A_IL_MIN LONG_MIN
-#define A_IL_MAX LONG_MAX
-#define A_UL_T unsigned A_IL_T
-#define A_UL_MAX ULONG_MAX
-/*! static cast to \ref a_il_t */
-#define a_il_c(x) a_cast_s(A_IL_T, x)
-#define a_il_p(x) a_cast_s(A_IL_T *, x)
-#define A_IL_P(x) a_cast_s(A_IL_T const *, x)
-/*! static cast to \ref a_ul_t */
-#define a_ul_c(x) a_cast_s(A_UL_T, x)
-#define a_ul_p(x) a_cast_s(A_UL_T *, x)
-#define A_UL_P(x) a_cast_s(A_UL_T const *, x)
+#define A_LONG_T long
+#define A_LONG_MIN LONG_MIN
+#define A_LONG_MAX LONG_MAX
+/*! static cast to \ref a_long_t . */
+#define a_long_c(_, x) a_cast_s(A_LONG_T _, x)
 /*! signed integer type is guaranteed to be at least 32 bits */
-#define a_il_t A_IL_T
+#define a_long_t A_LONG_T
+
+#define A_ULONG_T unsigned long
+#define A_ULONG_MAX ULONG_MAX
+/*! static cast to \ref a_ulong_t . */
+#define a_ulong_c(_, x) a_cast_s(A_ULONG_T _, x)
 /*! unsigned integer type is guaranteed to be at least 32 bits */
-#define a_ul_t A_UL_T
+#define a_ulong_t A_ULONG_T
 
 #if defined(A_HAVE_LONG_LONG_TYPE)
 
-#define A_ILL_T long long
-#define A_ILL_MIN LLONG_MIN
-#define A_ILL_MAX LLONG_MAX
-#define A_ULL_T unsigned A_ILL_T
-#define A_ULL_MAX ULLONG_MAX
-/*! static cast to \ref a_ill_t */
-#define a_ill_c(x) a_cast_s(A_ILL_T, x)
-#define a_ill_p(x) a_cast_s(A_ILL_T *, x)
-#define A_ILL_P(x) a_cast_s(A_ILL_T const *, x)
-/*! static cast to \ref a_ull_t */
-#define a_ull_c(x) a_cast_s(A_ULL_T, x)
-#define a_ull_p(x) a_cast_s(A_ULL_T *, x)
-#define A_ULL_P(x) a_cast_s(A_ULL_T const *, x)
+#define A_LLONG_T long long
+#define A_LLONG_MIN LLONG_MIN
+#define A_LLONG_MAX LLONG_MAX
+/*! static cast to \ref a_llong_t . */
+#define a_llong_c(_, x) a_cast_s(A_LLONG_T _, x)
 /*! signed integer type is guaranteed to be at least 64 bits */
-#define a_ill_t A_ILL_T
+#define a_llong_t A_LLONG_T
+
+#define A_ULLONG_T unsigned long long
+#define A_ULLONG_MAX ULLONG_MAX
+/*! static cast to \ref a_ullong_t . */
+#define a_ullong_c(_, x) a_cast_s(A_ULLONG_T _, x)
 /*! unsigned integer type is guaranteed to be at least 64 bits */
-#define a_ull_t A_ULL_T
+#define a_ullong_t A_ULLONG_T
 
 #endif /* A_HAVE_LONG_LONG_TYPE */
 
-#define A_SINGLE_T float
-#define A_SINGLE_C(X) X##F
-#define A_SINGLE_F(F) F##f
-#define A_SINGLE_F1(F, a) F##f(a)
-#define A_SINGLE_F2(F, a, b) F##f(a, b)
-#define A_SINGLE_F3(F, a, b, c) F##f(a, b, c)
-#if defined(A_HAVE_VARIADIC_MACROS)
-#define A_SINGLE_FN(F, ...) F##f(__VA_ARGS__)
-#endif /* A_HAVE_VARIADIC_MACROS */
-#define A_SINGLE_DIG FLT_DIG
-#define A_SINGLE_EPSILON FLT_EPSILON
-#define A_SINGLE_MANT_DIG FLT_MANT_DIG
-#define A_SINGLE_MAX FLT_MAX
-#define A_SINGLE_MAX_10_EXP FLT_MAX_10_EXP
-#define A_SINGLE_MAX_EXP FLT_MAX_EXP
-#define A_SINGLE_MIN FLT_MIN
-#define A_SINGLE_MIN_10_EXP FLT_MIN_10_EXP
-#define A_SINGLE_MIN_EXP FLT_MIN_EXP
-#define A_SINGLE_INF a_single_c(A_DOUBLE_INF)
-#define A_SINGLE_NAN (A_SINGLE_C(0.0) * A_SINGLE_INF)
-/*! format constants for the fprintf family of functions */
-#define A_SINGLE_PRI(F, C) "%" F C
-/*! format constants for the fscanf family of functions */
-#define A_SINGLE_SCN(F, C) "%" F C
-/*! static cast to \ref a_single_t */
-#define a_single_c(x) a_cast_s(A_SINGLE_T, x)
-#define a_single_p(x) a_cast_s(A_SINGLE_T *, x)
-#define A_SINGLE_P(x) a_cast_s(A_SINGLE_T const *, x)
-/*! single precision floating point type. Matches IEEE-754 binary32 format if supported. */
-#define a_single_t A_SINGLE_T
-
-#define A_DOUBLE_T double
-#define A_DOUBLE_C(X) X
-#define A_DOUBLE_F(F) F
-#define A_DOUBLE_F1(F, a) F(a)
-#define A_DOUBLE_F2(F, a, b) F(a, b)
-#define A_DOUBLE_F3(F, a, b, c) F(a, b, c)
-#if defined(A_HAVE_VARIADIC_MACROS)
-#define A_DOUBLE_FN(F, ...) F(__VA_ARGS__)
-#endif /* A_HAVE_VARIADIC_MACROS */
-#define A_DOUBLE_DIG DBL_DIG
-#define A_DOUBLE_EPSILON DBL_EPSILON
-#define A_DOUBLE_MANT_DIG DBL_MANT_DIG
-#define A_DOUBLE_MAX DBL_MAX
-#define A_DOUBLE_MAX_10_EXP DBL_MAX_10_EXP
-#define A_DOUBLE_MAX_EXP DBL_MAX_EXP
-#define A_DOUBLE_MIN DBL_MIN
-#define A_DOUBLE_MIN_10_EXP DBL_MIN_10_EXP
-#define A_DOUBLE_MIN_EXP DBL_MIN_EXP
-#define A_DOUBLE_INF (DBL_MAX * DBL_MAX)
-#define A_DOUBLE_NAN (A_DOUBLE_C(0.0) * A_DOUBLE_INF)
-/*! format constants for the fprintf family of functions */
-#define A_DOUBLE_PRI(F, C) "%" F "l" C
-/*! format constants for the fscanf family of functions */
-#define A_DOUBLE_SCN(F, C) "%" F "l" C
-/*! static cast to \ref a_double_t */
-#define a_double_c(x) a_cast_s(A_DOUBLE_T, x)
-#define a_double_p(x) a_cast_s(A_DOUBLE_T *, x)
-#define A_DOUBLE_P(x) a_cast_s(A_DOUBLE_T const *, x)
-/*! double precision floating point type. Matches IEEE-754 binary32 format if supported. */
-#define a_double_t A_DOUBLE_T
-
-#define A_EXTEND_T long double
-#define A_EXTEND_C(X) X##L
-#define A_EXTEND_F(F) F##l
-#define A_EXTEND_F1(F, a) F##l(a)
-#define A_EXTEND_F2(F, a, b) F##l(a, b)
-#define A_EXTEND_F3(F, a, b, c) F##l(a, b, c)
-#if defined(A_HAVE_VARIADIC_MACROS)
-#define A_EXTEND_FN(F, ...) F##l(__VA_ARGS__)
-#endif /* A_HAVE_VARIADIC_MACROS */
-#define A_EXTEND_DIG LDBL_DIG
-#define A_EXTEND_EPSILON LDBL_EPSILON
-#define A_EXTEND_MANT_DIG LDBL_MANT_DIG
-#define A_EXTEND_MAX LDBL_MAX
-#define A_EXTEND_MAX_10_EXP LDBL_MAX_10_EXP
-#define A_EXTEND_MAX_EXP LDBL_MAX_EXP
-#define A_EXTEND_MIN LDBL_MIN
-#define A_EXTEND_MIN_10_EXP LDBL_MIN_10_EXP
-#define A_EXTEND_MIN_EXP LDBL_MIN_EXP
-#define A_EXTEND_INF (LDBL_MAX * LDBL_MAX)
-#define A_EXTEND_NAN (A_EXTEND_C(0.0) * A_EXTEND_INF)
-/*! format constants for the fprintf family of functions */
-#define A_EXTEND_PRI(F, C) "%" F "L" C
-/*! format constants for the fscanf family of functions */
-#define A_EXTEND_SCN(F, C) "%" F "L" C
-/*! static cast to \ref a_extend_t */
-#define a_extend_c(x) a_cast_s(A_EXTEND_T, x)
-#define a_extend_p(x) a_cast_s(A_EXTEND_T *, x)
-#define A_EXTEND_P(x) a_cast_s(A_EXTEND_T const *, x)
-/*! extend precision floating point type. Matches IEEE-754 extend format if supported. */
-#define a_extend_t A_EXTEND_T
+#define A_BYTE_T unsigned char
+#define A_BYTE_MAX UCHAR_MAX
+/*! static cast to \ref a_byte_t . */
+#define a_byte_c(_, x) a_cast_s(A_BYTE_T _, x)
+/*! type for unsigned character representation */
+#define a_byte_t A_BYTE_T
+
+#define A_C8_T char
+#define A_C8_MIN CHAR_MIN
+#define A_C8_MAX CHAR_MAX
+/*! static cast to \ref a_c8_t . */
+#define a_c8_c(_, x) a_cast_s(A_C8_T _, x)
+/*! type for character representation */
+#define a_c8_t A_C8_T
 
 #if !defined A_I8_T
 #define A_I8_T int8_t
 #endif /* A_I8_T */
-#if !defined A_U8_T
-#define A_U8_T uint8_t
-#endif /* A_U8_T */
 #if !defined A_I8_C && defined(INT8_C)
 #define A_I8_C(X) INT8_C(X)
 #endif /* A_I8_C */
-#if !defined A_U8_C && defined(UINT8_C)
-#define A_U8_C(X) UINT8_C(X)
-#endif /* A_U8_C */
 #if !defined A_I8_MIN && defined(INT8_MIN)
 #define A_I8_MIN INT8_MIN
 #endif /* A_I8_MIN */
 #if !defined A_I8_MAX && defined(INT8_MAX)
 #define A_I8_MAX INT8_MAX
 #endif /* A_I8_MAX */
+/*! static cast to \ref a_i8_t . */
+#define a_i8_c(_, x) a_cast_s(A_I8_T _, x)
+/*! signed integer type with width of exactly 8 bits */
+#define a_i8_t A_I8_T
+
+#if !defined A_U8_T
+#define A_U8_T uint8_t
+#endif /* A_U8_T */
+#if !defined A_U8_C && defined(UINT8_C)
+#define A_U8_C(X) UINT8_C(X)
+#endif /* A_U8_C */
 #if !defined A_U8_MAX && defined(UINT8_MAX)
 #define A_U8_MAX UINT8_MAX
 #endif /* A_U8_MAX */
-/*! static cast to \ref a_i8_t */
-#define a_i8_c(x) a_cast_s(A_I8_T, x)
-#define a_i8_p(x) a_cast_s(A_I8_T *, x)
-#define A_I8_P(x) a_cast_s(A_I8_T const *, x)
-/*! static cast to \ref a_u8_t */
-#define a_u8_c(x) a_cast_s(A_U8_T, x)
-#define a_u8_p(x) a_cast_s(A_U8_T *, x)
-#define A_U8_P(x) a_cast_s(A_U8_T const *, x)
-/*! signed integer type with width of exactly 8 bits */
-#define a_i8_t A_I8_T
+/*! static cast to \ref a_u8_t . */
+#define a_u8_c(_, x) a_cast_s(A_U8_T _, x)
 /*! unsigned integer type with width of exactly 8 bits */
 #define a_u8_t A_U8_T
 
 #if !defined A_I16_T
 #define A_I16_T int16_t
 #endif /* A_I16_T */
-#if !defined A_U16_T
-#define A_U16_T uint16_t
-#endif /* A_U16_T */
 #if !defined A_I16_C && defined(INT16_C)
 #define A_I16_C(X) INT16_C(X)
 #endif /* A_I16_C */
-#if !defined A_U16_C && defined(UINT16_C)
-#define A_U16_C(X) UINT16_C(X)
-#endif /* A_U16_C */
 #if !defined A_I16_MIN && defined(INT16_MIN)
 #define A_I16_MIN INT16_MIN
 #endif /* A_I16_MIN */
 #if !defined A_I16_MAX && defined(INT16_MAX)
 #define A_I16_MAX INT16_MAX
 #endif /* A_I16_MAX */
+/*! static cast to \ref a_i16_t . */
+#define a_i16_c(_, x) a_cast_s(A_I16_T _, x)
+/*! signed integer type with width of exactly 16 bits */
+#define a_i16_t A_I16_T
+
+#if !defined A_U16_T
+#define A_U16_T uint16_t
+#endif /* A_U16_T */
+#if !defined A_U16_C && defined(UINT16_C)
+#define A_U16_C(X) UINT16_C(X)
+#endif /* A_U16_C */
 #if !defined A_U16_MAX && defined(UINT16_MAX)
 #define A_U16_MAX UINT16_MAX
 #endif /* A_U16_MAX */
-/*! static cast to \ref a_i16_t */
-#define a_i16_c(x) a_cast_s(A_I16_T, x)
-#define a_i16_p(x) a_cast_s(A_I16_T *, x)
-#define A_I16_P(x) a_cast_s(A_I16_T const *, x)
-/*! static cast to \ref a_u16_t */
-#define a_u16_c(x) a_cast_s(A_U16_T, x)
-#define a_u16_p(x) a_cast_s(A_U16_T *, x)
-#define A_U16_P(x) a_cast_s(A_U16_T const *, x)
-/*! signed integer type with width of exactly 16 bits */
-#define a_i16_t A_I16_T
+/*! static cast to \ref a_u16_t . */
+#define a_u16_c(_, x) a_cast_s(A_U16_T _, x)
 /*! unsigned integer type with width of exactly 16 bits */
 #define a_u16_t A_U16_T
 
 #if !defined A_I32_T
 #define A_I32_T int32_t
 #endif /* A_I32_T */
-#if !defined A_U32_T
-#define A_U32_T uint32_t
-#endif /* A_U32_T */
 #if !defined A_I32_C && defined(INT32_C)
 #define A_I32_C(X) INT32_C(X)
 #endif /* A_I32_C */
-#if !defined A_U32_C && defined(UINT32_C)
-#define A_U32_C(X) UINT32_C(X)
-#endif /* A_U32_C */
 #if !defined A_I32_MIN && defined(INT32_MIN)
 #define A_I32_MIN INT32_MIN
 #endif /* A_I32_MIN */
 #if !defined A_I32_MAX && defined(INT32_MAX)
 #define A_I32_MAX INT32_MAX
 #endif /* A_I32_MAX */
+/*! static cast to \ref a_i32_t . */
+#define a_i32_c(_, x) a_cast_s(A_I32_T _, x)
+/*! signed integer type with width of exactly 32 bits */
+#define a_i32_t A_I32_T
+
+#if !defined A_U32_T
+#define A_U32_T uint32_t
+#endif /* A_U32_T */
+#if !defined A_U32_C && defined(UINT32_C)
+#define A_U32_C(X) UINT32_C(X)
+#endif /* A_U32_C */
 #if !defined A_U32_MAX && defined(UINT32_MAX)
 #define A_U32_MAX UINT32_MAX
 #endif /* A_U32_MAX */
-/*! static cast to \ref a_i32_t */
-#define a_i32_c(x) a_cast_s(A_I32_T, x)
-#define a_i32_p(x) a_cast_s(A_I32_T *, x)
-#define A_I32_P(x) a_cast_s(A_I32_T const *, x)
-/*! static cast to \ref a_u32_t */
-#define a_u32_c(x) a_cast_s(A_U32_T, x)
-#define a_u32_p(x) a_cast_s(A_U32_T *, x)
-#define A_U32_P(x) a_cast_s(A_U32_T const *, x)
-/*! signed integer type with width of exactly 32 bits */
-#define a_i32_t A_I32_T
+/*! static cast to \ref a_u32_t . */
+#define a_u32_c(_, x) a_cast_s(A_U32_T _, x)
 /*! unsigned integer type with width of exactly 32 bits */
 #define a_u32_t A_U32_T
 
 #if !defined A_I64_T
 #define A_I64_T int64_t
 #endif /* A_I64_T */
-#if !defined A_U64_T
-#define A_U64_T uint64_t
-#endif /* A_U64_T */
 #if !defined A_I64_C && defined(INT64_C)
 #define A_I64_C(X) INT64_C(X)
 #endif /* A_I64_C */
-#if !defined A_U64_C && defined(UINT64_C)
-#define A_U64_C(X) UINT64_C(X)
-#endif /* A_U64_C */
 #if !defined A_I64_MIN && defined(INT64_MIN)
 #define A_I64_MIN INT64_MIN
 #endif /* A_I64_MIN */
 #if !defined A_I64_MAX && defined(INT64_MAX)
 #define A_I64_MAX INT64_MAX
 #endif /* A_I64_MAX */
+/*! static cast to \ref a_i64_t . */
+#define a_i64_c(_, x) a_cast_s(A_I64_T _, x)
+/*! signed integer type with width of exactly 64 bits */
+#define a_i64_t A_I64_T
+
+#if !defined A_U64_T
+#define A_U64_T uint64_t
+#endif /* A_U64_T */
+#if !defined A_U64_C && defined(UINT64_C)
+#define A_U64_C(X) UINT64_C(X)
+#endif /* A_U64_C */
 #if !defined A_U64_MAX && defined(UINT64_MAX)
 #define A_U64_MAX UINT64_MAX
 #endif /* A_U64_MAX */
-/*! static cast to \ref a_i64_t */
-#define a_i64_c(x) a_cast_s(A_I64_T, x)
-#define a_i64_p(x) a_cast_s(A_I64_T *, x)
-#define A_I64_P(x) a_cast_s(A_I64_T const *, x)
-/*! static cast to \ref a_u64_t */
-#define a_u64_c(x) a_cast_s(A_U64_T, x)
-#define a_u64_p(x) a_cast_s(A_U64_T *, x)
-#define A_U64_P(x) a_cast_s(A_U64_T const *, x)
-/*! signed integer type with width of exactly 64 bits */
-#define a_i64_t A_I64_T
+/*! static cast to \ref a_u64_t . */
+#define a_u64_c(_, x) a_cast_s(A_U64_T _, x)
 /*! unsigned integer type with width of exactly 64 bits */
 #define a_u64_t A_U64_T
 
 #if !defined A_IMAX_T
 #define A_IMAX_T intmax_t
 #endif /* A_IMAX_T */
-#if !defined A_UMAX_T
-#define A_UMAX_T uintmax_t
-#endif /* A_UMAX_T */
 #if !defined A_IMAX_C && defined(INTMAX_C)
 #define A_IMAX_C(X) INTMAX_C(X)
 #endif /* A_IMAX_C */
-#if !defined A_UMAX_C && defined(UINTMAX_C)
-#define A_UMAX_C(X) UINTMAX_C(X)
-#endif /* A_UMAX_C */
 #if !defined A_IMAX_MIN && defined(INTMAX_MIN)
 #define A_IMAX_MIN INTMAX_MIN
 #endif /* A_IMAX_MIN */
 #if !defined A_IMAX_MAX && defined(INTMAX_MAX)
 #define A_IMAX_MAX INTMAX_MAX
 #endif /* A_IMAX_MAX */
+/*! static cast to \ref a_imax_t . */
+#define a_imax_c(_, x) a_cast_s(A_IMAX_T _, x)
+/*! maximum-width signed integer type */
+#define a_imax_t A_IMAX_T
+
+#if !defined A_UMAX_T
+#define A_UMAX_T uintmax_t
+#endif /* A_UMAX_T */
+#if !defined A_UMAX_C && defined(UINTMAX_C)
+#define A_UMAX_C(X) UINTMAX_C(X)
+#endif /* A_UMAX_C */
 #if !defined A_UMAX_MAX && defined(UINTMAX_MAX)
 #define A_UMAX_MAX UINTMAX_MAX
 #endif /* A_UMAX_MAX */
-/*! static cast to \ref a_imax_t */
-#define a_imax_c(x) a_cast_s(A_IMAX_T, x)
-#define a_imax_p(x) a_cast_s(A_IMAX_T *, x)
-#define A_IMAX_P(x) a_cast_s(A_IMAX_T const *, x)
-/*! static cast to \ref a_umax_t */
-#define a_umax_c(x) a_cast_s(A_UMAX_T, x)
-#define a_umax_p(x) a_cast_s(A_UMAX_T *, x)
-#define A_UMAX_P(x) a_cast_s(A_UMAX_T const *, x)
-/*! maximum-width signed integer type */
-#define a_imax_t A_IMAX_T
+/*! static cast to \ref a_umax_t . */
+#define a_umax_c(_, x) a_cast_s(A_UMAX_T _, x)
 /*! maximum-width unsigned integer type */
 #define a_umax_t A_UMAX_T
 
 #if !defined A_IPTR_T
 #define A_IPTR_T intptr_t
 #endif /* A_IPTR_T */
-#if !defined A_UPTR_T
-#define A_UPTR_T uintptr_t
-#endif /* A_UPTR_T */
 #if !defined A_IPTR_MIN && defined(INTPTR_MIN)
 #define A_IPTR_MIN INTPTR_MIN
 #endif /* A_IPTR_MIN */
 #if !defined A_IPTR_MAX && defined(INTPTR_MAX)
 #define A_IPTR_MAX INTPTR_MAX
 #endif /* A_IPTR_MAX */
+/*! static cast to \ref a_iptr_t . */
+#define a_iptr_c(_, x) a_cast_s(A_IPTR_T _, x)
+/*! signed integer type capable of holding a pointer to void */
+#define a_iptr_t A_IPTR_T
+
+#if !defined A_UPTR_T
+#define A_UPTR_T uintptr_t
+#endif /* A_UPTR_T */
 #if !defined A_UPTR_MAX && defined(UINTPTR_MAX)
 #define A_UPTR_MAX UINTPTR_MAX
 #endif /* A_UPTR_MAX */
-/*! static cast to \ref a_iptr_t */
-#define a_iptr_c(x) a_cast_s(A_IPTR_T, x)
-#define a_iptr_p(x) a_cast_s(A_IPTR_T *, x)
-#define A_IPTR_P(x) a_cast_s(A_IPTR_T const *, x)
-/*! static cast to \ref a_uptr_t */
-#define a_uptr_c(x) a_cast_s(A_UPTR_T, x)
-#define a_uptr_p(x) a_cast_s(A_UPTR_T *, x)
-#define A_UPTR_P(x) a_cast_s(A_UPTR_T const *, x)
-/*! signed integer type capable of holding a pointer to void */
-#define a_iptr_t A_IPTR_T
+/*! static cast to \ref a_uptr_t . */
+#define a_uptr_c(_, x) a_cast_s(A_UPTR_T _, x)
 /*! unsigned integer type capable of holding a pointer to void */
 #define a_uptr_t A_UPTR_T
 
 #if !defined A_DIFF_T
 #define A_DIFF_T ptrdiff_t
 #endif /* A_DIFF_T */
 #if !defined A_DIFF_MIN && defined(PTRDIFF_MIN)
 #define A_DIFF_MIN PTRDIFF_MIN
 #endif /* A_DIFF_MIN */
 #if !defined A_DIFF_MAX && defined(PTRDIFF_MAX)
 #define A_DIFF_MAX PTRDIFF_MAX
 #endif /* A_DIFF_MAX */
-/*! static cast to \ref a_diff_t */
-#define a_diff_c(x) a_cast_s(A_DIFF_T, x)
-#define a_diff_p(x) a_cast_s(A_DIFF_T *, x)
-#define A_DIFF_P(x) a_cast_s(A_DIFF_T const *, x)
+/*! static cast to \ref a_diff_t . */
+#define a_diff_c(_, x) a_cast_s(A_DIFF_T _, x)
 /*! signed integer type returned when subtracting two pointers */
 #define a_diff_t A_DIFF_T
 
 #if !defined A_SIZE_T
 #define A_SIZE_T size_t
 #endif /* A_SIZE_T */
 #if !defined A_SIZE_MAX && defined(SIZE_MAX)
 #define A_SIZE_MAX SIZE_MAX
 #endif /* A_SIZE_MAX */
-/*! static cast to \ref a_size_t */
-#define a_size_c(x) a_cast_s(A_SIZE_T, x)
-#define a_size_p(x) a_cast_s(A_SIZE_T *, x)
-#define A_SIZE_P(x) a_cast_s(A_SIZE_T const *, x)
+/*! static cast to \ref a_size_t . */
+#define a_size_c(_, x) a_cast_s(A_SIZE_T _, x)
 /*! unsigned integer type returned by the sizeof operator */
 #define a_size_t A_SIZE_T
 
 #define A_F16_NNAN A_U16_C(0xFE00)
 #define A_F16_PNAN A_U16_C(0x7E00)
 #define A_F16_NINF A_U16_C(0xFC00)
 #define A_F16_PINF A_U16_C(0x7C00)
 
 #define A_F32_T float
-#define A_F32_C(X) X##F
-#define A_F32_F(F) F##f
-#define A_F32_F1(F, a) F##f(a)
-#define A_F32_F2(F, a, b) F##f(a, b)
-#define A_F32_F3(F, a, b, c) F##f(a, b, c)
+#define A_F32_C(X) A_CASE_2(X, F)
+#define A_F32_F(F) A_CASE_2(F, f)
+#define A_F32_F1(F, a) A_CASE_2(F, f)(a)
+#define A_F32_F2(F, a, b) A_CASE_2(F, f)(a, b)
+#define A_F32_F3(F, a, b, c) A_CASE_2(F, f)(a, b, c)
 #if defined(A_HAVE_VARIADIC_MACROS)
-#define A_F32_FN(F, ...) F##f(__VA_ARGS__)
+#define A_F32_FN(F, ...) A_CASE_2(F, f)(__VA_ARGS__)
 #endif /* A_HAVE_VARIADIC_MACROS */
 #define A_F32_DIG FLT_DIG
 #define A_F32_EPSILON FLT_EPSILON
 #define A_F32_MANT_DIG FLT_MANT_DIG
 #define A_F32_MAX FLT_MAX
 #define A_F32_MAX_10_EXP FLT_MAX_10_EXP
 #define A_F32_MAX_EXP FLT_MAX_EXP
 #define A_F32_MIN FLT_MIN
 #define A_F32_MIN_10_EXP FLT_MIN_10_EXP
 #define A_F32_MIN_EXP FLT_MIN_EXP
-#define A_F32_INF a_f32_c(A_F64_INF)
+#define A_F32_INF a_f32_c(, A_F64_INF)
 #define A_F32_NAN (A_F32_C(0.0) * A_F32_INF)
 #define A_F32_NNAN A_U32_C(0xFFC00000)
 #define A_F32_PNAN A_U32_C(0x7FC00000)
 #define A_F32_NINF A_U32_C(0xFF800000)
 #define A_F32_PINF A_U32_C(0x7F800000)
 /*! format constants for the fprintf family of functions */
 #define A_F32_PRI(F, C) "%" F C
 /*! format constants for the fscanf family of functions */
 #define A_F32_SCN(F, C) "%" F C
-/*! static cast to \ref a_f32_t */
-#define a_f32_c(x) a_cast_s(A_F32_T, x)
-#define a_f32_p(x) a_cast_s(A_F32_T *, x)
-#define A_F32_P(x) a_cast_s(A_F32_T const *, x)
+/*! static cast to \ref a_f32_t . */
+#define a_f32_c(_, x) a_cast_s(A_F32_T _, x)
 /*! single precision floating point type. Matches IEEE-754 binary32 format if supported. */
 #define a_f32_t A_F32_T
 
 #define A_F64_T double
 #define A_F64_C(X) X
 #define A_F64_F(F) F
 #define A_F64_F1(F, a) F(a)
@@ -805,275 +660,195 @@
 #define A_F64_PNAN A_U64_C(0x7FF8000000000000)
 #define A_F64_NINF A_U64_C(0xFFF0000000000000)
 #define A_F64_PINF A_U64_C(0x7FF0000000000000)
 /*! format constants for the fprintf family of functions */
 #define A_F64_PRI(F, C) "%" F "l" C
 /*! format constants for the fscanf family of functions */
 #define A_F64_SCN(F, C) "%" F "l" C
-/*! static cast to \ref a_f64_t */
-#define a_f64_c(x) a_cast_s(A_F64_T, x)
-#define a_f64_p(x) a_cast_s(A_F64_T *, x)
-#define A_F64_P(x) a_cast_s(A_F64_T const *, x)
+/*! static cast to \ref a_f64_t . */
+#define a_f64_c(_, x) a_cast_s(A_F64_T _, x)
 /*! double precision floating point type. Matches IEEE-754 binary64 format if supported. */
 #define a_f64_t A_F64_T
 
-typedef char *a_str_t;
-#define a_str_c(x) a_cast_s(a_str_t, x)
-typedef char const *a_cstr_t;
-#define a_cstr_c(x) a_cast_s(a_cstr_t, x)
-
-typedef void *a_vptr_t;
-#define a_vptr_c(x) a_cast_s(a_vptr_t, x)
-typedef void const *a_cptr_t;
-#define a_cptr_c(x) a_cast_s(a_cptr_t, x)
-
-typedef union a_cast_u
-{
-    a_i_t i;
-    a_u_t u;
-    a_is_t is;
-    a_us_t us;
-    a_il_t il;
-    a_ul_t ul;
-#if defined(A_HAVE_LONG_LONG_TYPE)
-    a_ill_t ill;
-    a_ull_t ull;
-#endif /* A_HAVE_LONG_LONG_TYPE */
-    a_i8_t i8;
-    a_u8_t u8;
-    a_i16_t i16;
-    a_u16_t u16;
-    a_i32_t i32;
-    a_u32_t u32;
-    a_i64_t i64;
-    a_u64_t u64;
-    a_f32_t f32;
-    a_f64_t f64;
-    a_diff_t diff;
-    a_size_t size;
-    a_imax_t imax;
-    a_umax_t umax;
-    a_iptr_t iptr;
-    a_uptr_t uptr;
-    a_cptr_t cptr;
-    a_vptr_t vptr;
-    a_cstr_t cstr;
-    a_str_t str;
-    a_char_t c;
-} a_cast_u;
-
-#if defined(__cplusplus)
-namespace a
-{
-
-typedef a_void_t void_t;
-typedef a_bool_t bool_t;
-
-typedef a_i8_t i8_t;
-typedef a_u8_t u8_t;
-
-typedef a_i16_t i16_t;
-typedef a_u16_t u16_t;
-
-typedef a_i32_t i32_t;
-typedef a_u32_t u32_t;
-
-typedef a_i64_t i64_t;
-typedef a_u64_t u64_t;
-
-typedef a_imax_t imax_t;
-typedef a_umax_t umax_t;
-
-typedef a_iptr_t iptr_t;
-typedef a_uptr_t uptr_t;
-
-typedef a_diff_t diff_t;
-typedef a_size_t size_t;
-
-typedef a_i_t i_t;
-typedef a_u_t u_t;
-
-typedef a_is_t is_t;
-typedef a_us_t us_t;
-
-typedef a_il_t il_t;
-typedef a_ul_t ul_t;
-
-#if defined(A_HAVE_LONG_LONG_TYPE)
-typedef a_ill_t ill_t;
-typedef a_ull_t ull_t;
-#endif /* A_HAVE_LONG_LONG_TYPE */
-
-typedef a_int_t int_t;
-typedef a_uint_t uint_t;
-
-typedef a_byte_t byte_t;
-typedef a_char_t char_t;
-
-typedef a_str_t str_t;
-typedef a_cstr_t cstr_t;
-typedef a_vptr_t vptr_t;
-typedef a_cptr_t cptr_t;
-
-typedef a_f32_t f32_t;
-typedef a_f64_t f64_t;
-
-} /* namespace a */
-#endif /* __cplusplus */
-
 /*!
- @addtogroup A_REAL real number
+ @addtogroup A_FLOAT floating-point number
  @{
 */
 
-/*! real number bytes */
-#if !defined A_REAL_TYPE
-#if !defined A_SIZE_REAL
-#define A_REAL_TYPE A_REAL_DOUBLE
-#else /* !A_SIZE_REAL */
-#define A_REAL_TYPE A_SIZE_REAL
-#endif /* A_SIZE_REAL */
-#endif /* A_REAL_TYPE */
-#define A_REAL_SINGLE 0x04
-#define A_REAL_DOUBLE 0x08
-#define A_REAL_EXTEND 0x10
-#if defined(A_REAL_T)
-#elif A_REAL_TYPE == A_REAL_SINGLE
-
-/*! real number stored using `float` */
-#define A_REAL_T float
-#define A_REAL_DIG FLT_DIG
-#define A_REAL_EPSILON FLT_EPSILON
-#define A_REAL_MANT_DIG FLT_MANT_DIG
-#define A_REAL_MAX FLT_MAX
-#define A_REAL_MAX_10_EXP FLT_MAX_10_EXP
-#define A_REAL_MAX_EXP FLT_MAX_EXP
-#define A_REAL_MIN FLT_MIN
-#define A_REAL_MIN_10_EXP FLT_MIN_10_EXP
-#define A_REAL_MIN_EXP FLT_MIN_EXP
-
-/*!
- expands to a floating-point constant expression having the value specified by its argument and the type \ref a_real_t
-*/
-#define A_REAL_C(X) X##F
-/*!
- expands to a floating-point function expression having the value specified by its argument and the type \ref a_real_t
-*/
-#define A_REAL_F(F) F##f
-#define A_REAL_F1(F, a) F##f(a)
-#define A_REAL_F2(F, a, b) F##f(a, b)
-#define A_REAL_F3(F, a, b, c) F##f(a, b, c)
+/*! floating-point number bytes */
+#if !defined A_FLOAT_TYPE
+#if !defined A_SIZE_FLOAT
+#define A_FLOAT_TYPE A_FLOAT_DOUBLE
+#else /* !A_SIZE_FLOAT */
+#define A_FLOAT_TYPE A_SIZE_FLOAT
+#endif /* A_SIZE_FLOAT */
+#endif /* A_FLOAT_TYPE */
+#define A_FLOAT_SINGLE 0x04
+#define A_FLOAT_DOUBLE 0x08
+#define A_FLOAT_EXTEND 0x10
+#if defined(A_FLOAT_T)
+#elif A_FLOAT_TYPE + 0 == A_FLOAT_SINGLE
+
+/*! floating-point number stored using `float` */
+#define A_FLOAT_T float
+#define A_FLOAT_DIG FLT_DIG
+#define A_FLOAT_EPSILON FLT_EPSILON
+#define A_FLOAT_MANT_DIG FLT_MANT_DIG
+#define A_FLOAT_MAX FLT_MAX
+#define A_FLOAT_MAX_10_EXP FLT_MAX_10_EXP
+#define A_FLOAT_MAX_EXP FLT_MAX_EXP
+#define A_FLOAT_MIN FLT_MIN
+#define A_FLOAT_MIN_10_EXP FLT_MIN_10_EXP
+#define A_FLOAT_MIN_EXP FLT_MIN_EXP
+
+/*!
+ expands to a floating-point constant expression having the value specified by its argument and the type \ref a_float_t
+*/
+#define A_FLOAT_C(X) A_CASE_2(X, F)
+/*!
+ expands to a floating-point function expression having the value specified by its argument and the type \ref a_float_t
+*/
+#define A_FLOAT_F(F) A_CASE_2(F, f)
+#define A_FLOAT_F1(F, a) A_CASE_2(F, f)(a)
+#define A_FLOAT_F2(F, a, b) A_CASE_2(F, f)(a, b)
+#define A_FLOAT_F3(F, a, b, c) A_CASE_2(F, f)(a, b, c)
 #if defined(A_HAVE_VARIADIC_MACROS)
-#define A_REAL_FN(F, ...) F##f(__VA_ARGS__)
+#define A_FLOAT_FN(F, ...) A_CASE_2(F, f)(__VA_ARGS__)
 #endif /* A_HAVE_VARIADIC_MACROS */
 
 /*! format constants for the fprintf family of functions */
-#define A_REAL_PRI(F, C) "%" F C
+#define A_FLOAT_PRI(F, C) "%" F C
 /*! format constants for the fscanf family of functions */
-#define A_REAL_SCN(F, C) "%" F C
+#define A_FLOAT_SCN(F, C) "%" F C
 
-#elif A_REAL_TYPE == A_REAL_DOUBLE
+#elif A_FLOAT_TYPE + 0 == A_FLOAT_DOUBLE
 
-/*! real number stored using `double` */
-#define A_REAL_T double
-#define A_REAL_DIG DBL_DIG
-#define A_REAL_EPSILON DBL_EPSILON
-#define A_REAL_MANT_DIG DBL_MANT_DIG
-#define A_REAL_MAX DBL_MAX
-#define A_REAL_MAX_10_EXP DBL_MAX_10_EXP
-#define A_REAL_MAX_EXP DBL_MAX_EXP
-#define A_REAL_MIN DBL_MIN
-#define A_REAL_MIN_10_EXP DBL_MIN_10_EXP
-#define A_REAL_MIN_EXP DBL_MIN_EXP
+/*! floating-point number stored using `double` */
+#define A_FLOAT_T double
+#define A_FLOAT_DIG DBL_DIG
+#define A_FLOAT_EPSILON DBL_EPSILON
+#define A_FLOAT_MANT_DIG DBL_MANT_DIG
+#define A_FLOAT_MAX DBL_MAX
+#define A_FLOAT_MAX_10_EXP DBL_MAX_10_EXP
+#define A_FLOAT_MAX_EXP DBL_MAX_EXP
+#define A_FLOAT_MIN DBL_MIN
+#define A_FLOAT_MIN_10_EXP DBL_MIN_10_EXP
+#define A_FLOAT_MIN_EXP DBL_MIN_EXP
 
 /*!
- expands to a floating-point constant expression having the value specified by its argument and the type \ref a_real_t
+ expands to a floating-point constant expression having the value specified by its argument and the type \ref a_float_t
 */
-#define A_REAL_C(X) X
+#define A_FLOAT_C(X) X
 /*!
- expands to a floating-point function expression having the value specified by its argument and the type \ref a_real_t
+ expands to a floating-point function expression having the value specified by its argument and the type \ref a_float_t
 */
-#define A_REAL_F(F) F
-#define A_REAL_F1(F, a) F(a)
-#define A_REAL_F2(F, a, b) F(a, b)
-#define A_REAL_F3(F, a, b, c) F(a, b, c)
+#define A_FLOAT_F(F) F
+#define A_FLOAT_F1(F, a) F(a)
+#define A_FLOAT_F2(F, a, b) F(a, b)
+#define A_FLOAT_F3(F, a, b, c) F(a, b, c)
 #if defined(A_HAVE_VARIADIC_MACROS)
-#define A_REAL_FN(F, ...) F(__VA_ARGS__)
+#define A_FLOAT_FN(F, ...) F(__VA_ARGS__)
 #endif /* A_HAVE_VARIADIC_MACROS */
 
 /*! format constants for the fprintf family of functions */
-#define A_REAL_PRI(F, C) "%" F C
+#define A_FLOAT_PRI(F, C) "%" F C
 /*! format constants for the fscanf family of functions */
-#define A_REAL_SCN(F, C) "%" F "l" C
+#define A_FLOAT_SCN(F, C) "%" F "l" C
 
-#elif A_REAL_TYPE == A_REAL_EXTEND
+#elif A_FLOAT_TYPE + 0 == A_FLOAT_EXTEND
 
-/*! real number stored using `long double` */
-#define A_REAL_T long double
-#define A_REAL_DIG LDBL_DIG
-#define A_REAL_EPSILON LDBL_EPSILON
-#define A_REAL_MANT_DIG LDBL_MANT_DIG
-#define A_REAL_MAX LDBL_MAX
-#define A_REAL_MAX_10_EXP LDBL_MAX_10_EXP
-#define A_REAL_MAX_EXP LDBL_MAX_EXP
-#define A_REAL_MIN LDBL_MIN
-#define A_REAL_MIN_10_EXP LDBL_MIN_10_EXP
-#define A_REAL_MIN_EXP LDBL_MIN_EXP
+/*! floating-point number stored using `long double` */
+#define A_FLOAT_T long double
+#define A_FLOAT_DIG LDBL_DIG
+#define A_FLOAT_EPSILON LDBL_EPSILON
+#define A_FLOAT_MANT_DIG LDBL_MANT_DIG
+#define A_FLOAT_MAX LDBL_MAX
+#define A_FLOAT_MAX_10_EXP LDBL_MAX_10_EXP
+#define A_FLOAT_MAX_EXP LDBL_MAX_EXP
+#define A_FLOAT_MIN LDBL_MIN
+#define A_FLOAT_MIN_10_EXP LDBL_MIN_10_EXP
+#define A_FLOAT_MIN_EXP LDBL_MIN_EXP
 
 /*!
- expands to a floating-point constant expression having the value specified by its argument and the type \ref a_real_t
+ expands to a floating-point constant expression having the value specified by its argument and the type \ref a_float_t
 */
-#define A_REAL_C(X) X##L
+#define A_FLOAT_C(X) A_CASE_2(X, L)
 /*!
- expands to a floating-point function expression having the value specified by its argument and the type \ref a_real_t
+ expands to a floating-point function expression having the value specified by its argument and the type \ref a_float_t
 */
-#define A_REAL_F(F) F##l
-#define A_REAL_F1(F, a) F##l(a)
-#define A_REAL_F2(F, a, b) F##l(a, b)
-#define A_REAL_F3(F, a, b, c) F##l(a, b, c)
+#define A_FLOAT_F(F) A_CASE_2(F, l)
+#define A_FLOAT_F1(F, a) A_CASE_2(F, l)(a)
+#define A_FLOAT_F2(F, a, b) A_CASE_2(F, l)(a, b)
+#define A_FLOAT_F3(F, a, b, c) A_CASE_2(F, l)(a, b, c)
 #if defined(A_HAVE_VARIADIC_MACROS)
-#define A_REAL_FN(F, ...) F##l(__VA_ARGS__)
+#define A_FLOAT_FN(F, ...) A_CASE_2(F, l)(__VA_ARGS__)
 #endif /* A_HAVE_VARIADIC_MACROS */
 
 /*! format constants for the fprintf family of functions */
-#define A_REAL_PRI(F, C) "%" F "L" C
+#define A_FLOAT_PRI(F, C) "%" F "L" C
 /*! format constants for the fscanf family of functions */
-#define A_REAL_SCN(F, C) "%" F "L" C
+#define A_FLOAT_SCN(F, C) "%" F "L" C
 
-#else /* !A_REAL_TYPE */
+#else /* !A_FLOAT_TYPE */
 #error unknown precision
-#endif /* A_REAL_TYPE */
+#endif /* A_FLOAT_TYPE */
 
-#define A_REAL_INF a_cast_s(A_REAL_T, A_F64_INF)
-#define A_REAL_NAN (A_REAL_C(0.0) * A_REAL_INF)
+#define A_FLOAT_INF a_cast_s(A_FLOAT_T, A_F64_INF)
+#define A_FLOAT_NAN (A_FLOAT_C(0.0) * A_FLOAT_INF)
 
-/*! static cast to \ref a_real_t */
-#define a_real_c(x) a_cast_s(A_REAL_T, x)
-#define a_real_p(x) a_cast_s(A_REAL_T *, x)
-#define A_REAL_P(x) a_cast_s(A_REAL_T const *, x)
-/*! compiler built-in real number type */
-#define a_real_t A_REAL_T
+/*! static cast to \ref a_float_t . */
+#define a_float_c(_, x) a_cast_s(A_FLOAT_T _, x)
+/*! compiler built-in floating-point number type */
+#define a_float_t A_FLOAT_T
 
-typedef union a_real_u
+typedef union a_float_u
 {
-    a_real_t f; //!< as a real number
-    a_real_t *p; //!< as a real array
-} a_real_u;
+    a_float_t f; //!< as a floating-point number
+    a_float_t *p; //!< as a floating-point array
+} a_float_u;
 
-#if defined(__cplusplus)
-namespace a
-{
+/*! @} A_FLOAT */
 
-typedef a_real_t real_t;
-typedef a_real_u real_u;
-
-} /* namespace a */
-#endif /* __cplusplus */
-
-/*! @} A_REAL */
+typedef union a_cast_u
+{
+    a_c8_t c;
+    a_int_t i;
+    a_uint_t u;
+    a_shrt_t ih;
+    a_ushrt_t uh;
+    a_long_t il;
+    a_ulong_t ul;
+#if defined(A_HAVE_LONG_LONG_TYPE)
+    a_llong_t ill;
+    a_ullong_t ull;
+#endif /* A_HAVE_LONG_LONG_TYPE */
+    a_i8_t i8;
+    a_u8_t u8;
+    a_i16_t i16;
+    a_u16_t u16;
+    a_i32_t i32;
+    a_u32_t u32;
+    a_i64_t i64;
+    a_u64_t u64;
+    a_f32_t f32;
+    a_f64_t f64;
+    a_imax_t imax;
+    a_umax_t umax;
+    a_iptr_t iptr;
+    a_uptr_t uptr;
+    a_diff_t diff;
+    a_size_t size;
+    void const *PTR;
+    void *ptr;
+    char const *STR;
+    char *str;
+#if defined(A_FLOAT_TYPE) && (A_FLOAT_TYPE + 0 < A_FLOAT_EXTEND)
+    a_float_t f;
+#endif /* A_FLOAT_TYPE */
+} a_cast_u;
 
 /*!
  @brief size of memory that alignment is specified by alignment
  @param base specifies the alignment that is a power of two
  @param size number of bytes to allocate
 */
 #define a_align(base, size) ((a_cast_s(a_size_t, size) + (base)-1) & ~((base)-1))
@@ -1240,96 +1015,98 @@
         a_u64_t u;
     } u;
     u.x = x;
     return u.u;
 }
 #endif /* A_HAVE_INLINE */
 
-A_EXTERN a_vptr_t a_copy(a_vptr_t A_RESTRICT dst, a_cptr_t A_RESTRICT src, a_size_t siz);
-A_EXTERN a_vptr_t a_move(a_vptr_t dst, a_cptr_t src, a_size_t siz);
-A_EXTERN a_vptr_t a_fill(a_vptr_t ptr, a_size_t siz, a_int_t val);
-A_EXTERN a_vptr_t a_zero(a_vptr_t ptr, a_size_t siz);
+/*!
+ @brief copy one buffer to another
+ @param[in] dst pointer to the object to copy to
+ @param[in] src pointer to the object to copy from
+ @param[in] siz number of bytes to copy
+ @return a copy of dest
+*/
+A_EXTERN void *a_copy(void *A_RESTRICT dst, void const *A_RESTRICT src, a_size_t siz);
+
+/*!
+ @brief move one buffer to another
+ @param[in] dst pointer to the object to copy to
+ @param[in] src pointer to the object to copy from
+ @param[in] siz number of bytes to copy
+ @return a copy of dest
+*/
+A_EXTERN void *a_move(void *dst, void const *src, a_size_t siz);
+
+/*!
+ @brief fill a buffer with a character
+ @param[in] ptr pointer to the object to fill
+ @param[in] siz number of bytes to fill
+ @param[in] val fill byte
+ @return a copy of dest
+*/
+A_EXTERN void *a_fill(void *ptr, a_size_t siz, int val);
+
+/*!
+ @brief fill a buffer with zero
+ @param[in] ptr pointer to the object to fill
+ @param[in] siz number of bytes to fill
+ @return a copy of dest
+*/
+A_EXTERN void *a_zero(void *ptr, a_size_t siz);
 
 /*!
  @brief swap two different memory blocks of the same size
  @param[in] siz the size of memory block being swapped
  @param[in,out] lhs points to memory block on the left
  @param[in,out] rhs points to memory block on the right
 */
-A_EXTERN a_void_t a_swap(a_vptr_t lhs, a_vptr_t rhs, a_size_t siz);
-
-#if !defined A_HAVE_INLINE || defined(LIBA_A_C)
-A_EXTERN a_void_t a_swap1(a_vptr_t lhs, a_vptr_t rhs);
-#endif /* A_HAVE_INLINE */
-#if defined(A_HAVE_INLINE) || defined(LIBA_A_C)
-A_INTERN a_void_t a_swap1(a_vptr_t const lhs, a_vptr_t const rhs)
-{
-    *a_u8_p(lhs) ^= *A_U8_P(rhs);
-    *a_u8_p(rhs) ^= *A_U8_P(lhs);
-    *a_u8_p(lhs) ^= *A_U8_P(rhs);
-}
-#endif /* A_HAVE_INLINE */
-#if !defined A_HAVE_INLINE || defined(LIBA_A_C)
-A_EXTERN a_void_t a_swap2(a_vptr_t lhs, a_vptr_t rhs);
-#endif /* A_HAVE_INLINE */
-#if defined(A_HAVE_INLINE) || defined(LIBA_A_C)
-A_INTERN a_void_t a_swap2(a_vptr_t const lhs, a_vptr_t const rhs)
-{
-    *a_u16_p(lhs) ^= *A_U16_P(rhs);
-    *a_u16_p(rhs) ^= *A_U16_P(lhs);
-    *a_u16_p(lhs) ^= *A_U16_P(rhs);
-}
-#endif /* A_HAVE_INLINE */
-#if !defined A_HAVE_INLINE || defined(LIBA_A_C)
-A_EXTERN a_void_t a_swap4(a_vptr_t lhs, a_vptr_t rhs);
-#endif /* A_HAVE_INLINE */
-#if defined(A_HAVE_INLINE) || defined(LIBA_A_C)
-A_INTERN a_void_t a_swap4(a_vptr_t const lhs, a_vptr_t const rhs)
-{
-    *a_u32_p(lhs) ^= *A_U32_P(rhs);
-    *a_u32_p(rhs) ^= *A_U32_P(lhs);
-    *a_u32_p(lhs) ^= *A_U32_P(rhs);
-}
-#endif /* A_HAVE_INLINE */
-#if !defined A_HAVE_INLINE || defined(LIBA_A_C)
-A_EXTERN a_void_t a_swap8(a_vptr_t lhs, a_vptr_t rhs);
-#endif /* A_HAVE_INLINE */
-#if defined(A_HAVE_INLINE) || defined(LIBA_A_C)
-A_INTERN a_void_t a_swap8(a_vptr_t const lhs, a_vptr_t const rhs)
-{
-    *a_u64_p(lhs) ^= *A_U64_P(rhs);
-    *a_u64_p(rhs) ^= *A_U64_P(lhs);
-    *a_u64_p(lhs) ^= *A_U64_P(rhs);
-}
-#endif /* A_HAVE_INLINE */
-#if !defined A_HAVE_INLINE || defined(LIBA_A_C)
-A_EXTERN a_void_t a_swapz(a_vptr_t lhs, a_vptr_t rhs);
-#endif /* A_HAVE_INLINE */
-#if defined(A_HAVE_INLINE) || defined(LIBA_A_C)
-A_INTERN a_void_t a_swapz(a_vptr_t const lhs, a_vptr_t const rhs)
-{
-    *a_size_p(lhs) ^= *A_SIZE_P(rhs);
-    *a_size_p(rhs) ^= *A_SIZE_P(lhs);
-    *a_size_p(lhs) ^= *A_SIZE_P(rhs);
-}
-#endif /* A_HAVE_INLINE */
+A_EXTERN void a_swap(void *lhs, void *rhs, a_size_t siz);
 
 /*!
  @brief Brian Kernighan and Dennis Ritchie
  @param[in] str string to be processed
  @param[in] val initial value
  @return hash value
 */
-A_EXTERN a_umax_t a_hash_bkdr(a_cptr_t str, a_umax_t val);
-A_EXTERN a_umax_t a_hash_bkdrn(a_cptr_t ptr, a_size_t siz, a_umax_t val);
+A_EXTERN a_umax_t a_hash_bkdr(void const *str, a_umax_t val);
+
+/*!
+ @brief Brian Kernighan and Dennis Ritchie
+ @param[in] ptr points to string to be processed
+ @param[in] siz length of string to be processed
+ @param[in] val initial value
+ @return hash value
+*/
+A_EXTERN a_umax_t a_hash_bkdrn(void const *ptr, a_size_t siz, a_umax_t val);
+
+/*!
+ @brief roll back the elements of a float array and save the cache array
+ @param[in] array_p points to a float array
+ @param[in] array_n number of a float array
+ @param[in] cache_p points to a cache array
+ @param[in] cache_n number of a cache array
+*/
+A_EXTERN void a_float_save(a_float_t *array_p, a_size_t array_n,
+                           a_float_t const *cache_p, a_size_t cache_n);
+
+/*!
+ @brief roll back the elements of a float array circularly, array>>shift
+ @param[in] array_p points to a float array
+ @param[in] array_n number of a float array
+ @param[in] shift_p points to a shift array
+ @param[in] shift_n number of a shift array
+*/
+A_EXTERN void a_float_roll(a_float_t *array_p, a_size_t array_n,
+                           a_float_t *shift_p, a_size_t shift_n);
 
 #if defined(LIBA_A_C)
 #undef A_INTERN
 #define A_INTERN static A_INLINE
 #endif /* LIBA_A_C */
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*! @} A */
 
-#endif /* a.h */
+#endif /* a/a.h */
```

### Comparing `liba-0.1.1rc6/include/a/avl.h` & `liba-0.1.1rc7/include/a/avl.h`

 * *Files 3% similar despite different names*

```diff
@@ -33,51 +33,51 @@
         00 => -1
         01 =>  0
         10 => +1
         11 => undefined
      The rest of the bits are the pointer to the parent node. It must be 4-byte aligned,
      and it will be NULL if this is the root node and therefore has no parent.
     */
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 3)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 3)
     a_uptr_t _parent;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     struct a_avl_s *parent;
-    a_int_t factor;
-#endif /* A_SIZE_VPTR */
+    int factor;
+#endif /* A_SIZE_POINTER */
 } a_avl_s;
 
 /*!
  @brief access parent of AVL binary search tree node
  @param[in] node points to AVL binary search tree node
  @return a pointer to the parent of the specified AVL tree node,
  or NULL if it is already the root of the tree.
 */
 A_INTERN a_avl_s *a_avl_parent(a_avl_s const *const node)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 3)
-    return a_cast_r(a_avl_s *, node->_parent & ~a_uptr_c(3));
-#else /* !A_SIZE_VPTR */
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 3)
+    return a_cast_r(a_avl_s *, node->_parent & ~a_uptr_c(, 3));
+#else /* !A_SIZE_POINTER */
     return node->parent;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
 /*!
  @brief initialize function for AVL binary search tree node
  @param[in] node node to be initialized
  @param[in] parent node parent
  @return initialized node
 */
 A_INTERN a_avl_s *a_avl_init(a_avl_s *const node, a_avl_s *const parent)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 3)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 3)
     node->_parent = a_cast_r(a_uptr_t, parent) | 1;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     node->parent = parent;
     node->factor = 0;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
     node->right = A_NULL;
     node->left = A_NULL;
     return node;
 }
 
 /*!
  @brief instance structure for AVL binary search tree root
@@ -87,15 +87,15 @@
     struct a_avl_s *node; //!< root node
 } a_avl_u;
 
 /*!
  @brief initialize function for AVL binary search tree root
  @param[in,out] root AVL binary search tree root
 */
-A_INTERN a_void_t a_avl_root(a_avl_u *const root) { root->node = A_NULL; }
+A_INTERN void a_avl_root(a_avl_u *const root) { root->node = A_NULL; }
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
 
 /*!
  @brief access head node of AVL binary search tree in-order
@@ -182,41 +182,41 @@
  @param[in] ctx specified content
  @param[in] cmp a function that compares two nodes
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
  @return specified node or NULL
 */
-A_EXTERN a_avl_s *a_avl_search(a_avl_u const *root, a_cptr_t ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN a_avl_s *a_avl_search(a_avl_u const *root, void const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert specified node into AVL binary search tree
  @param[in] root AVL binary search tree root
  @param[in] node specified tree node
  @param[in] cmp a function that compares two nodes
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
  @return NULL or duplicate node
 */
-A_EXTERN a_avl_s *a_avl_insert(a_avl_u *root, a_avl_s *node, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN a_avl_s *a_avl_insert(a_avl_u *root, a_avl_s *node, int (*cmp)(void const *, void const *));
 
 /*!
  @brief rebalance the tree after insertion of the specified node
  @param[in] root AVL binary search tree root
  @param[in] node insert tree node
 */
-A_EXTERN a_void_t a_avl_insert_adjust(a_avl_u *root, a_avl_s *node);
+A_EXTERN void a_avl_insert_adjust(a_avl_u *root, a_avl_s *node);
 
 /*!
  @brief remove specified node from AVL binary search tree
  @param[in] root AVL binary search tree root
  @param[in] node specified tree node
 */
-A_EXTERN a_void_t a_avl_remove(a_avl_u *root, a_avl_s *node);
+A_EXTERN void a_avl_remove(a_avl_u *root, a_avl_s *node);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*!
  @brief access the struct for this entry
@@ -337,8 +337,8 @@
  @param root AVL binary search tree root
 */
 #define a_avl_fortear(cur, next, root) \
     for (a_avl_s *next = A_NULL, *cur = a_avl_tear(root, &next); cur; cur = a_avl_tear(root, &next))
 
 /*! @} A_AVL */
 
-#endif /* avl.h */
+#endif /* a/avl.h */
```

### Comparing `liba-0.1.1rc6/include/a/buf.h` & `liba-0.1.1rc7/include/a/buf.h`

 * *Files 14% similar despite different names*

```diff
@@ -15,25 +15,25 @@
 */
 
 /*!
  @brief instance structure for basic buffer
 */
 typedef struct a_buf_s
 {
-    a_vptr_t _ptr; /*!< address of memory */
+    void *_ptr; /*!< address of memory */
     a_size_t _num; /*!< number of element */
     a_size_t _mem; /*!< memory of element */
     a_size_t _siz; /*!< size of a element */
 } a_buf_s;
 
 /*!
  @brief access address of buffer for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
 */
-A_INTERN a_vptr_t a_buf_ptr(a_buf_s const *const ctx) { return ctx->_ptr; }
+A_INTERN void *a_buf_ptr(a_buf_s const *const ctx) { return ctx->_ptr; }
 
 /*!
  @brief access number of element for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
 */
 A_INTERN a_size_t a_buf_num(a_buf_s const *const ctx) { return ctx->_num; }
 
@@ -52,127 +52,127 @@
 /*!
  @brief access specified element for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @param[in] idx index of element less than memory
  @note should check for out of bounds
  @return specified element pointer
 */
-A_INTERN a_vptr_t a_buf_at_(a_buf_s const *const ctx, a_size_t const idx)
+A_INTERN void *a_buf_at_(a_buf_s const *const ctx, a_size_t const idx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * idx;
+    return a_byte_c(*, ctx->_ptr) + ctx->_siz * idx;
 }
 
 /*!
  @brief access specified element for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @param[in] idx index of element less than memory
  @return specified element pointer
   @retval 0 out of bounds
 */
-A_INTERN a_vptr_t a_buf_at(a_buf_s const *const ctx, a_size_t const idx)
+A_INTERN void *a_buf_at(a_buf_s const *const ctx, a_size_t const idx)
 {
     return a_likely(idx < ctx->_mem) ? a_buf_at_(ctx, idx) : A_NULL;
 }
 
 /*!
  @brief access specified element for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @param[in] idx index of element -memory < idx < memory
  @return specified element pointer
   @retval 0 out of bounds
 */
-A_INTERN a_vptr_t a_buf_idx(a_buf_s const *const ctx, a_diff_t const idx)
+A_INTERN void *a_buf_idx(a_buf_s const *const ctx, a_diff_t const idx)
 {
-    a_size_t const num = idx < 0 ? a_size_c(idx) + ctx->_num : a_size_c(idx);
+    a_size_t const num = idx < 0 ? a_size_c(, idx) + ctx->_num : a_size_c(, idx);
     return a_likely(num < ctx->_mem) ? a_buf_at_(ctx, num) : A_NULL;
 }
 
 /*!
  @brief access top element for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @note should check if buffer is empty
  @return specified element pointer
 */
-A_INTERN a_vptr_t a_buf_top_(a_buf_s const *const ctx)
+A_INTERN void *a_buf_top_(a_buf_s const *const ctx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * (ctx->_num - 1);
+    return a_byte_c(*, ctx->_ptr) + ctx->_siz * (ctx->_num - 1);
 }
 
 /*!
  @brief access top element for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @return specified element pointer
   @retval 0 empty buffer
 */
-A_INTERN a_vptr_t a_buf_top(a_buf_s const *const ctx)
+A_INTERN void *a_buf_top(a_buf_s const *const ctx)
 {
     return a_likely(ctx->_num) ? a_buf_top_(ctx) : A_NULL;
 }
 
 /*!
  @brief access end pointer for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @return buffer end pointer
 */
-A_INTERN a_vptr_t a_buf_end(a_buf_s const *const ctx)
+A_INTERN void *a_buf_end(a_buf_s const *const ctx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num;
+    return a_byte_c(*, ctx->_ptr) + ctx->_siz * ctx->_num;
 }
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
 
 /*!
  @brief constructor for buffer structure
  @param[in] ctx points to an instance of buffer structure
  @param[in] ptr address of memory
  @param[in] siz size of a element
  @param[in] num number of element
 */
-A_EXTERN a_void_t a_buf_ctor(a_buf_s *ctx, a_vptr_t ptr, a_size_t siz, a_size_t num);
+A_EXTERN void a_buf_ctor(a_buf_s *ctx, void *ptr, a_size_t siz, a_size_t num);
 
 /*!
  @brief destructor for buffer structure
  @param[in] ctx points to an instance of buffer structure
  @param[in] dtor element destructor
 */
-A_EXTERN a_void_t a_buf_dtor(a_buf_s *ctx, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_buf_dtor(a_buf_s *ctx, void (*dtor)(void *));
 
 /*!
  @brief initialize a pointer to buffer structure by moving
  @param[in] ctx points to an instance of buffer structure
  @param[in] obj input source pointing to an instance
 */
 A_EXTERN a_buf_s *a_buf_move(a_buf_s *ctx, a_buf_s *obj);
 
 /*!
  @brief drop all the elements for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @param[in] dtor current element destructor
 */
-A_EXTERN a_void_t a_buf_drop(a_buf_s *ctx, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_buf_drop(a_buf_s *ctx, void (*dtor)(void *));
 
 /*!
  @brief swap elements lhs and rhs for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @param[in] lhs element index on the left
  @param[in] rhs element index on the right
 */
-A_EXTERN a_void_t a_buf_swap(a_buf_s const *ctx, a_size_t lhs, a_size_t rhs);
+A_EXTERN void a_buf_swap(a_buf_s const *ctx, a_size_t lhs, a_size_t rhs);
 
 /*!
  @brief sort all elements for a pointer to buffer structure
  @param[in] ctx points to an instance of buffer structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_buf_sort(a_buf_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_buf_sort(a_buf_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert sort foremost element for a pointer to buffer structure
  @code{.c}
  T *obj = a_buf_push_fore(T, ctx);
  if (obj)
  {
@@ -183,15 +183,15 @@
  @endcode
  @param[in] ctx points to an instance of buffer structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_buf_sort_fore(a_buf_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_buf_sort_fore(a_buf_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert sort backmost element for a pointer to buffer structure
  @code{.c}
  T *obj = a_buf_push_back(T, ctx);
  if (obj)
  {
@@ -202,102 +202,102 @@
  @endcode
  @param[in] ctx points to an instance of buffer structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_buf_sort_back(a_buf_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_buf_sort_back(a_buf_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief search the given element in this buffer
  @param[in] ctx points to an instance of buffer structure
  @param[in] obj object that serves as key for the search
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
  @return matching element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_buf_search(a_buf_s const *ctx, a_cptr_t obj, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void *a_buf_search(a_buf_s const *ctx, void const *obj, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert an element into the buffer
  @param[in] ctx points to an instance of buffer structure
  @param[in] idx index of element in this buffer
   @arg 0 a_buf_push_fore
   @arg n a_buf_push_back
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_buf_insert(a_buf_s *ctx, a_size_t idx);
+A_EXTERN void *a_buf_insert(a_buf_s *ctx, a_size_t idx);
 
 /*!
  @brief remove an element from the buffer
  @param[in] ctx points to an instance of buffer structure
  @param[in] idx index of element in this buffer
   @arg 0 a_buf_pull_fore
   @arg n a_buf_pull_back
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_buf_remove(a_buf_s *ctx, a_size_t idx);
+A_EXTERN void *a_buf_remove(a_buf_s *ctx, a_size_t idx);
 
 /*!
  @brief push an element into the buffer forward
  @param[in] ctx points to an instance of buffer structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_buf_push_fore(a_buf_s *ctx);
+A_EXTERN void *a_buf_push_fore(a_buf_s *ctx);
 
 /*!
  @brief push an element into the buffer backward
  @param[in] ctx points to an instance of buffer structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_buf_push_back(a_buf_s *ctx);
+A_EXTERN void *a_buf_push_back(a_buf_s *ctx);
 
 /*!
  @brief pull an element from the buffer forward
  @param[in] ctx points to an instance of buffer structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_buf_pull_fore(a_buf_s *ctx);
+A_EXTERN void *a_buf_pull_fore(a_buf_s *ctx);
 
 /*!
  @brief pull an element from the buffer backward
  @param[in] ctx points to an instance of buffer structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_buf_pull_back(a_buf_s *ctx);
+A_EXTERN void *a_buf_pull_back(a_buf_s *ctx);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*!
  @brief push an element into the buffer
  @param[in] ctx points to an instance of buffer structure
  @return element pointer
   @retval 0 failure
 */
-A_INTERN a_vptr_t a_buf_push(a_buf_s *ctx) { return a_buf_push_back(ctx); }
+A_INTERN void *a_buf_push(a_buf_s *ctx) { return a_buf_push_back(ctx); }
 
 /*!
  @brief pull an element from the buffer
  @param[in] ctx points to an instance of buffer structure
  @return element pointer
   @retval 0 failure
 */
-A_INTERN a_vptr_t a_buf_pull(a_buf_s *ctx) { return a_buf_pull_back(ctx); }
+A_INTERN void *a_buf_pull(a_buf_s *ctx) { return a_buf_pull_back(ctx); }
 
 /*!
  @brief iterate over a buffer
  @code{.c}
  a_buf_forenum(i, ctx)
  {
      T *it = (T *)a_buf_at(ctx, i);
@@ -366,8 +366,8 @@
 #define a_buf_pull_fore(T, ctx) a_cast_s(T *, a_buf_pull_fore(ctx))
 #define a_buf_pull_back(T, ctx) a_cast_s(T *, a_buf_pull_back(ctx))
 #define a_buf_push(T, ctx) a_cast_s(T *, a_buf_push(ctx))
 #define a_buf_pull(T, ctx) a_cast_s(T *, a_buf_pull(ctx))
 
 /*! @} A_BUF */
 
-#endif /* buf.h */
+#endif /* a/buf.h */
```

### Comparing `liba-0.1.1rc6/include/a/complex.h` & `liba-0.1.1rc7/include/a/complex.h`

 * *Files 4% similar despite different names*

```diff
@@ -11,56 +11,56 @@
 /*!
  @ingroup A
  @addtogroup A_COMPLEX complex number
  @{
 */
 
 /*! format constants for the fprintf family of functions */
-#define A_COMPLEX_PRI(RF, RC, IF, IC) "(" A_REAL_PRI(RF, RC) "," A_REAL_PRI(IF, IC) ")"
+#define A_COMPLEX_PRI(RF, RC, IF, IC) "(" A_FLOAT_PRI(RF, RC) "," A_FLOAT_PRI(IF, IC) ")"
 
 /*! constructs a complex number constant from real and imaginary parts */
 #if !defined __cplusplus
-#define a_complex_c(r, i)        \
-    (a_complex_s)                \
-    {                            \
-        a_real_c(r), a_real_c(i) \
+#define a_complex_c(r, i)          \
+    (a_complex_s)                  \
+    {                              \
+        a_float_c(r), a_float_c(i) \
     }
 #else /* !__cplusplus */
-#define a_complex_c(r, i)        \
-    {                            \
-        a_real_c(r), a_real_c(i) \
+#define a_complex_c(r, i)          \
+    {                              \
+        a_float_c(r), a_float_c(i) \
     }
 #endif /* __cplusplus */
 
 /*! constructs a complex number from real and imaginary parts */
 #if !defined __cplusplus
-#define A_COMPLEX_C(R, I)        \
-    (a_complex_s)                \
-    {                            \
-        A_REAL_C(R), A_REAL_C(I) \
+#define A_COMPLEX_C(R, I)          \
+    (a_complex_s)                  \
+    {                              \
+        A_FLOAT_C(R), A_FLOAT_C(I) \
     }
 #else /* !__cplusplus */
-#define A_COMPLEX_C(R, I)        \
-    {                            \
-        A_REAL_C(R), A_REAL_C(I) \
+#define A_COMPLEX_C(R, I)          \
+    {                              \
+        A_FLOAT_C(R), A_FLOAT_C(I) \
     }
 #endif /* __cplusplus */
 
 /*! real part of complex number */
 #define a_complex_real(ctx) (ctx).real
 /*! imaginary part of complex number */
 #define a_complex_imag(ctx) (ctx).imag
 
 /*!
  @brief instance structure for complex number
 */
 typedef struct a_complex_s
 {
-    a_real_t real; //!< real part of complex number
-    a_real_t imag; //!< imaginary part of complex number
+    a_float_t real; //!< real part of complex number
+    a_float_t imag; //!< imaginary part of complex number
 } a_complex_s;
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
 #if defined(LIBA_COMPLEX_C)
 #undef A_INTERN
@@ -69,45 +69,45 @@
 
 /*!
  @brief constructs a complex number from polar form
  @param r a distance from a reference point
  @param theta an angle from a reference direction
  @return = \f$ (r\cos\theta,r\sin\theta{i}) \f$
 */
-A_EXTERN a_complex_s a_complex_polar(a_real_t r, a_real_t theta);
+A_EXTERN a_complex_s a_complex_polar(a_float_t r, a_float_t theta);
 
 /* Properties of complex numbers */
 
 /*!
  @brief computes the natural logarithm of magnitude of a complex number
  @param z a complex number
  @return = \f$ \log\left|x\right| \f$
 */
-A_EXTERN a_real_t a_complex_logabs(a_complex_s z);
+A_EXTERN a_float_t a_complex_logabs(a_complex_s z);
 
 /*!
  @brief computes the squared magnitude of a complex number
  @param z a complex number
  @return = \f$ a^2+b^2 \f$
 */
-A_EXTERN a_real_t a_complex_abs2(a_complex_s z);
+A_EXTERN a_float_t a_complex_abs2(a_complex_s z);
 
 /*!
  @brief computes the magnitude of a complex number
  @param z a complex number
  @return = \f$ \sqrt{a^2+b^2} \f$
 */
-A_EXTERN a_real_t a_complex_abs(a_complex_s z);
+A_EXTERN a_float_t a_complex_abs(a_complex_s z);
 
 /*!
  @brief computes the phase angle of a complex number
  @param z a complex number
  @return = \f$ \arctan\frac{b}{a} \f$
 */
-A_EXTERN a_real_t a_complex_arg(a_complex_s z);
+A_EXTERN a_float_t a_complex_arg(a_complex_s z);
 
 /* Complex arithmetic operators */
 
 /*!
  @brief computes the complex conjugate
  @param z a complex number
  @return = \f$ (a,-b{i}) \f$
@@ -143,46 +143,46 @@
 /*!
  @brief addition of complex numbers \f[ (a+b i)+(c+d i)=(a+c)+(b+d)i \f]
  @param x complex number on the left
  @param y complex number on the right
  @return = \f$ x + y \f$
 */
 A_EXTERN a_complex_s a_complex_add(a_complex_s x, a_complex_s y);
-A_EXTERN a_complex_s a_complex_add_real(a_complex_s x, a_real_t y);
-A_EXTERN a_complex_s a_complex_add_imag(a_complex_s x, a_real_t y);
+A_EXTERN a_complex_s a_complex_add_real(a_complex_s x, a_float_t y);
+A_EXTERN a_complex_s a_complex_add_imag(a_complex_s x, a_float_t y);
 
 /*!
  @brief subtraction of complex numbers \f[ (a+b i)-(c+d i)=(a-c)+(b-d)i \f]
  @param x complex number on the left
  @param y complex number on the right
  @return = \f$ x - y \f$
 */
 A_EXTERN a_complex_s a_complex_sub(a_complex_s x, a_complex_s y);
-A_EXTERN a_complex_s a_complex_sub_real(a_complex_s x, a_real_t y);
-A_EXTERN a_complex_s a_complex_sub_imag(a_complex_s x, a_real_t y);
+A_EXTERN a_complex_s a_complex_sub_real(a_complex_s x, a_float_t y);
+A_EXTERN a_complex_s a_complex_sub_imag(a_complex_s x, a_float_t y);
 
 /*!
  @brief multiplication of complex numbers \f[ (a+b i)(c+d i)=a c+b c i+a d i+b d i^{2}=(a c-b d)+(b c+a d) i \f]
  @param x complex number on the left
  @param y complex number on the right
  @return = \f$ x \times y \f$
 */
 A_EXTERN a_complex_s a_complex_mul(a_complex_s x, a_complex_s y);
-A_EXTERN a_complex_s a_complex_mul_real(a_complex_s x, a_real_t y);
-A_EXTERN a_complex_s a_complex_mul_imag(a_complex_s x, a_real_t y);
+A_EXTERN a_complex_s a_complex_mul_real(a_complex_s x, a_float_t y);
+A_EXTERN a_complex_s a_complex_mul_imag(a_complex_s x, a_float_t y);
 
 /*!
  @brief division of complex numbers \f[ \frac{(a+b i)}{(c+d i)}=\frac{(a+b i)(c-d i)}{(c+d i)(c-d i)}=\frac{a c+b c i-a d i-b d i^{2}}{c^{2}-(d i)^{2}}=\frac{(a c+b d)+(b c-a d) i}{c^{2}+d^{2}}=\left(\frac{a c+b d}{c^{2}+d^{2}}\right)+\left(\frac{b c-a d}{c^{2}+d^{2}}\right) i \f]
  @param x complex number on the left
  @param y complex number on the right
  @return = \f$ x \div y \f$
 */
 A_EXTERN a_complex_s a_complex_div(a_complex_s x, a_complex_s y);
-A_EXTERN a_complex_s a_complex_div_real(a_complex_s x, a_real_t y);
-A_EXTERN a_complex_s a_complex_div_imag(a_complex_s x, a_real_t y);
+A_EXTERN a_complex_s a_complex_div_real(a_complex_s x, a_float_t y);
+A_EXTERN a_complex_s a_complex_div_imag(a_complex_s x, a_float_t y);
 
 /*!
  @brief inverse of a complex number \f[ \frac{a-bi}{a^2+b^2}=\left(\frac{a}{a^2+b^2}\right)-\left(\frac{b}{a^2+b^2}\right)i \f]
  @param z a complex number
  @return inverse or reciprocal \f$ \frac{1}{z} \f$
 */
 A_EXTERN a_complex_s a_complex_inv(a_complex_s z);
@@ -197,15 +197,15 @@
 A_EXTERN a_complex_s a_complex_sqrt(a_complex_s z);
 
 /*!
  @brief complex square root of a real number
  @param x a real number
  @return = \f$ \sqrt{x} \f$
 */
-A_EXTERN a_complex_s a_complex_sqrt_real(a_real_t x);
+A_EXTERN a_complex_s a_complex_sqrt_real(a_float_t x);
 
 /*!
  @brief complex number z raised to complex power a
  @param z a complex number
  @param a a complex number
  @return = \f$ z^a \f$
 */
@@ -213,15 +213,15 @@
 
 /*!
  @brief complex number z raised to real power a
  @param z a complex number
  @param a a real number
  @return = \f$ z^a \f$
 */
-A_EXTERN a_complex_s a_complex_pow_real(a_complex_s z, a_real_t a);
+A_EXTERN a_complex_s a_complex_pow_real(a_complex_s z, a_float_t a);
 
 /*!
  @brief computes the complex base-e exponential
  @param z a complex number
  @return = \f$ e^z \f$
 */
 A_EXTERN a_complex_s a_complex_exp(a_complex_s z);
@@ -295,42 +295,42 @@
 
 /*!
  @brief computes the complex arc sine
  @param z a complex number
  @return = \f$ \arcsin(z) \f$
 */
 A_EXTERN a_complex_s a_complex_asin(a_complex_s z);
-A_EXTERN a_complex_s a_complex_asin_real(a_real_t x);
+A_EXTERN a_complex_s a_complex_asin_real(a_float_t x);
 /*!
  @brief computes the complex arc cosine
  @param z a complex number
  @return = \f$ \arccos(z) \f$
 */
 A_EXTERN a_complex_s a_complex_acos(a_complex_s z);
-A_EXTERN a_complex_s a_complex_acos_real(a_real_t x);
+A_EXTERN a_complex_s a_complex_acos_real(a_float_t x);
 /*!
  @brief computes the complex arc tangent
  @param z a complex number
  @return = \f$ \arctan(z) \f$
 */
 A_EXTERN a_complex_s a_complex_atan(a_complex_s z);
 /*!
  @brief computes the complex arc secant \f[ \mathrm{arcsec}(z)=\mathrm{arccos}(\frac{1}{z}) \f]
  @param z a complex number
  @return = \f$ \mathrm{arcsec}(z) \f$
 */
 A_EXTERN a_complex_s a_complex_asec(a_complex_s z);
-A_EXTERN a_complex_s a_complex_asec_real(a_real_t x);
+A_EXTERN a_complex_s a_complex_asec_real(a_float_t x);
 /*!
  @brief computes the complex arc cosecant \f[ \mathrm{arccsc}(z)=\mathrm{arcsin}(\frac{1}{z}) \f]
  @param z a complex number
  @return = \f$ \mathrm{arccsc}(z) \f$
 */
 A_EXTERN a_complex_s a_complex_acsc(a_complex_s z);
-A_EXTERN a_complex_s a_complex_acsc_real(a_real_t x);
+A_EXTERN a_complex_s a_complex_acsc_real(a_float_t x);
 /*!
  @brief computes the complex arc cotangent \f[ \mathrm{arccot}(z)=\mathrm{arctan}(\frac{1}{z}) \f]
  @param z a complex number
  @return = \f$ \mathrm{arccot}(z) \f$
 */
 A_EXTERN a_complex_s a_complex_acot(a_complex_s z);
 
@@ -383,22 +383,22 @@
 A_EXTERN a_complex_s a_complex_asinh(a_complex_s z);
 /*!
  @brief computes the complex arc hyperbolic cosine \f[ \mathrm{arccosh}(z)=\log(z-\sqrt{z^2-1}) \f]
  @param z a complex number
  @return = \f$ \mathrm{arccosh}(z) \f$
 */
 A_EXTERN a_complex_s a_complex_acosh(a_complex_s z);
-A_EXTERN a_complex_s a_complex_acosh_real(a_real_t x);
+A_EXTERN a_complex_s a_complex_acosh_real(a_float_t x);
 /*!
  @brief computes the complex arc hyperbolic tangent
  @param z a complex number
  @return = \f$ \mathrm{arctanh}(z) \f$
 */
 A_EXTERN a_complex_s a_complex_atanh(a_complex_s z);
-A_EXTERN a_complex_s a_complex_atanh_real(a_real_t x);
+A_EXTERN a_complex_s a_complex_atanh_real(a_float_t x);
 /*!
  @brief computes the complex arc hyperbolic secant \f[ \mathrm{arcsech}(z)=\mathrm{arccosh}(\frac{1}{z}) \f]
  @param z a complex number
  @return = \f$ \mathrm{arcsech}(z) \f$
 */
 A_EXTERN a_complex_s a_complex_asech(a_complex_s z);
 /*!
@@ -420,8 +420,8 @@
 #endif /* LIBA_COMPLEX_C */
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*! @} A_COMPLEX */
 
-#endif /* complex.h */
+#endif /* a/complex.h */
```

### Comparing `liba-0.1.1rc6/include/a/fuzzy.h` & `liba-0.1.1rc7/include/a/fuzzy.h`

 * *Files 18% similar despite different names*

```diff
@@ -34,37 +34,37 @@
   @arg 0 fuzzy union
   @arg 1 algebraic sum
   @arg 2 bounded sum
  @param[in] l left-hand operand
  @param[in] r right-hand operand
  @return result of operation
 */
-A_EXTERN a_real_t a_fuzzy_or(a_uint_t e, a_real_t l, a_real_t r);
+A_EXTERN a_float_t a_fuzzy_or(unsigned int e, a_float_t l, a_float_t r);
 
 /*!
  @brief Intersection operator
  @param[in] e enumeration of operator
   @arg 0 fuzzy intersection
   @arg 1 algebraic product
   @arg 2 bounded product
  @param[in] l left-hand operand
  @param[in] r right-hand operand
  @return result of operation
 */
-A_EXTERN a_real_t a_fuzzy_and(a_uint_t e, a_real_t l, a_real_t r);
+A_EXTERN a_float_t a_fuzzy_and(unsigned int e, a_float_t l, a_float_t r);
 
 /*!
  @brief Equilibrium operator
  @param[in] gamma gamma operator
  @param[in] l left-hand operand
  @param[in] r right-hand operand
  @return result of operation
 */
-A_EXTERN a_real_t a_fuzzy_equ(a_real_t gamma, a_real_t l, a_real_t r);
+A_EXTERN a_float_t a_fuzzy_equ(a_float_t gamma, a_float_t l, a_float_t r);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*! @} A_FUZZY */
 
-#endif /* fuzzy.h */
+#endif /* a/fuzzy.h */
```

### Comparing `liba-0.1.1rc6/include/a/host/a.h` & `liba-0.1.1rc7/include/a/host/a.h`

 * *Files 27% similar despite different names*

```diff
@@ -8,23 +8,23 @@
 
 #include "../a.h"
 #include <stdlib.h>
 #if defined(A_HAVE_MIMALLOC_H)
 #include <mimalloc-override.h>
 #endif /* A_HAVE_MIMALLOC_H */
 
-typedef a_vptr_t (*a_alloc_f)(a_vptr_t, a_size_t);
+typedef void *(*a_alloc_f)(void *, a_size_t);
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
 
 A_EXTERN a_alloc_f a_alloc_reg(a_alloc_f alloc);
-A_EXTERN a_vptr_t a_alloc(a_vptr_t vptr, a_size_t size);
-A_EXTERN a_vptr_t a_alloc_(a_vptr_t vptr, a_size_t size);
+A_EXTERN void *a_alloc(void *addr, a_size_t size);
+A_EXTERN void *a_alloc_(void *addr, a_size_t size);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 #define a_new(T, ptr, num) a_cast_s(T *, a_alloc(ptr, sizeof(T) * (num)))
 #define a_die(T, ptr) a_cast_s(T *, a_alloc(ptr, 0))
```

### Comparing `liba-0.1.1rc6/include/a/host/que.h` & `liba-0.1.1rc7/include/a/host/que.h`

 * *Files 7% similar despite different names*

```diff
@@ -17,23 +17,23 @@
 
 /*!
  @brief instance structure for basic queue node
 */
 typedef struct a_que_node_s
 {
     a_list_s _node; /*!< element node */
-    a_vptr_t _data; /*!< element data */
+    void *_data; /*!< element data */
 } a_que_node_s;
 
 /*!
  @brief cast a list pointer from another type pointer
  @param[in] obj points to basic queue node
  @return a pointer to basic queue node
 */
-A_INTERN a_que_node_s *a_que_from(a_vptr_t const obj) { return a_cast_s(a_que_node_s *, obj); }
+A_INTERN a_que_node_s *a_que_from(void *const obj) { return a_cast_s(a_que_node_s *, obj); }
 
 /*!
  @brief instance structure for basic queue
 */
 typedef struct a_que_s
 {
     a_que_node_s **_ptr; /*!< mempool block */
@@ -58,48 +58,48 @@
 
 /*!
  @brief access foremost element for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @note should check if queue is empty
  @return element pointer
 */
-A_INTERN a_vptr_t a_que_fore_(a_que_s const *const ctx)
+A_INTERN void *a_que_fore_(a_que_s const *const ctx)
 {
     return a_que_from(ctx->_head.next)->_data;
 }
 
 /*!
  @brief access backmost element for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @note should check if queue is empty
  @return element pointer
 */
-A_INTERN a_vptr_t a_que_back_(a_que_s const *const ctx)
+A_INTERN void *a_que_back_(a_que_s const *const ctx)
 {
     return a_que_from(ctx->_head.prev)->_data;
 }
 
 /*!
  @brief access foremost element for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @return element pointer
   @retval 0 empty queue
 */
-A_INTERN a_vptr_t a_que_fore(a_que_s const *const ctx)
+A_INTERN void *a_que_fore(a_que_s const *const ctx)
 {
     return a_likely(a_list_used(&ctx->_head)) ? a_que_fore_(ctx) : A_NULL;
 }
 
 /*!
  @brief access backmost element for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @return element pointer
   @retval 0 empty queue
 */
-A_INTERN a_vptr_t a_que_back(a_que_s const *const ctx)
+A_INTERN void *a_que_back(a_que_s const *const ctx)
 {
     return a_likely(a_list_used(&ctx->_head)) ? a_que_back_(ctx) : A_NULL;
 }
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
@@ -111,29 +111,29 @@
 A_EXTERN a_que_s *a_que_new(a_size_t size);
 
 /*!
  @brief deallocate a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @param[in] dtor element destructor
 */
-A_EXTERN a_void_t a_que_die(a_que_s *ctx, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_que_die(a_que_s *ctx, void (*dtor)(void *));
 
 /*!
  @brief constructor for queue structure
  @param[in] ctx points to an instance of queue structure
  @param[in] size size of element
 */
-A_EXTERN a_void_t a_que_ctor(a_que_s *ctx, a_size_t size);
+A_EXTERN void a_que_ctor(a_que_s *ctx, a_size_t size);
 
 /*!
  @brief destructor for queue structure
  @param[in] ctx points to an instance of queue structure
  @param[in] dtor element destructor
 */
-A_EXTERN a_void_t a_que_dtor(a_que_s *ctx, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_que_dtor(a_que_s *ctx, void (*dtor)(void *));
 
 /*!
  @brief initialize a pointer to queue structure by moving
  @param[in] ctx points to an instance of queue structure
  @param[in] obj input source pointing to an instance
 */
 A_EXTERN a_que_s *a_que_move(a_que_s *ctx, a_que_s *obj);
@@ -141,49 +141,49 @@
 /*!
  @brief access specified element for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @param[in] idx index of element, 0 ~ n-1, -n ~ -1
  @return element pointer
   @retval 0 out of bounds
 */
-A_EXTERN a_vptr_t a_que_at(a_que_s const *ctx, a_imax_t idx);
+A_EXTERN void *a_que_at(a_que_s const *ctx, a_imax_t idx);
 
 /*!
  @brief modify size of a element for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @param[in] size the size of the new element
  @param[in] dtor previous element destructor
 */
-A_EXTERN a_void_t a_que_set(a_que_s *ctx, a_size_t size, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_que_set(a_que_s *ctx, a_size_t size, void (*dtor)(void *));
 
 /*!
  @brief drop all the elements for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @param[in] dtor current element destructor
 */
-A_EXTERN a_void_t a_que_drop(a_que_s *ctx, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_que_drop(a_que_s *ctx, void (*dtor)(void *));
 
 /*!
  @brief swap elements lhs and rhs for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @param[in] lhs element pointer on the left
  @param[in] rhs element pointer on the right
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_que_swap_(a_que_s const *ctx, a_vptr_t lhs, a_vptr_t rhs);
+A_EXTERN int a_que_swap_(a_que_s const *ctx, void *lhs, void *rhs);
 
 /*!
  @brief swap elements lhs and rhs for a pointer to queue structure
  @param[in] ctx points to an instance of queue structure
  @param[in] lhs element index on the left
  @param[in] rhs element index on the right
 */
-A_EXTERN a_void_t a_que_swap(a_que_s const *ctx, a_size_t lhs, a_size_t rhs);
+A_EXTERN void a_que_swap(a_que_s const *ctx, a_size_t lhs, a_size_t rhs);
 
 /*!
  @brief insert sort foremost element for a pointer to queue structure
  @code{.c}
  T *obj = a_que_push_fore(T, ctx);
  if (obj)
  {
@@ -194,15 +194,15 @@
  @endcode
  @param[in] ctx points to an instance of queue structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_que_sort_fore(a_que_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_que_sort_fore(a_que_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert sort backmost element for a pointer to queue structure
  @code{.c}
  T *obj = a_que_push_back(T, ctx);
  if (obj)
  {
@@ -213,69 +213,69 @@
  @endcode
  @param[in] ctx points to an instance of queue structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_que_sort_back(a_que_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_que_sort_back(a_que_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief push an element into the queue forward
  @param[in] ctx points to an instance of queue structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_que_push_fore(a_que_s *ctx);
+A_EXTERN void *a_que_push_fore(a_que_s *ctx);
 
 /*!
  @brief push an element into the queue backward
  @param[in] ctx points to an instance of queue structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_que_push_back(a_que_s *ctx);
+A_EXTERN void *a_que_push_back(a_que_s *ctx);
 
 /*!
  @brief pull an element from the queue forward
  @param[in] ctx points to an instance of queue structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_que_pull_fore(a_que_s *ctx);
+A_EXTERN void *a_que_pull_fore(a_que_s *ctx);
 
 /*!
  @brief pull an element from the queue backward
  @param[in] ctx points to an instance of queue structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_que_pull_back(a_que_s *ctx);
+A_EXTERN void *a_que_pull_back(a_que_s *ctx);
 
 /*!
  @brief insert an element into the queue
  @param[in] ctx points to an instance of queue structure
  @param[in] idx index of element in this queue
   @arg 0 a_que_push_fore
   @arg n a_que_push_back
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_que_insert(a_que_s *ctx, a_size_t idx);
+A_EXTERN void *a_que_insert(a_que_s *ctx, a_size_t idx);
 
 /*!
  @brief remove an element from the queue
  @param[in] ctx points to an instance of queue structure
  @param[in] idx index of element in this queue
   @arg 0 a_que_pull_fore
   @arg n a_que_pull_back
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_que_remove(a_que_s *ctx, a_size_t idx);
+A_EXTERN void *a_que_remove(a_que_s *ctx, a_size_t idx);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*!
  @brief iterate over a queue
```

### Comparing `liba-0.1.1rc6/include/a/host/str.h` & `liba-0.1.1rc7/include/a/host/str.h`

 * *Files 4% similar despite different names*

```diff
@@ -21,25 +21,25 @@
 // clang-format on
 
 /*!
  @brief instance structure for basic string
 */
 typedef struct a_str_s
 {
-    a_str_t _ptr; /*!< string */
+    char *_ptr; /*!< string */
     a_size_t _num; /*!< length */
     a_size_t _mem; /*!< memory */
 } a_str_s;
 
 /*!
  @brief string for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @return string
 */
-A_INTERN a_str_t a_str_ptr(a_str_s const *const ctx) { return ctx->_ptr; }
+A_INTERN char *a_str_ptr(a_str_s const *const ctx) { return ctx->_ptr; }
 
 /*!
  @brief length for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @return size of length
 */
 A_INTERN a_size_t a_str_len(a_str_s const *const ctx) { return ctx->_num; }
@@ -54,236 +54,236 @@
 /*!
  @brief access specified character for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] idx index of character less than memory
  @note should check if string is empty
  @return specified character
 */
-A_INTERN a_char_t a_str_at_(a_str_s const *const ctx, a_size_t const idx) { return ctx->_ptr[idx]; }
+A_INTERN char a_str_at_(a_str_s const *const ctx, a_size_t const idx) { return ctx->_ptr[idx]; }
 
 /*!
  @brief access specified character for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] idx index of character less than length
  @return specified character
   @retval 0 out of bounds
 */
-A_INTERN a_char_t a_str_at(a_str_s const *const ctx, a_size_t const idx)
+A_INTERN char a_str_at(a_str_s const *const ctx, a_size_t const idx)
 {
     return a_likely(idx < ctx->_num) ? ctx->_ptr[idx] : 0;
 }
 
 /*!
  @brief access specified character for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] idx index of character -length < idx < length
  @return specified character
   @retval 0 out of bounds
 */
-A_INTERN a_char_t a_str_idx(a_str_s const *const ctx, a_diff_t const idx)
+A_INTERN char a_str_idx(a_str_s const *const ctx, a_diff_t const idx)
 {
-    a_size_t const num = idx < 0 ? a_size_c(idx) + ctx->_num : a_size_c(idx);
+    a_size_t const num = idx < 0 ? a_size_c(, idx) + ctx->_num : a_size_c(, idx);
     return a_likely(num < ctx->_num) ? ctx->_ptr[num] : 0;
 }
 
 /*!
  @brief set length for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] len new length for a pointer to string structure
  @note length must less than memory
 */
-A_INLINE a_void_t a_str_set_len_(a_str_s *const ctx, a_size_t const len) { ctx->_num = len; }
+A_INLINE void a_str_set_len_(a_str_s *const ctx, a_size_t const len) { ctx->_num = len; }
 
 /*!
  @brief set length for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] len new length for a pointer to string structure
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_INLINE a_int_t a_str_set_len(a_str_s *const ctx, a_size_t const len)
+A_INLINE int a_str_set_len(a_str_s *const ctx, a_size_t const len)
 {
     return a_likely(len < ctx->_mem) ? ((void)(ctx->_num = len), A_SUCCESS) : A_FAILURE;
 }
 
 /*!
  @brief drop all characters for a pointer to string structure
  @param[in] ctx points to an instance of string structure
 */
-A_INTERN a_void_t a_str_drop(a_str_s *const ctx) { ctx->_num = 0; }
+A_INTERN void a_str_drop(a_str_s *const ctx) { ctx->_num = 0; }
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
 
 /*!
  @brief allocate a pointer to string structure from memory
 */
 A_EXTERN a_str_s *a_str_new(void);
 
 /*!
  @brief deallocate a pointer to string structure
  @param[in] ctx points to an instance of string structure
 */
-A_EXTERN a_void_t a_str_die(a_str_s *ctx);
+A_EXTERN void a_str_die(a_str_s *ctx);
 
 /*!
  @brief constructor for string structure
  @param[in] ctx points to an instance of string structure
 */
-A_EXTERN a_void_t a_str_ctor(a_str_s *ctx);
+A_EXTERN void a_str_ctor(a_str_s *ctx);
 
 /*!
  @brief destructor for string structure
  @param[in] ctx points to an instance of string structure
 */
-A_EXTERN a_void_t a_str_dtor(a_str_s *ctx);
+A_EXTERN void a_str_dtor(a_str_s *ctx);
 
 /*!
  @brief initialize a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] pdata points to data to initialize
  @param[in] nbyte length of data to initialize
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_str_init(a_str_s *ctx, a_cptr_t pdata, a_size_t nbyte);
+A_EXTERN int a_str_init(a_str_s *ctx, void const *pdata, a_size_t nbyte);
 
 /*!
  @brief initialize a pointer to string structure by copying
  @param[in] ctx points to an instance of string structure
  @param[in] obj input source pointing to an instance
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_str_copy(a_str_s *ctx, a_str_s const *obj);
+A_EXTERN int a_str_copy(a_str_s *ctx, a_str_s const *obj);
 
 /*!
  @brief initialize a pointer to string structure by moving
  @param[in] ctx points to an instance of string structure
  @param[in] obj input source pointing to an instance
 */
 A_EXTERN a_str_s *a_str_move(a_str_s *ctx, a_str_s *obj);
 
 /*!
  @brief terminate a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @note should use free to release this memory
  @return string of string structure
 */
-A_EXTERN a_str_t a_str_exit(a_str_s *ctx);
+A_EXTERN char *a_str_exit(a_str_s *ctx);
 
 /*!
  @brief compare the string lhs with the string rhs
  @param[in] lhs string structure to be compared
  @param[in] rhs string structure to be compared
  @return relationship between the strings
   @retval <0 string lhs < string rhs
   @retval >0 string lhs > string rhs
   @retval 0 string lhs == string rhs
 */
-A_EXTERN a_int_t a_str_cmp(a_str_s const *lhs, a_str_s const *rhs);
+A_EXTERN int a_str_cmp(a_str_s const *lhs, a_str_s const *rhs);
 
 /*!
  @brief allocate memory for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] mem new memory capacity of string
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_str_alloc(a_str_s *ctx, a_size_t mem);
-A_EXTERN a_int_t a_str_alloc_(a_str_s *ctx, a_size_t mem);
+A_EXTERN int a_str_alloc(a_str_s *ctx, a_size_t mem);
+A_EXTERN int a_str_alloc_(a_str_s *ctx, a_size_t mem);
 
 /*!
  @brief get character for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @return deleted character
   @retval EOF failure
 */
-A_EXTERN a_int_t a_str_getc(a_str_s *ctx);
-A_EXTERN a_int_t a_str_getc_(a_str_s *ctx);
+A_EXTERN int a_str_getc(a_str_s *ctx);
+A_EXTERN int a_str_getc_(a_str_s *ctx);
 
 /*!
  @brief put character to a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] c character to be printed
  @return printed character
   @retval EOF failure
 */
-A_EXTERN a_int_t a_str_putc(a_str_s *ctx, a_int_t c);
-A_EXTERN a_int_t a_str_putc_(a_str_s *ctx, a_int_t c);
+A_EXTERN int a_str_putc(a_str_s *ctx, int c);
+A_EXTERN int a_str_putc_(a_str_s *ctx, int c);
 
 /*!
  @brief put memory block to a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] pdata points to memory block to put
  @param[in] nbyte length of memory block to put
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_str_putn(a_str_s *ctx, a_cptr_t pdata, a_size_t nbyte);
-A_EXTERN a_int_t a_str_putn_(a_str_s *ctx, a_cptr_t pdata, a_size_t nbyte);
+A_EXTERN int a_str_putn(a_str_s *ctx, void const *pdata, a_size_t nbyte);
+A_EXTERN int a_str_putn_(a_str_s *ctx, void const *pdata, a_size_t nbyte);
 
 /*!
  @brief put string to a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] str string terminated with a null character
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_str_puts(a_str_s *ctx, a_cptr_t str);
+A_EXTERN int a_str_puts(a_str_s *ctx, void const *str);
 
 /*!
  @brief concat the string structure obj to the string structure ctx
  @param[in] ctx points to an instance of string structure
  @param[in] obj input source pointing to an instance
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_str_cat(a_str_s *ctx, a_str_s const *obj);
+A_EXTERN int a_str_cat(a_str_s *ctx, a_str_s const *obj);
 
 /*!
  @brief print string to a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] fmt format of string to be printed
  @param[in] va instance of variable argument
  @return number of printed characters
   @retval EOF failure
 */
-A_EXTERN a_int_t a_str_vprintf(a_str_s *ctx, a_cstr_t fmt, va_list va) A_FORMAT(printf, 2, 0);
+A_EXTERN int a_str_vprintf(a_str_s *ctx, char const *fmt, va_list va) A_FORMAT(printf, 2, 0);
 
 /*!
  @brief print string to a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] fmt format of string to be printed
  @return number of printed characters
   @retval EOF failure
 */
-A_EXTERN a_int_t a_str_printf(a_str_s *ctx, a_cstr_t fmt, ...) A_FORMAT(printf, 2, 3);
+A_EXTERN int a_str_printf(a_str_s *ctx, char const *fmt, ...) A_FORMAT(printf, 2, 3);
 
 /*!
  @brief length for a pointer to string structure using UTF-8
  @param[in] ctx points to an instance of string structure
  @return number of code points
 */
 A_EXTERN a_size_t a_str_utflen(a_str_s const *ctx);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /* inline function for generic */
-A_INTERN a_vptr_t a_str_new_(void) { return a_str_new(); }
-A_INTERN a_void_t a_str_die_(a_vptr_t ctx) { a_str_die(a_cast_s(a_str_s *, ctx)); }
-A_INTERN a_void_t a_str_ctor_(a_vptr_t ctx) { a_str_ctor(a_cast_s(a_str_s *, ctx)); }
-A_INTERN a_void_t a_str_dtor_(a_vptr_t ctx) { a_str_dtor(a_cast_s(a_str_s *, ctx)); }
+A_INTERN void *a_str_new_(void) { return a_str_new(); }
+A_INTERN void a_str_die_(void *ctx) { a_str_die(a_cast_s(a_str_s *, ctx)); }
+A_INTERN void a_str_ctor_(void *ctx) { a_str_ctor(a_cast_s(a_str_s *, ctx)); }
+A_INTERN void a_str_dtor_(void *ctx) { a_str_dtor(a_cast_s(a_str_s *, ctx)); }
 
 /*! @} A_STR */
 
 #endif /* host/str.h */
```

### Comparing `liba-0.1.1rc6/include/a/host/vec.h` & `liba-0.1.1rc7/include/a/host/vec.h`

 * *Files 7% similar despite different names*

```diff
@@ -15,25 +15,25 @@
 */
 
 /*!
  @brief instance structure for basic vector
 */
 typedef struct a_vec_s
 {
-    a_vptr_t _ptr; /*!< address of vector */
+    void *_ptr; /*!< address of vector */
     a_size_t _num; /*!< number of element */
     a_size_t _mem; /*!< memory of element */
     a_size_t _siz; /*!< size of a element */
 } a_vec_s;
 
 /*!
  @brief access address of vector for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
 */
-A_INTERN a_vptr_t a_vec_ptr(a_vec_s const *const ctx) { return ctx->_ptr; }
+A_INTERN void *a_vec_ptr(a_vec_s const *const ctx) { return ctx->_ptr; }
 
 /*!
  @brief access number of element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
 */
 A_INTERN a_size_t a_vec_num(a_vec_s const *const ctx) { return ctx->_num; }
 
@@ -52,83 +52,83 @@
 /*!
  @brief access specified element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element less than memory
  @note should check for out of bounds
  @return specified element pointer
 */
-A_INTERN a_vptr_t a_vec_at_(a_vec_s const *const ctx, a_size_t const idx)
+A_INTERN void *a_vec_at_(a_vec_s const *const ctx, a_size_t const idx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * idx;
+    return a_byte_c(*, ctx->_ptr) + ctx->_siz * idx;
 }
 
 /*!
  @brief access specified element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element less than memory
  @return specified element pointer
   @retval 0 out of bounds
 */
-A_INTERN a_vptr_t a_vec_at(a_vec_s const *const ctx, a_size_t const idx)
+A_INTERN void *a_vec_at(a_vec_s const *const ctx, a_size_t const idx)
 {
     return a_likely(idx < ctx->_mem) ? a_vec_at_(ctx, idx) : A_NULL;
 }
 
 /*!
  @brief access specified element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element -memory < idx < memory
  @return specified element pointer
   @retval 0 out of bounds
 */
-A_INTERN a_vptr_t a_vec_idx(a_vec_s const *const ctx, a_diff_t const idx)
+A_INTERN void *a_vec_idx(a_vec_s const *const ctx, a_diff_t const idx)
 {
-    a_size_t const num = idx < 0 ? a_size_c(idx) + ctx->_num : a_size_c(idx);
+    a_size_t const num = idx < 0 ? a_size_c(, idx) + ctx->_num : a_size_c(, idx);
     return a_likely(num < ctx->_mem) ? a_vec_at_(ctx, num) : A_NULL;
 }
 
 /*!
  @brief access top element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @note should check if vector is empty
  @return specified element pointer
 */
-A_INTERN a_vptr_t a_vec_top_(a_vec_s const *const ctx)
+A_INTERN void *a_vec_top_(a_vec_s const *const ctx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * (ctx->_num - 1);
+    return a_byte_c(*, ctx->_ptr) + ctx->_siz * (ctx->_num - 1);
 }
 
 /*!
  @brief access top element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @return specified element pointer
   @retval 0 empty vector
 */
-A_INTERN a_vptr_t a_vec_top(a_vec_s const *const ctx)
+A_INTERN void *a_vec_top(a_vec_s const *const ctx)
 {
     return a_likely(ctx->_num) ? a_vec_top_(ctx) : A_NULL;
 }
 
 /*!
  @brief access end pointer for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @return vector end pointer
 */
-A_INTERN a_vptr_t a_vec_end_(a_vec_s const *const ctx)
+A_INTERN void *a_vec_end_(a_vec_s const *const ctx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num;
+    return a_byte_c(*, ctx->_ptr) + ctx->_siz * ctx->_num;
 }
 
 /*!
  @brief access end pointer for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @return vector end pointer
   @retval 0 empty vector
 */
-A_INTERN a_vptr_t a_vec_end(a_vec_s const *const ctx)
+A_INTERN void *a_vec_end(a_vec_s const *const ctx)
 {
     return a_likely(ctx->_ptr) ? a_vec_end_(ctx) : ctx->_ptr;
 }
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
@@ -140,92 +140,92 @@
 A_EXTERN a_vec_s *a_vec_new(a_size_t size);
 
 /*!
  @brief deallocate a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] dtor element destructor
 */
-A_EXTERN a_void_t a_vec_die(a_vec_s *ctx, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_vec_die(a_vec_s *ctx, void (*dtor)(void *));
 
 /*!
  @brief constructor for vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] size size of element
 */
-A_EXTERN a_void_t a_vec_ctor(a_vec_s *ctx, a_size_t size);
+A_EXTERN void a_vec_ctor(a_vec_s *ctx, a_size_t size);
 
 /*!
  @brief destructor for vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] dtor element destructor
 */
-A_EXTERN a_void_t a_vec_dtor(a_vec_s *ctx, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_vec_dtor(a_vec_s *ctx, void (*dtor)(void *));
 
 /*!
  @brief initialize a pointer to vector structure by copying
  @param[in] ctx points to an instance of vector structure
  @param[in] obj input source pointing to an instance
  @param[in] dup a function that copies elements
   @arg 0 use function a_copy to copy elements
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_vec_copy(a_vec_s *ctx, a_vec_s const *obj, a_int_t (*dup)(a_vptr_t, a_cptr_t));
+A_EXTERN int a_vec_copy(a_vec_s *ctx, a_vec_s const *obj, int (*dup)(void *, void const *));
 
 /*!
  @brief initialize a pointer to vector structure by moving
  @param[in] ctx points to an instance of vector structure
  @param[in] obj input source pointing to an instance
 */
 A_EXTERN a_vec_s *a_vec_move(a_vec_s *ctx, a_vec_s *obj);
 
 /*!
  @brief modify size of a element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] size the size of the new element
  @param[in] dtor previous element destructor
 */
-A_EXTERN a_void_t a_vec_set(a_vec_s *ctx, a_size_t size, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_vec_set(a_vec_s *ctx, a_size_t size, void (*dtor)(void *));
 
 /*!
  @brief modify element number for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] num number of all elements in the vector
  @param[in] dtor previous element destructor
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_vec_make(a_vec_s *ctx, a_size_t num, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN int a_vec_make(a_vec_s *ctx, a_size_t num, void (*dtor)(void *));
 
 /*!
  @brief drop all the elements for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] dtor current element destructor
 */
-A_EXTERN a_void_t a_vec_drop(a_vec_s *ctx, a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_vec_drop(a_vec_s *ctx, void (*dtor)(void *));
 
 /*!
  @brief swap elements lhs and rhs for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] lhs element index on the left
  @param[in] rhs element index on the right
 */
-A_EXTERN a_void_t a_vec_swap(a_vec_s const *ctx, a_size_t lhs, a_size_t rhs);
+A_EXTERN void a_vec_swap(a_vec_s const *ctx, a_size_t lhs, a_size_t rhs);
 
 /*!
  @brief sort all elements for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_vec_sort(a_vec_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_vec_sort(a_vec_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert sort foremost element for a pointer to vector structure
  @code{.c}
  T *obj = a_vec_push_fore(T, ctx);
  if (obj)
  {
@@ -236,15 +236,15 @@
  @endcode
  @param[in] ctx points to an instance of vector structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_vec_sort_fore(a_vec_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_vec_sort_fore(a_vec_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert sort backmost element for a pointer to vector structure
  @code{.c}
  T *obj = a_vec_push_back(T, ctx);
  if (obj)
  {
@@ -255,102 +255,102 @@
  @endcode
  @param[in] ctx points to an instance of vector structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_vec_sort_back(a_vec_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_vec_sort_back(a_vec_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief search the given element in this vector
  @param[in] ctx points to an instance of vector structure
  @param[in] obj object that serves as key for the search
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
  @return matching element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vec_search(a_vec_s const *ctx, a_cptr_t obj, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void *a_vec_search(a_vec_s const *ctx, void const *obj, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert an element into the vector
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element in this vector
   @arg 0 a_vec_push_fore
   @arg n a_vec_push_back
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vec_insert(a_vec_s *ctx, a_size_t idx);
+A_EXTERN void *a_vec_insert(a_vec_s *ctx, a_size_t idx);
 
 /*!
  @brief remove an element from the vector
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element in this vector
   @arg 0 a_vec_pull_fore
   @arg n a_vec_pull_back
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vec_remove(a_vec_s *ctx, a_size_t idx);
+A_EXTERN void *a_vec_remove(a_vec_s *ctx, a_size_t idx);
 
 /*!
  @brief push an element into the vector forward
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vec_push_fore(a_vec_s *ctx);
+A_EXTERN void *a_vec_push_fore(a_vec_s *ctx);
 
 /*!
  @brief push an element into the vector backward
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vec_push_back(a_vec_s *ctx);
+A_EXTERN void *a_vec_push_back(a_vec_s *ctx);
 
 /*!
  @brief pull an element from the vector forward
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vec_pull_fore(a_vec_s *ctx);
+A_EXTERN void *a_vec_pull_fore(a_vec_s *ctx);
 
 /*!
  @brief pull an element from the vector backward
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vec_pull_back(a_vec_s *ctx);
+A_EXTERN void *a_vec_pull_back(a_vec_s *ctx);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*!
  @brief push an element into the vector
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_INTERN a_vptr_t a_vec_push(a_vec_s *ctx) { return a_vec_push_back(ctx); }
+A_INTERN void *a_vec_push(a_vec_s *ctx) { return a_vec_push_back(ctx); }
 
 /*!
  @brief pull an element from the vector
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_INTERN a_vptr_t a_vec_pull(a_vec_s *ctx) { return a_vec_pull_back(ctx); }
+A_INTERN void *a_vec_pull(a_vec_s *ctx) { return a_vec_pull_back(ctx); }
 
 /*!
  @brief iterate over a vector
  @code{.c}
  a_vec_forenum(i, ctx)
  {
      T *it = (T *)a_vec_at(ctx, i);
```

### Comparing `liba-0.1.1rc6/include/a/host/vector.h` & `liba-0.1.1rc7/include/a/host/vector.h`

 * *Files 4% similar despite different names*

```diff
@@ -15,41 +15,41 @@
 */
 
 /*!
  @brief instance structure for basic vector
 */
 typedef struct a_vector_s
 {
-    a_void_t (*ctor)(a_vptr_t); /*!< element constructor */
-    a_void_t (*dtor)(a_vptr_t); /*!< element destructor */
-    a_vptr_t _head; /*!< head address */
-    a_vptr_t _tail; /*!< tail address */
-    a_vptr_t _last; /*!< last address */
-    a_size_t _size; /*!< size element */
+    void (*ctor)(void *); /*!< element constructor */
+    void (*dtor)(void *); /*!< element destructor */
+    void *_head; /*!< head address */
+    void *_tail; /*!< tail address */
+    void *_last; /*!< last address */
+    a_size_t _siz; /*!< size element */
     a_size_t _num; /*!< count number */
     a_size_t _mem; /*!< count memory */
 } a_vector_s;
 
 /*!
  @brief access vector head pointer for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
 */
-A_INTERN a_vptr_t a_vector_ptr(a_vector_s const *const ctx) { return ctx->_head; }
+A_INTERN void *a_vector_ptr(a_vector_s const *const ctx) { return ctx->_head; }
 
 /*!
  @brief access vector tail pointer for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
 */
-A_INTERN a_vptr_t a_vector_end(a_vector_s const *const ctx) { return ctx->_tail; }
+A_INTERN void *a_vector_end(a_vector_s const *const ctx) { return ctx->_tail; }
 
 /*!
  @brief access size of a element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
 */
-A_INTERN a_size_t a_vector_get(a_vector_s const *const ctx) { return ctx->_size; }
+A_INTERN a_size_t a_vector_get(a_vector_s const *const ctx) { return ctx->_siz; }
 
 /*!
  @brief access number of element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
 */
 A_INTERN a_size_t a_vector_num(a_vector_s const *const ctx) { return ctx->_num; }
 
@@ -62,62 +62,62 @@
 /*!
  @brief access specified element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element less than capacity
  @note should check for out of bounds
  @return specified element pointer
 */
-A_INTERN a_vptr_t a_vector_at_(a_vector_s const *const ctx, a_size_t idx)
+A_INTERN void *a_vector_at_(a_vector_s const *const ctx, a_size_t idx)
 {
-    return a_byte_p(ctx->_head) + ctx->_size * idx;
+    return a_byte_c(*, ctx->_head) + ctx->_siz * idx;
 }
 
 /*!
  @brief access specified element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element less than capacity
  @return specified element pointer
   @retval 0 out of bounds
 */
-A_INTERN a_vptr_t a_vector_at(a_vector_s const *const ctx, a_size_t idx)
+A_INTERN void *a_vector_at(a_vector_s const *const ctx, a_size_t idx)
 {
     return a_likely(idx < ctx->_mem) ? a_vector_at_(ctx, idx) : A_NULL;
 }
 
 /*!
  @brief access specified element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element -capacity < idx < capacity
  @return specified element pointer
   @retval 0 out of bounds
 */
-A_INTERN a_vptr_t a_vector_idx(a_vector_s const *const ctx, a_diff_t const idx)
+A_INTERN void *a_vector_idx(a_vector_s const *const ctx, a_diff_t const idx)
 {
-    a_size_t const num = idx < 0 ? a_size_c(idx) + ctx->_num : a_size_c(idx);
+    a_size_t const num = idx < 0 ? a_size_c(, idx) + ctx->_num : a_size_c(, idx);
     return a_likely(num < ctx->_mem) ? a_vector_at_(ctx, num) : A_NULL;
 }
 
 /*!
  @brief access top element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @note should check if vector is empty
  @return specified element pointer
 */
-A_INTERN a_vptr_t a_vector_top_(a_vector_s const *const ctx)
+A_INTERN void *a_vector_top_(a_vector_s const *const ctx)
 {
-    return a_byte_p(ctx->_tail) - ctx->_size;
+    return a_byte_c(*, ctx->_tail) - ctx->_siz;
 }
 
 /*!
  @brief access top element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @return specified element pointer
   @retval 0 empty vector
 */
-A_INTERN a_vptr_t a_vector_top(a_vector_s const *const ctx)
+A_INTERN void *a_vector_top(a_vector_s const *const ctx)
 {
     return a_likely(ctx->_num) ? a_vector_top_(ctx) : A_NULL;
 }
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
@@ -125,51 +125,51 @@
 /*!
  @brief allocate a pointer to vector structure from memory
  @param[in] size the size of the element
  @param[in] ctor element constructor
  @param[in] dtor element destructor
 */
 A_EXTERN a_vector_s *a_vector_new(a_size_t size,
-                                  a_void_t (*ctor)(a_vptr_t),
-                                  a_void_t (*dtor)(a_vptr_t));
+                                  void (*ctor)(void *),
+                                  void (*dtor)(void *));
 
 /*!
  @brief deallocate a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
 */
-A_EXTERN a_void_t a_vector_die(a_vector_s *ctx);
+A_EXTERN void a_vector_die(a_vector_s *ctx);
 
 /*!
  @brief constructor for vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] size the size of the element
  @param[in] ctor element constructor
  @param[in] dtor element destructor
 */
-A_EXTERN a_void_t a_vector_ctor(a_vector_s *ctx, a_size_t size,
-                                a_void_t (*ctor)(a_vptr_t),
-                                a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_vector_ctor(a_vector_s *ctx, a_size_t size,
+                            void (*ctor)(void *),
+                            void (*dtor)(void *));
 
 /*!
  @brief destructor for vector structure
  @param[in] ctx points to an instance of vector structure
 */
-A_EXTERN a_void_t a_vector_dtor(a_vector_s *ctx);
+A_EXTERN void a_vector_dtor(a_vector_s *ctx);
 
 /*!
  @brief initialize a pointer to vector structure by copying
  @param[in] ctx points to an instance of vector structure
  @param[in] obj input source pointing to an instance
  @param[in] dup a function that copies elements
   @arg 0 use function a_copy to copy elements
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_vector_copy(a_vector_s *ctx, a_vector_s const *obj, a_int_t (*dup)(a_vptr_t, a_cptr_t));
+A_EXTERN int a_vector_copy(a_vector_s *ctx, a_vector_s const *obj, int (*dup)(void *, void const *));
 
 /*!
  @brief initialize a pointer to vector structure by moving
  @param[in] ctx points to an instance of vector structure
  @param[in] obj input source pointing to an instance
 */
 A_EXTERN a_vector_s *a_vector_move(a_vector_s *ctx, a_vector_s *obj);
@@ -177,51 +177,51 @@
 /*!
  @brief modify size of a element for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] size the size of the new element
  @param[in] ctor current element constructor
  @param[in] dtor current element destructor
 */
-A_EXTERN a_void_t a_vector_set(a_vector_s *ctx, a_size_t size,
-                               a_void_t (*ctor)(a_vptr_t),
-                               a_void_t (*dtor)(a_vptr_t));
+A_EXTERN void a_vector_set(a_vector_s *ctx, a_size_t size,
+                           void (*ctor)(void *),
+                           void (*dtor)(void *));
 
 /*!
  @brief modify element number for a pointer to string structure
  @param[in] ctx points to an instance of string structure
  @param[in] num number of all elements in the vector
  @return the execution state of the function
   @retval 0 success
   @retval 1 failure
 */
-A_EXTERN a_int_t a_vector_make(a_vector_s *ctx, a_size_t num);
+A_EXTERN int a_vector_make(a_vector_s *ctx, a_size_t num);
 
 /*!
  @brief drop all the elements for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
 */
-A_EXTERN a_void_t a_vector_drop(a_vector_s *ctx);
+A_EXTERN void a_vector_drop(a_vector_s *ctx);
 
 /*!
  @brief swap elements lhs and rhs for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] lhs element index on the left
  @param[in] rhs element index on the right
 */
-A_EXTERN a_void_t a_vector_swap(a_vector_s const *ctx, a_size_t lhs, a_size_t rhs);
+A_EXTERN void a_vector_swap(a_vector_s const *ctx, a_size_t lhs, a_size_t rhs);
 
 /*!
  @brief sort all elements for a pointer to vector structure
  @param[in] ctx points to an instance of vector structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_vector_sort(a_vector_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_vector_sort(a_vector_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert sort foremost element for a pointer to vector structure
  @code{.c}
  T *obj = a_vector_push_fore(T, ctx);
  if (obj)
  {
@@ -232,15 +232,15 @@
  @endcode
  @param[in] ctx points to an instance of vector structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_vector_sort_fore(a_vector_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_vector_sort_fore(a_vector_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert sort backmost element for a pointer to vector structure
  @code{.c}
  T *obj = a_vector_push_back(T, ctx);
  if (obj)
  {
@@ -251,102 +251,102 @@
  @endcode
  @param[in] ctx points to an instance of vector structure
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
 */
-A_EXTERN a_void_t a_vector_sort_back(a_vector_s const *ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void a_vector_sort_back(a_vector_s const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief search the given element in this vector
  @param[in] ctx points to an instance of vector structure
  @param[in] obj object that serves as key for the search
  @param[in] cmp a function that compares two elements
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
  @return matching element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vector_search(a_vector_s const *ctx, a_cptr_t obj, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN void *a_vector_search(a_vector_s const *ctx, void const *obj, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert an element into the vector
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element in this vector
   @arg 0 a_vector_push_fore
   @arg n a_vector_push_back
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vector_insert(a_vector_s *ctx, a_size_t idx);
+A_EXTERN void *a_vector_insert(a_vector_s *ctx, a_size_t idx);
 
 /*!
  @brief remove an element from the vector
  @param[in] ctx points to an instance of vector structure
  @param[in] idx index of element in this vector
   @arg 0 a_vector_pull_fore
   @arg n a_vector_pull_back
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vector_remove(a_vector_s *ctx, a_size_t idx);
+A_EXTERN void *a_vector_remove(a_vector_s *ctx, a_size_t idx);
 
 /*!
  @brief push an element into the vector forward
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vector_push_fore(a_vector_s *ctx);
+A_EXTERN void *a_vector_push_fore(a_vector_s *ctx);
 
 /*!
  @brief push an element into the vector backward
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vector_push_back(a_vector_s *ctx);
+A_EXTERN void *a_vector_push_back(a_vector_s *ctx);
 
 /*!
  @brief pull an element from the vector forward
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vector_pull_fore(a_vector_s *ctx);
+A_EXTERN void *a_vector_pull_fore(a_vector_s *ctx);
 
 /*!
  @brief pull an element from the vector backward
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_EXTERN a_vptr_t a_vector_pull_back(a_vector_s *ctx);
+A_EXTERN void *a_vector_pull_back(a_vector_s *ctx);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*!
  @brief push an element into the vector
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_INTERN a_vptr_t a_vector_push(a_vector_s *ctx) { return a_vector_push_back(ctx); }
+A_INTERN void *a_vector_push(a_vector_s *ctx) { return a_vector_push_back(ctx); }
 
 /*!
  @brief pull an element from the vector
  @param[in] ctx points to an instance of vector structure
  @return element pointer
   @retval 0 failure
 */
-A_INTERN a_vptr_t a_vector_pull(a_vector_s *ctx) { return a_vector_pull_back(ctx); }
+A_INTERN void *a_vector_pull(a_vector_s *ctx) { return a_vector_pull_back(ctx); }
 
 /*!
  @brief iterate over a vector
  @code{.c}
  a_vector_forenum(i, ctx)
  {
      T *it = (T *)a_vector_at(ctx, i);
```

### Comparing `liba-0.1.1rc6/include/a/list.h` & `liba-0.1.1rc7/include/a/list.h`

 * *Files 4% similar despite different names*

```diff
@@ -82,33 +82,33 @@
 A_INTERN a_bool_t a_list_used(a_list_s const *const ctx) { return ctx->next != ctx && ctx->next->prev == ctx; }
 
 /*!
  @brief cast a list pointer from another type pointer
  @param[in] obj points to circular doubly linked list
  @return a pointer to circular doubly linked list
 */
-A_INTERN a_list_s *a_list_from(a_vptr_t const obj) { return a_cast_s(a_list_s *, obj); }
+A_INTERN a_list_s *a_list_from(void *const obj) { return a_cast_s(a_list_s *, obj); }
 
 /*!
  @brief constructor for circular doubly linked list
  @param[in,out] ctx points to circular doubly linked list
 */
-A_INTERN a_void_t a_list_ctor(a_list_s *const ctx) { ctx->prev = ctx->next = ctx; }
+A_INTERN void a_list_ctor(a_list_s *const ctx) { ctx->prev = ctx->next = ctx; }
 
 /*!
  @brief initialize for circular doubly linked list
  @param[in,out] ctx points to circular doubly linked list
 */
-A_INTERN a_void_t a_list_init(a_list_s *const ctx) { ctx->prev = ctx->next = ctx; }
+A_INTERN void a_list_init(a_list_s *const ctx) { ctx->prev = ctx->next = ctx; }
 
 /*!
  @brief destructor for circular doubly linked list
  @param[in,out] ctx points to circular doubly linked list
 */
-A_INTERN a_void_t a_list_dtor(a_list_s *const ctx) { ctx->prev = ctx->next = ctx; }
+A_INTERN void a_list_dtor(a_list_s *const ctx) { ctx->prev = ctx->next = ctx; }
 
 /*!
  @brief link head node and tail node
  @dot
  digraph a_list_link {
      node[shape="record"]
      nodehead[label="{<prev>prev|<addr>head|<next>next}"]
@@ -117,15 +117,15 @@
      nodetail:prev -> nodehead:addr [color=green]
      nodehead -> "..." -> nodetail
  }
  @enddot
  @param[in,out] head the head node of a list
  @param[in,out] tail the tail node of a list
 */
-A_INTERN a_void_t a_list_link(a_list_s *const head, a_list_s *const tail)
+A_INTERN void a_list_link(a_list_s *const head, a_list_s *const tail)
 {
     head->next = tail;
     tail->prev = head;
 }
 
 /*!
  @brief loop head node to tail node
@@ -138,15 +138,15 @@
      nodetail:next -> nodehead:addr [color=green]
      nodehead -> "..." -> nodetail
  }
  @enddot
  @param[in,out] head the head node of a list
  @param[in,out] tail the tail node of a list
 */
-A_INTERN a_void_t a_list_loop(a_list_s *const head, a_list_s *const tail)
+A_INTERN void a_list_loop(a_list_s *const head, a_list_s *const tail)
 {
     head->prev = tail;
     tail->next = head;
 }
 
 /*!
  @brief connect list1 and list2
@@ -168,15 +168,15 @@
  }
  @enddot
  @param[in,out] head1 the head node of the list1
  @param[in,out] tail1 the tail node of the list1
  @param[in,out] head2 the head node of the list2
  @param[in,out] tail2 the tail node of the list2
 */
-A_INTERN a_void_t a_list_add_(a_list_s *const head1, a_list_s *const tail1, a_list_s *const head2, a_list_s *const tail2)
+A_INTERN void a_list_add_(a_list_s *const head1, a_list_s *const tail1, a_list_s *const head2, a_list_s *const tail2)
 {
     a_list_link(tail1, head2);
     a_list_link(tail2, head1);
 }
 
 /*!
  @brief insert a node to a list
@@ -193,15 +193,15 @@
      1 -> 2
  }
  @enddot
  @param[in,out] head the head node of a list
  @param[in,out] tail the tail node of a list
  @param[in] node a list node
 */
-A_INTERN a_void_t a_list_add_node(a_list_s *const head, a_list_s *const tail, a_list_s *const node)
+A_INTERN void a_list_add_node(a_list_s *const head, a_list_s *const tail, a_list_s *const node)
 {
     a_list_add_(head, tail, node, node);
 }
 
 /*!
  @brief append a node to a list forward
  @dot
@@ -216,15 +216,15 @@
      }
      1 -> 2
  }
  @enddot
  @param[in,out] ctx points to circular doubly linked list
  @param[in] node a list node
 */
-A_INTERN a_void_t a_list_add_next(a_list_s *const ctx, a_list_s *const node)
+A_INTERN void a_list_add_next(a_list_s *const ctx, a_list_s *const node)
 {
     a_list_add_(ctx->next, ctx, node, node);
 }
 
 /*!
  @brief append a node to a list backward
  @dot
@@ -239,15 +239,15 @@
      }
      1 -> 2
  }
  @enddot
  @param[in,out] ctx points to circular doubly linked list
  @param[in] node a list node
 */
-A_INTERN a_void_t a_list_add_prev(a_list_s *const ctx, a_list_s *const node)
+A_INTERN void a_list_add_prev(a_list_s *const ctx, a_list_s *const node)
 {
     a_list_add_(ctx, ctx->prev, node, node);
 }
 
 /*!
  @brief delete a section of a list
  @dot
@@ -261,15 +261,15 @@
      head:next -> tail:addr [color=green]
      tail:prev -> head:addr [color=green]
  }
  @enddot
  @param[in,out] head the head node of a list
  @param[in,out] tail the tail node of a list
 */
-A_INTERN a_void_t a_list_del_(a_list_s *const head, a_list_s *const tail)
+A_INTERN void a_list_del_(a_list_s *const head, a_list_s *const tail)
 {
     a_list_link(head->prev, tail->next);
 }
 
 /*!
  @brief delete a node from a list
  @dot
@@ -283,15 +283,15 @@
          2[label="<head>head|<tail>tail"]
      }
      1 -> 2
  }
  @enddot
  @param[in] node a list node
 */
-A_INTERN a_void_t a_list_del_node(a_list_s *const node) { a_list_del_(node, node); }
+A_INTERN void a_list_del_node(a_list_s *const node) { a_list_del_(node, node); }
 
 /*!
  @brief remove a node from a list forward
  @dot
  digraph a_list_del_next {
      node[shape="record"]
      subgraph cluster0 {
@@ -302,15 +302,15 @@
          2[label="<prev>prev|<node>node|<next>next"]
      }
      1 -> 2
  }
  @enddot
  @param[in] node a list node
 */
-A_INTERN a_void_t a_list_del_next(a_list_s *const node) { a_list_del_(node->next, node->next); }
+A_INTERN void a_list_del_next(a_list_s *const node) { a_list_del_(node->next, node->next); }
 
 /*!
  @brief remove a node from a list backward
  @dot
  digraph a_list_del_prev {
      node[shape="record"]
      subgraph cluster0 {
@@ -321,15 +321,15 @@
          0[label="<0>0"]
      }
      1 -> 2
  }
  @enddot
  @param[in] node a list node
 */
-A_INTERN a_void_t a_list_del_prev(a_list_s *const node) { a_list_del_(node->prev, node->prev); }
+A_INTERN void a_list_del_prev(a_list_s *const node) { a_list_del_(node->prev, node->prev); }
 
 /*!
  @brief moving a list to another list forward
  @dot
  digraph a_list_mov_next {
      node[shape="record"]
      subgraph cluster0 {
@@ -341,15 +341,15 @@
      }
      1 -> 2
  }
  @enddot
  @param[in,out] ctx points to circular doubly linked list
  @param[in] obj source list
 */
-A_INTERN a_void_t a_list_mov_next(a_list_s *const ctx, a_list_s *const obj)
+A_INTERN void a_list_mov_next(a_list_s *const ctx, a_list_s *const obj)
 {
     a_list_add_(ctx->next, ctx, obj->next, obj->prev);
 }
 
 /*!
  @brief moving a list to another list backward
  @dot
@@ -364,15 +364,15 @@
      }
      1 -> 2
  }
  @enddot
  @param[in,out] ctx points to circular doubly linked list
  @param[in] obj source list
 */
-A_INTERN a_void_t a_list_mov_prev(a_list_s *const ctx, a_list_s *const obj)
+A_INTERN void a_list_mov_prev(a_list_s *const ctx, a_list_s *const obj)
 {
     a_list_add_(ctx, ctx->prev, obj->next, obj->prev);
 }
 
 /*!
  @brief rotate a node in the list backward
  @dot
@@ -389,15 +389,15 @@
      2:prev -> 2:2 [color=blue]
      2:next -> 2:3 [color=blue]
      1 -> 2
  }
  @enddot
  @param[in,out] ctx points to circular doubly linked list
 */
-A_INTERN a_void_t a_list_rot_next(a_list_s *const ctx)
+A_INTERN void a_list_rot_next(a_list_s *const ctx)
 {
     a_list_s *const node = ctx->prev;
     a_list_del_(node, node);
     a_list_add_(ctx->next, ctx, node, node);
 }
 
 /*!
@@ -416,15 +416,15 @@
      2:prev -> 2:0 [color=blue]
      2:next -> 2:1 [color=blue]
      1 -> 2
  }
  @enddot
  @param[in,out] ctx points to circular doubly linked list
 */
-A_INTERN a_void_t a_list_rot_prev(a_list_s *const ctx)
+A_INTERN void a_list_rot_prev(a_list_s *const ctx)
 {
     a_list_s *const node = ctx->next;
     a_list_del_(node, node);
     a_list_add_(ctx, ctx->prev, node, node);
 }
 
 /*!
@@ -443,25 +443,25 @@
  }
  @enddot
  @param[in,out] head1 the head node of the list1
  @param[in,out] tail1 the tail node of the list1
  @param[in,out] head2 the head node of the list2
  @param[in,out] tail2 the tail node of the list2
 */
-A_INTERN a_void_t a_list_shift_(a_list_s *const head1, a_list_s *const tail1, a_list_s *const head2, a_list_s *const tail2)
+A_INTERN void a_list_shift_(a_list_s *const head1, a_list_s *const tail1, a_list_s *const head2, a_list_s *const tail2)
 {
     a_list_add_(tail1->next, head1->prev, head2, tail2);
 }
 
 /*!
  @brief shift the node rhs to the node lhs
  @param[in,out] lhs the old node
  @param[in,out] rhs the new node
 */
-A_INTERN a_void_t a_list_shift_node(a_list_s *const lhs, a_list_s *const rhs)
+A_INTERN void a_list_shift_node(a_list_s *const lhs, a_list_s *const rhs)
 {
     a_list_shift_(lhs, lhs, rhs, rhs);
 }
 
 /*!
  @brief swap a section of one list and a section of another list
  @dot
@@ -480,31 +480,31 @@
  }
  @enddot
  @param[in,out] head1 the head node of the list1
  @param[in,out] tail1 the tail node of the list1
  @param[in,out] head2 the head node of the list2
  @param[in,out] tail2 the tail node of the list2
 */
-A_INTERN a_void_t a_list_swap_(a_list_s *const head1, a_list_s *const tail1, a_list_s *const head2, a_list_s *const tail2)
+A_INTERN void a_list_swap_(a_list_s *const head1, a_list_s *const tail1, a_list_s *const head2, a_list_s *const tail2)
 {
     a_list_s *const head = tail2->next, *const tail = head2->prev;
     a_list_add_(tail1->next, head1->prev, head2, tail2);
     a_list_add_(head, tail, head1, tail1);
 }
 
 /*!
  @brief swap the node lhs and the node rhs
  @param[in,out] lhs a node on the left
  @param[in,out] rhs a node on the right
 */
-A_INTERN a_void_t a_list_swap_node(a_list_s *const lhs, a_list_s *const rhs)
+A_INTERN void a_list_swap_node(a_list_s *const lhs, a_list_s *const rhs)
 {
     a_list_swap_(lhs, lhs, rhs, rhs);
 }
 
 /* inline function for generic */
-A_INTERN a_void_t a_list_ctor_(a_vptr_t const ctx) { a_list_ctor(a_cast_s(a_list_s *, ctx)); }
-A_INTERN a_void_t a_list_dtor_(a_vptr_t const ctx) { a_list_dtor(a_cast_s(a_list_s *, ctx)); }
+A_INTERN void a_list_ctor_(void *const ctx) { a_list_ctor(a_cast_s(a_list_s *, ctx)); }
+A_INTERN void a_list_dtor_(void *const ctx) { a_list_dtor(a_cast_s(a_list_s *, ctx)); }
 
 /*! @} A_LIST */
 
-#endif /* list.h */
+#endif /* a/list.h */
```

### Comparing `liba-0.1.1rc6/include/a/notefreqs.h` & `liba-0.1.1rc7/include/a/notefreqs.h`

 * *Files 0% similar despite different names*

```diff
@@ -1480,8 +1480,8 @@
 #define A_NOTEFREQ_Bb8 A_NOTEFREQ_CAST(A_NOTEFREQ_FREQ / A_NOTEFREQ_FREQ_Bb8) /*!< Bb8 */
 #define A_NOTEFREQ_B8  A_NOTEFREQ_CAST(A_NOTEFREQ_FREQ / A_NOTEFREQ_FREQ_B8)  /*!< B8  */
 
 // clang-format on
 
 /*! @} A_NOTEFREQ */
 
-#endif /* notefreqs.h */
+#endif /* a/notefreqs.h */
```

### Comparing `liba-0.1.1rc6/include/a/oop.h` & `liba-0.1.1rc7/include/a/oop.h`

 * *Files 8% similar despite different names*

```diff
@@ -60,15 +60,15 @@
 /*!
  @brief Generates a parameterless function that destroys an object
  @param type object definition
  @param func function symbol
  @param dtor destructor
 */
 #define A_OOP_DIE(type, func, dtor) \
-    a_void_t func(type *ctx)        \
+    void func(type *ctx)            \
     {                               \
         if (ctx)                    \
         {                           \
             dtor(ctx);              \
             free(ctx);              \
         }                           \
     }
@@ -83,15 +83,15 @@
  @param type object definition
  @param func function symbol
  @param dtor destructor
  @param args macro for declaring parameters
  @param ... declared parameter variable name
 */
 #define A_OOP_DIE_VA(type, func, dtor, args, ...) \
-    a_void_t func(type *ctx, args)                \
+    void func(type *ctx, args)                    \
     {                                             \
         if (ctx)                                  \
         {                                         \
             dtor(ctx, __VA_ARGS__);               \
             free(ctx);                            \
         }                                         \
     }
@@ -99,8 +99,8 @@
 #define A_OOP_CREATE A_OOP_NEW
 #define A_OOP_DELETE A_OOP_DIE
 #define A_OOP_CREATE_VA A_OOP_NEW_VA
 #define A_OOP_DELETE_VA A_OOP_DIE_VA
 
 /*! @} A_OOP */
 
-#endif /* oop.h */
+#endif /* a/oop.h */
```

### Comparing `liba-0.1.1rc6/include/a/operator.h` & `liba-0.1.1rc7/include/a/operator.h`

 * *Files 4% similar despite different names*

```diff
@@ -60,8 +60,8 @@
 #define a_xor_eq(a, b) ((a) ^= (b)) //!< in-place assignment by bitwise XOR (exclusive or)
 #define a_or_eq(a, b)  ((a) |= (b)) //!< in-place assignment by bitwise OR (inclusive or)
 
 // clang-format on
 
 /*! @} A_OPERATOR */
 
-#endif /* operator.h */
+#endif /* a/operator.h */
```

### Comparing `liba-0.1.1rc6/include/a/polytrack.h` & `liba-0.1.1rc7/include/a/polytrack.h`

 * *Files 15% similar despite different names*

```diff
@@ -16,319 +16,319 @@
 */
 
 /*!
  @brief instance structure for cubic polynomial trajectory
 */
 typedef struct a_polytrack3_s
 {
-    a_real_t k[4]; //!< quantity
+    a_float_t k[4]; //!< quantity
 } a_polytrack3_s;
 
 /*!
  @brief instance structure for quintic polynomial trajectory
 */
 typedef struct a_polytrack5_s
 {
-    a_real_t k[6]; //!< quantity
+    a_float_t k[6]; //!< quantity
 } a_polytrack5_s;
 
 /*!
  @brief instance structure for hepta polynomial trajectory
 */
 typedef struct a_polytrack7_s
 {
-    a_real_t k[8]; //!< quantity
+    a_float_t k[8]; //!< quantity
 } a_polytrack7_s;
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
 
 /* function for cubic polynomial trajectory */
 
 /*!
  @brief generation function for cubic polynomial trajectory
- @f{aligned}{
+ \f{aligned}{
   \left\{\begin{array}{l}
   t=t_{1}-t_{0}\\
   q=q_{1}-q_{0}\\
   k_{0}=q_{0}\\
   k_{1}=v_{0}\\
   k_{2}=\cfrac{\left(-2\,v_{0}-v_{1}\right)\,t+3\,q}{t^2}\\
   k_{3}=\cfrac{\left(v_{0}+v_{1}\right)\,t-2\,q}{t^3}
   \end{array}\right.
- @f}
+ \f}
  @param[in,out] ctx points to an instance of cubic polynomial trajectory
  @param[in] t0 time for source
  @param[in] t1 time for target
  @param[in] q0 position for source
  @param[in] q1 position for target
  @param[in] v0 velocity for source
  @param[in] v1 velocity for target
 */
-A_EXTERN a_void_t a_polytrack3_gen(a_polytrack3_s *ctx,
-                                   a_real_t t0, a_real_t t1,
-                                   a_real_t q0, a_real_t q1,
-                                   a_real_t v0, a_real_t v1);
+A_EXTERN void a_polytrack3_gen(a_polytrack3_s *ctx,
+                               a_float_t t0, a_float_t t1,
+                               a_float_t q0, a_float_t q1,
+                               a_float_t v0, a_float_t v1);
 
 /*!
  @brief calculate function for cubic polynomial trajectory
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   q(t)=k_{0}+k_{1}\left(t-t_{0}\right)+k_{2}\left(t-t_{0}\right)^{2}+k_{3}\left(t-t_{0}\right)^{3} \\
   \dot{q}(t)=k_{1}+2 k_{2}\left(t-t_{0}\right)+3 k_{3}\left(t-t_{0}\right)^{2} \\
   \ddot{q}(t)=2 k_{2}+6 k_{3}\left(t-t_{0}\right)
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of cubic polynomial trajectory
  @param[in] dt difference between current time and initial time
  @param[out] out buffer for result
   @arg 0 position output
   @arg 1 velocity output
   @arg 2 acceleration output
 */
-A_EXTERN a_void_t a_polytrack3_out(a_polytrack3_s const *ctx, a_real_t dt, a_real_t out[3]);
+A_EXTERN void a_polytrack3_out(a_polytrack3_s const *ctx, a_float_t dt, a_float_t out[3]);
 
 /*!
  @brief calculate function for cubic polynomial trajectory position
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   q(t)=k_{0}+k_{1}\left(t-t_{0}\right)+k_{2}\left(t-t_{0}\right)^{2}+k_{3}\left(t-t_{0}\right)^{3} \\
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of cubic polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return position output
 */
-A_EXTERN a_real_t a_polytrack3_pos(a_polytrack3_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack3_pos(a_polytrack3_s const *ctx, a_float_t dt);
 
 /*!
  @brief calculate function for cubic polynomial trajectory velocity
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   \dot{q}(t)=k_{1}+2 k_{2}\left(t-t_{0}\right)+3 k_{3}\left(t-t_{0}\right)^{2} \\
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of cubic polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return velocity output
 */
-A_EXTERN a_real_t a_polytrack3_vec(a_polytrack3_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack3_vel(a_polytrack3_s const *ctx, a_float_t dt);
 
 /*!
  @brief calculate function for cubic polynomial trajectory acceleration
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   \ddot{q}(t)=2 k_{2}+6 k_{3}\left(t-t_{0}\right)
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of cubic polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return acceleration output
 */
-A_EXTERN a_real_t a_polytrack3_acc(a_polytrack3_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack3_acc(a_polytrack3_s const *ctx, a_float_t dt);
 
 /* function for quintic polynomial trajectory */
 
 /*!
  @brief generation function for quintic polynomial trajectory
- @f{aligned}{
+ \f{aligned}{
   \left\{\begin{array}{l}
   t=t_{1}-t_{0}\\
   q=q_{1}-q_{0}\\
   k_{0}=q_{0}\\
   k_{1}=v_{0}\\
   k_{2}=\cfrac{a_{0}}{2}\\
   k_{3}=\cfrac{\left(a_{1}-3\,a_{0}\right)\,t^2+\left(-12\,v_{0}-8\,v_{1}\right)\,t+20\,q}{2\,t^3}\\
   k_{4}=\cfrac{\left(3\,a_{0}-2\,a_{1}\right)\,t^2+\left(16\,v_{0}+14\,v_{1}\right)\,t-30\,q}{2\,t^4}\\
   k_{5}=\cfrac{\left(a_{1}-a_{0}\right)\,t^2+\left(-6\,v_{0}-6\,v_{1}\right)\,t+12\,q}{2\,t^5}
   \end{array}\right.
- @f}
+ \f}
  @param[in,out] ctx points to an instance of quintic polynomial trajectory
  @param[in] t0 time for source
  @param[in] t1 time for target
  @param[in] q0 position for source
  @param[in] q1 position for target
  @param[in] v0 velocity for source
  @param[in] v1 velocity for target
  @param[in] a0 acceleration for source
  @param[in] a1 acceleration for target
 */
-A_EXTERN a_void_t a_polytrack5_gen(a_polytrack5_s *ctx,
-                                   a_real_t t0, a_real_t t1,
-                                   a_real_t q0, a_real_t q1,
-                                   a_real_t v0, a_real_t v1,
-                                   a_real_t a0, a_real_t a1);
+A_EXTERN void a_polytrack5_gen(a_polytrack5_s *ctx,
+                               a_float_t t0, a_float_t t1,
+                               a_float_t q0, a_float_t q1,
+                               a_float_t v0, a_float_t v1,
+                               a_float_t a0, a_float_t a1);
 
 /*!
  @brief calculate function for quintic polynomial trajectory
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   q(t)=k_{0}+k_{1}\left(t-t_{0}\right)+k_{2}\left(t-t_{0}\right)^{2}+k_{3}\left(t-t_{0}\right)^{3}+k_{4}\left(t-t_{0}\right)^{4}+k_{5}\left(t-t_{0}\right)^{5}\\
   \dot{q}(t)=k_{1}+2 k_{2}\left(t-t_{0}\right)+3 k_{3}\left(t-t_{0}\right)^{2}+4 k_{4}\left(t-t_{0}\right)^{3}+5 k_{5}\left(t-t_{0}\right)^{4}\\
   \ddot{q}(t)=2 k_{2}+6 k_{3}\left(t-t_{0}\right)+12 k_{4}\left(t-t_{0}\right)^{2}+20 k_{5}\left(t-t_{0}\right)^{3}
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of quintic polynomial trajectory
  @param[in] dt difference between current time and initial time
  @param[out] out buffer for result
   @arg 0 position output
   @arg 1 velocity output
   @arg 2 acceleration output
 */
-A_EXTERN a_void_t a_polytrack5_out(a_polytrack5_s const *ctx, a_real_t dt, a_real_t out[3]);
+A_EXTERN void a_polytrack5_out(a_polytrack5_s const *ctx, a_float_t dt, a_float_t out[3]);
 
 /*!
  @brief calculate function for quintic polynomial trajectory position
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   q(t)=k_{0}+k_{1}\left(t-t_{0}\right)+k_{2}\left(t-t_{0}\right)^{2}+k_{3}\left(t-t_{0}\right)^{3}+k_{4}\left(t-t_{0}\right)^{4}+k_{5}\left(t-t_{0}\right)^{5}\\
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of quintic polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return position output
 */
-A_EXTERN a_real_t a_polytrack5_pos(a_polytrack5_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack5_pos(a_polytrack5_s const *ctx, a_float_t dt);
 
 /*!
  @brief calculate function for quintic polynomial trajectory velocity
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   \dot{q}(t)=k_{1}+2 k_{2}\left(t-t_{0}\right)+3 k_{3}\left(t-t_{0}\right)^{2}+4 k_{4}\left(t-t_{0}\right)^{3}+5 k_{5}\left(t-t_{0}\right)^{4}\\
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of quintic polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return velocity output
 */
-A_EXTERN a_real_t a_polytrack5_vec(a_polytrack5_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack5_vel(a_polytrack5_s const *ctx, a_float_t dt);
 
 /*!
  @brief calculate function for quintic polynomial trajectory acceleration
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   \ddot{q}(t)=2 k_{2}+6 k_{3}\left(t-t_{0}\right)+12 k_{4}\left(t-t_{0}\right)^{2}+20 k_{5}\left(t-t_{0}\right)^{3}
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of quintic polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return acceleration output
 */
-A_EXTERN a_real_t a_polytrack5_acc(a_polytrack5_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack5_acc(a_polytrack5_s const *ctx, a_float_t dt);
 
 /* function for hepta polynomial trajectory */
 
 /*!
  @brief generation function for hepta polynomial trajectory
- @f{aligned}{
+ \f{aligned}{
   \left\{\begin{array}{l}
   t=t_{1}-t_{0}\\
   q=q_{1}-q_{0}\\
   k_{0}=q_{0}\\
   k_{1}=v_{0}\\
   k_{2}=\cfrac{a_{0}}{2}\\
   k_{3}=\cfrac{j_{0}}{6}\\
   k_{4}=\cfrac{\left(-4\,j_{0}-j_{1}\right)\,t^3+\left(15\,a_{1}-30\,a_{0}\right)\,t^2+\left(-120\,v_{0}-90\,v_{1}\right)\,t+210\,q}{6\,t^4}\\
   k_{5}=\cfrac{\left(2\,j_{0}+j_{1}\right)\,t^3+\left(20\,a_{0}-14\,a_{1}\right)\,t^2+\left(90\,v_{0}+78\,v_{1}\right)\,t-168\,q}{2\,t^5}\\
   k_{6}=\cfrac{\left(-4\,j_{0}-3\,j_{1}\right)\,t^3+\left(39\,a_{1}-45\,a_{0}\right)\,t^2+\left(-216\,v_{0}-204\,v_{1}\right)\,t+420\,q}{6\,t^6}\\
   k_{7}=\cfrac{\left(j_{0}+j_{1}\right)\,t^3+\left(12\,a_{0}-12\,a_{1}\right)\,t^2+\left(60\,v_{0}+60\,v_{1}\right)\,t-120\,q}{6\,t^7}
   \end{array}\right.
- @f}
+ \f}
  @param[in,out] ctx points to an instance of hepta polynomial trajectory
  @param[in] t0 time for source
  @param[in] t1 time for target
  @param[in] q0 position for source
  @param[in] q1 position for target
  @param[in] v0 velocity for source
  @param[in] v1 velocity for target
  @param[in] a0 acceleration for source
  @param[in] a1 acceleration for target
  @param[in] j0 jerk for source
  @param[in] j1 jerk for target
 */
-A_EXTERN a_void_t a_polytrack7_gen(a_polytrack7_s *ctx,
-                                   a_real_t t0, a_real_t t1,
-                                   a_real_t q0, a_real_t q1,
-                                   a_real_t v0, a_real_t v1,
-                                   a_real_t a0, a_real_t a1,
-                                   a_real_t j0, a_real_t j1);
+A_EXTERN void a_polytrack7_gen(a_polytrack7_s *ctx,
+                               a_float_t t0, a_float_t t1,
+                               a_float_t q0, a_float_t q1,
+                               a_float_t v0, a_float_t v1,
+                               a_float_t a0, a_float_t a1,
+                               a_float_t j0, a_float_t j1);
 
 /*!
  @brief calculate function for hepta polynomial trajectory
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   q(t)=k_{0}+k_{1}\left(t-t_{0}\right)+k_{2}\left(t-t_{0}\right)^{2}+k_{3}\left(t-t_{0}\right)^{3}+k_{4}\left(t-t_{0}\right)^{4}+k_{5}\left(t-t_{0}\right)^{5}+k_{6}\left(t-t_{0}\right)^{6}+k_{7}\left(t-t_{0}\right)^{7}\\
   \dot{q}(t)=k_{1}+2 k_{2}\left(t-t_{0}\right)+3 k_{3}\left(t-t_{0}\right)^{2}+4 k_{4}\left(t-t_{0}\right)^{3}+5 k_{5}\left(t-t_{0}\right)^{4}+6 k_{6}\left(t-t_{0}\right)^{5}+7 k_{7}\left(t-t_{0}\right)^{6}\\
   \ddot{q}(t)=2 k_{2}+6 k_{3}\left(t-t_{0}\right)+12 k_{4}\left(t-t_{0}\right)^{2}+20 k_{5}\left(t-t_{0}\right)^{3}+30 k_{6}\left(t-t_{0}\right)^{4}+42 k_{7}\left(t-t_{0}\right)^{5}\\
   q^{(3)}(t)=6 k_{3}+24 k_{4}\left(t-t_{0}\right)+60 k_{5}\left(t-t_{0}\right)^{2}+120 k_{6}\left(t-t_{0}\right)^{3}+210 k_{7}\left(t-t_{0}\right)^{4}
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of hepta polynomial trajectory
  @param[in] dt difference between current time and initial time
  @param[out] out buffer for result
   @arg 0 position output
   @arg 1 velocity output
   @arg 2 acceleration output
   @arg 3 jerk output
 */
-A_EXTERN a_void_t a_polytrack7_out(a_polytrack7_s const *ctx, a_real_t dt, a_real_t out[4]);
+A_EXTERN void a_polytrack7_out(a_polytrack7_s const *ctx, a_float_t dt, a_float_t out[4]);
 
 /*!
  @brief calculate function for hepta polynomial trajectory position
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   q(t)=k_{0}+k_{1}\left(t-t_{0}\right)+k_{2}\left(t-t_{0}\right)^{2}+k_{3}\left(t-t_{0}\right)^{3}+k_{4}\left(t-t_{0}\right)^{4}+k_{5}\left(t-t_{0}\right)^{5}+k_{6}\left(t-t_{0}\right)^{6}+k_{7}\left(t-t_{0}\right)^{7}\\
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of hepta polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return position output
 */
-A_EXTERN a_real_t a_polytrack7_pos(a_polytrack7_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack7_pos(a_polytrack7_s const *ctx, a_float_t dt);
 
 /*!
  @brief calculate function for hepta polynomial trajectory velocity
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   \dot{q}(t)=k_{1}+2 k_{2}\left(t-t_{0}\right)+3 k_{3}\left(t-t_{0}\right)^{2}+4 k_{4}\left(t-t_{0}\right)^{3}+5 k_{5}\left(t-t_{0}\right)^{4}+6 k_{6}\left(t-t_{0}\right)^{5}+7 k_{7}\left(t-t_{0}\right)^{6}\\
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of hepta polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return velocity output
 */
-A_EXTERN a_real_t a_polytrack7_vec(a_polytrack7_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack7_vel(a_polytrack7_s const *ctx, a_float_t dt);
 
 /*!
  @brief calculate function for hepta polynomial trajectory acceleration
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   \ddot{q}(t)=2 k_{2}+6 k_{3}\left(t-t_{0}\right)+12 k_{4}\left(t-t_{0}\right)^{2}+20 k_{5}\left(t-t_{0}\right)^{3}+30 k_{6}\left(t-t_{0}\right)^{4}+42 k_{7}\left(t-t_{0}\right)^{5}\\
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of hepta polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return acceleration output
 */
-A_EXTERN a_real_t a_polytrack7_acc(a_polytrack7_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack7_acc(a_polytrack7_s const *ctx, a_float_t dt);
 
 /*!
  @brief calculate function for hepta polynomial trajectory jerk
- @f{aligned}{
+ \f{aligned}{
   \begin{array}{l}
   q^{(3)}(t)=6 k_{3}+24 k_{4}\left(t-t_{0}\right)+60 k_{5}\left(t-t_{0}\right)^{2}+120 k_{6}\left(t-t_{0}\right)^{3}+210 k_{7}\left(t-t_{0}\right)^{4}
   \end{array}
- @f}
+ \f}
  @param[in] ctx points to an instance of hepta polynomial trajectory
  @param[in] dt difference between current time and initial time
  @return jerk output
 */
-A_EXTERN a_real_t a_polytrack7_jer(a_polytrack7_s const *ctx, a_real_t dt);
+A_EXTERN a_float_t a_polytrack7_jer(a_polytrack7_s const *ctx, a_float_t dt);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*! @} A_POLYTRACK */
 
-#endif /* polytrack.h */
+#endif /* a/polytrack.h */
```

### Comparing `liba-0.1.1rc6/include/a/rbt.h` & `liba-0.1.1rc7/include/a/rbt.h`

 * *Files 10% similar despite different names*

```diff
@@ -30,51 +30,51 @@
     struct a_rbt_s *left;
     /*!< pointer to right child or NULL */
     struct a_rbt_s *right;
     /*!< pointer to parent combined with the color. The mapping is: 0 => red, 1 => black.
      The rest of the bits are the pointer to the parent node. It must be 2-byte aligned,
      and it will be NULL if this is the root node and therefore has no parent.
     */
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
     a_uptr_t _parent;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     struct a_rbt_s *parent;
-    a_uint_t color;
-#endif /* A_SIZE_VPTR */
+    unsigned int color;
+#endif /* A_SIZE_POINTER */
 } a_rbt_s;
 
 /*!
  @brief access parent of red–black binary search tree node
  @param[in] node points to red–black binary search tree node
  @return a pointer to the parent of the specified red–black tree node,
  or NULL if it is already the root of the tree.
 */
 A_INTERN a_rbt_s *a_rbt_parent(a_rbt_s const *const node)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
-    return a_cast_r(a_rbt_s *, node->_parent & ~a_uptr_c(1));
-#else /* !A_SIZE_VPTR */
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
+    return a_cast_r(a_rbt_s *, node->_parent & ~a_uptr_c(, 1));
+#else /* !A_SIZE_POINTER */
     return node->parent;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
 /*!
  @brief initialize function for red–black binary search tree node
  @param[in] node node to be initialized
  @param[in] parent node parent
  @return initialized node
 */
 A_INTERN a_rbt_s *a_rbt_init(a_rbt_s *const node, a_rbt_s *const parent)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
     node->_parent = a_cast_r(a_uptr_t, parent);
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     node->parent = parent;
     node->color = A_RBT_R;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
     node->right = A_NULL;
     node->left = A_NULL;
     return node;
 }
 
 /*!
  @brief instance structure for red–black binary search tree root
@@ -84,15 +84,15 @@
     struct a_rbt_s *node; //!< root node
 } a_rbt_u;
 
 /*!
  @brief initialize function for red–black binary search tree root
  @param[in,out] root red–black binary search tree root
 */
-A_INTERN a_void_t a_rbt_root(a_rbt_u *const root) { root->node = A_NULL; }
+A_INTERN void a_rbt_root(a_rbt_u *const root) { root->node = A_NULL; }
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
 
 /*!
  @brief access head node of red–black binary search tree in-order
@@ -179,41 +179,41 @@
  @param[in] ctx specified content
  @param[in] cmp a function that compares two nodes
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
  @return specified node or NULL
 */
-A_EXTERN a_rbt_s *a_rbt_search(a_rbt_u const *root, a_cptr_t ctx, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN a_rbt_s *a_rbt_search(a_rbt_u const *root, void const *ctx, int (*cmp)(void const *, void const *));
 
 /*!
  @brief insert specified node into red–black binary search tree
  @param[in] root red–black binary search tree root
  @param[in] node specified tree node
  @param[in] cmp a function that compares two nodes
   @arg cmp(lhs,rhs)==0 *lhs is equivalent to *rhs
   @arg cmp(lhs,rhs)<0 *lhs goes before *rhs
   @arg cmp(lhs,rhs)>0 *lhs goes after *rhs
  @return NULL or duplicate node
 */
-A_EXTERN a_rbt_s *a_rbt_insert(a_rbt_u *root, a_rbt_s *node, a_int_t (*cmp)(a_cptr_t, a_cptr_t));
+A_EXTERN a_rbt_s *a_rbt_insert(a_rbt_u *root, a_rbt_s *node, int (*cmp)(void const *, void const *));
 
 /*!
  @brief rebalance the tree after insertion of the specified node
  @param[in] root red–black binary search tree root
  @param[in] node insert tree node
 */
-A_EXTERN a_void_t a_rbt_insert_adjust(a_rbt_u *root, a_rbt_s *node);
+A_EXTERN void a_rbt_insert_adjust(a_rbt_u *root, a_rbt_s *node);
 
 /*!
  @brief remove specified node from red–black binary search tree
  @param[in] root red–black binary search tree root
  @param[in] node specified tree node
 */
-A_EXTERN a_void_t a_rbt_remove(a_rbt_u *root, a_rbt_s *node);
+A_EXTERN void a_rbt_remove(a_rbt_u *root, a_rbt_s *node);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*!
  @brief access the struct for this entry
@@ -334,8 +334,8 @@
  @param root red–black binary search tree root
 */
 #define a_rbt_fortear(cur, next, root) \
     for (a_rbt_s *next = A_NULL, *cur = a_rbt_tear(root, &next); cur; cur = a_rbt_tear(root, &next))
 
 /*! @} A_RBT */
 
-#endif /* rbt.h */
+#endif /* a/rbt.h */
```

### Comparing `liba-0.1.1rc6/include/a/slist.h` & `liba-0.1.1rc7/include/a/slist.h`

 * *Files 3% similar despite different names*

```diff
@@ -28,15 +28,15 @@
 } a_slist_u;
 
 /*!
  @brief cast a list pointer from another type pointer
  @param[in] obj points to circular singly linked list node
  @return a pointer to circular singly linked list node
 */
-A_INTERN a_slist_u *a_slist_from(a_vptr_t const obj) { return a_cast_s(a_slist_u *, obj); }
+A_INTERN a_slist_u *a_slist_from(void *const obj) { return a_cast_s(a_slist_u *, obj); }
 
 /*!
  @brief test whether a list node is null
  @param[in] ctx points to circular singly linked list node
  @return int bool
   @retval 0 non-null
   @retval 1 null
@@ -52,15 +52,15 @@
 */
 A_INTERN a_bool_t a_slist_used(a_slist_u const *const ctx) { return ctx->next != ctx; }
 
 /*!
  @brief initialize for circular singly linked list node
  @param[in,out] ctx points to circular singly linked list node
 */
-A_INTERN a_void_t a_slist_node(a_slist_u *const ctx) { ctx->next = ctx; }
+A_INTERN void a_slist_node(a_slist_u *const ctx) { ctx->next = ctx; }
 
 /*!
  @brief instance structure for circular singly linked list head
 */
 typedef struct a_slist_s
 {
     a_slist_u head;
@@ -113,98 +113,98 @@
 */
 A_INTERN a_bool_t a_slist_tail(a_slist_s const *const ctx, a_slist_u const *const node) { return &ctx->head == node->next; }
 
 /*!
  @brief constructor for circular singly linked list head
  @param[in,out] ctx points to circular singly linked list head
 */
-A_INTERN a_void_t a_slist_ctor(a_slist_s *const ctx) { ctx->tail = ctx->head.next = &ctx->head; }
+A_INTERN void a_slist_ctor(a_slist_s *const ctx) { ctx->tail = ctx->head.next = &ctx->head; }
 
 /*!
  @brief initialize for circular singly linked list head
  @param[in,out] ctx points to circular singly linked list head
 */
-A_INTERN a_void_t a_slist_init(a_slist_s *const ctx) { ctx->tail = ctx->head.next = &ctx->head; }
+A_INTERN void a_slist_init(a_slist_s *const ctx) { ctx->tail = ctx->head.next = &ctx->head; }
 
 /*!
  @brief destructor for circular singly linked list head
  @param[in,out] ctx points to circular singly linked list head
 */
-A_INTERN a_void_t a_slist_dtor(a_slist_s *const ctx) { ctx->tail = ctx->head.next = &ctx->head; }
+A_INTERN void a_slist_dtor(a_slist_s *const ctx) { ctx->tail = ctx->head.next = &ctx->head; }
 
 /*!
  @brief link head node and tail node
  @param[in,out] head the head node of a list
  @param[in,out] tail the tail node of a list
 */
-A_INTERN a_void_t a_slist_link(a_slist_u *const head, a_slist_u *const tail) { head->next = tail; }
+A_INTERN void a_slist_link(a_slist_u *const head, a_slist_u *const tail) { head->next = tail; }
 
 /*!
  @brief insert a node to a list
  @param[in,out] ctx points to circular singly linked list head
  @param[in] prev previous list node
  @param[in] node a list node
 */
-A_INTERN a_void_t a_slist_add(a_slist_s *const ctx, a_slist_u *const prev, a_slist_u *const node)
+A_INTERN void a_slist_add(a_slist_s *const ctx, a_slist_u *const prev, a_slist_u *const node)
 {
     if (a_slist_tail(ctx, prev))
     {
         ctx->tail = node;
     }
     a_slist_link(node, prev->next);
     a_slist_link(prev, node);
 }
 
 /*!
  @brief insert a node to a list head
  @param[in,out] ctx points to circular singly linked list head
  @param[in] node a list node
 */
-A_INTERN a_void_t a_slist_add_head(a_slist_s *const ctx, a_slist_u *const node)
+A_INTERN void a_slist_add_head(a_slist_s *const ctx, a_slist_u *const node)
 {
     if (a_slist_none(ctx))
     {
         ctx->tail = node;
     }
     a_slist_link(node, ctx->head.next);
     a_slist_link(&ctx->head, node);
 }
 
 /*!
  @brief insert a node to a list tail
  @param[in,out] ctx points to circular singly linked list head
  @param[in] node a list node
 */
-A_INTERN a_void_t a_slist_add_tail(a_slist_s *const ctx, a_slist_u *const node)
+A_INTERN void a_slist_add_tail(a_slist_s *const ctx, a_slist_u *const node)
 {
     a_slist_link(node, &ctx->head);
     a_slist_link(ctx->tail, node);
     ctx->tail = node;
 }
 
 /*!
  @brief delete a node from a list
  @param[in,out] ctx points to circular singly linked list head
  @param[in] prev previous list node
 */
-A_INTERN a_void_t a_slist_del(a_slist_s *const ctx, a_slist_u *const prev)
+A_INTERN void a_slist_del(a_slist_s *const ctx, a_slist_u *const prev)
 {
     a_slist_u *const node = prev->next;
     a_slist_link(prev, node->next);
     if (a_slist_tail(ctx, node))
     {
         ctx->tail = prev;
     }
 }
 
 /*!
  @brief delete a node from a list head
  @param[in,out] ctx points to circular singly linked list head
 */
-A_INTERN a_void_t a_slist_del_head(a_slist_s *const ctx)
+A_INTERN void a_slist_del_head(a_slist_s *const ctx)
 {
     a_slist_u *const node = ctx->head.next;
     a_slist_link(&ctx->head, node->next);
     if (a_slist_tail(ctx, node))
     {
         ctx->tail = &ctx->head;
     }
@@ -212,15 +212,15 @@
 
 /*!
  @brief moving a list to another list
  @param[in,out] ctx points to circular singly linked list head
  @param[in] at the previous &a_slist_u of the inserted node
  @param[in] src source list
 */
-A_INTERN a_void_t a_slist_mov(a_slist_s *const ctx, a_slist_u *const at, a_slist_s *const src)
+A_INTERN void a_slist_mov(a_slist_s *const ctx, a_slist_u *const at, a_slist_s *const src)
 {
     if (a_slist_none(src))
     {
         return;
     }
     if (a_slist_tail(ctx, at))
     {
@@ -230,23 +230,23 @@
     a_slist_link(at, src->head.next);
 }
 
 /*!
  @brief rotate a node in the list
  @param[in,out] ctx points to circular singly linked list head
 */
-A_INTERN a_void_t a_slist_rot(a_slist_s *const ctx)
+A_INTERN void a_slist_rot(a_slist_s *const ctx)
 {
     a_slist_u *const node = ctx->head.next;
     a_slist_link(&ctx->head, node->next);
     a_slist_link(node, ctx->tail->next);
     a_slist_link(ctx->tail, node);
     ctx->tail = node;
 }
 
 /* inline function for generic */
-A_INTERN a_void_t a_slist_ctor_(a_vptr_t const ctx) { a_slist_ctor(a_cast_s(a_slist_s *, ctx)); }
-A_INTERN a_void_t a_slist_dtor_(a_vptr_t const ctx) { a_slist_dtor(a_cast_s(a_slist_s *, ctx)); }
+A_INTERN void a_slist_ctor_(void *const ctx) { a_slist_ctor(a_cast_s(a_slist_s *, ctx)); }
+A_INTERN void a_slist_dtor_(void *const ctx) { a_slist_dtor(a_cast_s(a_slist_s *, ctx)); }
 
 /*! @} A_SLIST */
 
-#endif /* slist.h */
+#endif /* a/slist.h */
```

### Comparing `liba-0.1.1rc6/include/a/tf.h` & `liba-0.1.1rc7/include/a/tf.h`

 * *Files 24% similar despite different names*

```diff
@@ -15,78 +15,72 @@
 */
 
 /*!
  @brief instance structure for transfer function
 */
 typedef struct a_tf_s
 {
-    a_real_t *u; //!< input
-    a_real_t *v; //!< output
-    a_real_t const *num; //!< numerator
-    a_real_t const *den; //!< denominator
-    a_uint_t m; //!< numerator number
-    a_uint_t n; //!< denominator number
+    a_float_t *input; //!< input
+    a_float_t *output; //!< output
+    a_float_t const *num_p; //!< numerator
+    a_float_t const *den_p; //!< denominator
+    unsigned int num_n; //!< numerator number
+    unsigned int den_n; //!< denominator number
 } a_tf_s;
 
 #if defined(__cplusplus)
 extern "C" {
 #endif /* __cplusplus */
 
 /*!
  @brief set numerator for transfer function
  @param[in,out] ctx points to an instance of transfer function
- @param[in] m numerator number
- @param[in] num numerator
- @param[in] u input buffer
+ @param[in] num_n numerator number
+ @param[in] num_p numerator
+ @param[in] input input
 */
-A_EXTERN a_void_t a_tf_set_num(a_tf_s *ctx, a_uint_t m, a_real_t const *num, a_real_t *u);
+A_EXTERN void a_tf_set_num(a_tf_s *ctx, unsigned int num_n, a_float_t const *num_p, a_float_t *input);
 
 /*!
  @brief set denominator for transfer function
  @param[in,out] ctx points to an instance of transfer function
- @param[in] n denominator number
- @param[in] den denominator
- @param[in] v output buffer
+ @param[in] den_n denominator number
+ @param[in] den_p denominator
+ @param[in] output output
 */
-A_EXTERN a_void_t a_tf_set_den(a_tf_s *ctx, a_uint_t n, a_real_t const *den, a_real_t *v);
+A_EXTERN void a_tf_set_den(a_tf_s *ctx, unsigned int den_n, a_float_t const *den_p, a_float_t *output);
 
 /*!
  @brief initialize function for transfer function
  @param[in,out] ctx points to an instance of transfer function
- @param[in] m numerator number
- @param[in] num numerator
- @param[in] u input buffer
- @param[in] n denominator number
- @param[in] den denominator
- @param[in] v output buffer
-*/
-A_EXTERN a_tf_s *a_tf_init(a_tf_s *ctx,
-                           a_uint_t m, a_real_t const *num, a_real_t *u,
-                           a_uint_t n, a_real_t const *den, a_real_t *v);
+ @param[in] num_n numerator number
+ @param[in] num_p numerator
+ @param[in] input input
+ @param[in] den_n denominator number
+ @param[in] den_p denominator
+ @param[in] output output
+*/
+A_EXTERN void a_tf_init(a_tf_s *ctx,
+                        unsigned int num_n, a_float_t const *num_p, a_float_t *input,
+                        unsigned int den_n, a_float_t const *den_p, a_float_t *output);
 
 /*!
  @brief calculate function for transfer function
- @param[in,out] ctx points to an instance of transfer function
- @param[in] x controller output
- @return feedback
-*/
-A_EXTERN a_real_t a_tf_iter(a_tf_s *ctx, a_real_t x);
-
-/*!
- @brief terminate function for transfer function
- @param[in,out] ctx points to an instance of transfer function
+ @param[in] ctx points to an instance of transfer function
+ @param[in] x transfer function input
+ @return transfer function output
 */
-A_EXTERN a_tf_s *a_tf_exit(a_tf_s *ctx);
+A_EXTERN a_float_t a_tf_iter(a_tf_s const *ctx, a_float_t x);
 
 /*!
- @brief zero function for transfer function
- @param[in,out] ctx points to an instance of transfer function
+ @brief zero clear function for transfer function
+ @param[in] ctx points to an instance of transfer function
 */
-A_EXTERN a_tf_s *a_tf_zero(a_tf_s *ctx);
+A_EXTERN void a_tf_zero(a_tf_s const *ctx);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*! @} A_TF */
 
-#endif /* tf.h */
+#endif /* a/tf.h */
```

### Comparing `liba-0.1.1rc6/include/a/utf.h` & `liba-0.1.1rc7/include/a/utf.h`

 * *Files 20% similar despite different names*

```diff
@@ -28,34 +28,34 @@
 
 /*!
  @brief encode one unicode code point into UTF-8
  @param[in] str a buffer to store a UTF-8 character
  @param[in] val the unicode value to be encoded
  @return offset to the next character
 */
-A_EXTERN a_uint_t a_utf_encode(a_vptr_t str, a_u32_t val);
+A_EXTERN unsigned int a_utf_encode(void *str, a_u32_t val);
 
 /*!
  @brief decode one unicode code point from UTF-8
  @param[in] str string terminated with a null character
  @param[in,out] val a pointer to a variable that stores unicode
  @return offset to the next character
   @retval 0 null character or invalid
 */
-A_EXTERN a_uint_t a_utf_decode(a_cptr_t str, a_u32_t *val);
+A_EXTERN unsigned int a_utf_decode(void const *str, a_u32_t *val);
 
 /*!
  @brief length of a UTF-8 string terminated with a null character
  @param[in] str string terminated with a null character
  @return length of the UTF-8 string
 */
-A_EXTERN a_size_t a_utf_length(a_cptr_t str);
+A_EXTERN a_size_t a_utf_length(void const *str);
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 #define a_utf_len(str) a_utf_length(str)
 
 /*! @} A_UTF */
 
-#endif /* utf.h */
+#endif /* a/utf.h */
```

### Comparing `liba-0.1.1rc6/include/a/version.h` & `liba-0.1.1rc7/include/a/version.h`

 * *Files 4% similar despite different names*

```diff
@@ -10,19 +10,14 @@
 
 /*!
  @ingroup A
  @addtogroup A_VERSION algorithm library version
  @{
 */
 
-/*! algorithm library version string */
-#ifndef A_VERSION
-#define A_VERSION "0.0.0"
-#endif /* A_VERSION */
-
 /*! algorithm library version major */
 #ifndef A_VERSION_MAJOR
 #define A_VERSION_MAJOR 0
 #endif /* A_VERSION_MAJOR */
 #undef major
 
 /*! algorithm library version minor */
@@ -38,123 +33,129 @@
 #undef patch
 
 /*! algorithm library version tweak */
 #ifndef A_VERSION_TWEAK
 #define A_VERSION_TWEAK A_U64_C(0)
 #endif /* A_VERSION_TWEAK */
 
+#define A_VERSION_TOSTR(X) A_CASE_1(X)
+/*! algorithm library version string */
+#ifndef A_VERSION
+#define A_VERSION A_VERSION_TOSTR(A_VERSION_MAJOR) "." A_VERSION_TOSTR(A_VERSION_MINOR) "." A_VERSION_TOSTR(A_VERSION_PATCH)
+#endif /* A_VERSION */
+
 #if defined(__cplusplus)
 #define A_VERSION_C(maj, min, pat) a::version(maj, min, pat)
 #else /* !__cplusplus */
 // clang-format off
 #define A_VERSION_C(maj, min, pat) {maj, min, pat}
 // clang-format on
 #endif /* __cplusplus */
 
 #if defined(__cplusplus)
 namespace a
 {
 /*! algorithm library version string */
-cstr_t const VERSION = A_VERSION;
+char const *const VERSION = A_VERSION;
 /*! algorithm library version major */
-uint_t const VERSION_MAJOR = A_VERSION_MAJOR;
+unsigned int const VERSION_MAJOR = A_VERSION_MAJOR;
 /*! algorithm library version minor */
-uint_t const VERSION_MINOR = A_VERSION_MINOR;
+unsigned int const VERSION_MINOR = A_VERSION_MINOR;
 /*! algorithm library version patch */
-uint_t const VERSION_PATCH = A_VERSION_PATCH;
+unsigned int const VERSION_PATCH = A_VERSION_PATCH;
 /*! algorithm library version tweak */
-u64_t const VERSION_TWEAK = A_VERSION_TWEAK;
+a_u64_t const VERSION_TWEAK = A_VERSION_TWEAK;
 #endif /* __cplusplus */
 
 /*!
  @brief instance structure for version
 */
 #if defined(__cplusplus)
 struct version
 {
-    A_PUBLIC a_bool_t operator<(version const &ver) const;
-    A_PUBLIC a_bool_t operator>(version const &ver) const;
-    A_PUBLIC a_bool_t operator<=(version const &ver) const;
-    A_PUBLIC a_bool_t operator>=(version const &ver) const;
-    A_PUBLIC a_bool_t operator==(version const &ver) const;
-    A_PUBLIC a_bool_t operator!=(version const &ver) const;
-    A_PUBLIC version(a_uint_t const maj = 0,
-                     a_uint_t const min = 0,
-                     a_uint_t const pat = 0)
+    A_PUBLIC bool operator<(version const &ver) const;
+    A_PUBLIC bool operator>(version const &ver) const;
+    A_PUBLIC bool operator<=(version const &ver) const;
+    A_PUBLIC bool operator>=(version const &ver) const;
+    A_PUBLIC bool operator==(version const &ver) const;
+    A_PUBLIC bool operator!=(version const &ver) const;
+    A_PUBLIC version(unsigned int const maj = 0,
+                     unsigned int const min = 0,
+                     unsigned int const pat = 0)
         : major(maj)
         , minor(min)
         , patch(pat)
     {
     }
 #else /* !__cplusplus */
 typedef struct a_version_s
 {
 #endif /* __cplusplus */
-    a_uint_t major; //!< major number
-    a_uint_t minor; //!< minor number
-    a_uint_t patch; //!< patch number
+    unsigned int major; //!< major number
+    unsigned int minor; //!< minor number
+    unsigned int patch; //!< patch number
 #if defined(__cplusplus)
 };
 #else /* !__cplusplus */
 } a_version_s;
 #endif /* __cplusplus */
 
 #if defined(__cplusplus)
 /*!
  @brief algorithm library version major
 */
-A_EXTERN uint_t version_major(void);
+A_EXTERN unsigned int version_major(void);
 /*!
  @brief algorithm library version minor
 */
-A_EXTERN uint_t version_minor(void);
+A_EXTERN unsigned int version_minor(void);
 /*!
  @brief algorithm library version patch
 */
-A_EXTERN uint_t version_patch(void);
+A_EXTERN unsigned int version_patch(void);
 } /* namespace a */
 typedef a::version a_version_s;
 extern "C" {
 #endif /* __cplusplus */
 
 /*!
  @brief algorithm library version string
 */
-A_EXTERN a_cstr_t a_version(void);
+A_EXTERN char const *a_version(void);
 
 /*!
  @brief algorithm library version major
 */
-A_EXTERN a_uint_t a_version_major(void);
+A_EXTERN unsigned int a_version_major(void);
 
 /*!
  @brief algorithm library version minor
 */
-A_EXTERN a_uint_t a_version_minor(void);
+A_EXTERN unsigned int a_version_minor(void);
 
 /*!
  @brief algorithm library version patch
 */
-A_EXTERN a_uint_t a_version_patch(void);
+A_EXTERN unsigned int a_version_patch(void);
 
 /*!
  @brief compare the version lhs with the version rhs
  @param[in] lhs version structure to be compared
  @param[in] rhs version structure to be compared
  @return relationship between the versions
   @retval <0 version lhs < version rhs
   @retval >0 version lhs > version rhs
   @retval 0 version lhs == version rhs
 */
-A_EXTERN a_int_t a_version_cmp(a_version_s const *lhs, a_version_s const *rhs);
+A_EXTERN int a_version_cmp(a_version_s const *lhs, a_version_s const *rhs);
 
 /*!
  @brief algorithm library version check
 */
-A_EXTERN a_int_t a_version_check(a_uint_t major, a_uint_t minor, a_uint_t patch);
+A_EXTERN int a_version_check(unsigned int major, unsigned int minor, unsigned int patch);
 #define a_version_check() a_version_check(A_VERSION_MAJOR, A_VERSION_MINOR, A_VERSION_PATCH)
 
 #if defined(LIBA_VERSION_C)
 #undef A_INTERN
 #define A_INTERN A_INLINE
 #endif /* LIBA_VERSION_C */
 
@@ -285,8 +286,8 @@
 
 #if defined(__cplusplus)
 } /* extern "C" */
 #endif /* __cplusplus */
 
 /*! @} A_VERSION */
 
-#endif /* version.h */
+#endif /* a/version.h */
```

### Comparing `liba-0.1.1rc6/liba.egg-info/SOURCES.txt` & `liba-0.1.1rc7/liba.egg-info/SOURCES.txt`

 * *Files 20% similar despite different names*

```diff
@@ -1,84 +1,90 @@
-LICENSE.txt
 MANIFEST.in
 README.md
 pyproject.toml
 setup.cfg
 setup.py
 include/a/a.h
 include/a/avl.h
 include/a/buf.h
 include/a/complex.h
 include/a/crc.h
-include/a/fpid.h
 include/a/fuzzy.h
+include/a/hpf.h
 include/a/list.h
+include/a/lpf.h
 include/a/math.h
 include/a/mf.h
 include/a/notefreqs.h
 include/a/oop.h
 include/a/operator.h
 include/a/pid.h
 include/a/poly.h
 include/a/polytrack.h
+include/a/rbf.h
 include/a/rbt.h
-include/a/real.h
 include/a/slist.h
 include/a/tf.h
 include/a/utf.h
 include/a/version.h
 include/a/host/a.h
 include/a/host/que.h
 include/a/host/str.h
 include/a/host/vec.h
 include/a/host/vector.h
+include/a/pid/fuzzy.h
+include/a/pid/neuron.h
 liba.egg-info/PKG-INFO
 liba.egg-info/SOURCES.txt
 liba.egg-info/dependency_links.txt
 liba.egg-info/top_level.txt
 python/src/a.c
-python/src/a.c
 python/src/a.pyx
 python/src/a/__init__.pxd
-python/src/a/__init__.pxi
-python/src/a/fpid.pxd
-python/src/a/fpid.pxi
+python/src/a/crc.pxd
+python/src/a/crc.pxi
 python/src/a/math.pxd
 python/src/a/math.pxi
 python/src/a/mf.pxd
 python/src/a/mf.pxi
 python/src/a/pid.pxd
 python/src/a/pid.pxi
 python/src/a/poly.pxd
 python/src/a/poly.pxi
 python/src/a/polytrack.pxd
 python/src/a/polytrack.pxi
 python/src/a/tf.pxd
 python/src/a/tf.pxi
 python/src/a/version.pxd
 python/src/a/version.pxi
+python/src/a/pid/fuzzy.pxd
+python/src/a/pid/fuzzy.pxi
+python/src/a/pid/neuron.pxd
+python/src/a/pid/neuron.pxi
 src/a.c
 src/avl.c
 src/buf.c
 src/complex.c
 src/complex.h
 src/crc.c
-src/fpid.c
-src/fpid.h
 src/fuzzy.c
 src/math.c
 src/math.h
 src/mf.c
 src/pid.c
 src/pid.h
 src/poly.c
 src/polytrack.c
+src/rbf.c
 src/rbt.c
-src/real.c
 src/tf.c
 src/utf.c
 src/version.c
 src/host/a.c
 src/host/que.c
 src/host/str.c
 src/host/vec.c
-src/host/vector.c
+src/host/vector.c
+src/pid/fuzzy.c
+src/pid/fuzzy.h
+src/pid/neuron.c
+src/pid/neuron.h
```

### Comparing `liba-0.1.1rc6/python/src/a/__init__.pxd` & `liba-0.1.1rc7/python/src/a/__init__.pxd`

 * *Files 19% similar despite different names*

```diff
@@ -1,53 +1,35 @@
-include "__init__.pxi"
 from libc.stddef cimport *
+from libc.limits cimport *
 from libc.stdint cimport *
+from libc.float cimport *
 
 cdef extern from "a/a.h":
-
-    ctypedef  int   a_bool_t
-    ctypedef void   a_void_t
-    ctypedef size_t a_size_t
+    const int A_FLOAT_TYPE
+    const int A_FLOAT_SINGLE
+    const int A_FLOAT_DOUBLE
 
     ctypedef  int8_t a_i8_t
     ctypedef uint8_t a_u8_t
     ctypedef  int16_t a_i16_t
     ctypedef uint16_t a_u16_t
     ctypedef  int32_t a_i32_t
     ctypedef uint32_t a_u32_t
     ctypedef  int64_t a_i64_t
     ctypedef uint64_t a_u64_t
     ctypedef  intmax_t a_imax_t
     ctypedef uintmax_t a_umax_t
     ctypedef  intptr_t a_iptr_t
     ctypedef uintptr_t a_uptr_t
     ctypedef ptrdiff_t a_diff_t
-
-    ctypedef   signed int a_i_t
-    ctypedef unsigned int a_u_t
-    ctypedef   signed long a_il_t
-    ctypedef unsigned long a_ul_t
-    ctypedef   signed short a_is_t
-    ctypedef unsigned short a_us_t
-    ctypedef   signed long long a_ill_t
-    ctypedef unsigned long long a_ull_t
-
-    ctypedef          int  a_int_t
-    ctypedef unsigned int a_uint_t
-
-    ctypedef unsigned char a_byte_t
-    ctypedef          char a_char_t
-
-    ctypedef char       * a_str_t
-    ctypedef const char *a_cstr_t
-    ctypedef void       *a_vptr_t
-    ctypedef const void *a_cptr_t
+    ctypedef    size_t a_size_t
 
     ctypedef  float a_f32_t
     ctypedef double a_f64_t
-    IF A_SIZE_REAL == 8:
-        ctypedef double a_real_t
-    IF A_SIZE_REAL == 4:
-        ctypedef float a_real_t
-    ctypedef union a_real_u:
-        a_real_t f
-        a_real_t *p
+    ctypedef float a_float_t
+    ctypedef union a_float_u:
+        a_float_t f
+        a_float_t *p
+    const a_float_t A_FLOAT_INF
+    const a_float_t A_FLOAT_NAN
+
+    a_umax_t a_hash_bkdr(const char *str, a_umax_t val);
```

### Comparing `liba-0.1.1rc6/python/src/a/poly.pxi` & `liba-0.1.1rc7/python/src/a/poly.pxi`

 * *Files 21% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 from a.poly cimport *
 
 @cython.wraparound(False)
 @cython.boundscheck(False)
 def poly_eval(x, *a):
-    d, n = reals(a), len(a)
-    cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+    d, n = floats(a), len(a)
+    cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
     if iterable(x):
-        y = reals(x)
-        a_poly_evaln(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+        y = floats(x)
+        a_poly_evaln(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
         return y
     return a_poly_eval(p, n, x)
 
 @cython.wraparound(False)
 @cython.boundscheck(False)
 def poly_evar(x, *a):
-    d, n = reals(a), len(a)
-    cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+    d, n = floats(a), len(a)
+    cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
     if iterable(x):
-        y = reals(x)
-        a_poly_evarn(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+        y = floats(x)
+        a_poly_evarn(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
         return y
     return a_poly_evar(p, n, x)
```

### Comparing `liba-0.1.1rc6/python/src/a/polytrack.pxd` & `liba-0.1.1rc7/python/src/a/polytrack.pxd`

 * *Files 26% similar despite different names*

```diff
@@ -1,25 +1,25 @@
 from a cimport *
 
 cdef extern from "a/polytrack.h":
     ctypedef struct a_polytrack3_s:
-        a_real_t k[4]
-    a_void_t a_polytrack3_gen(a_polytrack3_s *ctx, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0, a_real_t v1)
-    a_void_t a_polytrack3_out(const a_polytrack3_s *ctx, a_real_t dt, a_real_t out[3])
-    a_real_t a_polytrack3_pos(const a_polytrack3_s *ctx, a_real_t dt)
-    a_real_t a_polytrack3_vec(const a_polytrack3_s *ctx, a_real_t dt)
-    a_real_t a_polytrack3_acc(const a_polytrack3_s *ctx, a_real_t dt)
+        a_float_t k[4]
+    void a_polytrack3_gen(a_polytrack3_s *ctx, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0, a_float_t v1)
+    void a_polytrack3_out(const a_polytrack3_s *ctx, a_float_t dt, a_float_t out[3])
+    a_float_t a_polytrack3_pos(const a_polytrack3_s *ctx, a_float_t dt)
+    a_float_t a_polytrack3_vel(const a_polytrack3_s *ctx, a_float_t dt)
+    a_float_t a_polytrack3_acc(const a_polytrack3_s *ctx, a_float_t dt)
     ctypedef struct a_polytrack5_s:
-        a_real_t k[6]
-    a_void_t a_polytrack5_gen(a_polytrack5_s *ctx, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0, a_real_t v1, a_real_t a0, a_real_t a1)
-    a_void_t a_polytrack5_out(const a_polytrack5_s *ctx, a_real_t dt, a_real_t out[3])
-    a_real_t a_polytrack5_pos(const a_polytrack5_s *ctx, a_real_t dt)
-    a_real_t a_polytrack5_vec(const a_polytrack5_s *ctx, a_real_t dt)
-    a_real_t a_polytrack5_acc(const a_polytrack5_s *ctx, a_real_t dt)
+        a_float_t k[6]
+    void a_polytrack5_gen(a_polytrack5_s *ctx, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0, a_float_t v1, a_float_t a0, a_float_t a1)
+    void a_polytrack5_out(const a_polytrack5_s *ctx, a_float_t dt, a_float_t out[3])
+    a_float_t a_polytrack5_pos(const a_polytrack5_s *ctx, a_float_t dt)
+    a_float_t a_polytrack5_vel(const a_polytrack5_s *ctx, a_float_t dt)
+    a_float_t a_polytrack5_acc(const a_polytrack5_s *ctx, a_float_t dt)
     ctypedef struct a_polytrack7_s:
-        a_real_t k[8]
-    a_void_t a_polytrack7_gen(a_polytrack7_s *ctx, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0, a_real_t v1, a_real_t a0, a_real_t a1, a_real_t j0, a_real_t j1)
-    a_void_t a_polytrack7_out(const a_polytrack7_s *ctx, a_real_t dt, a_real_t out[4])
-    a_real_t a_polytrack7_pos(const a_polytrack7_s *ctx, a_real_t dt)
-    a_real_t a_polytrack7_vec(const a_polytrack7_s *ctx, a_real_t dt)
-    a_real_t a_polytrack7_acc(const a_polytrack7_s *ctx, a_real_t dt)
-    a_real_t a_polytrack7_jer(const a_polytrack7_s *ctx, a_real_t dt)
+        a_float_t k[8]
+    void a_polytrack7_gen(a_polytrack7_s *ctx, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0, a_float_t v1, a_float_t a0, a_float_t a1, a_float_t j0, a_float_t j1)
+    void a_polytrack7_out(const a_polytrack7_s *ctx, a_float_t dt, a_float_t out[4])
+    a_float_t a_polytrack7_pos(const a_polytrack7_s *ctx, a_float_t dt)
+    a_float_t a_polytrack7_vel(const a_polytrack7_s *ctx, a_float_t dt)
+    a_float_t a_polytrack7_acc(const a_polytrack7_s *ctx, a_float_t dt)
+    a_float_t a_polytrack7_jer(const a_polytrack7_s *ctx, a_float_t dt)
```

### Comparing `liba-0.1.1rc6/python/src/a/polytrack.pxi` & `liba-0.1.1rc7/python/src/a/polytrack.pxi`

 * *Files 16% similar despite different names*

```diff
@@ -1,173 +1,170 @@
 from a.polytrack cimport *
 
 @cython.wraparound(False)
 @cython.boundscheck(False)
 cdef class polytrack3:
     '''cubic polynomial trajectory'''
     cdef a_polytrack3_s ctx
-    def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+    def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
-    def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+    def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
         '''generation function'''
         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
     def __call__(self, dt):
         '''calculate all'''
-        cdef a_real_t out[3]
+        cdef a_float_t out[3]
         if iterable(dt):
-            p = reals(dt)
-            v = reals(dt)
-            a = reals(dt)
+            p = floats(dt)
+            v = floats(dt)
+            a = floats(dt)
             for i, it in enumerate(dt):
                 a_polytrack3_out(&self.ctx, it, out)
                 p[i] = out[0]
                 v[i] = out[1]
                 a[i] = out[2]
             return p, v, a
         a_polytrack3_out(&self.ctx, dt, out)
         return out[0], out[1], out[2]
     def pos(self, dt):
         '''calculate position'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
                 out[i] = a_polytrack3_pos(&self.ctx, it)
             return out
         return a_polytrack3_pos(&self.ctx, dt)
-    def vec(self, dt):
+    def vel(self, dt):
         '''calculate velocity'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
-                out[i] = a_polytrack3_vec(&self.ctx, it)
+                out[i] = a_polytrack3_vel(&self.ctx, it)
             return out
-        return a_polytrack3_vec(&self.ctx, dt)
+        return a_polytrack3_vel(&self.ctx, dt)
     def acc(self, dt):
         '''calculate acceleration'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
                 out[i] = a_polytrack3_acc(&self.ctx, it)
             return out
         return a_polytrack3_acc(&self.ctx, dt)
-
     @property
     def k(self):
         return self.ctx.k
 
 @cython.wraparound(False)
 @cython.boundscheck(False)
 cdef class polytrack5:
     '''quintic polynomial trajectory'''
     cdef a_polytrack5_s ctx
-    def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+    def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
-    def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+    def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
         '''generation function'''
         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
     def __call__(self, dt):
         '''calculate all'''
-        cdef a_real_t out[3]
+        cdef a_float_t out[3]
         if iterable(dt):
-            p = reals(dt)
-            v = reals(dt)
-            a = reals(dt)
+            p = floats(dt)
+            v = floats(dt)
+            a = floats(dt)
             for i, it in enumerate(dt):
                 a_polytrack5_out(&self.ctx, it, out)
                 p[i] = out[0]
                 v[i] = out[1]
                 a[i] = out[2]
             return p, v, a
         a_polytrack5_out(&self.ctx, dt, out)
         return out[0], out[1], out[2]
     def pos(self, dt):
         '''calculate position'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
                 out[i] = a_polytrack5_pos(&self.ctx, it)
             return out
         return a_polytrack5_pos(&self.ctx, dt)
-    def vec(self, dt):
+    def vel(self, dt):
         '''calculate velocity'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
-                out[i] = a_polytrack5_vec(&self.ctx, it)
+                out[i] = a_polytrack5_vel(&self.ctx, it)
             return out
-        return a_polytrack5_vec(&self.ctx, dt)
+        return a_polytrack5_vel(&self.ctx, dt)
     def acc(self, dt):
         '''calculate acceleration'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
                 out[i] = a_polytrack5_acc(&self.ctx, it)
             return out
         return a_polytrack5_acc(&self.ctx, dt)
-
     @property
     def k(self):
         return self.ctx.k
 
 @cython.wraparound(False)
 @cython.boundscheck(False)
 cdef class polytrack7:
     '''hepta polynomial trajectory'''
     cdef a_polytrack7_s ctx
-    def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+    def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
-    def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+    def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
         '''generation function'''
         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
     def __call__(self, dt):
         '''calculate all'''
-        cdef a_real_t out[4]
+        cdef a_float_t out[4]
         if iterable(dt):
-            p = reals(dt)
-            v = reals(dt)
-            a = reals(dt)
-            j = reals(dt)
+            p = floats(dt)
+            v = floats(dt)
+            a = floats(dt)
+            j = floats(dt)
             for i, it in enumerate(dt):
                 a_polytrack7_out(&self.ctx, it, out)
                 p[i] = out[0]
                 v[i] = out[1]
                 a[i] = out[2]
                 j[i] = out[3]
             return p, v, a, j
         a_polytrack7_out(&self.ctx, dt, out)
         return out[0], out[1], out[2], out[3]
     def pos(self, dt):
         '''calculate position'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
                 out[i] = a_polytrack7_pos(&self.ctx, it)
             return out
         return a_polytrack7_pos(&self.ctx, dt)
-    def vec(self, dt):
+    def vel(self, dt):
         '''calculate velocity'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
-                out[i] = a_polytrack7_vec(&self.ctx, it)
+                out[i] = a_polytrack7_vel(&self.ctx, it)
             return out
-        return a_polytrack7_vec(&self.ctx, dt)
+        return a_polytrack7_vel(&self.ctx, dt)
     def acc(self, dt):
         '''calculate acceleration'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
                 out[i] = a_polytrack7_acc(&self.ctx, it)
             return out
         return a_polytrack7_acc(&self.ctx, dt)
     def jer(self, dt):
         '''calculate jerk'''
         if iterable(dt):
-            out = reals(dt)
+            out = floats(dt)
             for i, it in enumerate(dt):
                 out[i] = a_polytrack7_jer(&self.ctx, it)
             return out
         return a_polytrack7_jer(&self.ctx, dt)
-
     @property
     def k(self):
         return self.ctx.k
```

### Comparing `liba-0.1.1rc6/python/src/a.c` & `liba-0.1.1rc7/python/src/a.c`

 * *Files 14% similar despite different names*

```diff
@@ -1,56 +1,53 @@
-/* Generated by Cython 0.29.33 */
+/* Generated by Cython 0.29.32 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "define_macros": [
             [
                 "A_HAVE_H",
-                "\"..\\build\\a.setup.h\""
+                "\"../build/a.setup.h\""
             ],
             [
                 "A_EXPORTS",
                 null
-            ],
-            [
-                "A_SIZE_REAL",
-                "8"
             ]
         ],
         "depends": [],
         "include_dirs": [
             "include"
         ],
         "language": "c",
         "name": "liba",
         "sources": [
             "python/src/a.pyx",
-            "src\\a.c",
-            "src\\avl.c",
-            "src\\buf.c",
-            "src\\complex.c",
-            "src\\crc.c",
-            "src\\fpid.c",
-            "src\\fuzzy.c",
-            "src\\math.c",
-            "src\\mf.c",
-            "src\\pid.c",
-            "src\\poly.c",
-            "src\\polytrack.c",
-            "src\\rbt.c",
-            "src\\real.c",
-            "src\\tf.c",
-            "src\\utf.c",
-            "src\\version.c",
-            "src\\host\\a.c",
-            "src\\host\\que.c",
-            "src\\host\\str.c",
-            "src\\host\\vec.c",
-            "src\\host\\vector.c"
+            "src/a.c",
+            "src/avl.c",
+            "src/buf.c",
+            "src/complex.c",
+            "src/crc.c",
+            "src/fuzzy.c",
+            "src/math.c",
+            "src/mf.c",
+            "src/pid.c",
+            "src/poly.c",
+            "src/polytrack.c",
+            "src/rbf.c",
+            "src/rbt.c",
+            "src/tf.c",
+            "src/utf.c",
+            "src/version.c",
+            "src/host/a.c",
+            "src/host/que.c",
+            "src/host/str.c",
+            "src/host/vec.c",
+            "src/host/vector.c",
+            "src/pid/fuzzy.c",
+            "src/pid/neuron.c"
         ]
     },
     "module_name": "liba"
 }
 END: Cython Metadata */
 
 #ifndef PY_SSIZE_T_CLEAN
@@ -58,16 +55,16 @@
 #endif /* PY_SSIZE_T_CLEAN */
 #include "Python.h"
 #ifndef Py_PYTHON_H
     #error Python headers needed to compile C extensions, please install development version of Python.
 #elif PY_VERSION_HEX < 0x02060000 || (0x03000000 <= PY_VERSION_HEX && PY_VERSION_HEX < 0x03030000)
     #error Cython requires Python 2.6+ or Python 3.3+.
 #else
-#define CYTHON_ABI "0_29_33"
-#define CYTHON_HEX_VERSION 0x001D21F0
+#define CYTHON_ABI "0_29_32"
+#define CYTHON_HEX_VERSION 0x001D20F0
 #define CYTHON_FUTURE_DIVISION 1
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -136,15 +133,15 @@
   #undef CYTHON_USE_TP_FINALIZE
   #define CYTHON_USE_TP_FINALIZE 0
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
-    #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC (PYPY_VERSION_HEX >= 0x07030900)
   #endif
 #elif defined(PYSTON_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_PYSTON 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -601,35 +598,35 @@
 #if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x030500A1 && CYTHON_USE_UNICODE_INTERNALS
 #define __Pyx_PyDict_GetItemStr(dict, name)  _PyDict_GetItem_KnownHash(dict, name, ((PyASCIIObject *) name)->hash)
 #else
 #define __Pyx_PyDict_GetItemStr(dict, name)  PyDict_GetItem(dict, name)
 #endif
 #if PY_VERSION_HEX > 0x03030000 && defined(PyUnicode_KIND)
   #define CYTHON_PEP393_ENABLED 1
-  #if PY_VERSION_HEX >= 0x030C0000
-    #define __Pyx_PyUnicode_READY(op)       (0)
+  #if defined(PyUnicode_IS_READY)
+  #define __Pyx_PyUnicode_READY(op)       (likely(PyUnicode_IS_READY(op)) ?\
+                                              0 : _PyUnicode_Ready((PyObject *)(op)))
   #else
-    #define __Pyx_PyUnicode_READY(op)       (likely(PyUnicode_IS_READY(op)) ?\
-                                                0 : _PyUnicode_Ready((PyObject *)(op)))
+  #define __Pyx_PyUnicode_READY(op)       (0)
   #endif
   #define __Pyx_PyUnicode_GET_LENGTH(u)   PyUnicode_GET_LENGTH(u)
   #define __Pyx_PyUnicode_READ_CHAR(u, i) PyUnicode_READ_CHAR(u, i)
   #define __Pyx_PyUnicode_MAX_CHAR_VALUE(u)   PyUnicode_MAX_CHAR_VALUE(u)
   #define __Pyx_PyUnicode_KIND(u)         PyUnicode_KIND(u)
   #define __Pyx_PyUnicode_DATA(u)         PyUnicode_DATA(u)
   #define __Pyx_PyUnicode_READ(k, d, i)   PyUnicode_READ(k, d, i)
   #define __Pyx_PyUnicode_WRITE(k, d, i, ch)  PyUnicode_WRITE(k, d, i, ch)
-  #if PY_VERSION_HEX >= 0x030C0000
-    #define __Pyx_PyUnicode_IS_TRUE(u)      (0 != PyUnicode_GET_LENGTH(u))
+  #if defined(PyUnicode_IS_READY) && defined(PyUnicode_GET_SIZE)
+  #if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x03090000
+  #define __Pyx_PyUnicode_IS_TRUE(u)      (0 != (likely(PyUnicode_IS_READY(u)) ? PyUnicode_GET_LENGTH(u) : ((PyCompactUnicodeObject *)(u))->wstr_length))
   #else
-    #if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x03090000
-    #define __Pyx_PyUnicode_IS_TRUE(u)      (0 != (likely(PyUnicode_IS_READY(u)) ? PyUnicode_GET_LENGTH(u) : ((PyCompactUnicodeObject *)(u))->wstr_length))
-    #else
-    #define __Pyx_PyUnicode_IS_TRUE(u)      (0 != (likely(PyUnicode_IS_READY(u)) ? PyUnicode_GET_LENGTH(u) : PyUnicode_GET_SIZE(u)))
-    #endif
+  #define __Pyx_PyUnicode_IS_TRUE(u)      (0 != (likely(PyUnicode_IS_READY(u)) ? PyUnicode_GET_LENGTH(u) : PyUnicode_GET_SIZE(u)))
+  #endif
+  #else
+  #define __Pyx_PyUnicode_IS_TRUE(u)      (0 != PyUnicode_GET_LENGTH(u))
   #endif
 #else
   #define CYTHON_PEP393_ENABLED 0
   #define PyUnicode_1BYTE_KIND  1
   #define PyUnicode_2BYTE_KIND  2
   #define PyUnicode_4BYTE_KIND  4
   #define __Pyx_PyUnicode_READY(op)       (0)
@@ -790,28 +787,32 @@
     #define __PYX_EXTERN_C extern
   #endif
 #endif
 
 #define __PYX_HAVE__liba
 #define __PYX_HAVE_API__liba
 /* Early includes */
-#include <string.h>
-#include <stdio.h>
-#include "pythread.h"
 #include <stddef.h>
+#include <limits.h>
 #include <stdint.h>
+#include <float.h>
 #include "a/a.h"
-#include "a/version.h"
+#include <string.h>
+#include <stdio.h>
+#include "pythread.h"
+#include "a/crc.h"
 #include "a/math.h"
 #include "a/mf.h"
-#include "a/tf.h"
 #include "a/pid.h"
-#include "a/fpid.h"
+#include "a/pid/fuzzy.h"
+#include "a/pid/neuron.h"
 #include "a/poly.h"
 #include "a/polytrack.h"
+#include "a/tf.h"
+#include "a/version.h"
 #ifdef _OPENMP
 #include <omp.h>
 #endif /* _OPENMP */
 
 #if defined(PYREX_WITHOUT_ASSERTIONS) && !defined(CYTHON_WITHOUT_ASSERTIONS)
 #define CYTHON_WITHOUT_ASSERTIONS
 #endif
@@ -1013,94 +1014,185 @@
 static int __pyx_lineno;
 static int __pyx_clineno = 0;
 static const char * __pyx_cfilenm= __FILE__;
 static const char *__pyx_filename;
 
 
 static const char *__pyx_f[] = {
-  "python\\src\\a/mf.pxi",
-  "python\\src\\a/math.pxi",
+  "python/src/a/mf.pxi",
   "stringsource",
-  "python\\src\\a.pyx",
-  "python\\src\\a/version.pxi",
-  "python\\src\\a/tf.pxi",
-  "python\\src\\a/pid.pxi",
-  "python\\src\\a/fpid.pxi",
-  "python\\src\\a/poly.pxi",
-  "python\\src\\a/polytrack.pxi",
+  "python/src/a/math.pxi",
+  "python/src/a.pyx",
+  "python/src/a/crc.pxi",
+  "python/src/a/pid.pxi",
+  "python/src/a/pid/fuzzy.pxi",
+  "python/src/a/pid/neuron.pxi",
+  "python/src/a/poly.pxi",
+  "python/src/a/polytrack.pxi",
+  "python/src/a/tf.pxi",
+  "python/src/a/version.pxi",
   "array.pxd",
   "type.pxd",
   "bool.pxd",
   "complex.pxd",
 };
 
 /*--- Type declarations ---*/
 #ifndef _ARRAYARRAY_H
 struct arrayobject;
 typedef struct arrayobject arrayobject;
 #endif
+struct __pyx_obj_4liba_crc8;
+struct __pyx_obj_4liba_crc16;
+struct __pyx_obj_4liba_crc32;
+struct __pyx_obj_4liba_crc64;
 struct __pyx_obj_4liba_mf;
-struct __pyx_obj_4liba_tf;
 struct __pyx_obj_4liba_pid;
-struct __pyx_obj_4liba_fpid;
+struct __pyx_obj_4liba_pid_fuzzy;
+struct __pyx_obj_4liba_pid_neuron;
 struct __pyx_obj_4liba_polytrack3;
 struct __pyx_obj_4liba_polytrack5;
 struct __pyx_obj_4liba_polytrack7;
-struct __pyx_obj_4liba___pyx_scope_struct____cinit__;
+struct __pyx_obj_4liba_tf;
+struct __pyx_obj_4liba___pyx_scope_struct__rule;
 struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr;
 struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr;
 struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr;
 struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr;
 struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr;
-struct __pyx_obj_4liba___pyx_scope_struct_6_base;
-struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr;
-struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr;
-struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr;
-struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr;
-struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr;
-struct __pyx_opt_args_4liba_reals;
+struct __pyx_opt_args_4liba_u8s;
+struct __pyx_opt_args_4liba_u16s;
+struct __pyx_opt_args_4liba_u32s;
+struct __pyx_opt_args_4liba_u64s;
+struct __pyx_opt_args_4liba_floats;
 
-/* "python/src/a.pyx":8
+/* "python/src/a.pyx":9
+ *     return PyObject_HasAttrString(o, "__contains__")
  * 
- * from cpython.array cimport array
- * cdef array reals(object o = ()):             # <<<<<<<<<<<<<<
- *     IF A_SIZE_REAL == 8:
+ * cdef array u8s(object o = ()):             # <<<<<<<<<<<<<<
+ *     return array('B', o)
+ * 
+ */
+struct __pyx_opt_args_4liba_u8s {
+  int __pyx_n;
+  PyObject *o;
+};
+
+/* "python/src/a.pyx":12
+ *     return array('B', o)
+ * 
+ * cdef array u16s(object o = ()):             # <<<<<<<<<<<<<<
+ *     return array('H', o)
+ * 
+ */
+struct __pyx_opt_args_4liba_u16s {
+  int __pyx_n;
+  PyObject *o;
+};
+
+/* "python/src/a.pyx":15
+ *     return array('H', o)
+ * 
+ * cdef array u32s(object o = ()):             # <<<<<<<<<<<<<<
+ *     if UINT32_MAX == UINT_MAX:
+ *         return array('I', o)
+ */
+struct __pyx_opt_args_4liba_u32s {
+  int __pyx_n;
+  PyObject *o;
+};
+
+/* "python/src/a.pyx":21
+ *         return array('L', o)
+ * 
+ * cdef array u64s(object o = ()):             # <<<<<<<<<<<<<<
+ *     if UINT64_MAX == ULONG_MAX:
+ *         return array('L', o)
+ */
+struct __pyx_opt_args_4liba_u64s {
+  int __pyx_n;
+  PyObject *o;
+};
+
+/* "python/src/a.pyx":27
+ *         return array('Q', o)
+ * 
+ * cdef array floats(object o = ()):             # <<<<<<<<<<<<<<
+ *     if A_FLOAT_TYPE == A_FLOAT_DOUBLE:
  *         return array('d', o)
  */
-struct __pyx_opt_args_4liba_reals {
+struct __pyx_opt_args_4liba_floats {
   int __pyx_n;
   PyObject *o;
 };
 
-/* "python/src/a/mf.pxi":5
+/* "python/src/a/crc.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
- * cdef class mf:             # <<<<<<<<<<<<<<
- *     '''membership function'''
- *     NUL   = A_MF_NUL
+ * cdef class crc8:             # <<<<<<<<<<<<<<
+ *     POLY = A_CRC8_POLY
+ *     INIT = A_CRC8_INIT
  */
-struct __pyx_obj_4liba_mf {
+struct __pyx_obj_4liba_crc8 {
   PyObject_HEAD
+  arrayobject *table;
 };
 
 
-/* "python/src/a/tf.pxi":5
+/* "python/src/a/crc.pxi":23
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
- * cdef class tf:             # <<<<<<<<<<<<<<
- *     '''transfer function'''
- *     cdef a_tf_s ctx
+ * cdef class crc16:             # <<<<<<<<<<<<<<
+ *     POLY = A_CRC16_POLY
+ *     INIT = A_CRC16_INIT
  */
-struct __pyx_obj_4liba_tf {
+struct __pyx_obj_4liba_crc16 {
+  PyObject_HEAD
+  arrayobject *table;
+  a_u16_t (*f)(a_u16_t const *, void const *, a_size_t, a_u16_t);
+};
+
+
+/* "python/src/a/crc.pxi":44
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * cdef class crc32:             # <<<<<<<<<<<<<<
+ *     POLY = A_CRC32_POLY
+ *     INIT = A_CRC32_INIT
+ */
+struct __pyx_obj_4liba_crc32 {
+  PyObject_HEAD
+  arrayobject *table;
+  a_u32_t (*f)(a_u32_t const *, void const *, a_size_t, a_u32_t);
+};
+
+
+/* "python/src/a/crc.pxi":65
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * cdef class crc64:             # <<<<<<<<<<<<<<
+ *     POLY = A_CRC64_POLY
+ *     INIT = A_CRC64_INIT
+ */
+struct __pyx_obj_4liba_crc64 {
+  PyObject_HEAD
+  arrayobject *table;
+  a_u64_t (*f)(a_u64_t const *, void const *, a_size_t, a_u64_t);
+};
+
+
+/* "python/src/a/mf.pxi":5
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * cdef class mf:             # <<<<<<<<<<<<<<
+ *     '''membership function'''
+ *     NUL   = A_MF_NUL
+ */
+struct __pyx_obj_4liba_mf {
   PyObject_HEAD
-  a_tf_s ctx;
-  arrayobject *_num;
-  arrayobject *_den;
-  arrayobject *_u;
-  arrayobject *_v;
 };
 
 
 /* "python/src/a/pid.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * cdef class pid:             # <<<<<<<<<<<<<<
@@ -1109,30 +1201,43 @@
  */
 struct __pyx_obj_4liba_pid {
   PyObject_HEAD
   a_pid_s ctx;
 };
 
 
-/* "python/src/a/fpid.pxi":6
+/* "python/src/a/pid/fuzzy.pxi":6
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
- * cdef class fpid:             # <<<<<<<<<<<<<<
+ * cdef class pid_fuzzy:             # <<<<<<<<<<<<<<
  *     '''fuzzy proportional integral derivative controller'''
- *     cdef a_fpid_s ctx
+ *     AND_DEFAULT = A_PID_FUZZY_AND_DEFAULT
  */
-struct __pyx_obj_4liba_fpid {
+struct __pyx_obj_4liba_pid_fuzzy {
   PyObject_HEAD
-  a_fpid_s ctx;
-  a_vptr_t ptr;
+  a_pid_fuzzy_s ctx;
   arrayobject *me;
   arrayobject *mec;
   arrayobject *mkp;
   arrayobject *mki;
   arrayobject *mkd;
+  void *ptr;
+};
+
+
+/* "python/src/a/pid/neuron.pxi":6
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * cdef class pid_neuron:             # <<<<<<<<<<<<<<
+ *     '''single neuron proportional integral derivative controller'''
+ *     cdef a_pid_neuron_s ctx
+ */
+struct __pyx_obj_4liba_pid_neuron {
+  PyObject_HEAD
+  a_pid_neuron_s ctx;
 };
 
 
 /* "python/src/a/polytrack.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * cdef class polytrack3:             # <<<<<<<<<<<<<<
@@ -1141,275 +1246,170 @@
  */
 struct __pyx_obj_4liba_polytrack3 {
   PyObject_HEAD
   a_polytrack3_s ctx;
 };
 
 
-/* "python/src/a/polytrack.pxi":59
+/* "python/src/a/polytrack.pxi":58
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * cdef class polytrack5:             # <<<<<<<<<<<<<<
  *     '''quintic polynomial trajectory'''
  *     cdef a_polytrack5_s ctx
  */
 struct __pyx_obj_4liba_polytrack5 {
   PyObject_HEAD
   a_polytrack5_s ctx;
 };
 
 
-/* "python/src/a/polytrack.pxi":113
+/* "python/src/a/polytrack.pxi":111
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * cdef class polytrack7:             # <<<<<<<<<<<<<<
  *     '''hepta polynomial trajectory'''
  *     cdef a_polytrack7_s ctx
  */
 struct __pyx_obj_4liba_polytrack7 {
   PyObject_HEAD
   a_polytrack7_s ctx;
 };
 
 
-/* "python/src/a/fpid.pxi":15
- *     cdef array mki
- *     cdef array mkd
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):             # <<<<<<<<<<<<<<
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
- */
-struct __pyx_obj_4liba___pyx_scope_struct____cinit__ {
-  PyObject_HEAD
-  PyObject *__pyx_v_me;
-  PyObject *__pyx_v_mec;
-  PyObject *__pyx_v_mkd;
-  PyObject *__pyx_v_mki;
-  PyObject *__pyx_v_mkp;
-};
-
-
-/* "python/src/a/fpid.pxi":16
- *     cdef array mkd
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         self.me = reals((i for j in me for i in j))             # <<<<<<<<<<<<<<
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
- */
-struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr {
-  PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
-  PyObject *__pyx_t_0;
-  Py_ssize_t __pyx_t_1;
-  PyObject *(*__pyx_t_2)(PyObject *);
-  PyObject *__pyx_t_3;
-  Py_ssize_t __pyx_t_4;
-  PyObject *(*__pyx_t_5)(PyObject *);
-};
-
-
-/* "python/src/a/fpid.pxi":17
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))             # <<<<<<<<<<<<<<
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
- */
-struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr {
-  PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
-  PyObject *__pyx_t_0;
-  Py_ssize_t __pyx_t_1;
-  PyObject *(*__pyx_t_2)(PyObject *);
-  PyObject *__pyx_t_3;
-  Py_ssize_t __pyx_t_4;
-  PyObject *(*__pyx_t_5)(PyObject *);
-};
-
-
-/* "python/src/a/fpid.pxi":18
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))             # <<<<<<<<<<<<<<
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))
- */
-struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr {
-  PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
-  PyObject *__pyx_t_0;
-  Py_ssize_t __pyx_t_1;
-  PyObject *(*__pyx_t_2)(PyObject *);
-  PyObject *__pyx_t_3;
-  Py_ssize_t __pyx_t_4;
-  PyObject *(*__pyx_t_5)(PyObject *);
-};
-
-
-/* "python/src/a/fpid.pxi":19
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))             # <<<<<<<<<<<<<<
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- */
-struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr {
-  PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
-  PyObject *__pyx_t_0;
-  Py_ssize_t __pyx_t_1;
-  PyObject *(*__pyx_t_2)(PyObject *);
-  PyObject *__pyx_t_3;
-  Py_ssize_t __pyx_t_4;
-  PyObject *(*__pyx_t_5)(PyObject *);
-};
-
-
-/* "python/src/a/fpid.pxi":20
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))             # <<<<<<<<<<<<<<
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
+/* "python/src/a/tf.pxi":5
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * cdef class tf:             # <<<<<<<<<<<<<<
+ *     '''transfer function'''
+ *     cdef a_tf_s ctx
  */
-struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr {
+struct __pyx_obj_4liba_tf {
   PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
-  PyObject *__pyx_t_0;
-  Py_ssize_t __pyx_t_1;
-  PyObject *(*__pyx_t_2)(PyObject *);
-  PyObject *__pyx_t_3;
-  Py_ssize_t __pyx_t_4;
-  PyObject *(*__pyx_t_5)(PyObject *);
+  a_tf_s ctx;
+  arrayobject *input;
+  arrayobject *_num;
+  arrayobject *output;
+  arrayobject *_den;
 };
 
 
-/* "python/src/a/fpid.pxi":43
- *         a_fpid_zero(&self.ctx)
- *         return self
- *     def base(self, me, mec, mkp, mki, mkd):             # <<<<<<<<<<<<<<
+/* "python/src/a/pid/fuzzy.pxi":34
+ *             self.ctx.pid.mode = A_PID_INC
+ *         a_pid_fuzzy_set_op(&self.ctx, A_PID_FUZZY_EQU)
+ *     def rule(self, me, mec, mkp, mki, mkd):             # <<<<<<<<<<<<<<
  *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))
+ *         self.me = floats((col for row in me for col in row))
  */
-struct __pyx_obj_4liba___pyx_scope_struct_6_base {
+struct __pyx_obj_4liba___pyx_scope_struct__rule {
   PyObject_HEAD
   PyObject *__pyx_v_me;
   PyObject *__pyx_v_mec;
   PyObject *__pyx_v_mkd;
   PyObject *__pyx_v_mki;
   PyObject *__pyx_v_mkp;
 };
 
 
-/* "python/src/a/fpid.pxi":45
- *     def base(self, me, mec, mkp, mki, mkd):
+/* "python/src/a/pid/fuzzy.pxi":36
+ *     def rule(self, me, mec, mkp, mki, mkd):
  *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))             # <<<<<<<<<<<<<<
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
+ *         self.me = floats((col for row in me for col in row))             # <<<<<<<<<<<<<<
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))
  */
-struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr {
+struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *__pyx_outer_scope;
+  PyObject *__pyx_v_col;
+  PyObject *__pyx_v_row;
   PyObject *__pyx_t_0;
   Py_ssize_t __pyx_t_1;
   PyObject *(*__pyx_t_2)(PyObject *);
   PyObject *__pyx_t_3;
   Py_ssize_t __pyx_t_4;
   PyObject *(*__pyx_t_5)(PyObject *);
 };
 
 
-/* "python/src/a/fpid.pxi":46
+/* "python/src/a/pid/fuzzy.pxi":37
  *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))             # <<<<<<<<<<<<<<
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
+ *         self.me = floats((col for row in me for col in row))
+ *         self.mec = floats((col for row in mec for col in row))             # <<<<<<<<<<<<<<
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))
  */
-struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr {
+struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *__pyx_outer_scope;
+  PyObject *__pyx_v_col;
+  PyObject *__pyx_v_row;
   PyObject *__pyx_t_0;
   Py_ssize_t __pyx_t_1;
   PyObject *(*__pyx_t_2)(PyObject *);
   PyObject *__pyx_t_3;
   Py_ssize_t __pyx_t_4;
   PyObject *(*__pyx_t_5)(PyObject *);
 };
 
 
-/* "python/src/a/fpid.pxi":47
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))             # <<<<<<<<<<<<<<
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))
+/* "python/src/a/pid/fuzzy.pxi":38
+ *         self.me = floats((col for row in me for col in row))
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))             # <<<<<<<<<<<<<<
+ *         self.mki = floats((col for row in mki for col in row))
+ *         self.mkd = floats((col for row in mkd for col in row))
  */
-struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr {
+struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *__pyx_outer_scope;
+  PyObject *__pyx_v_col;
+  PyObject *__pyx_v_row;
   PyObject *__pyx_t_0;
   Py_ssize_t __pyx_t_1;
   PyObject *(*__pyx_t_2)(PyObject *);
   PyObject *__pyx_t_3;
   Py_ssize_t __pyx_t_4;
   PyObject *(*__pyx_t_5)(PyObject *);
 };
 
 
-/* "python/src/a/fpid.pxi":48
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))             # <<<<<<<<<<<<<<
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
+/* "python/src/a/pid/fuzzy.pxi":39
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))             # <<<<<<<<<<<<<<
+ *         self.mkd = floats((col for row in mkd for col in row))
+ *         a_pid_fuzzy_rule(&self.ctx, <unsigned int>len(me),
  */
-struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr {
+struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *__pyx_outer_scope;
+  PyObject *__pyx_v_col;
+  PyObject *__pyx_v_row;
   PyObject *__pyx_t_0;
   Py_ssize_t __pyx_t_1;
   PyObject *(*__pyx_t_2)(PyObject *);
   PyObject *__pyx_t_3;
   Py_ssize_t __pyx_t_4;
   PyObject *(*__pyx_t_5)(PyObject *);
 };
 
 
-/* "python/src/a/fpid.pxi":49
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))             # <<<<<<<<<<<<<<
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
+/* "python/src/a/pid/fuzzy.pxi":40
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))
+ *         self.mkd = floats((col for row in mkd for col in row))             # <<<<<<<<<<<<<<
+ *         a_pid_fuzzy_rule(&self.ctx, <unsigned int>len(me),
+ *                          <a_float_t *>self.me.data.as_voidptr,
  */
-struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr {
+struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *__pyx_outer_scope;
-  PyObject *__pyx_v_i;
-  PyObject *__pyx_v_j;
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *__pyx_outer_scope;
+  PyObject *__pyx_v_col;
+  PyObject *__pyx_v_row;
   PyObject *__pyx_t_0;
   Py_ssize_t __pyx_t_1;
   PyObject *(*__pyx_t_2)(PyObject *);
   PyObject *__pyx_t_3;
   Py_ssize_t __pyx_t_4;
   PyObject *(*__pyx_t_5)(PyObject *);
 };
@@ -1492,64 +1492,31 @@
 /* PyObjectCall.proto */
 #if CYTHON_COMPILING_IN_CPYTHON
 static CYTHON_INLINE PyObject* __Pyx_PyObject_Call(PyObject *func, PyObject *arg, PyObject *kw);
 #else
 #define __Pyx_PyObject_Call(func, arg, kw) PyObject_Call(func, arg, kw)
 #endif
 
-/* IncludeStringH.proto */
-#include <string.h>
-
-/* decode_c_string_utf16.proto */
-static CYTHON_INLINE PyObject *__Pyx_PyUnicode_DecodeUTF16(const char *s, Py_ssize_t size, const char *errors) {
-    int byteorder = 0;
-    return PyUnicode_DecodeUTF16(s, size, errors, &byteorder);
-}
-static CYTHON_INLINE PyObject *__Pyx_PyUnicode_DecodeUTF16LE(const char *s, Py_ssize_t size, const char *errors) {
-    int byteorder = -1;
-    return PyUnicode_DecodeUTF16(s, size, errors, &byteorder);
-}
-static CYTHON_INLINE PyObject *__Pyx_PyUnicode_DecodeUTF16BE(const char *s, Py_ssize_t size, const char *errors) {
-    int byteorder = 1;
-    return PyUnicode_DecodeUTF16(s, size, errors, &byteorder);
-}
-
-/* decode_c_string.proto */
-static CYTHON_INLINE PyObject* __Pyx_decode_c_string(
-         const char* cstring, Py_ssize_t start, Py_ssize_t stop,
-         const char* encoding, const char* errors,
-         PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors));
-
-/* PyIntBinop.proto */
-#if !CYTHON_COMPILING_IN_PYPY
-static PyObject* __Pyx_PyInt_AddObjC(PyObject *op1, PyObject *op2, long intval, int inplace, int zerodivision_check);
-#else
-#define __Pyx_PyInt_AddObjC(op1, op2, intval, inplace, zerodivision_check)\
-    (inplace ? PyNumber_InPlaceAdd(op1, op2) : PyNumber_Add(op1, op2))
-#endif
-
 /* RaiseArgTupleInvalid.proto */
 static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
     Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found);
 
 /* RaiseDoubleKeywords.proto */
 static void __Pyx_RaiseDoubleKeywordsError(const char* func_name, PyObject* kw_name);
 
 /* ParseKeywords.proto */
 static int __Pyx_ParseOptionalKeywords(PyObject *kwds, PyObject **argnames[],\
     PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,\
     const char* function_name);
 
-/* PyErrExceptionMatches.proto */
-#if CYTHON_FAST_THREAD_STATE
-#define __Pyx_PyErr_ExceptionMatches(err) __Pyx_PyErr_ExceptionMatchesInState(__pyx_tstate, err)
-static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err);
-#else
-#define __Pyx_PyErr_ExceptionMatches(err)  PyErr_ExceptionMatches(err)
-#endif
+/* ArgTypeTest.proto */
+#define __Pyx_ArgTypeTest(obj, type, none_allowed, name, exact)\
+    ((likely((Py_TYPE(obj) == type) | (none_allowed && (obj == Py_None)))) ? 1 :\
+        __Pyx__ArgTypeTest(obj, type, name, exact))
+static int __Pyx__ArgTypeTest(PyObject *obj, PyTypeObject *type, const char *name, int exact);
 
 /* PyThreadStateGet.proto */
 #if CYTHON_FAST_THREAD_STATE
 #define __Pyx_PyThreadState_declare  PyThreadState *__pyx_tstate;
 #define __Pyx_PyThreadState_assign  __pyx_tstate = __Pyx_PyThreadState_Current;
 #define __Pyx_PyErr_Occurred()  __pyx_tstate->curexc_type
 #else
@@ -1579,14 +1546,33 @@
 #define __Pyx_ErrFetchWithState(type, value, tb)  PyErr_Fetch(type, value, tb)
 #define __Pyx_ErrRestoreInState(tstate, type, value, tb)  PyErr_Restore(type, value, tb)
 #define __Pyx_ErrFetchInState(tstate, type, value, tb)  PyErr_Fetch(type, value, tb)
 #define __Pyx_ErrRestore(type, value, tb)  PyErr_Restore(type, value, tb)
 #define __Pyx_ErrFetch(type, value, tb)  PyErr_Fetch(type, value, tb)
 #endif
 
+/* RaiseException.proto */
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);
+
+/* PyIntBinop.proto */
+#if !CYTHON_COMPILING_IN_PYPY
+static PyObject* __Pyx_PyInt_AddObjC(PyObject *op1, PyObject *op2, long intval, int inplace, int zerodivision_check);
+#else
+#define __Pyx_PyInt_AddObjC(op1, op2, intval, inplace, zerodivision_check)\
+    (inplace ? PyNumber_InPlaceAdd(op1, op2) : PyNumber_Add(op1, op2))
+#endif
+
+/* PyErrExceptionMatches.proto */
+#if CYTHON_FAST_THREAD_STATE
+#define __Pyx_PyErr_ExceptionMatches(err) __Pyx_PyErr_ExceptionMatchesInState(__pyx_tstate, err)
+static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err);
+#else
+#define __Pyx_PyErr_ExceptionMatches(err)  PyErr_ExceptionMatches(err)
+#endif
+
 /* GetAttr.proto */
 static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *, PyObject *);
 
 /* GetAttr3.proto */
 static CYTHON_INLINE PyObject *__Pyx_GetAttr3(PyObject *, PyObject *, PyObject *);
 
 /* PyDictVersioning.proto */
@@ -1613,26 +1599,26 @@
 #define __PYX_GET_DICT_VERSION(dict)  (0)
 #define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)
 #define __PYX_PY_DICT_LOOKUP_IF_MODIFIED(VAR, DICT, LOOKUP)  (VAR) = (LOOKUP);
 #endif
 
 /* GetModuleGlobalName.proto */
 #if CYTHON_USE_DICT_VERSIONS
-#define __Pyx_GetModuleGlobalName(var, name)  do {\
+#define __Pyx_GetModuleGlobalName(var, name)  {\
     static PY_UINT64_T __pyx_dict_version = 0;\
     static PyObject *__pyx_dict_cached_value = NULL;\
     (var) = (likely(__pyx_dict_version == __PYX_GET_DICT_VERSION(__pyx_d))) ?\
         (likely(__pyx_dict_cached_value) ? __Pyx_NewRef(__pyx_dict_cached_value) : __Pyx_GetBuiltinName(name)) :\
         __Pyx__GetModuleGlobalName(name, &__pyx_dict_version, &__pyx_dict_cached_value);\
-} while(0)
-#define __Pyx_GetModuleGlobalNameUncached(var, name)  do {\
+}
+#define __Pyx_GetModuleGlobalNameUncached(var, name)  {\
     PY_UINT64_T __pyx_dict_version;\
     PyObject *__pyx_dict_cached_value;\
     (var) = __Pyx__GetModuleGlobalName(name, &__pyx_dict_version, &__pyx_dict_cached_value);\
-} while(0)
+}
 static PyObject *__Pyx__GetModuleGlobalName(PyObject *name, PY_UINT64_T *dict_version, PyObject **dict_cached_value);
 #else
 #define __Pyx_GetModuleGlobalName(var, name)  (var) = __Pyx__GetModuleGlobalName(name)
 #define __Pyx_GetModuleGlobalNameUncached(var, name)  (var) = __Pyx__GetModuleGlobalName(name)
 static CYTHON_INLINE PyObject *__Pyx__GetModuleGlobalName(PyObject *name);
 #endif
 
@@ -1678,28 +1664,48 @@
 #if CYTHON_COMPILING_IN_CPYTHON
 static CYTHON_INLINE PyObject* __Pyx_PyObject_CallMethO(PyObject *func, PyObject *arg);
 #endif
 
 /* PyObjectCallOneArg.proto */
 static CYTHON_INLINE PyObject* __Pyx_PyObject_CallOneArg(PyObject *func, PyObject *arg);
 
+/* None.proto */
+static CYTHON_INLINE void __Pyx_RaiseClosureNameError(const char *varname);
+
 /* PyObjectSetAttrStr.proto */
 #if CYTHON_USE_TYPE_SLOTS
 #define __Pyx_PyObject_DelAttrStr(o,n) __Pyx_PyObject_SetAttrStr(o, n, NULL)
 static CYTHON_INLINE int __Pyx_PyObject_SetAttrStr(PyObject* obj, PyObject* attr_name, PyObject* value);
 #else
 #define __Pyx_PyObject_DelAttrStr(o,n)   PyObject_DelAttr(o,n)
 #define __Pyx_PyObject_SetAttrStr(o,n,v) PyObject_SetAttr(o,n,v)
 #endif
 
-/* RaiseException.proto */
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);
+/* IncludeStringH.proto */
+#include <string.h>
 
-/* None.proto */
-static CYTHON_INLINE void __Pyx_RaiseClosureNameError(const char *varname);
+/* decode_c_string_utf16.proto */
+static CYTHON_INLINE PyObject *__Pyx_PyUnicode_DecodeUTF16(const char *s, Py_ssize_t size, const char *errors) {
+    int byteorder = 0;
+    return PyUnicode_DecodeUTF16(s, size, errors, &byteorder);
+}
+static CYTHON_INLINE PyObject *__Pyx_PyUnicode_DecodeUTF16LE(const char *s, Py_ssize_t size, const char *errors) {
+    int byteorder = -1;
+    return PyUnicode_DecodeUTF16(s, size, errors, &byteorder);
+}
+static CYTHON_INLINE PyObject *__Pyx_PyUnicode_DecodeUTF16BE(const char *s, Py_ssize_t size, const char *errors) {
+    int byteorder = 1;
+    return PyUnicode_DecodeUTF16(s, size, errors, &byteorder);
+}
+
+/* decode_c_string.proto */
+static CYTHON_INLINE PyObject* __Pyx_decode_c_string(
+         const char* cstring, Py_ssize_t start, Py_ssize_t stop,
+         const char* encoding, const char* errors,
+         PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors));
 
 /* PySequenceContains.proto */
 static CYTHON_INLINE int __Pyx_PySequence_ContainsTF(PyObject* item, PyObject* seq, int eq) {
     int result = PySequence_Contains(seq, item);
     return unlikely(result < 0) ? result : (result == (eq == Py_EQ));
 }
 
@@ -1914,38 +1920,71 @@
 #endif
 
 /* GCCDiagnostics.proto */
 #if defined(__GNUC__) && (__GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 6))
 #define __Pyx_HAS_GCC_DIAGNOSTIC
 #endif
 
+/* CIntFromPy.proto */
+static CYTHON_INLINE uintmax_t __Pyx_PyInt_As_uintmax_t(PyObject *);
+
+/* CIntToPy.proto */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint8_t(uint8_t value);
+
+/* CIntFromPy.proto */
+static CYTHON_INLINE uint8_t __Pyx_PyInt_As_uint8_t(PyObject *);
+
+/* CIntToPy.proto */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint16_t(uint16_t value);
+
+/* CIntFromPy.proto */
+static CYTHON_INLINE uint16_t __Pyx_PyInt_As_uint16_t(PyObject *);
+
+/* CIntToPy.proto */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint32_t(uint32_t value);
+
+/* CIntFromPy.proto */
+static CYTHON_INLINE uint32_t __Pyx_PyInt_As_uint32_t(PyObject *);
+
+/* CIntToPy.proto */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint64_t(uint64_t value);
+
+/* CIntFromPy.proto */
+static CYTHON_INLINE uint64_t __Pyx_PyInt_As_uint64_t(PyObject *);
+
 /* CIntToPy.proto */
 static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_mf_e(a_mf_e value);
 
 /* CIntFromPy.proto */
 static CYTHON_INLINE a_mf_e __Pyx_PyInt_As_a_mf_e(PyObject *);
 
 /* CIntToPy.proto */
 static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_pid_e(a_pid_e value);
 
-/* CIntFromPy.proto */
-static CYTHON_INLINE a_uint_t __Pyx_PyInt_As_a_uint_t(PyObject *);
+/* CIntToPy.proto */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_pid_fuzzy_e(a_pid_fuzzy_e value);
+
+/* CIntToPy.proto */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_unsigned_int(unsigned int value);
 
 /* CIntFromPy.proto */
 static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *);
 
 /* CIntToPy.proto */
-static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_uint_t(a_uint_t value);
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uintmax_t(uintmax_t value);
 
-/* CIntToPy.proto */
-static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value);
+/* CIntFromPy.proto */
+static CYTHON_INLINE unsigned int __Pyx_PyInt_As_unsigned_int(PyObject *);
 
 /* CIntFromPy.proto */
 static CYTHON_INLINE size_t __Pyx_PyInt_As_size_t(PyObject *);
 
+/* CIntToPy.proto */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value);
+
 /* CIntFromPy.proto */
 static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *);
 
 /* FastTypeChecks.proto */
 #if CYTHON_COMPILING_IN_CPYTHON
 #define __Pyx_TypeCheck(obj, type) __Pyx_IsSubtype(Py_TYPE(obj), (PyTypeObject *)type)
 static CYTHON_INLINE int __Pyx_IsSubtype(PyTypeObject *a, PyTypeObject *b);
@@ -2070,14 +2109,26 @@
 /* CheckBinaryVersion.proto */
 static int __Pyx_check_binary_version(void);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 
+/* Module declarations from 'cython' */
+
+/* Module declarations from 'libc.stddef' */
+
+/* Module declarations from 'libc.limits' */
+
+/* Module declarations from 'libc.stdint' */
+
+/* Module declarations from 'libc.float' */
+
+/* Module declarations from 'a' */
+
 /* Module declarations from 'cpython.version' */
 
 /* Module declarations from '__builtin__' */
 
 /* Module declarations from 'cpython.type' */
 static PyTypeObject *__pyx_ptype_7cpython_4type_type = 0;
 
@@ -2159,86 +2210,94 @@
 
 /* Module declarations from 'array' */
 
 /* Module declarations from 'cpython.array' */
 static PyTypeObject *__pyx_ptype_7cpython_5array_array = 0;
 static CYTHON_INLINE int __pyx_f_7cpython_5array_extend_buffer(arrayobject *, char *, Py_ssize_t); /*proto*/
 
-/* Module declarations from 'cython' */
-
-/* Module declarations from 'libc.stddef' */
-
-/* Module declarations from 'libc.stdint' */
-
-/* Module declarations from 'a' */
-
-/* Module declarations from 'a.version' */
+/* Module declarations from 'a.crc' */
 
 /* Module declarations from 'a.math' */
 
 /* Module declarations from 'a.mf' */
 
-/* Module declarations from 'a.tf' */
-
 /* Module declarations from 'a.pid' */
 
-/* Module declarations from 'a.fpid' */
+/* Module declarations from 'fuzzy' */
+
+/* Module declarations from 'neuron' */
 
 /* Module declarations from 'a.poly' */
 
 /* Module declarations from 'a.polytrack' */
 
+/* Module declarations from 'a.tf' */
+
+/* Module declarations from 'a.version' */
+
 /* Module declarations from 'liba' */
+static PyTypeObject *__pyx_ptype_4liba_crc8 = 0;
+static PyTypeObject *__pyx_ptype_4liba_crc16 = 0;
+static PyTypeObject *__pyx_ptype_4liba_crc32 = 0;
+static PyTypeObject *__pyx_ptype_4liba_crc64 = 0;
 static PyTypeObject *__pyx_ptype_4liba_mf = 0;
-static PyTypeObject *__pyx_ptype_4liba_tf = 0;
 static PyTypeObject *__pyx_ptype_4liba_pid = 0;
-static PyTypeObject *__pyx_ptype_4liba_fpid = 0;
+static PyTypeObject *__pyx_ptype_4liba_pid_fuzzy = 0;
+static PyTypeObject *__pyx_ptype_4liba_pid_neuron = 0;
 static PyTypeObject *__pyx_ptype_4liba_polytrack3 = 0;
 static PyTypeObject *__pyx_ptype_4liba_polytrack5 = 0;
 static PyTypeObject *__pyx_ptype_4liba_polytrack7 = 0;
-static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct____cinit__ = 0;
+static PyTypeObject *__pyx_ptype_4liba_tf = 0;
+static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct__rule = 0;
 static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_1_genexpr = 0;
 static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_2_genexpr = 0;
 static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_3_genexpr = 0;
 static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_4_genexpr = 0;
 static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_5_genexpr = 0;
-static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_6_base = 0;
-static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_7_genexpr = 0;
-static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_8_genexpr = 0;
-static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_9_genexpr = 0;
-static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_10_genexpr = 0;
-static PyTypeObject *__pyx_ptype_4liba___pyx_scope_struct_11_genexpr = 0;
 static int __pyx_f_4liba_iterable(PyObject *); /*proto*/
-static arrayobject *__pyx_f_4liba_reals(struct __pyx_opt_args_4liba_reals *__pyx_optional_args); /*proto*/
+static arrayobject *__pyx_f_4liba_u8s(struct __pyx_opt_args_4liba_u8s *__pyx_optional_args); /*proto*/
+static arrayobject *__pyx_f_4liba_u16s(struct __pyx_opt_args_4liba_u16s *__pyx_optional_args); /*proto*/
+static arrayobject *__pyx_f_4liba_u32s(struct __pyx_opt_args_4liba_u32s *__pyx_optional_args); /*proto*/
+static arrayobject *__pyx_f_4liba_u64s(struct __pyx_opt_args_4liba_u64s *__pyx_optional_args); /*proto*/
+static arrayobject *__pyx_f_4liba_floats(struct __pyx_opt_args_4liba_floats *__pyx_optional_args); /*proto*/
 static PyObject *__pyx_f_4liba___pyx_unpickle_mf__set_state(struct __pyx_obj_4liba_mf *, PyObject *); /*proto*/
-static CYTHON_INLINE PyObject *__Pyx_carray_to_py_a_real_t(a_real_t *, Py_ssize_t); /*proto*/
-static CYTHON_INLINE PyObject *__Pyx_carray_to_tuple_a_real_t(a_real_t *, Py_ssize_t); /*proto*/
+static CYTHON_INLINE PyObject *__Pyx_carray_to_py_a_float_t(a_float_t *, Py_ssize_t); /*proto*/
+static CYTHON_INLINE PyObject *__Pyx_carray_to_tuple_a_float_t(a_float_t *, Py_ssize_t); /*proto*/
 #define __Pyx_MODULE_NAME "liba"
 extern int __pyx_module_is_main_liba;
 int __pyx_module_is_main_liba = 0;
 
 /* Implementation of 'liba' */
 static PyObject *__pyx_builtin_staticmethod;
-static PyObject *__pyx_builtin_enumerate;
 static PyObject *__pyx_builtin_TypeError;
+static PyObject *__pyx_builtin_enumerate;
 static PyObject *__pyx_builtin_MemoryError;
 static PyObject *__pyx_builtin_range;
+static const char __pyx_k_B[] = "B";
+static const char __pyx_k_H[] = "H";
+static const char __pyx_k_I[] = "I";
+static const char __pyx_k_L[] = "L";
+static const char __pyx_k_Q[] = "Q";
 static const char __pyx_k_Z[] = "Z";
 static const char __pyx_k_a[] = "a";
 static const char __pyx_k_b[] = "b";
 static const char __pyx_k_c[] = "c";
 static const char __pyx_k_d[] = "d";
 static const char __pyx_k_e[] = "e";
+static const char __pyx_k_f[] = "f";
 static const char __pyx_k_i[] = "i";
+static const char __pyx_k_k[] = "k";
 static const char __pyx_k_n[] = "n";
+static const char __pyx_k_o[] = "o";
 static const char __pyx_k_p[] = "p";
 static const char __pyx_k_v[] = "v";
 static const char __pyx_k_x[] = "x";
 static const char __pyx_k_y[] = "y";
 static const char __pyx_k_z[] = "z";
+static const char __pyx_k_OR[] = "OR";
 static const char __pyx_k_a0[] = "a0";
 static const char __pyx_k_a1[] = "a1";
 static const char __pyx_k_dt[] = "dt";
 static const char __pyx_k_it[] = "it";
 static const char __pyx_k_j0[] = "j0";
 static const char __pyx_k_j1[] = "j1";
 static const char __pyx_k_kd[] = "kd";
@@ -2249,143 +2308,199 @@
 static const char __pyx_k_q0[] = "q0";
 static const char __pyx_k_q1[] = "q1";
 static const char __pyx_k_t0[] = "t0";
 static const char __pyx_k_t1[] = "t1";
 static const char __pyx_k_tf[] = "tf";
 static const char __pyx_k_v0[] = "v0";
 static const char __pyx_k_v1[] = "v1";
+static const char __pyx_k_wd[] = "wd";
+static const char __pyx_k_wi[] = "wi";
+static const char __pyx_k_wp[] = "wp";
+static const char __pyx_k_AND[] = "AND";
+static const char __pyx_k_EQU[] = "EQU";
 static const char __pyx_k_INC[] = "INC";
 static const char __pyx_k_NUL[] = "NUL";
 static const char __pyx_k_OFF[] = "OFF";
 static const char __pyx_k_POS[] = "POS";
 static const char __pyx_k_SIG[] = "SIG";
 static const char __pyx_k_TRI[] = "TRI";
-static const char __pyx_k_buf[] = "buf";
 static const char __pyx_k_den[] = "den";
 static const char __pyx_k_fdb[] = "fdb";
 static const char __pyx_k_max[] = "max";
 static const char __pyx_k_mec[] = "mec";
 static const char __pyx_k_min[] = "min";
 static const char __pyx_k_mkd[] = "mkd";
 static const char __pyx_k_mki[] = "mki";
 static const char __pyx_k_mkp[] = "mkp";
 static const char __pyx_k_new[] = "__new__";
 static const char __pyx_k_num[] = "num";
 static const char __pyx_k_pid[] = "pid";
 static const char __pyx_k_set[] = "set";
 static const char __pyx_k_sig[] = "sig";
+static const char __pyx_k_str[] = "str";
 static const char __pyx_k_sum[] = "sum";
 static const char __pyx_k_tri[] = "tri";
+static const char __pyx_k_val[] = "val";
+static const char __pyx_k_INIT[] = "INIT";
+static const char __pyx_k_POLY[] = "POLY";
 static const char __pyx_k_TRAP[] = "TRAP";
 static const char __pyx_k_args[] = "args";
 static const char __pyx_k_call[] = "__call__";
+static const char __pyx_k_crc8[] = "crc8";
+static const char __pyx_k_data[] = "data";
 static const char __pyx_k_dict[] = "__dict__";
-static const char __pyx_k_fpid[] = "fpid";
+static const char __pyx_k_high[] = "high";
+static const char __pyx_k_init[] = "init";
 static const char __pyx_k_liba[] = "liba";
 static const char __pyx_k_main[] = "__main__";
 static const char __pyx_k_name[] = "__name__";
+static const char __pyx_k_poly[] = "poly";
 static const char __pyx_k_send[] = "send";
 static const char __pyx_k_test[] = "__test__";
 static const char __pyx_k_trap[] = "trap";
 static const char __pyx_k_GAUSS[] = "GAUSS";
 static const char __pyx_k_GBELL[] = "GBELL";
 static const char __pyx_k_close[] = "close";
+static const char __pyx_k_crc16[] = "crc16";
+static const char __pyx_k_crc32[] = "crc32";
+static const char __pyx_k_crc64[] = "crc64";
 static const char __pyx_k_gauss[] = "gauss";
 static const char __pyx_k_gbell[] = "gbell";
 static const char __pyx_k_range[] = "range";
 static const char __pyx_k_sigma[] = "sigma";
 static const char __pyx_k_throw[] = "throw";
 static const char __pyx_k_import[] = "__import__";
 static const char __pyx_k_pickle[] = "pickle";
 static const char __pyx_k_reduce[] = "__reduce__";
 static const char __pyx_k_update[] = "update";
+static const char __pyx_k_VERSION[] = "VERSION";
 static const char __pyx_k_genexpr[] = "genexpr";
 static const char __pyx_k_version[] = "version";
 static const char __pyx_k_getstate[] = "__getstate__";
 static const char __pyx_k_pyx_type[] = "__pyx_type";
 static const char __pyx_k_setstate[] = "__setstate__";
+static const char __pyx_k_u32_sqrt[] = "u32_sqrt";
+static const char __pyx_k_u64_sqrt[] = "u64_sqrt";
 static const char __pyx_k_TypeError[] = "TypeError";
 static const char __pyx_k_enumerate[] = "enumerate";
 static const char __pyx_k_f32_rsqrt[] = "f32_rsqrt";
 static const char __pyx_k_f64_rsqrt[] = "f64_rsqrt";
+static const char __pyx_k_hash_bkdr[] = "hash_bkdr";
+static const char __pyx_k_pid_fuzzy[] = "pid_fuzzy";
 static const char __pyx_k_poly_eval[] = "poly_eval";
 static const char __pyx_k_poly_evar[] = "poly_evar";
 static const char __pyx_k_pyx_state[] = "__pyx_state";
 static const char __pyx_k_reduce_ex[] = "__reduce_ex__";
+static const char __pyx_k_OR_ALGEBRA[] = "OR_ALGEBRA";
+static const char __pyx_k_OR_BOUNDED[] = "OR_BOUNDED";
+static const char __pyx_k_OR_DEFAULT[] = "OR_DEFAULT";
+static const char __pyx_k_pid_neuron[] = "pid_neuron";
 static const char __pyx_k_polytrack3[] = "polytrack3";
 static const char __pyx_k_polytrack5[] = "polytrack5";
 static const char __pyx_k_polytrack7[] = "polytrack7";
 static const char __pyx_k_pyx_result[] = "__pyx_result";
+static const char __pyx_k_AND_ALGEBRA[] = "AND_ALGEBRA";
+static const char __pyx_k_AND_BOUNDED[] = "AND_BOUNDED";
+static const char __pyx_k_AND_DEFAULT[] = "AND_DEFAULT";
 static const char __pyx_k_MemoryError[] = "MemoryError";
 static const char __pyx_k_PickleError[] = "PickleError";
 static const char __pyx_k_pyx_checksum[] = "__pyx_checksum";
 static const char __pyx_k_staticmethod[] = "staticmethod";
 static const char __pyx_k_stringsource[] = "stringsource";
+static const char __pyx_k_VERSION_MAJOR[] = "VERSION_MAJOR";
+static const char __pyx_k_VERSION_MINOR[] = "VERSION_MINOR";
+static const char __pyx_k_VERSION_PATCH[] = "VERSION_PATCH";
 static const char __pyx_k_reduce_cython[] = "__reduce_cython__";
 static const char __pyx_k_version_major[] = "version_major";
 static const char __pyx_k_version_minor[] = "version_minor";
 static const char __pyx_k_version_patch[] = "version_patch";
 static const char __pyx_k_pyx_PickleError[] = "__pyx_PickleError";
 static const char __pyx_k_pyx_unpickle_mf[] = "__pyx_unpickle_mf";
 static const char __pyx_k_setstate_cython[] = "__setstate_cython__";
+static const char __pyx_k_python_src_a_pyx[] = "python/src/a.pyx";
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
-static const char __pyx_k_base_locals_genexpr[] = "base.<locals>.genexpr";
-static const char __pyx_k_python_src_a_mf_pxi[] = "python\\src\\a/mf.pxi";
-static const char __pyx_k_python_src_a_math_pxi[] = "python\\src\\a/math.pxi";
-static const char __pyx_k_python_src_a_poly_pxi[] = "python\\src\\a/poly.pxi";
-static const char __pyx_k_cinit___locals_genexpr[] = "__cinit__.<locals>.genexpr";
-static const char __pyx_k_python_src_a_version_pxi[] = "python\\src\\a/version.pxi";
+static const char __pyx_k_python_src_a_mf_pxi[] = "python/src/a/mf.pxi";
+static const char __pyx_k_rule_locals_genexpr[] = "rule.<locals>.genexpr";
+static const char __pyx_k_python_src_a_math_pxi[] = "python/src/a/math.pxi";
+static const char __pyx_k_python_src_a_poly_pxi[] = "python/src/a/poly.pxi";
+static const char __pyx_k_python_src_a_version_pxi[] = "python/src/a/version.pxi";
 static const char __pyx_k_Incompatible_checksums_0x_x_vs_0[] = "Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())";
 static const char __pyx_k_no_default___reduce___due_to_non[] = "no default __reduce__ due to non-trivial __cinit__";
+static PyObject *__pyx_n_s_AND;
+static PyObject *__pyx_n_s_AND_ALGEBRA;
+static PyObject *__pyx_n_s_AND_BOUNDED;
+static PyObject *__pyx_n_s_AND_DEFAULT;
+static PyObject *__pyx_n_u_B;
+static PyObject *__pyx_n_s_EQU;
 static PyObject *__pyx_n_s_GAUSS;
 static PyObject *__pyx_n_s_GBELL;
+static PyObject *__pyx_n_u_H;
+static PyObject *__pyx_n_u_I;
 static PyObject *__pyx_n_s_INC;
+static PyObject *__pyx_n_s_INIT;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0;
+static PyObject *__pyx_n_u_L;
 static PyObject *__pyx_n_s_MemoryError;
 static PyObject *__pyx_n_s_NUL;
 static PyObject *__pyx_n_s_OFF;
+static PyObject *__pyx_n_s_OR;
+static PyObject *__pyx_n_s_OR_ALGEBRA;
+static PyObject *__pyx_n_s_OR_BOUNDED;
+static PyObject *__pyx_n_s_OR_DEFAULT;
+static PyObject *__pyx_n_s_POLY;
 static PyObject *__pyx_n_s_POS;
 static PyObject *__pyx_n_s_PickleError;
+static PyObject *__pyx_n_u_Q;
 static PyObject *__pyx_n_s_SIG;
 static PyObject *__pyx_n_s_TRAP;
 static PyObject *__pyx_n_s_TRI;
 static PyObject *__pyx_n_s_TypeError;
+static PyObject *__pyx_n_s_VERSION;
+static PyObject *__pyx_n_s_VERSION_MAJOR;
+static PyObject *__pyx_n_s_VERSION_MINOR;
+static PyObject *__pyx_n_s_VERSION_PATCH;
 static PyObject *__pyx_n_s_Z;
 static PyObject *__pyx_n_s_a;
 static PyObject *__pyx_n_s_a0;
 static PyObject *__pyx_n_s_a1;
 static PyObject *__pyx_n_s_args;
 static PyObject *__pyx_n_s_b;
-static PyObject *__pyx_n_s_base_locals_genexpr;
-static PyObject *__pyx_n_s_buf;
 static PyObject *__pyx_n_s_c;
 static PyObject *__pyx_n_s_call;
-static PyObject *__pyx_n_s_cinit___locals_genexpr;
 static PyObject *__pyx_n_s_cline_in_traceback;
 static PyObject *__pyx_n_s_close;
+static PyObject *__pyx_n_s_crc16;
+static PyObject *__pyx_n_s_crc32;
+static PyObject *__pyx_n_s_crc64;
+static PyObject *__pyx_n_s_crc8;
 static PyObject *__pyx_n_s_d;
 static PyObject *__pyx_n_u_d;
+static PyObject *__pyx_n_s_data;
 static PyObject *__pyx_n_s_den;
 static PyObject *__pyx_n_s_dict;
 static PyObject *__pyx_n_s_dt;
 static PyObject *__pyx_n_s_e;
 static PyObject *__pyx_n_s_enumerate;
+static PyObject *__pyx_n_u_f;
 static PyObject *__pyx_n_s_f32_rsqrt;
 static PyObject *__pyx_n_s_f64_rsqrt;
 static PyObject *__pyx_n_s_fdb;
-static PyObject *__pyx_n_s_fpid;
 static PyObject *__pyx_n_s_gauss;
 static PyObject *__pyx_n_s_gbell;
 static PyObject *__pyx_n_s_genexpr;
 static PyObject *__pyx_n_s_getstate;
+static PyObject *__pyx_n_s_hash_bkdr;
+static PyObject *__pyx_n_s_high;
 static PyObject *__pyx_n_s_i;
 static PyObject *__pyx_n_s_import;
+static PyObject *__pyx_n_s_init;
 static PyObject *__pyx_n_s_it;
 static PyObject *__pyx_n_s_j0;
 static PyObject *__pyx_n_s_j1;
+static PyObject *__pyx_n_s_k;
 static PyObject *__pyx_n_s_kd;
 static PyObject *__pyx_n_s_ki;
 static PyObject *__pyx_n_s_kp;
 static PyObject *__pyx_n_s_liba;
 static PyObject *__pyx_n_s_main;
 static PyObject *__pyx_n_s_max;
 static PyObject *__pyx_n_s_me;
@@ -2396,810 +2511,3167 @@
 static PyObject *__pyx_n_s_mki;
 static PyObject *__pyx_n_s_mkp;
 static PyObject *__pyx_n_s_n;
 static PyObject *__pyx_n_s_name;
 static PyObject *__pyx_n_s_new;
 static PyObject *__pyx_kp_s_no_default___reduce___due_to_non;
 static PyObject *__pyx_n_s_num;
+static PyObject *__pyx_n_s_o;
 static PyObject *__pyx_n_s_p;
 static PyObject *__pyx_n_s_pickle;
 static PyObject *__pyx_n_s_pid;
+static PyObject *__pyx_n_s_pid_fuzzy;
+static PyObject *__pyx_n_s_pid_neuron;
+static PyObject *__pyx_n_s_poly;
 static PyObject *__pyx_n_s_poly_eval;
 static PyObject *__pyx_n_s_poly_evar;
 static PyObject *__pyx_n_s_polytrack3;
 static PyObject *__pyx_n_s_polytrack5;
 static PyObject *__pyx_n_s_polytrack7;
 static PyObject *__pyx_kp_s_python_src_a_math_pxi;
 static PyObject *__pyx_kp_s_python_src_a_mf_pxi;
 static PyObject *__pyx_kp_s_python_src_a_poly_pxi;
+static PyObject *__pyx_kp_s_python_src_a_pyx;
 static PyObject *__pyx_kp_s_python_src_a_version_pxi;
 static PyObject *__pyx_n_s_pyx_PickleError;
 static PyObject *__pyx_n_s_pyx_checksum;
 static PyObject *__pyx_n_s_pyx_result;
 static PyObject *__pyx_n_s_pyx_state;
 static PyObject *__pyx_n_s_pyx_type;
 static PyObject *__pyx_n_s_pyx_unpickle_mf;
 static PyObject *__pyx_n_s_q0;
 static PyObject *__pyx_n_s_q1;
 static PyObject *__pyx_n_s_range;
 static PyObject *__pyx_n_s_reduce;
 static PyObject *__pyx_n_s_reduce_cython;
 static PyObject *__pyx_n_s_reduce_ex;
+static PyObject *__pyx_n_s_rule_locals_genexpr;
 static PyObject *__pyx_n_s_send;
 static PyObject *__pyx_n_s_set;
 static PyObject *__pyx_n_s_setstate;
 static PyObject *__pyx_n_s_setstate_cython;
 static PyObject *__pyx_n_s_sig;
 static PyObject *__pyx_n_s_sigma;
 static PyObject *__pyx_n_s_staticmethod;
+static PyObject *__pyx_n_s_str;
 static PyObject *__pyx_kp_s_stringsource;
 static PyObject *__pyx_n_s_sum;
 static PyObject *__pyx_n_s_t0;
 static PyObject *__pyx_n_s_t1;
 static PyObject *__pyx_n_s_test;
 static PyObject *__pyx_n_s_tf;
 static PyObject *__pyx_n_s_throw;
 static PyObject *__pyx_n_s_trap;
 static PyObject *__pyx_n_s_tri;
+static PyObject *__pyx_n_s_u32_sqrt;
+static PyObject *__pyx_n_s_u64_sqrt;
 static PyObject *__pyx_n_s_update;
 static PyObject *__pyx_n_s_v;
 static PyObject *__pyx_n_s_v0;
 static PyObject *__pyx_n_s_v1;
+static PyObject *__pyx_n_s_val;
 static PyObject *__pyx_n_s_version;
 static PyObject *__pyx_n_s_version_major;
 static PyObject *__pyx_n_s_version_minor;
 static PyObject *__pyx_n_s_version_patch;
+static PyObject *__pyx_n_s_wd;
+static PyObject *__pyx_n_s_wi;
+static PyObject *__pyx_n_s_wp;
 static PyObject *__pyx_n_s_x;
 static PyObject *__pyx_n_s_y;
 static PyObject *__pyx_n_s_z;
-static PyObject *__pyx_pf_4liba_version(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_2version_major(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4version_minor(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_6version_patch(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_8f32_rsqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x); /* proto */
-static PyObject *__pyx_pf_4liba_10f64_rsqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x); /* proto */
+static PyObject *__pyx_pf_4liba_hash_bkdr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_str, a_umax_t __pyx_v_val); /* proto */
+static PyObject *__pyx_pf_4liba_4crc8_5table___get__(struct __pyx_obj_4liba_crc8 *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_4crc8___cinit__(struct __pyx_obj_4liba_crc8 *__pyx_v_self, a_u8_t __pyx_v_poly, PyObject *__pyx_v_high); /* proto */
+static PyObject *__pyx_pf_4liba_4crc8_2__call__(struct __pyx_obj_4liba_crc8 *__pyx_v_self, PyObject *__pyx_v_data, a_u8_t __pyx_v_init); /* proto */
+static PyObject *__pyx_pf_4liba_4crc8_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc8 *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_4crc8_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc8 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_4liba_5crc16_5table___get__(struct __pyx_obj_4liba_crc16 *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_5crc16___cinit__(struct __pyx_obj_4liba_crc16 *__pyx_v_self, a_u16_t __pyx_v_poly, PyObject *__pyx_v_high); /* proto */
+static PyObject *__pyx_pf_4liba_5crc16_2__call__(struct __pyx_obj_4liba_crc16 *__pyx_v_self, PyObject *__pyx_v_data, a_u16_t __pyx_v_init); /* proto */
+static PyObject *__pyx_pf_4liba_5crc16_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc16 *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_5crc16_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc16 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_4liba_5crc32_5table___get__(struct __pyx_obj_4liba_crc32 *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_5crc32___cinit__(struct __pyx_obj_4liba_crc32 *__pyx_v_self, a_u32_t __pyx_v_poly, PyObject *__pyx_v_high); /* proto */
+static PyObject *__pyx_pf_4liba_5crc32_2__call__(struct __pyx_obj_4liba_crc32 *__pyx_v_self, PyObject *__pyx_v_data, a_u32_t __pyx_v_init); /* proto */
+static PyObject *__pyx_pf_4liba_5crc32_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc32 *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_5crc32_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc32 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_4liba_5crc64_5table___get__(struct __pyx_obj_4liba_crc64 *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_5crc64___cinit__(struct __pyx_obj_4liba_crc64 *__pyx_v_self, a_u64_t __pyx_v_poly, PyObject *__pyx_v_high); /* proto */
+static PyObject *__pyx_pf_4liba_5crc64_2__call__(struct __pyx_obj_4liba_crc64 *__pyx_v_self, PyObject *__pyx_v_data, a_u64_t __pyx_v_init); /* proto */
+static PyObject *__pyx_pf_4liba_5crc64_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc64 *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_5crc64_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc64 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_4liba_2f32_rsqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x); /* proto */
+static PyObject *__pyx_pf_4liba_4f64_rsqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x); /* proto */
+static PyObject *__pyx_pf_4liba_6u32_sqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x); /* proto */
+static PyObject *__pyx_pf_4liba_8u64_sqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x); /* proto */
 static PyObject *__pyx_pf_4liba_2mf___call__(a_mf_e __pyx_v_e, PyObject *__pyx_v_x, PyObject *__pyx_v_a); /* proto */
-static PyObject *__pyx_pf_4liba_2mf_2gauss(PyObject *__pyx_v_x, a_real_t __pyx_v_sigma, a_real_t __pyx_v_c); /* proto */
-static PyObject *__pyx_pf_4liba_2mf_4gbell(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_b, a_real_t __pyx_v_c); /* proto */
-static PyObject *__pyx_pf_4liba_2mf_6sig(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_c); /* proto */
-static PyObject *__pyx_pf_4liba_2mf_8trap(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_b, a_real_t __pyx_v_c, a_real_t __pyx_v_d); /* proto */
-static PyObject *__pyx_pf_4liba_2mf_10tri(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_b, a_real_t __pyx_v_c); /* proto */
-static PyObject *__pyx_pf_4liba_2mf_12z(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_b); /* proto */
+static PyObject *__pyx_pf_4liba_2mf_2gauss(PyObject *__pyx_v_x, a_float_t __pyx_v_sigma, a_float_t __pyx_v_c); /* proto */
+static PyObject *__pyx_pf_4liba_2mf_4gbell(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_b, a_float_t __pyx_v_c); /* proto */
+static PyObject *__pyx_pf_4liba_2mf_6sig(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_c); /* proto */
+static PyObject *__pyx_pf_4liba_2mf_8trap(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_b, a_float_t __pyx_v_c, a_float_t __pyx_v_d); /* proto */
+static PyObject *__pyx_pf_4liba_2mf_10tri(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_b, a_float_t __pyx_v_c); /* proto */
+static PyObject *__pyx_pf_4liba_2mf_12z(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_b); /* proto */
 static PyObject *__pyx_pf_4liba_2mf_14__reduce_cython__(struct __pyx_obj_4liba_mf *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_4liba_2mf_16__setstate_cython__(struct __pyx_obj_4liba_mf *__pyx_v_self, PyObject *__pyx_v___pyx_state); /* proto */
-static int __pyx_pf_4liba_2tf___cinit__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_num, PyObject *__pyx_v_den); /* proto */
-static PyObject *__pyx_pf_4liba_2tf_2__call__(struct __pyx_obj_4liba_tf *__pyx_v_self, a_real_t __pyx_v_x); /* proto */
-static void __pyx_pf_4liba_2tf_4__dealloc__(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_2tf_6zero(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_2tf_3num___get__(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_2tf_3num_2__set__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_num); /* proto */
-static PyObject *__pyx_pf_4liba_2tf_3den___get__(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_2tf_3den_2__set__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_den); /* proto */
-static PyObject *__pyx_pf_4liba_2tf_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_2tf_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_tf *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static int __pyx_pf_4liba_3pid___cinit__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_dt, a_real_t __pyx_v_min, a_real_t __pyx_v_max, a_real_t __pyx_v_sum); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_2__call__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_set, a_real_t __pyx_v_fdb); /* proto */
-static void __pyx_pf_4liba_3pid_4__dealloc__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_3pid___cinit__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_min, a_float_t __pyx_v_max, a_float_t __pyx_v_sum); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_2kpid(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_kp, a_float_t __pyx_v_ki, a_float_t __pyx_v_kd); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_4__call__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_set, a_float_t __pyx_v_fdb); /* proto */
 static PyObject *__pyx_pf_4liba_3pid_6zero(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_8kpid(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_kp, a_real_t __pyx_v_ki, a_real_t __pyx_v_kd); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_10pos(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_max); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_12inc(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_14off(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_6outmin___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_3pid_6outmin_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_outmin); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_6outmax___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_3pid_6outmax_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_outmax); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_6summax___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_3pid_6summax_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_summax); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_4mode___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_3pid_4mode_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_uint_t __pyx_v_mode); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_2dt___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_3pid_2dt_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_3pid_2kp___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_3pid_2kp_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_kp); /* proto */
+static int __pyx_pf_4liba_3pid_2kp_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_kp); /* proto */
 static PyObject *__pyx_pf_4liba_3pid_2ki___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_3pid_2ki_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_ki); /* proto */
+static int __pyx_pf_4liba_3pid_2ki_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_ki); /* proto */
 static PyObject *__pyx_pf_4liba_3pid_2kd___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_3pid_2kd_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_kd); /* proto */
+static int __pyx_pf_4liba_3pid_2kd_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_kd); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_6summax___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_3pid_6summax_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_summax); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_6outmax___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_3pid_6outmax_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_outmax); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_6outmin___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_3pid_6outmin_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_outmin); /* proto */
 static PyObject *__pyx_pf_4liba_3pid_3out___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_4liba_3pid_3fdb___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_2ec___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_1e___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_16__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_3pid_18__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___3genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___6genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___9genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___12genexpr(PyObject *__pyx_self); /* proto */
-static int __pyx_pf_4liba_4fpid___cinit__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_uint_t __pyx_v_num, a_real_t __pyx_v_dt, PyObject *__pyx_v_me, PyObject *__pyx_v_mec, PyObject *__pyx_v_mkp, PyObject *__pyx_v_mki, PyObject *__pyx_v_mkd, a_real_t __pyx_v_min, a_real_t __pyx_v_max, a_real_t __pyx_v_sum); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_2__call__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_set, a_real_t __pyx_v_fdb); /* proto */
-static void __pyx_pf_4liba_4fpid_4__dealloc__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_6zero(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_4base_genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_4base_3genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_4base_6genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_4base_9genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_4base_12genexpr(PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_8base(struct __pyx_obj_4liba_fpid *__pyx_v_self, PyObject *__pyx_v_me, PyObject *__pyx_v_mec, PyObject *__pyx_v_mkp, PyObject *__pyx_v_mki, PyObject *__pyx_v_mkd); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_10kpid(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_kp, a_real_t __pyx_v_ki, a_real_t __pyx_v_kd); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_12pos(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_max); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_14inc(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_16off(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_6outmin___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_6outmin_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_outmin); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_6outmax___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_6outmax_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_outmax); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_6summax___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_6summax_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_summax); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_4mode___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_4mode_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_uint_t __pyx_v_mode); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_2dt___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_2dt_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_dt); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_2kp___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_2kp_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_kp); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_2ki___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_2ki_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_ki); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_2kd___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_2kd_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_kd); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_3buf___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static int __pyx_pf_4liba_4fpid_3buf_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_uint_t __pyx_v_max); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_3col___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_3out___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_3fdb___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_2ec___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_1e___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_18__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_fpid *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_4liba_4fpid_20__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_fpid *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static PyObject *__pyx_pf_4liba_12poly_eval(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x, PyObject *__pyx_v_a); /* proto */
-static PyObject *__pyx_pf_4liba_14poly_evar(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x, PyObject *__pyx_v_a); /* proto */
-static int __pyx_pf_4liba_10polytrack3___cinit__(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1); /* proto */
-static PyObject *__pyx_pf_4liba_10polytrack3_2gen(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_3err___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_4mode___get__(struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_3pid_4mode_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, PyObject *__pyx_v_mode); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_3pid_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static int __pyx_pf_4liba_9pid_fuzzy___cinit__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_min, a_float_t __pyx_v_max, a_float_t __pyx_v_sum); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_genexpr(PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_3genexpr(PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_6genexpr(PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_9genexpr(PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_12genexpr(PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_2rule(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, PyObject *__pyx_v_me, PyObject *__pyx_v_mec, PyObject *__pyx_v_mkp, PyObject *__pyx_v_mki, PyObject *__pyx_v_mkd); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4kpid(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_kp, a_float_t __pyx_v_ki, a_float_t __pyx_v_kd); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_6buff(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, PyObject *__pyx_v_num); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_8op(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, PyObject *__pyx_v_op); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_10__call__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_set, a_float_t __pyx_v_fdb); /* proto */
+static void __pyx_pf_4liba_9pid_fuzzy_12__dealloc__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_14zero(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_2kp___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_9pid_fuzzy_2kp_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_kp); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_2ki___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_9pid_fuzzy_2ki_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_ki); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_2kd___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_9pid_fuzzy_2kd_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_kd); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_6summax___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_9pid_fuzzy_6summax_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_summax); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_6outmax___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_9pid_fuzzy_6outmax_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_outmax); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_6outmin___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_9pid_fuzzy_6outmin_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_outmin); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3out___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3fdb___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3err___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4mode___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_9pid_fuzzy_4mode_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, PyObject *__pyx_v_mode); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3col___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3buf___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_16__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_18__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static int __pyx_pf_4liba_10pid_neuron___cinit__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_min, a_float_t __pyx_v_max, a_float_t __pyx_v_sum); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_2kpid(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_k, a_float_t __pyx_v_kp, a_float_t __pyx_v_ki, a_float_t __pyx_v_kd); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_4wpid(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_wp, a_float_t __pyx_v_wi, a_float_t __pyx_v_wd); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_6__call__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_set, a_float_t __pyx_v_fdb); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_8zero(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_2kp___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_2kp_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_kp); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_2ki___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_2ki_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_ki); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_2kd___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_2kd_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_kd); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_6summax___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_6summax_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_summax); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_6outmax___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_6outmax_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_outmax); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_6outmin___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_6outmin_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_outmin); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_3out___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_3fdb___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_3err___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_4mode___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_4mode_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, PyObject *__pyx_v_mode); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_2ec___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_2wp___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_2wp_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_wp); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_2wi___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_2wi_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_wi); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_2wd___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_2wd_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_wd); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_1k___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_10pid_neuron_1k_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_k); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_10__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid_neuron *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_10pid_neuron_12__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_4liba_10poly_eval(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x, PyObject *__pyx_v_a); /* proto */
+static PyObject *__pyx_pf_4liba_12poly_evar(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x, PyObject *__pyx_v_a); /* proto */
+static int __pyx_pf_4liba_10polytrack3___cinit__(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1); /* proto */
+static PyObject *__pyx_pf_4liba_10polytrack3_2gen(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack3_4__call__(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack3_6pos(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
-static PyObject *__pyx_pf_4liba_10polytrack3_8vec(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
+static PyObject *__pyx_pf_4liba_10polytrack3_8vel(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack3_10acc(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack3_1k___get__(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack3_12__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack3 *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack3_14__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static int __pyx_pf_4liba_10polytrack5___cinit__(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1, a_real_t __pyx_v_a0, a_real_t __pyx_v_a1); /* proto */
-static PyObject *__pyx_pf_4liba_10polytrack5_2gen(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1, a_real_t __pyx_v_a0, a_real_t __pyx_v_a1); /* proto */
+static int __pyx_pf_4liba_10polytrack5___cinit__(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1, a_float_t __pyx_v_a0, a_float_t __pyx_v_a1); /* proto */
+static PyObject *__pyx_pf_4liba_10polytrack5_2gen(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1, a_float_t __pyx_v_a0, a_float_t __pyx_v_a1); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack5_4__call__(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack5_6pos(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
-static PyObject *__pyx_pf_4liba_10polytrack5_8vec(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
+static PyObject *__pyx_pf_4liba_10polytrack5_8vel(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack5_10acc(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack5_1k___get__(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack5_12__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack5 *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack5_14__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static int __pyx_pf_4liba_10polytrack7___cinit__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1, a_real_t __pyx_v_a0, a_real_t __pyx_v_a1, a_real_t __pyx_v_j0, a_real_t __pyx_v_j1); /* proto */
-static PyObject *__pyx_pf_4liba_10polytrack7_2gen(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1, a_real_t __pyx_v_a0, a_real_t __pyx_v_a1, a_real_t __pyx_v_j0, a_real_t __pyx_v_j1); /* proto */
+static int __pyx_pf_4liba_10polytrack7___cinit__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1, a_float_t __pyx_v_a0, a_float_t __pyx_v_a1, a_float_t __pyx_v_j0, a_float_t __pyx_v_j1); /* proto */
+static PyObject *__pyx_pf_4liba_10polytrack7_2gen(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1, a_float_t __pyx_v_a0, a_float_t __pyx_v_a1, a_float_t __pyx_v_j0, a_float_t __pyx_v_j1); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack7_4__call__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack7_6pos(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
-static PyObject *__pyx_pf_4liba_10polytrack7_8vec(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
+static PyObject *__pyx_pf_4liba_10polytrack7_8vel(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack7_10acc(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack7_12jer(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack7_1k___get__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack7_14__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack7 *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_4liba_10polytrack7_16__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
-static PyObject *__pyx_pf_4liba_16__pyx_unpickle_mf(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_4liba_2tf___call__(struct __pyx_obj_4liba_tf *__pyx_v_self, a_float_t __pyx_v_x); /* proto */
+static PyObject *__pyx_pf_4liba_2tf_2zero(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_2tf_5input___get__(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_2tf_3num___get__(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_2tf_3num_2__set__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_num); /* proto */
+static PyObject *__pyx_pf_4liba_2tf_6output___get__(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_2tf_3den___get__(struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
+static int __pyx_pf_4liba_2tf_3den_2__set__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_den); /* proto */
+static int __pyx_pf_4liba_2tf_4__cinit__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_num, PyObject *__pyx_v_den); /* proto */
+static PyObject *__pyx_pf_4liba_2tf_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_tf *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_4liba_2tf_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_tf *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_4liba_14version(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_16version_major(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_18version_minor(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_20version_patch(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_4liba_22__pyx_unpickle_mf(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
 static int __pyx_pf_7cpython_5array_5array___getbuffer__(arrayobject *__pyx_v_self, Py_buffer *__pyx_v_info, CYTHON_UNUSED int __pyx_v_flags); /* proto */
 static void __pyx_pf_7cpython_5array_5array_2__releasebuffer__(CYTHON_UNUSED arrayobject *__pyx_v_self, Py_buffer *__pyx_v_info); /* proto */
+static PyObject *__pyx_tp_new_4liba_crc8(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_4liba_crc16(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_4liba_crc32(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_4liba_crc64(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba_mf(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba_tf(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba_pid(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba_fpid(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_4liba_pid_fuzzy(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_4liba_pid_neuron(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba_polytrack3(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba_polytrack5(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba_polytrack7(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct____cinit__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_4liba_tf(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_4liba___pyx_scope_struct__rule(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_1_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_2_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_3_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_4_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_5_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_6_base(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_7_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_8_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_9_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_10_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_11_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_int_0;
 static PyObject *__pyx_int_1;
 static PyObject *__pyx_int_222419149;
 static PyObject *__pyx_int_228825662;
 static PyObject *__pyx_int_238750788;
-static PyObject *__pyx_tuple_;
-static PyObject *__pyx_tuple__2;
+static a_u8_t __pyx_k_;
+static a_u8_t __pyx_k__2;
+static a_u16_t __pyx_k__5;
+static a_u16_t __pyx_k__6;
+static a_u32_t __pyx_k__9;
+static a_u32_t __pyx_k__10;
+static a_u64_t __pyx_k__13;
+static a_u64_t __pyx_k__14;
+static a_float_t __pyx_k__17;
+static a_float_t __pyx_k__18;
+static a_float_t __pyx_k__21;
+static a_float_t __pyx_k__22;
+static a_float_t __pyx_k__25;
+static a_float_t __pyx_k__26;
 static PyObject *__pyx_tuple__3;
 static PyObject *__pyx_tuple__4;
-static PyObject *__pyx_tuple__5;
-static PyObject *__pyx_tuple__6;
 static PyObject *__pyx_tuple__7;
 static PyObject *__pyx_tuple__8;
-static PyObject *__pyx_tuple__9;
-static PyObject *__pyx_tuple__10;
 static PyObject *__pyx_tuple__11;
 static PyObject *__pyx_tuple__12;
-static PyObject *__pyx_tuple__13;
-static PyObject *__pyx_tuple__18;
+static PyObject *__pyx_tuple__15;
+static PyObject *__pyx_tuple__16;
+static PyObject *__pyx_tuple__19;
 static PyObject *__pyx_tuple__20;
-static PyObject *__pyx_tuple__22;
+static PyObject *__pyx_tuple__23;
 static PyObject *__pyx_tuple__24;
-static PyObject *__pyx_tuple__26;
+static PyObject *__pyx_tuple__27;
 static PyObject *__pyx_tuple__28;
+static PyObject *__pyx_tuple__29;
 static PyObject *__pyx_tuple__30;
+static PyObject *__pyx_tuple__31;
 static PyObject *__pyx_tuple__32;
+static PyObject *__pyx_tuple__33;
 static PyObject *__pyx_tuple__34;
+static PyObject *__pyx_tuple__35;
 static PyObject *__pyx_tuple__36;
+static PyObject *__pyx_tuple__37;
 static PyObject *__pyx_tuple__38;
 static PyObject *__pyx_tuple__40;
-static PyObject *__pyx_codeobj__14;
-static PyObject *__pyx_codeobj__15;
-static PyObject *__pyx_codeobj__16;
-static PyObject *__pyx_codeobj__17;
-static PyObject *__pyx_codeobj__19;
-static PyObject *__pyx_codeobj__21;
-static PyObject *__pyx_codeobj__23;
-static PyObject *__pyx_codeobj__25;
-static PyObject *__pyx_codeobj__27;
-static PyObject *__pyx_codeobj__29;
-static PyObject *__pyx_codeobj__31;
-static PyObject *__pyx_codeobj__33;
-static PyObject *__pyx_codeobj__35;
-static PyObject *__pyx_codeobj__37;
+static PyObject *__pyx_tuple__42;
+static PyObject *__pyx_tuple__44;
+static PyObject *__pyx_tuple__46;
+static PyObject *__pyx_tuple__48;
+static PyObject *__pyx_tuple__50;
+static PyObject *__pyx_tuple__52;
+static PyObject *__pyx_tuple__54;
+static PyObject *__pyx_tuple__56;
+static PyObject *__pyx_tuple__58;
+static PyObject *__pyx_tuple__60;
+static PyObject *__pyx_tuple__62;
+static PyObject *__pyx_tuple__64;
+static PyObject *__pyx_tuple__70;
 static PyObject *__pyx_codeobj__39;
 static PyObject *__pyx_codeobj__41;
+static PyObject *__pyx_codeobj__43;
+static PyObject *__pyx_codeobj__45;
+static PyObject *__pyx_codeobj__47;
+static PyObject *__pyx_codeobj__49;
+static PyObject *__pyx_codeobj__51;
+static PyObject *__pyx_codeobj__53;
+static PyObject *__pyx_codeobj__55;
+static PyObject *__pyx_codeobj__57;
+static PyObject *__pyx_codeobj__59;
+static PyObject *__pyx_codeobj__61;
+static PyObject *__pyx_codeobj__63;
+static PyObject *__pyx_codeobj__65;
+static PyObject *__pyx_codeobj__66;
+static PyObject *__pyx_codeobj__67;
+static PyObject *__pyx_codeobj__68;
+static PyObject *__pyx_codeobj__69;
+static PyObject *__pyx_codeobj__71;
 /* Late includes */
 
-/* "python/src/a.pyx":4
+/* "python/src/a.pyx":6
+ * from cpython.array cimport array
  * 
- * from cpython cimport *
  * cdef bint iterable(object o):             # <<<<<<<<<<<<<<
  *     return PyObject_HasAttrString(o, "__contains__")
  * 
  */
 
 static int __pyx_f_4liba_iterable(PyObject *__pyx_v_o) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("iterable", 0);
 
-  /* "python/src/a.pyx":5
- * from cpython cimport *
+  /* "python/src/a.pyx":7
+ * 
  * cdef bint iterable(object o):
  *     return PyObject_HasAttrString(o, "__contains__")             # <<<<<<<<<<<<<<
  * 
- * from cpython.array cimport array
+ * cdef array u8s(object o = ()):
  */
   __pyx_r = PyObject_HasAttrString(__pyx_v_o, ((char const *)"__contains__"));
   goto __pyx_L0;
 
-  /* "python/src/a.pyx":4
+  /* "python/src/a.pyx":6
+ * from cpython.array cimport array
  * 
- * from cpython cimport *
  * cdef bint iterable(object o):             # <<<<<<<<<<<<<<
  *     return PyObject_HasAttrString(o, "__contains__")
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a.pyx":8
+/* "python/src/a.pyx":9
+ *     return PyObject_HasAttrString(o, "__contains__")
+ * 
+ * cdef array u8s(object o = ()):             # <<<<<<<<<<<<<<
+ *     return array('B', o)
  * 
- * from cpython.array cimport array
- * cdef array reals(object o = ()):             # <<<<<<<<<<<<<<
- *     IF A_SIZE_REAL == 8:
- *         return array('d', o)
  */
 
-static arrayobject *__pyx_f_4liba_reals(struct __pyx_opt_args_4liba_reals *__pyx_optional_args) {
+static arrayobject *__pyx_f_4liba_u8s(struct __pyx_opt_args_4liba_u8s *__pyx_optional_args) {
   PyObject *__pyx_v_o = ((PyObject *)__pyx_empty_tuple);
   arrayobject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("reals", 0);
+  __Pyx_RefNannySetupContext("u8s", 0);
   if (__pyx_optional_args) {
     if (__pyx_optional_args->__pyx_n > 0) {
       __pyx_v_o = __pyx_optional_args->o;
     }
   }
 
   /* "python/src/a.pyx":10
- * cdef array reals(object o = ()):
- *     IF A_SIZE_REAL == 8:
- *         return array('d', o)             # <<<<<<<<<<<<<<
- *     IF A_SIZE_REAL == 4:
- *         return array('f', o)
+ * 
+ * cdef array u8s(object o = ()):
+ *     return array('B', o)             # <<<<<<<<<<<<<<
+ * 
+ * cdef array u16s(object o = ()):
  */
   __Pyx_XDECREF(((PyObject *)__pyx_r));
   __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_INCREF(__pyx_n_u_d);
-  __Pyx_GIVEREF(__pyx_n_u_d);
-  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_n_u_d);
+  __Pyx_INCREF(__pyx_n_u_B);
+  __Pyx_GIVEREF(__pyx_n_u_B);
+  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_n_u_B);
   __Pyx_INCREF(__pyx_v_o);
   __Pyx_GIVEREF(__pyx_v_o);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_o);
   __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = ((arrayobject *)__pyx_t_2);
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a.pyx":8
+  /* "python/src/a.pyx":9
+ *     return PyObject_HasAttrString(o, "__contains__")
+ * 
+ * cdef array u8s(object o = ()):             # <<<<<<<<<<<<<<
+ *     return array('B', o)
  * 
- * from cpython.array cimport array
- * cdef array reals(object o = ()):             # <<<<<<<<<<<<<<
- *     IF A_SIZE_REAL == 8:
- *         return array('d', o)
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("liba.reals", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.u8s", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF((PyObject *)__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/version.pxi":3
- * from a.version cimport *
+/* "python/src/a.pyx":12
+ *     return array('B', o)
+ * 
+ * cdef array u16s(object o = ()):             # <<<<<<<<<<<<<<
+ *     return array('H', o)
  * 
- * def version():             # <<<<<<<<<<<<<<
- *     '''algorithm library version'''
- *     if PY_MAJOR_VERSION >= 3:
  */
 
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_1version(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_version[] = "algorithm library version";
-static PyMethodDef __pyx_mdef_4liba_1version = {"version", (PyCFunction)__pyx_pw_4liba_1version, METH_NOARGS, __pyx_doc_4liba_version};
-static PyObject *__pyx_pw_4liba_1version(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
+static arrayobject *__pyx_f_4liba_u16s(struct __pyx_opt_args_4liba_u16s *__pyx_optional_args) {
+  PyObject *__pyx_v_o = ((PyObject *)__pyx_empty_tuple);
+  arrayobject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("version (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_version(__pyx_self);
+  PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("u16s", 0);
+  if (__pyx_optional_args) {
+    if (__pyx_optional_args->__pyx_n > 0) {
+      __pyx_v_o = __pyx_optional_args->o;
+    }
+  }
+
+  /* "python/src/a.pyx":13
+ * 
+ * cdef array u16s(object o = ()):
+ *     return array('H', o)             # <<<<<<<<<<<<<<
+ * 
+ * cdef array u32s(object o = ()):
+ */
+  __Pyx_XDECREF(((PyObject *)__pyx_r));
+  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 13, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_INCREF(__pyx_n_u_H);
+  __Pyx_GIVEREF(__pyx_n_u_H);
+  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_n_u_H);
+  __Pyx_INCREF(__pyx_v_o);
+  __Pyx_GIVEREF(__pyx_v_o);
+  PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_o);
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 13, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_r = ((arrayobject *)__pyx_t_2);
+  __pyx_t_2 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a.pyx":12
+ *     return array('B', o)
+ * 
+ * cdef array u16s(object o = ()):             # <<<<<<<<<<<<<<
+ *     return array('H', o)
+ * 
+ */
 
   /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.u16s", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = 0;
+  __pyx_L0:;
+  __Pyx_XGIVEREF((PyObject *)__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_version(CYTHON_UNUSED PyObject *__pyx_self) {
-  PyObject *__pyx_r = NULL;
+/* "python/src/a.pyx":15
+ *     return array('H', o)
+ * 
+ * cdef array u32s(object o = ()):             # <<<<<<<<<<<<<<
+ *     if UINT32_MAX == UINT_MAX:
+ *         return array('I', o)
+ */
+
+static arrayobject *__pyx_f_4liba_u32s(struct __pyx_opt_args_4liba_u32s *__pyx_optional_args) {
+  PyObject *__pyx_v_o = ((PyObject *)__pyx_empty_tuple);
+  arrayobject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
-  a_cstr_t __pyx_t_2;
+  PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("version", 0);
+  __Pyx_RefNannySetupContext("u32s", 0);
+  if (__pyx_optional_args) {
+    if (__pyx_optional_args->__pyx_n > 0) {
+      __pyx_v_o = __pyx_optional_args->o;
+    }
+  }
 
-  /* "python/src/a/version.pxi":5
- * def version():
- *     '''algorithm library version'''
- *     if PY_MAJOR_VERSION >= 3:             # <<<<<<<<<<<<<<
- *         return a_version().decode()
- *     return a_version()
+  /* "python/src/a.pyx":16
+ * 
+ * cdef array u32s(object o = ()):
+ *     if UINT32_MAX == UINT_MAX:             # <<<<<<<<<<<<<<
+ *         return array('I', o)
+ *     if UINT32_MAX == ULONG_MAX:
  */
-  __pyx_t_1 = ((PY_MAJOR_VERSION >= 3) != 0);
+  __pyx_t_1 = ((UINT32_MAX == UINT_MAX) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/version.pxi":6
- *     '''algorithm library version'''
- *     if PY_MAJOR_VERSION >= 3:
- *         return a_version().decode()             # <<<<<<<<<<<<<<
- *     return a_version()
+    /* "python/src/a.pyx":17
+ * cdef array u32s(object o = ()):
+ *     if UINT32_MAX == UINT_MAX:
+ *         return array('I', o)             # <<<<<<<<<<<<<<
+ *     if UINT32_MAX == ULONG_MAX:
+ *         return array('L', o)
+ */
+    __Pyx_XDECREF(((PyObject *)__pyx_r));
+    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 17, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_INCREF(__pyx_n_u_I);
+    __Pyx_GIVEREF(__pyx_n_u_I);
+    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_I);
+    __Pyx_INCREF(__pyx_v_o);
+    __Pyx_GIVEREF(__pyx_v_o);
+    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_o);
+    __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(3, 17, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_r = ((arrayobject *)__pyx_t_3);
+    __pyx_t_3 = 0;
+    goto __pyx_L0;
+
+    /* "python/src/a.pyx":16
  * 
+ * cdef array u32s(object o = ()):
+ *     if UINT32_MAX == UINT_MAX:             # <<<<<<<<<<<<<<
+ *         return array('I', o)
+ *     if UINT32_MAX == ULONG_MAX:
  */
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = a_version();
-    __pyx_t_3 = __Pyx_decode_c_string(__pyx_t_2, 0, strlen(__pyx_t_2), NULL, NULL, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(4, 6, __pyx_L1_error)
+  }
+
+  /* "python/src/a.pyx":18
+ *     if UINT32_MAX == UINT_MAX:
+ *         return array('I', o)
+ *     if UINT32_MAX == ULONG_MAX:             # <<<<<<<<<<<<<<
+ *         return array('L', o)
+ * 
+ */
+  __pyx_t_1 = ((UINT32_MAX == ULONG_MAX) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a.pyx":19
+ *         return array('I', o)
+ *     if UINT32_MAX == ULONG_MAX:
+ *         return array('L', o)             # <<<<<<<<<<<<<<
+ * 
+ * cdef array u64s(object o = ()):
+ */
+    __Pyx_XDECREF(((PyObject *)__pyx_r));
+    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(3, 19, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_INCREF(__pyx_t_3);
-    __pyx_r = __pyx_t_3;
+    __Pyx_INCREF(__pyx_n_u_L);
+    __Pyx_GIVEREF(__pyx_n_u_L);
+    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_n_u_L);
+    __Pyx_INCREF(__pyx_v_o);
+    __Pyx_GIVEREF(__pyx_v_o);
+    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_o);
+    __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_r = ((arrayobject *)__pyx_t_2);
+    __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "python/src/a/version.pxi":5
- * def version():
- *     '''algorithm library version'''
- *     if PY_MAJOR_VERSION >= 3:             # <<<<<<<<<<<<<<
- *         return a_version().decode()
- *     return a_version()
+    /* "python/src/a.pyx":18
+ *     if UINT32_MAX == UINT_MAX:
+ *         return array('I', o)
+ *     if UINT32_MAX == ULONG_MAX:             # <<<<<<<<<<<<<<
+ *         return array('L', o)
+ * 
  */
   }
 
-  /* "python/src/a/version.pxi":7
- *     if PY_MAJOR_VERSION >= 3:
- *         return a_version().decode()
- *     return a_version()             # <<<<<<<<<<<<<<
+  /* "python/src/a.pyx":15
+ *     return array('H', o)
  * 
- * def version_major() -> a_uint_t:
+ * cdef array u32s(object o = ()):             # <<<<<<<<<<<<<<
+ *     if UINT32_MAX == UINT_MAX:
+ *         return array('I', o)
  */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_3 = __Pyx_PyBytes_FromString(a_version()); if (unlikely(!__pyx_t_3)) __PYX_ERR(4, 7, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_r = __pyx_t_3;
-  __pyx_t_3 = 0;
+
+  /* function exit code */
+  __pyx_r = ((arrayobject *)Py_None); __Pyx_INCREF(Py_None);
   goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_AddTraceback("liba.u32s", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = 0;
+  __pyx_L0:;
+  __Pyx_XGIVEREF((PyObject *)__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
 
-  /* "python/src/a/version.pxi":3
- * from a.version cimport *
+/* "python/src/a.pyx":21
+ *         return array('L', o)
  * 
- * def version():             # <<<<<<<<<<<<<<
- *     '''algorithm library version'''
- *     if PY_MAJOR_VERSION >= 3:
+ * cdef array u64s(object o = ()):             # <<<<<<<<<<<<<<
+ *     if UINT64_MAX == ULONG_MAX:
+ *         return array('L', o)
+ */
+
+static arrayobject *__pyx_f_4liba_u64s(struct __pyx_opt_args_4liba_u64s *__pyx_optional_args) {
+  PyObject *__pyx_v_o = ((PyObject *)__pyx_empty_tuple);
+  arrayobject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  PyObject *__pyx_t_3 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("u64s", 0);
+  if (__pyx_optional_args) {
+    if (__pyx_optional_args->__pyx_n > 0) {
+      __pyx_v_o = __pyx_optional_args->o;
+    }
+  }
+
+  /* "python/src/a.pyx":22
+ * 
+ * cdef array u64s(object o = ()):
+ *     if UINT64_MAX == ULONG_MAX:             # <<<<<<<<<<<<<<
+ *         return array('L', o)
+ *     if UINT64_MAX == ULLONG_MAX:
+ */
+  __pyx_t_1 = ((UINT64_MAX == ULONG_MAX) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a.pyx":23
+ * cdef array u64s(object o = ()):
+ *     if UINT64_MAX == ULONG_MAX:
+ *         return array('L', o)             # <<<<<<<<<<<<<<
+ *     if UINT64_MAX == ULLONG_MAX:
+ *         return array('Q', o)
+ */
+    __Pyx_XDECREF(((PyObject *)__pyx_r));
+    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 23, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_INCREF(__pyx_n_u_L);
+    __Pyx_GIVEREF(__pyx_n_u_L);
+    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_L);
+    __Pyx_INCREF(__pyx_v_o);
+    __Pyx_GIVEREF(__pyx_v_o);
+    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_o);
+    __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(3, 23, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_r = ((arrayobject *)__pyx_t_3);
+    __pyx_t_3 = 0;
+    goto __pyx_L0;
+
+    /* "python/src/a.pyx":22
+ * 
+ * cdef array u64s(object o = ()):
+ *     if UINT64_MAX == ULONG_MAX:             # <<<<<<<<<<<<<<
+ *         return array('L', o)
+ *     if UINT64_MAX == ULLONG_MAX:
+ */
+  }
+
+  /* "python/src/a.pyx":24
+ *     if UINT64_MAX == ULONG_MAX:
+ *         return array('L', o)
+ *     if UINT64_MAX == ULLONG_MAX:             # <<<<<<<<<<<<<<
+ *         return array('Q', o)
+ * 
+ */
+  __pyx_t_1 = ((UINT64_MAX == ULLONG_MAX) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a.pyx":25
+ *         return array('L', o)
+ *     if UINT64_MAX == ULLONG_MAX:
+ *         return array('Q', o)             # <<<<<<<<<<<<<<
+ * 
+ * cdef array floats(object o = ()):
+ */
+    __Pyx_XDECREF(((PyObject *)__pyx_r));
+    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(3, 25, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_INCREF(__pyx_n_u_Q);
+    __Pyx_GIVEREF(__pyx_n_u_Q);
+    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_n_u_Q);
+    __Pyx_INCREF(__pyx_v_o);
+    __Pyx_GIVEREF(__pyx_v_o);
+    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_o);
+    __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 25, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_r = ((arrayobject *)__pyx_t_2);
+    __pyx_t_2 = 0;
+    goto __pyx_L0;
+
+    /* "python/src/a.pyx":24
+ *     if UINT64_MAX == ULONG_MAX:
+ *         return array('L', o)
+ *     if UINT64_MAX == ULLONG_MAX:             # <<<<<<<<<<<<<<
+ *         return array('Q', o)
+ * 
+ */
+  }
+
+  /* "python/src/a.pyx":21
+ *         return array('L', o)
+ * 
+ * cdef array u64s(object o = ()):             # <<<<<<<<<<<<<<
+ *     if UINT64_MAX == ULONG_MAX:
+ *         return array('L', o)
  */
 
   /* function exit code */
+  __pyx_r = ((arrayobject *)Py_None); __Pyx_INCREF(Py_None);
+  goto __pyx_L0;
   __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_AddTraceback("liba.version", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.u64s", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = 0;
+  __pyx_L0:;
+  __Pyx_XGIVEREF((PyObject *)__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a.pyx":27
+ *         return array('Q', o)
+ * 
+ * cdef array floats(object o = ()):             # <<<<<<<<<<<<<<
+ *     if A_FLOAT_TYPE == A_FLOAT_DOUBLE:
+ *         return array('d', o)
+ */
+
+static arrayobject *__pyx_f_4liba_floats(struct __pyx_opt_args_4liba_floats *__pyx_optional_args) {
+  PyObject *__pyx_v_o = ((PyObject *)__pyx_empty_tuple);
+  arrayobject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  PyObject *__pyx_t_3 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("floats", 0);
+  if (__pyx_optional_args) {
+    if (__pyx_optional_args->__pyx_n > 0) {
+      __pyx_v_o = __pyx_optional_args->o;
+    }
+  }
+
+  /* "python/src/a.pyx":28
+ * 
+ * cdef array floats(object o = ()):
+ *     if A_FLOAT_TYPE == A_FLOAT_DOUBLE:             # <<<<<<<<<<<<<<
+ *         return array('d', o)
+ *     if A_FLOAT_TYPE == A_FLOAT_SINGLE:
+ */
+  __pyx_t_1 = ((A_FLOAT_TYPE == A_FLOAT_DOUBLE) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a.pyx":29
+ * cdef array floats(object o = ()):
+ *     if A_FLOAT_TYPE == A_FLOAT_DOUBLE:
+ *         return array('d', o)             # <<<<<<<<<<<<<<
+ *     if A_FLOAT_TYPE == A_FLOAT_SINGLE:
+ *         return array('f', o)
+ */
+    __Pyx_XDECREF(((PyObject *)__pyx_r));
+    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 29, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_INCREF(__pyx_n_u_d);
+    __Pyx_GIVEREF(__pyx_n_u_d);
+    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_d);
+    __Pyx_INCREF(__pyx_v_o);
+    __Pyx_GIVEREF(__pyx_v_o);
+    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_o);
+    __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(3, 29, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_r = ((arrayobject *)__pyx_t_3);
+    __pyx_t_3 = 0;
+    goto __pyx_L0;
+
+    /* "python/src/a.pyx":28
+ * 
+ * cdef array floats(object o = ()):
+ *     if A_FLOAT_TYPE == A_FLOAT_DOUBLE:             # <<<<<<<<<<<<<<
+ *         return array('d', o)
+ *     if A_FLOAT_TYPE == A_FLOAT_SINGLE:
+ */
+  }
+
+  /* "python/src/a.pyx":30
+ *     if A_FLOAT_TYPE == A_FLOAT_DOUBLE:
+ *         return array('d', o)
+ *     if A_FLOAT_TYPE == A_FLOAT_SINGLE:             # <<<<<<<<<<<<<<
+ *         return array('f', o)
+ * 
+ */
+  __pyx_t_1 = ((A_FLOAT_TYPE == A_FLOAT_SINGLE) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a.pyx":31
+ *         return array('d', o)
+ *     if A_FLOAT_TYPE == A_FLOAT_SINGLE:
+ *         return array('f', o)             # <<<<<<<<<<<<<<
+ * 
+ * @cython.wraparound(False)
+ */
+    __Pyx_XDECREF(((PyObject *)__pyx_r));
+    __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(3, 31, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_INCREF(__pyx_n_u_f);
+    __Pyx_GIVEREF(__pyx_n_u_f);
+    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_n_u_f);
+    __Pyx_INCREF(__pyx_v_o);
+    __Pyx_GIVEREF(__pyx_v_o);
+    PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_o);
+    __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 31, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_r = ((arrayobject *)__pyx_t_2);
+    __pyx_t_2 = 0;
+    goto __pyx_L0;
+
+    /* "python/src/a.pyx":30
+ *     if A_FLOAT_TYPE == A_FLOAT_DOUBLE:
+ *         return array('d', o)
+ *     if A_FLOAT_TYPE == A_FLOAT_SINGLE:             # <<<<<<<<<<<<<<
+ *         return array('f', o)
+ * 
+ */
+  }
+
+  /* "python/src/a.pyx":27
+ *         return array('Q', o)
+ * 
+ * cdef array floats(object o = ()):             # <<<<<<<<<<<<<<
+ *     if A_FLOAT_TYPE == A_FLOAT_DOUBLE:
+ *         return array('d', o)
+ */
+
+  /* function exit code */
+  __pyx_r = ((arrayobject *)Py_None); __Pyx_INCREF(Py_None);
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_AddTraceback("liba.floats", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = 0;
+  __pyx_L0:;
+  __Pyx_XGIVEREF((PyObject *)__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a.pyx":35
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def hash_bkdr(str: bytes, val: a_umax_t) -> a_umax_t:             # <<<<<<<<<<<<<<
+ *     return a_hash_bkdr(str, val)
+ * 
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_1hash_bkdr(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static PyMethodDef __pyx_mdef_4liba_1hash_bkdr = {"hash_bkdr", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_1hash_bkdr, METH_VARARGS|METH_KEYWORDS, 0};
+static PyObject *__pyx_pw_4liba_1hash_bkdr(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  PyObject *__pyx_v_str = 0;
+  a_umax_t __pyx_v_val;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("hash_bkdr (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_str,&__pyx_n_s_val,0};
+    PyObject* values[2] = {0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_str)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_val)) != 0)) kw_args--;
+        else {
+          __Pyx_RaiseArgtupleInvalid("hash_bkdr", 1, 2, 2, 1); __PYX_ERR(3, 35, __pyx_L3_error)
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "hash_bkdr") < 0)) __PYX_ERR(3, 35, __pyx_L3_error)
+      }
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
+      goto __pyx_L5_argtuple_error;
+    } else {
+      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+    }
+    __pyx_v_str = ((PyObject*)values[0]);
+    __pyx_v_val = __Pyx_PyInt_As_uintmax_t(values[1]); if (unlikely((__pyx_v_val == ((a_umax_t)-1)) && PyErr_Occurred())) __PYX_ERR(3, 35, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("hash_bkdr", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(3, 35, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.hash_bkdr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return NULL;
+  __pyx_L4_argument_unpacking_done:;
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_str), (&PyBytes_Type), 1, "str", 1))) __PYX_ERR(3, 35, __pyx_L1_error)
+  __pyx_r = __pyx_pf_4liba_hash_bkdr(__pyx_self, __pyx_v_str, __pyx_v_val);
+
+  /* function exit code */
+  goto __pyx_L0;
+  __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/version.pxi":9
- *     return a_version()
+static PyObject *__pyx_pf_4liba_hash_bkdr(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_str, a_umax_t __pyx_v_val) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  char const *__pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("hash_bkdr", 0);
+
+  /* "python/src/a.pyx":36
+ * @cython.boundscheck(False)
+ * def hash_bkdr(str: bytes, val: a_umax_t) -> a_umax_t:
+ *     return a_hash_bkdr(str, val)             # <<<<<<<<<<<<<<
  * 
- * def version_major() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version major'''
- *     return a_version_major()
+ * include "a/crc.pxi"
+ */
+  __Pyx_XDECREF(__pyx_r);
+  if (unlikely(__pyx_v_str == Py_None)) {
+    PyErr_SetString(PyExc_TypeError, "expected bytes, NoneType found");
+    __PYX_ERR(3, 36, __pyx_L1_error)
+  }
+  __pyx_t_1 = __Pyx_PyBytes_AsString(__pyx_v_str); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(3, 36, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_uintmax_t(a_hash_bkdr(__pyx_t_1, __pyx_v_val)); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 36, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a.pyx":35
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def hash_bkdr(str: bytes, val: a_umax_t) -> a_umax_t:             # <<<<<<<<<<<<<<
+ *     return a_hash_bkdr(str, val)
+ * 
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.hash_bkdr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":10
+ *     cdef array table
+ *     @property
+ *     def table(self):             # <<<<<<<<<<<<<<
+ *         return self.table
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3version_major(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_2version_major[] = "algorithm library version major";
-static PyMethodDef __pyx_mdef_4liba_3version_major = {"version_major", (PyCFunction)__pyx_pw_4liba_3version_major, METH_NOARGS, __pyx_doc_4liba_2version_major};
-static PyObject *__pyx_pw_4liba_3version_major(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_4crc8_5table_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_4crc8_5table_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("version_major (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_2version_major(__pyx_self);
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_4crc8_5table___get__(((struct __pyx_obj_4liba_crc8 *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_2version_major(CYTHON_UNUSED PyObject *__pyx_self) {
+static PyObject *__pyx_pf_4liba_4crc8_5table___get__(struct __pyx_obj_4liba_crc8 *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/crc.pxi":11
+ *     @property
+ *     def table(self):
+ *         return self.table             # <<<<<<<<<<<<<<
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):
+ *         self.table = u8s([0] * A_CRC_SIZ)
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self->table));
+  __pyx_r = ((PyObject *)__pyx_v_self->table);
+  goto __pyx_L0;
+
+  /* "python/src/a/crc.pxi":10
+ *     cdef array table
+ *     @property
+ *     def table(self):             # <<<<<<<<<<<<<<
+ *         return self.table
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):
+ */
+
+  /* function exit code */
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":12
+ *     def table(self):
+ *         return self.table
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u8s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_4crc8_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static int __pyx_pw_4liba_4crc8_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_u8_t __pyx_v_poly;
+  PyObject *__pyx_v_high = 0;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_poly,&__pyx_n_s_high,0};
+    PyObject* values[2] = {0,0};
+    values[1] = ((PyObject *)Py_False);
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_poly);
+          if (value) { values[0] = value; kw_args--; }
+        }
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_high);
+          if (value) { values[1] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(4, 12, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    if (values[0]) {
+      __pyx_v_poly = __Pyx_PyInt_As_uint8_t(values[0]); if (unlikely((__pyx_v_poly == ((a_u8_t)-1)) && PyErr_Occurred())) __PYX_ERR(4, 12, __pyx_L3_error)
+    } else {
+      __pyx_v_poly = __pyx_k_;
+    }
+    __pyx_v_high = values[1];
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(4, 12, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.crc8.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_4crc8___cinit__(((struct __pyx_obj_4liba_crc8 *)__pyx_v_self), __pyx_v_poly, __pyx_v_high);
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_4crc8___cinit__(struct __pyx_obj_4liba_crc8 *__pyx_v_self, a_u8_t __pyx_v_poly, PyObject *__pyx_v_high) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
+  struct __pyx_opt_args_4liba_u8s __pyx_t_3;
+  int __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("version_major", 0);
+  __Pyx_RefNannySetupContext("__cinit__", 0);
 
-  /* "python/src/a/version.pxi":11
- * def version_major() -> a_uint_t:
- *     '''algorithm library version major'''
- *     return a_version_major()             # <<<<<<<<<<<<<<
+  /* "python/src/a/crc.pxi":13
+ *         return self.table
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):
+ *         self.table = u8s([0] * A_CRC_SIZ)             # <<<<<<<<<<<<<<
+ *         if high:
+ *             a_crc8h_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ */
+  __pyx_t_1 = PyList_New(1 * (A_CRC_SIZ)); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 13, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  { Py_ssize_t __pyx_temp;
+    for (__pyx_temp=0; __pyx_temp < A_CRC_SIZ; __pyx_temp++) {
+      __Pyx_INCREF(__pyx_int_0);
+      __Pyx_GIVEREF(__pyx_int_0);
+      PyList_SET_ITEM(__pyx_t_1, __pyx_temp, __pyx_int_0);
+    }
+  }
+  __pyx_t_3.__pyx_n = 1;
+  __pyx_t_3.o = __pyx_t_1;
+  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_u8s(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(4, 13, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_GIVEREF(__pyx_t_2);
+  __Pyx_GOTREF(__pyx_v_self->table);
+  __Pyx_DECREF(((PyObject *)__pyx_v_self->table));
+  __pyx_v_self->table = ((arrayobject *)__pyx_t_2);
+  __pyx_t_2 = 0;
+
+  /* "python/src/a/crc.pxi":14
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):
+ *         self.table = u8s([0] * A_CRC_SIZ)
+ *         if high:             # <<<<<<<<<<<<<<
+ *             a_crc8h_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ */
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_high); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(4, 14, __pyx_L1_error)
+  if (__pyx_t_4) {
+
+    /* "python/src/a/crc.pxi":15
+ *         self.table = u8s([0] * A_CRC_SIZ)
+ *         if high:
+ *             a_crc8h_init(<a_u8_t *>self.table.data.as_voidptr, poly)             # <<<<<<<<<<<<<<
+ *         else:
+ *             a_crc8l_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ */
+    a_crc8h_init(((a_u8_t *)__pyx_v_self->table->data.as_voidptr), __pyx_v_poly);
+
+    /* "python/src/a/crc.pxi":14
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):
+ *         self.table = u8s([0] * A_CRC_SIZ)
+ *         if high:             # <<<<<<<<<<<<<<
+ *             a_crc8h_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "python/src/a/crc.pxi":17
+ *             a_crc8h_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ *             a_crc8l_init(<a_u8_t *>self.table.data.as_voidptr, poly)             # <<<<<<<<<<<<<<
+ *     def __call__(self, data: bytes, init: a_u8_t = A_CRC8_INIT) -> a_u8_t:
+ *         return a_crc8(<a_u8_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
+ */
+  /*else*/ {
+    a_crc8l_init(((a_u8_t *)__pyx_v_self->table->data.as_voidptr), __pyx_v_poly);
+  }
+  __pyx_L3:;
+
+  /* "python/src/a/crc.pxi":12
+ *     def table(self):
+ *         return self.table
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u8s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.crc8.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":18
+ *         else:
+ *             a_crc8l_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u8_t = A_CRC8_INIT) -> a_u8_t:             # <<<<<<<<<<<<<<
+ *         return a_crc8(<a_u8_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
+ * 
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_4crc8_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static PyObject *__pyx_pw_4liba_4crc8_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  PyObject *__pyx_v_data = 0;
+  a_u8_t __pyx_v_init;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_data,&__pyx_n_s_init,0};
+    PyObject* values[2] = {0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_data)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_init);
+          if (value) { values[1] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(4, 18, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    __pyx_v_data = ((PyObject*)values[0]);
+    if (values[1]) {
+      __pyx_v_init = __Pyx_PyInt_As_uint8_t(values[1]); if (unlikely((__pyx_v_init == ((a_u8_t)-1)) && PyErr_Occurred())) __PYX_ERR(4, 18, __pyx_L3_error)
+    } else {
+      __pyx_v_init = __pyx_k__2;
+    }
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__call__", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(4, 18, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.crc8.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return NULL;
+  __pyx_L4_argument_unpacking_done:;
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_data), (&PyBytes_Type), 1, "data", 1))) __PYX_ERR(4, 18, __pyx_L1_error)
+  __pyx_r = __pyx_pf_4liba_4crc8_2__call__(((struct __pyx_obj_4liba_crc8 *)__pyx_v_self), __pyx_v_data, __pyx_v_init);
+
+  /* function exit code */
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_4crc8_2__call__(struct __pyx_obj_4liba_crc8 *__pyx_v_self, PyObject *__pyx_v_data, a_u8_t __pyx_v_init) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  Py_ssize_t __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__call__", 0);
+
+  /* "python/src/a/crc.pxi":19
+ *             a_crc8l_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u8_t = A_CRC8_INIT) -> a_u8_t:
+ *         return a_crc8(<a_u8_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)             # <<<<<<<<<<<<<<
  * 
- * def version_minor() -> a_uint_t:
+ * @cython.wraparound(False)
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_a_uint_t(a_version_major()); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 11, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
+  if (unlikely(__pyx_v_data == Py_None)) {
+    PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
+    __PYX_ERR(4, 19, __pyx_L1_error)
+  }
+  __pyx_t_1 = PyBytes_GET_SIZE(__pyx_v_data); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(4, 19, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_uint8_t(a_crc8(((a_u8_t *)__pyx_v_self->table->data.as_voidptr), ((void const *)__pyx_v_data), __pyx_t_1, __pyx_v_init)); if (unlikely(!__pyx_t_2)) __PYX_ERR(4, 19, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/version.pxi":9
- *     return a_version()
+  /* "python/src/a/crc.pxi":18
+ *         else:
+ *             a_crc8l_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u8_t = A_CRC8_INIT) -> a_u8_t:             # <<<<<<<<<<<<<<
+ *         return a_crc8(<a_u8_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
  * 
- * def version_major() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version major'''
- *     return a_version_major()
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.crc8.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_4crc8_5__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_4crc8_5__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_4crc8_4__reduce_cython__(((struct __pyx_obj_4liba_crc8 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_4crc8_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc8 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
+
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__3, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 2, __pyx_L1_error)
+
+  /* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.version_major", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.crc8.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_4crc8_7__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_4crc8_7__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_4crc8_6__setstate_cython__(((struct __pyx_obj_4liba_crc8 *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_4crc8_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc8 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 4, __pyx_L1_error)
+
+  /* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.crc8.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":28
+ *     cdef array table
+ *     @property
+ *     def table(self):             # <<<<<<<<<<<<<<
+ *         return self.table
+ *     cdef a_u16_t (*f)(const a_u16_t *, const void *, a_size_t, a_u16_t)
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc16_5table_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc16_5table_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc16_5table___get__(((struct __pyx_obj_4liba_crc16 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc16_5table___get__(struct __pyx_obj_4liba_crc16 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/crc.pxi":29
+ *     @property
+ *     def table(self):
+ *         return self.table             # <<<<<<<<<<<<<<
+ *     cdef a_u16_t (*f)(const a_u16_t *, const void *, a_size_t, a_u16_t)
+ *     def __cinit__(self, poly: a_u16_t = A_CRC16_POLY, high = False):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self->table));
+  __pyx_r = ((PyObject *)__pyx_v_self->table);
+  goto __pyx_L0;
+
+  /* "python/src/a/crc.pxi":28
+ *     cdef array table
+ *     @property
+ *     def table(self):             # <<<<<<<<<<<<<<
+ *         return self.table
+ *     cdef a_u16_t (*f)(const a_u16_t *, const void *, a_size_t, a_u16_t)
+ */
+
+  /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/version.pxi":13
- *     return a_version_major()
+/* "python/src/a/crc.pxi":31
+ *         return self.table
+ *     cdef a_u16_t (*f)(const a_u16_t *, const void *, a_size_t, a_u16_t)
+ *     def __cinit__(self, poly: a_u16_t = A_CRC16_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u16s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_5crc16_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static int __pyx_pw_4liba_5crc16_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_u16_t __pyx_v_poly;
+  PyObject *__pyx_v_high = 0;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_poly,&__pyx_n_s_high,0};
+    PyObject* values[2] = {0,0};
+    values[1] = ((PyObject *)Py_False);
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_poly);
+          if (value) { values[0] = value; kw_args--; }
+        }
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_high);
+          if (value) { values[1] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(4, 31, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    if (values[0]) {
+      __pyx_v_poly = __Pyx_PyInt_As_uint16_t(values[0]); if (unlikely((__pyx_v_poly == ((a_u16_t)-1)) && PyErr_Occurred())) __PYX_ERR(4, 31, __pyx_L3_error)
+    } else {
+      __pyx_v_poly = __pyx_k__5;
+    }
+    __pyx_v_high = values[1];
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(4, 31, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.crc16.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_5crc16___cinit__(((struct __pyx_obj_4liba_crc16 *)__pyx_v_self), __pyx_v_poly, __pyx_v_high);
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_5crc16___cinit__(struct __pyx_obj_4liba_crc16 *__pyx_v_self, a_u16_t __pyx_v_poly, PyObject *__pyx_v_high) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
+  struct __pyx_opt_args_4liba_u16s __pyx_t_3;
+  int __pyx_t_4;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__cinit__", 0);
+
+  /* "python/src/a/crc.pxi":32
+ *     cdef a_u16_t (*f)(const a_u16_t *, const void *, a_size_t, a_u16_t)
+ *     def __cinit__(self, poly: a_u16_t = A_CRC16_POLY, high = False):
+ *         self.table = u16s([0] * A_CRC_SIZ)             # <<<<<<<<<<<<<<
+ *         if high:
+ *             self.f = a_crc16h
+ */
+  __pyx_t_1 = PyList_New(1 * (A_CRC_SIZ)); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 32, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  { Py_ssize_t __pyx_temp;
+    for (__pyx_temp=0; __pyx_temp < A_CRC_SIZ; __pyx_temp++) {
+      __Pyx_INCREF(__pyx_int_0);
+      __Pyx_GIVEREF(__pyx_int_0);
+      PyList_SET_ITEM(__pyx_t_1, __pyx_temp, __pyx_int_0);
+    }
+  }
+  __pyx_t_3.__pyx_n = 1;
+  __pyx_t_3.o = __pyx_t_1;
+  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_u16s(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(4, 32, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_GIVEREF(__pyx_t_2);
+  __Pyx_GOTREF(__pyx_v_self->table);
+  __Pyx_DECREF(((PyObject *)__pyx_v_self->table));
+  __pyx_v_self->table = ((arrayobject *)__pyx_t_2);
+  __pyx_t_2 = 0;
+
+  /* "python/src/a/crc.pxi":33
+ *     def __cinit__(self, poly: a_u16_t = A_CRC16_POLY, high = False):
+ *         self.table = u16s([0] * A_CRC_SIZ)
+ *         if high:             # <<<<<<<<<<<<<<
+ *             self.f = a_crc16h
+ *             a_crc16h_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ */
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_high); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(4, 33, __pyx_L1_error)
+  if (__pyx_t_4) {
+
+    /* "python/src/a/crc.pxi":34
+ *         self.table = u16s([0] * A_CRC_SIZ)
+ *         if high:
+ *             self.f = a_crc16h             # <<<<<<<<<<<<<<
+ *             a_crc16h_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ */
+    __pyx_v_self->f = a_crc16h;
+
+    /* "python/src/a/crc.pxi":35
+ *         if high:
+ *             self.f = a_crc16h
+ *             a_crc16h_init(<a_u16_t *>self.table.data.as_voidptr, poly)             # <<<<<<<<<<<<<<
+ *         else:
+ *             self.f = a_crc16l
+ */
+    a_crc16h_init(((a_u16_t *)__pyx_v_self->table->data.as_voidptr), __pyx_v_poly);
+
+    /* "python/src/a/crc.pxi":33
+ *     def __cinit__(self, poly: a_u16_t = A_CRC16_POLY, high = False):
+ *         self.table = u16s([0] * A_CRC_SIZ)
+ *         if high:             # <<<<<<<<<<<<<<
+ *             self.f = a_crc16h
+ *             a_crc16h_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ */
+    goto __pyx_L3;
+  }
+
+  /* "python/src/a/crc.pxi":37
+ *             a_crc16h_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ *             self.f = a_crc16l             # <<<<<<<<<<<<<<
+ *             a_crc16l_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u16_t = A_CRC16_INIT) -> a_u16_t:
+ */
+  /*else*/ {
+    __pyx_v_self->f = a_crc16l;
+
+    /* "python/src/a/crc.pxi":38
+ *         else:
+ *             self.f = a_crc16l
+ *             a_crc16l_init(<a_u16_t *>self.table.data.as_voidptr, poly)             # <<<<<<<<<<<<<<
+ *     def __call__(self, data: bytes, init: a_u16_t = A_CRC16_INIT) -> a_u16_t:
+ *         return self.f(<a_u16_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
+ */
+    a_crc16l_init(((a_u16_t *)__pyx_v_self->table->data.as_voidptr), __pyx_v_poly);
+  }
+  __pyx_L3:;
+
+  /* "python/src/a/crc.pxi":31
+ *         return self.table
+ *     cdef a_u16_t (*f)(const a_u16_t *, const void *, a_size_t, a_u16_t)
+ *     def __cinit__(self, poly: a_u16_t = A_CRC16_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u16s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.crc16.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":39
+ *             self.f = a_crc16l
+ *             a_crc16l_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u16_t = A_CRC16_INIT) -> a_u16_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u16_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
  * 
- * def version_minor() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version minor'''
- *     return a_version_minor()
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_5version_minor(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_4version_minor[] = "algorithm library version minor";
-static PyMethodDef __pyx_mdef_4liba_5version_minor = {"version_minor", (PyCFunction)__pyx_pw_4liba_5version_minor, METH_NOARGS, __pyx_doc_4liba_4version_minor};
-static PyObject *__pyx_pw_4liba_5version_minor(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_5crc16_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc16_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  PyObject *__pyx_v_data = 0;
+  a_u16_t __pyx_v_init;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("version_minor (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4version_minor(__pyx_self);
+  __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_data,&__pyx_n_s_init,0};
+    PyObject* values[2] = {0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_data)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_init);
+          if (value) { values[1] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(4, 39, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    __pyx_v_data = ((PyObject*)values[0]);
+    if (values[1]) {
+      __pyx_v_init = __Pyx_PyInt_As_uint16_t(values[1]); if (unlikely((__pyx_v_init == ((a_u16_t)-1)) && PyErr_Occurred())) __PYX_ERR(4, 39, __pyx_L3_error)
+    } else {
+      __pyx_v_init = __pyx_k__6;
+    }
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__call__", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(4, 39, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.crc16.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return NULL;
+  __pyx_L4_argument_unpacking_done:;
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_data), (&PyBytes_Type), 1, "data", 1))) __PYX_ERR(4, 39, __pyx_L1_error)
+  __pyx_r = __pyx_pf_4liba_5crc16_2__call__(((struct __pyx_obj_4liba_crc16 *)__pyx_v_self), __pyx_v_data, __pyx_v_init);
 
   /* function exit code */
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __pyx_r = NULL;
+  __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4version_minor(CYTHON_UNUSED PyObject *__pyx_self) {
+static PyObject *__pyx_pf_4liba_5crc16_2__call__(struct __pyx_obj_4liba_crc16 *__pyx_v_self, PyObject *__pyx_v_data, a_u16_t __pyx_v_init) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
+  Py_ssize_t __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("version_minor", 0);
+  __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "python/src/a/version.pxi":15
- * def version_minor() -> a_uint_t:
- *     '''algorithm library version minor'''
- *     return a_version_minor()             # <<<<<<<<<<<<<<
+  /* "python/src/a/crc.pxi":40
+ *             a_crc16l_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u16_t = A_CRC16_INIT) -> a_u16_t:
+ *         return self.f(<a_u16_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)             # <<<<<<<<<<<<<<
  * 
- * def version_patch() -> a_uint_t:
+ * @cython.wraparound(False)
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_a_uint_t(a_version_minor()); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 15, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
+  if (unlikely(__pyx_v_data == Py_None)) {
+    PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
+    __PYX_ERR(4, 40, __pyx_L1_error)
+  }
+  __pyx_t_1 = PyBytes_GET_SIZE(__pyx_v_data); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(4, 40, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_uint16_t(__pyx_v_self->f(((a_u16_t *)__pyx_v_self->table->data.as_voidptr), ((void const *)__pyx_v_data), __pyx_t_1, __pyx_v_init)); if (unlikely(!__pyx_t_2)) __PYX_ERR(4, 40, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/version.pxi":13
- *     return a_version_major()
+  /* "python/src/a/crc.pxi":39
+ *             self.f = a_crc16l
+ *             a_crc16l_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u16_t = A_CRC16_INIT) -> a_u16_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u16_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
  * 
- * def version_minor() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version minor'''
- *     return a_version_minor()
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.crc16.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc16_5__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc16_5__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc16_4__reduce_cython__(((struct __pyx_obj_4liba_crc16 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc16_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc16 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
+
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 2, __pyx_L1_error)
+
+  /* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.version_minor", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.crc16.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc16_7__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc16_7__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc16_6__setstate_cython__(((struct __pyx_obj_4liba_crc16 *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc16_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc16 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 4, __pyx_L1_error)
+
+  /* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.crc16.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":49
+ *     cdef array table
+ *     @property
+ *     def table(self):             # <<<<<<<<<<<<<<
+ *         return self.table
+ *     cdef a_u32_t (*f)(const a_u32_t *, const void *, a_size_t, a_u32_t)
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc32_5table_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc32_5table_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc32_5table___get__(((struct __pyx_obj_4liba_crc32 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc32_5table___get__(struct __pyx_obj_4liba_crc32 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/crc.pxi":50
+ *     @property
+ *     def table(self):
+ *         return self.table             # <<<<<<<<<<<<<<
+ *     cdef a_u32_t (*f)(const a_u32_t *, const void *, a_size_t, a_u32_t)
+ *     def __cinit__(self, poly: a_u32_t = A_CRC32_POLY, high = False):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self->table));
+  __pyx_r = ((PyObject *)__pyx_v_self->table);
+  goto __pyx_L0;
+
+  /* "python/src/a/crc.pxi":49
+ *     cdef array table
+ *     @property
+ *     def table(self):             # <<<<<<<<<<<<<<
+ *         return self.table
+ *     cdef a_u32_t (*f)(const a_u32_t *, const void *, a_size_t, a_u32_t)
+ */
+
+  /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/version.pxi":17
- *     return a_version_minor()
+/* "python/src/a/crc.pxi":52
+ *         return self.table
+ *     cdef a_u32_t (*f)(const a_u32_t *, const void *, a_size_t, a_u32_t)
+ *     def __cinit__(self, poly: a_u32_t = A_CRC32_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u32s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_5crc32_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static int __pyx_pw_4liba_5crc32_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_u32_t __pyx_v_poly;
+  PyObject *__pyx_v_high = 0;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_poly,&__pyx_n_s_high,0};
+    PyObject* values[2] = {0,0};
+    values[1] = ((PyObject *)Py_False);
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_poly);
+          if (value) { values[0] = value; kw_args--; }
+        }
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_high);
+          if (value) { values[1] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(4, 52, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    if (values[0]) {
+      __pyx_v_poly = __Pyx_PyInt_As_uint32_t(values[0]); if (unlikely((__pyx_v_poly == ((a_u32_t)-1)) && PyErr_Occurred())) __PYX_ERR(4, 52, __pyx_L3_error)
+    } else {
+      __pyx_v_poly = __pyx_k__9;
+    }
+    __pyx_v_high = values[1];
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(4, 52, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.crc32.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_5crc32___cinit__(((struct __pyx_obj_4liba_crc32 *)__pyx_v_self), __pyx_v_poly, __pyx_v_high);
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_5crc32___cinit__(struct __pyx_obj_4liba_crc32 *__pyx_v_self, a_u32_t __pyx_v_poly, PyObject *__pyx_v_high) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
+  struct __pyx_opt_args_4liba_u32s __pyx_t_3;
+  int __pyx_t_4;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__cinit__", 0);
+
+  /* "python/src/a/crc.pxi":53
+ *     cdef a_u32_t (*f)(const a_u32_t *, const void *, a_size_t, a_u32_t)
+ *     def __cinit__(self, poly: a_u32_t = A_CRC32_POLY, high = False):
+ *         self.table = u32s([0] * A_CRC_SIZ)             # <<<<<<<<<<<<<<
+ *         if high:
+ *             self.f = a_crc32h
+ */
+  __pyx_t_1 = PyList_New(1 * (A_CRC_SIZ)); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 53, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  { Py_ssize_t __pyx_temp;
+    for (__pyx_temp=0; __pyx_temp < A_CRC_SIZ; __pyx_temp++) {
+      __Pyx_INCREF(__pyx_int_0);
+      __Pyx_GIVEREF(__pyx_int_0);
+      PyList_SET_ITEM(__pyx_t_1, __pyx_temp, __pyx_int_0);
+    }
+  }
+  __pyx_t_3.__pyx_n = 1;
+  __pyx_t_3.o = __pyx_t_1;
+  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_u32s(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(4, 53, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_GIVEREF(__pyx_t_2);
+  __Pyx_GOTREF(__pyx_v_self->table);
+  __Pyx_DECREF(((PyObject *)__pyx_v_self->table));
+  __pyx_v_self->table = ((arrayobject *)__pyx_t_2);
+  __pyx_t_2 = 0;
+
+  /* "python/src/a/crc.pxi":54
+ *     def __cinit__(self, poly: a_u32_t = A_CRC32_POLY, high = False):
+ *         self.table = u32s([0] * A_CRC_SIZ)
+ *         if high:             # <<<<<<<<<<<<<<
+ *             self.f = a_crc32h
+ *             a_crc32h_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ */
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_high); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(4, 54, __pyx_L1_error)
+  if (__pyx_t_4) {
+
+    /* "python/src/a/crc.pxi":55
+ *         self.table = u32s([0] * A_CRC_SIZ)
+ *         if high:
+ *             self.f = a_crc32h             # <<<<<<<<<<<<<<
+ *             a_crc32h_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ */
+    __pyx_v_self->f = a_crc32h;
+
+    /* "python/src/a/crc.pxi":56
+ *         if high:
+ *             self.f = a_crc32h
+ *             a_crc32h_init(<a_u32_t *>self.table.data.as_voidptr, poly)             # <<<<<<<<<<<<<<
+ *         else:
+ *             self.f = a_crc32l
+ */
+    a_crc32h_init(((a_u32_t *)__pyx_v_self->table->data.as_voidptr), __pyx_v_poly);
+
+    /* "python/src/a/crc.pxi":54
+ *     def __cinit__(self, poly: a_u32_t = A_CRC32_POLY, high = False):
+ *         self.table = u32s([0] * A_CRC_SIZ)
+ *         if high:             # <<<<<<<<<<<<<<
+ *             self.f = a_crc32h
+ *             a_crc32h_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ */
+    goto __pyx_L3;
+  }
+
+  /* "python/src/a/crc.pxi":58
+ *             a_crc32h_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ *             self.f = a_crc32l             # <<<<<<<<<<<<<<
+ *             a_crc32l_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u32_t = A_CRC32_INIT) -> a_u32_t:
+ */
+  /*else*/ {
+    __pyx_v_self->f = a_crc32l;
+
+    /* "python/src/a/crc.pxi":59
+ *         else:
+ *             self.f = a_crc32l
+ *             a_crc32l_init(<a_u32_t *>self.table.data.as_voidptr, poly)             # <<<<<<<<<<<<<<
+ *     def __call__(self, data: bytes, init: a_u32_t = A_CRC32_INIT) -> a_u32_t:
+ *         return self.f(<a_u32_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
+ */
+    a_crc32l_init(((a_u32_t *)__pyx_v_self->table->data.as_voidptr), __pyx_v_poly);
+  }
+  __pyx_L3:;
+
+  /* "python/src/a/crc.pxi":52
+ *         return self.table
+ *     cdef a_u32_t (*f)(const a_u32_t *, const void *, a_size_t, a_u32_t)
+ *     def __cinit__(self, poly: a_u32_t = A_CRC32_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u32s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.crc32.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":60
+ *             self.f = a_crc32l
+ *             a_crc32l_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u32_t = A_CRC32_INIT) -> a_u32_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u32_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
  * 
- * def version_patch() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version patch'''
- *     return a_version_patch()
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_7version_patch(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_6version_patch[] = "algorithm library version patch";
-static PyMethodDef __pyx_mdef_4liba_7version_patch = {"version_patch", (PyCFunction)__pyx_pw_4liba_7version_patch, METH_NOARGS, __pyx_doc_4liba_6version_patch};
-static PyObject *__pyx_pw_4liba_7version_patch(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_5crc32_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc32_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  PyObject *__pyx_v_data = 0;
+  a_u32_t __pyx_v_init;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("version_patch (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_6version_patch(__pyx_self);
+  __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_data,&__pyx_n_s_init,0};
+    PyObject* values[2] = {0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_data)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_init);
+          if (value) { values[1] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(4, 60, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    __pyx_v_data = ((PyObject*)values[0]);
+    if (values[1]) {
+      __pyx_v_init = __Pyx_PyInt_As_uint32_t(values[1]); if (unlikely((__pyx_v_init == ((a_u32_t)-1)) && PyErr_Occurred())) __PYX_ERR(4, 60, __pyx_L3_error)
+    } else {
+      __pyx_v_init = __pyx_k__10;
+    }
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__call__", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(4, 60, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.crc32.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return NULL;
+  __pyx_L4_argument_unpacking_done:;
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_data), (&PyBytes_Type), 1, "data", 1))) __PYX_ERR(4, 60, __pyx_L1_error)
+  __pyx_r = __pyx_pf_4liba_5crc32_2__call__(((struct __pyx_obj_4liba_crc32 *)__pyx_v_self), __pyx_v_data, __pyx_v_init);
 
   /* function exit code */
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __pyx_r = NULL;
+  __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_6version_patch(CYTHON_UNUSED PyObject *__pyx_self) {
+static PyObject *__pyx_pf_4liba_5crc32_2__call__(struct __pyx_obj_4liba_crc32 *__pyx_v_self, PyObject *__pyx_v_data, a_u32_t __pyx_v_init) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
+  Py_ssize_t __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("version_patch", 0);
+  __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "python/src/a/version.pxi":19
- * def version_patch() -> a_uint_t:
- *     '''algorithm library version patch'''
- *     return a_version_patch()             # <<<<<<<<<<<<<<
+  /* "python/src/a/crc.pxi":61
+ *             a_crc32l_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u32_t = A_CRC32_INIT) -> a_u32_t:
+ *         return self.f(<a_u32_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)             # <<<<<<<<<<<<<<
+ * 
+ * @cython.wraparound(False)
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_a_uint_t(a_version_patch()); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 19, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
+  if (unlikely(__pyx_v_data == Py_None)) {
+    PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
+    __PYX_ERR(4, 61, __pyx_L1_error)
+  }
+  __pyx_t_1 = PyBytes_GET_SIZE(__pyx_v_data); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(4, 61, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_uint32_t(__pyx_v_self->f(((a_u32_t *)__pyx_v_self->table->data.as_voidptr), ((void const *)__pyx_v_data), __pyx_t_1, __pyx_v_init)); if (unlikely(!__pyx_t_2)) __PYX_ERR(4, 61, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/version.pxi":17
- *     return a_version_minor()
+  /* "python/src/a/crc.pxi":60
+ *             self.f = a_crc32l
+ *             a_crc32l_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u32_t = A_CRC32_INIT) -> a_u32_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u32_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
  * 
- * def version_patch() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version patch'''
- *     return a_version_patch()
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.crc32.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc32_5__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc32_5__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc32_4__reduce_cython__(((struct __pyx_obj_4liba_crc32 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc32_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc32 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
+
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__11, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 2, __pyx_L1_error)
+
+  /* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.version_patch", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.crc32.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc32_7__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc32_7__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc32_6__setstate_cython__(((struct __pyx_obj_4liba_crc32 *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc32_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc32 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__12, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 4, __pyx_L1_error)
+
+  /* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.crc32.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":70
+ *     cdef array table
+ *     @property
+ *     def table(self):             # <<<<<<<<<<<<<<
+ *         return self.table
+ *     cdef a_u64_t (*f)(const a_u64_t *, const void *, a_size_t, a_u64_t)
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc64_5table_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc64_5table_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc64_5table___get__(((struct __pyx_obj_4liba_crc64 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc64_5table___get__(struct __pyx_obj_4liba_crc64 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/crc.pxi":71
+ *     @property
+ *     def table(self):
+ *         return self.table             # <<<<<<<<<<<<<<
+ *     cdef a_u64_t (*f)(const a_u64_t *, const void *, a_size_t, a_u64_t)
+ *     def __cinit__(self, poly: a_u64_t = A_CRC64_POLY, high = False):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self->table));
+  __pyx_r = ((PyObject *)__pyx_v_self->table);
+  goto __pyx_L0;
+
+  /* "python/src/a/crc.pxi":70
+ *     cdef array table
+ *     @property
+ *     def table(self):             # <<<<<<<<<<<<<<
+ *         return self.table
+ *     cdef a_u64_t (*f)(const a_u64_t *, const void *, a_size_t, a_u64_t)
+ */
+
+  /* function exit code */
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":73
+ *         return self.table
+ *     cdef a_u64_t (*f)(const a_u64_t *, const void *, a_size_t, a_u64_t)
+ *     def __cinit__(self, poly: a_u64_t = A_CRC64_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u64s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_5crc64_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static int __pyx_pw_4liba_5crc64_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_u64_t __pyx_v_poly;
+  PyObject *__pyx_v_high = 0;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_poly,&__pyx_n_s_high,0};
+    PyObject* values[2] = {0,0};
+    values[1] = ((PyObject *)Py_False);
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_poly);
+          if (value) { values[0] = value; kw_args--; }
+        }
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_high);
+          if (value) { values[1] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(4, 73, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    if (values[0]) {
+      __pyx_v_poly = __Pyx_PyInt_As_uint64_t(values[0]); if (unlikely((__pyx_v_poly == ((a_u64_t)-1)) && PyErr_Occurred())) __PYX_ERR(4, 73, __pyx_L3_error)
+    } else {
+      __pyx_v_poly = __pyx_k__13;
+    }
+    __pyx_v_high = values[1];
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(4, 73, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.crc64.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_5crc64___cinit__(((struct __pyx_obj_4liba_crc64 *)__pyx_v_self), __pyx_v_poly, __pyx_v_high);
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_5crc64___cinit__(struct __pyx_obj_4liba_crc64 *__pyx_v_self, a_u64_t __pyx_v_poly, PyObject *__pyx_v_high) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
+  struct __pyx_opt_args_4liba_u64s __pyx_t_3;
+  int __pyx_t_4;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__cinit__", 0);
+
+  /* "python/src/a/crc.pxi":74
+ *     cdef a_u64_t (*f)(const a_u64_t *, const void *, a_size_t, a_u64_t)
+ *     def __cinit__(self, poly: a_u64_t = A_CRC64_POLY, high = False):
+ *         self.table = u64s([0] * A_CRC_SIZ)             # <<<<<<<<<<<<<<
+ *         if high:
+ *             self.f = a_crc64h
+ */
+  __pyx_t_1 = PyList_New(1 * (A_CRC_SIZ)); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 74, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  { Py_ssize_t __pyx_temp;
+    for (__pyx_temp=0; __pyx_temp < A_CRC_SIZ; __pyx_temp++) {
+      __Pyx_INCREF(__pyx_int_0);
+      __Pyx_GIVEREF(__pyx_int_0);
+      PyList_SET_ITEM(__pyx_t_1, __pyx_temp, __pyx_int_0);
+    }
+  }
+  __pyx_t_3.__pyx_n = 1;
+  __pyx_t_3.o = __pyx_t_1;
+  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_u64s(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(4, 74, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_GIVEREF(__pyx_t_2);
+  __Pyx_GOTREF(__pyx_v_self->table);
+  __Pyx_DECREF(((PyObject *)__pyx_v_self->table));
+  __pyx_v_self->table = ((arrayobject *)__pyx_t_2);
+  __pyx_t_2 = 0;
+
+  /* "python/src/a/crc.pxi":75
+ *     def __cinit__(self, poly: a_u64_t = A_CRC64_POLY, high = False):
+ *         self.table = u64s([0] * A_CRC_SIZ)
+ *         if high:             # <<<<<<<<<<<<<<
+ *             self.f = a_crc64h
+ *             a_crc64h_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ */
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_high); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(4, 75, __pyx_L1_error)
+  if (__pyx_t_4) {
+
+    /* "python/src/a/crc.pxi":76
+ *         self.table = u64s([0] * A_CRC_SIZ)
+ *         if high:
+ *             self.f = a_crc64h             # <<<<<<<<<<<<<<
+ *             a_crc64h_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ */
+    __pyx_v_self->f = a_crc64h;
+
+    /* "python/src/a/crc.pxi":77
+ *         if high:
+ *             self.f = a_crc64h
+ *             a_crc64h_init(<a_u64_t *>self.table.data.as_voidptr, poly)             # <<<<<<<<<<<<<<
+ *         else:
+ *             self.f = a_crc64l
+ */
+    a_crc64h_init(((a_u64_t *)__pyx_v_self->table->data.as_voidptr), __pyx_v_poly);
+
+    /* "python/src/a/crc.pxi":75
+ *     def __cinit__(self, poly: a_u64_t = A_CRC64_POLY, high = False):
+ *         self.table = u64s([0] * A_CRC_SIZ)
+ *         if high:             # <<<<<<<<<<<<<<
+ *             self.f = a_crc64h
+ *             a_crc64h_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ */
+    goto __pyx_L3;
+  }
+
+  /* "python/src/a/crc.pxi":79
+ *             a_crc64h_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ *         else:
+ *             self.f = a_crc64l             # <<<<<<<<<<<<<<
+ *             a_crc64l_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u64_t = A_CRC64_INIT) -> a_u64_t:
+ */
+  /*else*/ {
+    __pyx_v_self->f = a_crc64l;
+
+    /* "python/src/a/crc.pxi":80
+ *         else:
+ *             self.f = a_crc64l
+ *             a_crc64l_init(<a_u64_t *>self.table.data.as_voidptr, poly)             # <<<<<<<<<<<<<<
+ *     def __call__(self, data: bytes, init: a_u64_t = A_CRC64_INIT) -> a_u64_t:
+ *         return self.f(<a_u64_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
+ */
+    a_crc64l_init(((a_u64_t *)__pyx_v_self->table->data.as_voidptr), __pyx_v_poly);
+  }
+  __pyx_L3:;
+
+  /* "python/src/a/crc.pxi":73
+ *         return self.table
+ *     cdef a_u64_t (*f)(const a_u64_t *, const void *, a_size_t, a_u64_t)
+ *     def __cinit__(self, poly: a_u64_t = A_CRC64_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u64s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.crc64.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/crc.pxi":81
+ *             self.f = a_crc64l
+ *             a_crc64l_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u64_t = A_CRC64_INIT) -> a_u64_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u64_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc64_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc64_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  PyObject *__pyx_v_data = 0;
+  a_u64_t __pyx_v_init;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_data,&__pyx_n_s_init,0};
+    PyObject* values[2] = {0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_data)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_init);
+          if (value) { values[1] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(4, 81, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    __pyx_v_data = ((PyObject*)values[0]);
+    if (values[1]) {
+      __pyx_v_init = __Pyx_PyInt_As_uint64_t(values[1]); if (unlikely((__pyx_v_init == ((a_u64_t)-1)) && PyErr_Occurred())) __PYX_ERR(4, 81, __pyx_L3_error)
+    } else {
+      __pyx_v_init = __pyx_k__14;
+    }
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__call__", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(4, 81, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.crc64.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return NULL;
+  __pyx_L4_argument_unpacking_done:;
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_data), (&PyBytes_Type), 1, "data", 1))) __PYX_ERR(4, 81, __pyx_L1_error)
+  __pyx_r = __pyx_pf_4liba_5crc64_2__call__(((struct __pyx_obj_4liba_crc64 *)__pyx_v_self), __pyx_v_data, __pyx_v_init);
+
+  /* function exit code */
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc64_2__call__(struct __pyx_obj_4liba_crc64 *__pyx_v_self, PyObject *__pyx_v_data, a_u64_t __pyx_v_init) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  Py_ssize_t __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__call__", 0);
+
+  /* "python/src/a/crc.pxi":82
+ *             a_crc64l_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u64_t = A_CRC64_INIT) -> a_u64_t:
+ *         return self.f(<a_u64_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)             # <<<<<<<<<<<<<<
+ */
+  __Pyx_XDECREF(__pyx_r);
+  if (unlikely(__pyx_v_data == Py_None)) {
+    PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
+    __PYX_ERR(4, 82, __pyx_L1_error)
+  }
+  __pyx_t_1 = PyBytes_GET_SIZE(__pyx_v_data); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(4, 82, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->f(((a_u64_t *)__pyx_v_self->table->data.as_voidptr), ((void const *)__pyx_v_data), __pyx_t_1, __pyx_v_init)); if (unlikely(!__pyx_t_2)) __PYX_ERR(4, 82, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/crc.pxi":81
+ *             self.f = a_crc64l
+ *             a_crc64l_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u64_t = A_CRC64_INIT) -> a_u64_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u64_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.crc64.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
+/* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc64_5__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc64_5__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc64_4__reduce_cython__(((struct __pyx_obj_4liba_crc64 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc64_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc64 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
+
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__15, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 2, __pyx_L1_error)
+
+  /* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.crc64.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_5crc64_7__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_5crc64_7__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_5crc64_6__setstate_cython__(((struct __pyx_obj_4liba_crc64 *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_5crc64_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_crc64 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__16, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 4, __pyx_L1_error)
+
+  /* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.crc64.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
 /* "python/src/a/math.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def f32_rsqrt(x):             # <<<<<<<<<<<<<<
  *     '''fast inverse square-root'''
  *     if iterable(x):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_9f32_rsqrt(PyObject *__pyx_self, PyObject *__pyx_v_x); /*proto*/
-static char __pyx_doc_4liba_8f32_rsqrt[] = "fast inverse square-root";
-static PyMethodDef __pyx_mdef_4liba_9f32_rsqrt = {"f32_rsqrt", (PyCFunction)__pyx_pw_4liba_9f32_rsqrt, METH_O, __pyx_doc_4liba_8f32_rsqrt};
-static PyObject *__pyx_pw_4liba_9f32_rsqrt(PyObject *__pyx_self, PyObject *__pyx_v_x) {
+static PyObject *__pyx_pw_4liba_3f32_rsqrt(PyObject *__pyx_self, PyObject *__pyx_v_x); /*proto*/
+static char __pyx_doc_4liba_2f32_rsqrt[] = "fast inverse square-root";
+static PyMethodDef __pyx_mdef_4liba_3f32_rsqrt = {"f32_rsqrt", (PyCFunction)__pyx_pw_4liba_3f32_rsqrt, METH_O, __pyx_doc_4liba_2f32_rsqrt};
+static PyObject *__pyx_pw_4liba_3f32_rsqrt(PyObject *__pyx_self, PyObject *__pyx_v_x) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("f32_rsqrt (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_8f32_rsqrt(__pyx_self, ((PyObject *)__pyx_v_x));
+  __pyx_r = __pyx_pf_4liba_2f32_rsqrt(__pyx_self, ((PyObject *)__pyx_v_x));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_8f32_rsqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x) {
+static PyObject *__pyx_pf_4liba_2f32_rsqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x) {
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
-  a_f32_t __pyx_t_8;
+  PyObject *__pyx_t_3 = NULL;
+  Py_ssize_t __pyx_t_4;
+  PyObject *(*__pyx_t_5)(PyObject *);
+  PyObject *__pyx_t_6 = NULL;
+  a_f32_t __pyx_t_7;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("f32_rsqrt", 0);
 
   /* "python/src/a/math.pxi":7
  * def f32_rsqrt(x):
  *     '''fast inverse square-root'''
  *     if iterable(x):             # <<<<<<<<<<<<<<
- *         y = reals(x)
+ *         y = array('f', x)
  *         for i, it in enumerate(x):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/math.pxi":8
  *     '''fast inverse square-root'''
  *     if iterable(x):
- *         y = reals(x)             # <<<<<<<<<<<<<<
+ *         y = array('f', x)             # <<<<<<<<<<<<<<
  *         for i, it in enumerate(x):
  *             y[i] = a_f32_rsqrt(it)
  */
-    __pyx_t_3.__pyx_n = 1;
-    __pyx_t_3.o = __pyx_v_x;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 8, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 8, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_v_y = ((arrayobject *)__pyx_t_2);
-    __pyx_t_2 = 0;
+    __Pyx_INCREF(__pyx_n_u_f);
+    __Pyx_GIVEREF(__pyx_n_u_f);
+    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_f);
+    __Pyx_INCREF(__pyx_v_x);
+    __Pyx_GIVEREF(__pyx_v_x);
+    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_x);
+    __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 8, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_v_y = ((arrayobject *)__pyx_t_3);
+    __pyx_t_3 = 0;
 
     /* "python/src/a/math.pxi":9
  *     if iterable(x):
- *         y = reals(x)
+ *         y = array('f', x)
  *         for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *             y[i] = a_f32_rsqrt(it)
  *         return y
  */
     __Pyx_INCREF(__pyx_int_0);
-    __pyx_t_2 = __pyx_int_0;
+    __pyx_t_3 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
-      __pyx_t_4 = __pyx_v_x; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-      __pyx_t_6 = NULL;
+      __pyx_t_2 = __pyx_v_x; __Pyx_INCREF(__pyx_t_2); __pyx_t_4 = 0;
+      __pyx_t_5 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_x); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 9, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(1, 9, __pyx_L1_error)
+      __pyx_t_4 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_x); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 9, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_2);
+      __pyx_t_5 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 9, __pyx_L1_error)
     }
     for (;;) {
-      if (likely(!__pyx_t_6)) {
-        if (likely(PyList_CheckExact(__pyx_t_4))) {
-          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
+      if (likely(!__pyx_t_5)) {
+        if (likely(PyList_CheckExact(__pyx_t_2))) {
+          if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_2)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(1, 9, __pyx_L1_error)
+          __pyx_t_6 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_6); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(2, 9, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 9, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
+          __pyx_t_6 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 9, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_6);
           #endif
         } else {
-          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
+          if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(1, 9, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_6); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(2, 9, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 9, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
+          __pyx_t_6 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 9, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_6);
           #endif
         }
       } else {
-        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-        if (unlikely(!__pyx_t_7)) {
+        __pyx_t_6 = __pyx_t_5(__pyx_t_2);
+        if (unlikely(!__pyx_t_6)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(1, 9, __pyx_L1_error)
+            else __PYX_ERR(2, 9, __pyx_L1_error)
           }
           break;
         }
-        __Pyx_GOTREF(__pyx_t_7);
+        __Pyx_GOTREF(__pyx_t_6);
       }
-      __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
-      __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_t_2);
-      __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 9, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_7);
-      __Pyx_DECREF(__pyx_t_2);
-      __pyx_t_2 = __pyx_t_7;
-      __pyx_t_7 = 0;
+      __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_6);
+      __pyx_t_6 = 0;
+      __Pyx_INCREF(__pyx_t_3);
+      __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_3);
+      __pyx_t_6 = __Pyx_PyInt_AddObjC(__pyx_t_3, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 9, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_6);
+      __Pyx_DECREF(__pyx_t_3);
+      __pyx_t_3 = __pyx_t_6;
+      __pyx_t_6 = 0;
 
       /* "python/src/a/math.pxi":10
- *         y = reals(x)
+ *         y = array('f', x)
  *         for i, it in enumerate(x):
  *             y[i] = a_f32_rsqrt(it)             # <<<<<<<<<<<<<<
  *         return y
  *     return a_f32_rsqrt(x)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_f32_t)-1)) && PyErr_Occurred())) __PYX_ERR(1, 10, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_f32_rsqrt(__pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 10, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(1, 10, __pyx_L1_error)
-      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+      __pyx_t_7 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_7 == ((a_f32_t)-1)) && PyErr_Occurred())) __PYX_ERR(2, 10, __pyx_L1_error)
+      __pyx_t_6 = PyFloat_FromDouble(a_f32_rsqrt(__pyx_t_7)); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 10, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_6);
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_6) < 0)) __PYX_ERR(2, 10, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
       /* "python/src/a/math.pxi":9
  *     if iterable(x):
- *         y = reals(x)
+ *         y = array('f', x)
  *         for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *             y[i] = a_f32_rsqrt(it)
  *         return y
  */
     }
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
     /* "python/src/a/math.pxi":11
  *         for i, it in enumerate(x):
  *             y[i] = a_f32_rsqrt(it)
  *         return y             # <<<<<<<<<<<<<<
  *     return a_f32_rsqrt(x)
  * 
@@ -3209,47 +5681,47 @@
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/math.pxi":7
  * def f32_rsqrt(x):
  *     '''fast inverse square-root'''
  *     if iterable(x):             # <<<<<<<<<<<<<<
- *         y = reals(x)
+ *         y = array('f', x)
  *         for i, it in enumerate(x):
  */
   }
 
   /* "python/src/a/math.pxi":12
  *             y[i] = a_f32_rsqrt(it)
  *         return y
  *     return a_f32_rsqrt(x)             # <<<<<<<<<<<<<<
  * 
  * @cython.wraparound(False)
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_f32_t)-1)) && PyErr_Occurred())) __PYX_ERR(1, 12, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_f32_rsqrt(__pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 12, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
+  __pyx_t_7 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_7 == ((a_f32_t)-1)) && PyErr_Occurred())) __PYX_ERR(2, 12, __pyx_L1_error)
+  __pyx_t_3 = PyFloat_FromDouble(a_f32_rsqrt(__pyx_t_7)); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 12, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_r = __pyx_t_3;
+  __pyx_t_3 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/math.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def f32_rsqrt(x):             # <<<<<<<<<<<<<<
  *     '''fast inverse square-root'''
  *     if iterable(x):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_XDECREF(__pyx_t_6);
   __Pyx_AddTraceback("liba.f32_rsqrt", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_y);
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
@@ -3262,216 +5734,718 @@
  * @cython.boundscheck(False)
  * def f64_rsqrt(x):             # <<<<<<<<<<<<<<
  *     '''fast inverse square-root'''
  *     if iterable(x):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_11f64_rsqrt(PyObject *__pyx_self, PyObject *__pyx_v_x); /*proto*/
-static char __pyx_doc_4liba_10f64_rsqrt[] = "fast inverse square-root";
-static PyMethodDef __pyx_mdef_4liba_11f64_rsqrt = {"f64_rsqrt", (PyCFunction)__pyx_pw_4liba_11f64_rsqrt, METH_O, __pyx_doc_4liba_10f64_rsqrt};
-static PyObject *__pyx_pw_4liba_11f64_rsqrt(PyObject *__pyx_self, PyObject *__pyx_v_x) {
+static PyObject *__pyx_pw_4liba_5f64_rsqrt(PyObject *__pyx_self, PyObject *__pyx_v_x); /*proto*/
+static char __pyx_doc_4liba_4f64_rsqrt[] = "fast inverse square-root";
+static PyMethodDef __pyx_mdef_4liba_5f64_rsqrt = {"f64_rsqrt", (PyCFunction)__pyx_pw_4liba_5f64_rsqrt, METH_O, __pyx_doc_4liba_4f64_rsqrt};
+static PyObject *__pyx_pw_4liba_5f64_rsqrt(PyObject *__pyx_self, PyObject *__pyx_v_x) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("f64_rsqrt (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10f64_rsqrt(__pyx_self, ((PyObject *)__pyx_v_x));
+  __pyx_r = __pyx_pf_4liba_4f64_rsqrt(__pyx_self, ((PyObject *)__pyx_v_x));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10f64_rsqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x) {
+static PyObject *__pyx_pf_4liba_4f64_rsqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x) {
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
-  a_f64_t __pyx_t_8;
+  PyObject *__pyx_t_3 = NULL;
+  Py_ssize_t __pyx_t_4;
+  PyObject *(*__pyx_t_5)(PyObject *);
+  PyObject *__pyx_t_6 = NULL;
+  a_f64_t __pyx_t_7;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("f64_rsqrt", 0);
 
   /* "python/src/a/math.pxi":18
  * def f64_rsqrt(x):
  *     '''fast inverse square-root'''
  *     if iterable(x):             # <<<<<<<<<<<<<<
- *         y = reals(x)
+ *         y = array('d', x)
  *         for i, it in enumerate(x):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/math.pxi":19
  *     '''fast inverse square-root'''
  *     if iterable(x):
- *         y = reals(x)             # <<<<<<<<<<<<<<
+ *         y = array('d', x)             # <<<<<<<<<<<<<<
  *         for i, it in enumerate(x):
  *             y[i] = a_f64_rsqrt(it)
  */
+    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_INCREF(__pyx_n_u_d);
+    __Pyx_GIVEREF(__pyx_n_u_d);
+    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_u_d);
+    __Pyx_INCREF(__pyx_v_x);
+    __Pyx_GIVEREF(__pyx_v_x);
+    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_x);
+    __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_7cpython_5array_array), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_v_y = ((arrayobject *)__pyx_t_3);
+    __pyx_t_3 = 0;
+
+    /* "python/src/a/math.pxi":20
+ *     if iterable(x):
+ *         y = array('d', x)
+ *         for i, it in enumerate(x):             # <<<<<<<<<<<<<<
+ *             y[i] = a_f64_rsqrt(it)
+ *         return y
+ */
+    __Pyx_INCREF(__pyx_int_0);
+    __pyx_t_3 = __pyx_int_0;
+    if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
+      __pyx_t_2 = __pyx_v_x; __Pyx_INCREF(__pyx_t_2); __pyx_t_4 = 0;
+      __pyx_t_5 = NULL;
+    } else {
+      __pyx_t_4 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_x); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 20, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_2);
+      __pyx_t_5 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 20, __pyx_L1_error)
+    }
+    for (;;) {
+      if (likely(!__pyx_t_5)) {
+        if (likely(PyList_CheckExact(__pyx_t_2))) {
+          if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_2)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_6 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_6); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(2, 20, __pyx_L1_error)
+          #else
+          __pyx_t_6 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 20, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_6);
+          #endif
+        } else {
+          if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_6); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(2, 20, __pyx_L1_error)
+          #else
+          __pyx_t_6 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 20, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_6);
+          #endif
+        }
+      } else {
+        __pyx_t_6 = __pyx_t_5(__pyx_t_2);
+        if (unlikely(!__pyx_t_6)) {
+          PyObject* exc_type = PyErr_Occurred();
+          if (exc_type) {
+            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
+            else __PYX_ERR(2, 20, __pyx_L1_error)
+          }
+          break;
+        }
+        __Pyx_GOTREF(__pyx_t_6);
+      }
+      __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_6);
+      __pyx_t_6 = 0;
+      __Pyx_INCREF(__pyx_t_3);
+      __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_3);
+      __pyx_t_6 = __Pyx_PyInt_AddObjC(__pyx_t_3, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 20, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_6);
+      __Pyx_DECREF(__pyx_t_3);
+      __pyx_t_3 = __pyx_t_6;
+      __pyx_t_6 = 0;
+
+      /* "python/src/a/math.pxi":21
+ *         y = array('d', x)
+ *         for i, it in enumerate(x):
+ *             y[i] = a_f64_rsqrt(it)             # <<<<<<<<<<<<<<
+ *         return y
+ *     return a_f64_rsqrt(x)
+ */
+      __pyx_t_7 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_7 == ((a_f64_t)-1)) && PyErr_Occurred())) __PYX_ERR(2, 21, __pyx_L1_error)
+      __pyx_t_6 = PyFloat_FromDouble(a_f64_rsqrt(__pyx_t_7)); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 21, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_6);
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_6) < 0)) __PYX_ERR(2, 21, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
+
+      /* "python/src/a/math.pxi":20
+ *     if iterable(x):
+ *         y = array('d', x)
+ *         for i, it in enumerate(x):             # <<<<<<<<<<<<<<
+ *             y[i] = a_f64_rsqrt(it)
+ *         return y
+ */
+    }
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+
+    /* "python/src/a/math.pxi":22
+ *         for i, it in enumerate(x):
+ *             y[i] = a_f64_rsqrt(it)
+ *         return y             # <<<<<<<<<<<<<<
+ *     return a_f64_rsqrt(x)
+ * 
+ */
+    __Pyx_XDECREF(__pyx_r);
+    __Pyx_INCREF(((PyObject *)__pyx_v_y));
+    __pyx_r = ((PyObject *)__pyx_v_y);
+    goto __pyx_L0;
+
+    /* "python/src/a/math.pxi":18
+ * def f64_rsqrt(x):
+ *     '''fast inverse square-root'''
+ *     if iterable(x):             # <<<<<<<<<<<<<<
+ *         y = array('d', x)
+ *         for i, it in enumerate(x):
+ */
+  }
+
+  /* "python/src/a/math.pxi":23
+ *             y[i] = a_f64_rsqrt(it)
+ *         return y
+ *     return a_f64_rsqrt(x)             # <<<<<<<<<<<<<<
+ * 
+ * @cython.wraparound(False)
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_7 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_7 == ((a_f64_t)-1)) && PyErr_Occurred())) __PYX_ERR(2, 23, __pyx_L1_error)
+  __pyx_t_3 = PyFloat_FromDouble(a_f64_rsqrt(__pyx_t_7)); if (unlikely(!__pyx_t_3)) __PYX_ERR(2, 23, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_r = __pyx_t_3;
+  __pyx_t_3 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/math.pxi":16
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def f64_rsqrt(x):             # <<<<<<<<<<<<<<
+ *     '''fast inverse square-root'''
+ *     if iterable(x):
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_XDECREF(__pyx_t_6);
+  __Pyx_AddTraceback("liba.f64_rsqrt", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XDECREF((PyObject *)__pyx_v_y);
+  __Pyx_XDECREF(__pyx_v_i);
+  __Pyx_XDECREF(__pyx_v_it);
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/math.pxi":27
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def u32_sqrt(x):             # <<<<<<<<<<<<<<
+ *     cdef a_u32_t o
+ *     if iterable(x):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_7u32_sqrt(PyObject *__pyx_self, PyObject *__pyx_v_x); /*proto*/
+static PyMethodDef __pyx_mdef_4liba_7u32_sqrt = {"u32_sqrt", (PyCFunction)__pyx_pw_4liba_7u32_sqrt, METH_O, 0};
+static PyObject *__pyx_pw_4liba_7u32_sqrt(PyObject *__pyx_self, PyObject *__pyx_v_x) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("u32_sqrt (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_6u32_sqrt(__pyx_self, ((PyObject *)__pyx_v_x));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_6u32_sqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x) {
+  a_u32_t __pyx_v_o;
+  arrayobject *__pyx_v_y = NULL;
+  arrayobject *__pyx_v_z = NULL;
+  PyObject *__pyx_v_i = NULL;
+  PyObject *__pyx_v_it = NULL;
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  struct __pyx_opt_args_4liba_u32s __pyx_t_3;
+  PyObject *__pyx_t_4 = NULL;
+  Py_ssize_t __pyx_t_5;
+  PyObject *(*__pyx_t_6)(PyObject *);
+  PyObject *__pyx_t_7 = NULL;
+  a_u32_t __pyx_t_8;
+  PyObject *__pyx_t_9 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("u32_sqrt", 0);
+
+  /* "python/src/a/math.pxi":29
+ * def u32_sqrt(x):
+ *     cdef a_u32_t o
+ *     if iterable(x):             # <<<<<<<<<<<<<<
+ *         y = u32s(x)
+ *         z = u32s(x)
+ */
+  __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a/math.pxi":30
+ *     cdef a_u32_t o
+ *     if iterable(x):
+ *         y = u32s(x)             # <<<<<<<<<<<<<<
+ *         z = u32s(x)
+ *         for i, it in enumerate(x):
+ */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_x;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 19, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_u32s(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 30, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_y = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/math.pxi":20
+    /* "python/src/a/math.pxi":31
  *     if iterable(x):
- *         y = reals(x)
+ *         y = u32s(x)
+ *         z = u32s(x)             # <<<<<<<<<<<<<<
+ *         for i, it in enumerate(x):
+ *             y[i], z[i] = a_u32_sqrt(it, &o), o
+ */
+    __pyx_t_3.__pyx_n = 1;
+    __pyx_t_3.o = __pyx_v_x;
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_u32s(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 31, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __pyx_v_z = ((arrayobject *)__pyx_t_2);
+    __pyx_t_2 = 0;
+
+    /* "python/src/a/math.pxi":32
+ *         y = u32s(x)
+ *         z = u32s(x)
  *         for i, it in enumerate(x):             # <<<<<<<<<<<<<<
- *             y[i] = a_f64_rsqrt(it)
- *         return y
+ *             y[i], z[i] = a_u32_sqrt(it, &o), o
+ *         return y, z
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
       __pyx_t_4 = __pyx_v_x; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_x); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 20, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_x); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 32, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(1, 20, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 32, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(1, 20, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(2, 32, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 20, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 32, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(1, 20, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(2, 32, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 20, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 32, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(1, 20, __pyx_L1_error)
+            else __PYX_ERR(2, 32, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 20, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 32, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "python/src/a/math.pxi":21
- *         y = reals(x)
+      /* "python/src/a/math.pxi":33
+ *         z = u32s(x)
  *         for i, it in enumerate(x):
- *             y[i] = a_f64_rsqrt(it)             # <<<<<<<<<<<<<<
- *         return y
- *     return a_f64_rsqrt(x)
+ *             y[i], z[i] = a_u32_sqrt(it, &o), o             # <<<<<<<<<<<<<<
+ *         return y, z
+ *     return a_u32_sqrt(x, &o), o
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_f64_t)-1)) && PyErr_Occurred())) __PYX_ERR(1, 21, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_f64_rsqrt(__pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 21, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyInt_As_uint32_t(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_u32_t)-1)) && PyErr_Occurred())) __PYX_ERR(2, 33, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_From_uint32_t(a_u32_sqrt(__pyx_t_8, (&__pyx_v_o))); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 33, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(1, 21, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyInt_From_uint32_t(__pyx_v_o); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 33, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_9);
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(2, 33, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_z), __pyx_v_i, __pyx_t_9) < 0)) __PYX_ERR(2, 33, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-      /* "python/src/a/math.pxi":20
- *     if iterable(x):
- *         y = reals(x)
+      /* "python/src/a/math.pxi":32
+ *         y = u32s(x)
+ *         z = u32s(x)
  *         for i, it in enumerate(x):             # <<<<<<<<<<<<<<
- *             y[i] = a_f64_rsqrt(it)
- *         return y
+ *             y[i], z[i] = a_u32_sqrt(it, &o), o
+ *         return y, z
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "python/src/a/math.pxi":22
+    /* "python/src/a/math.pxi":34
  *         for i, it in enumerate(x):
- *             y[i] = a_f64_rsqrt(it)
- *         return y             # <<<<<<<<<<<<<<
- *     return a_f64_rsqrt(x)
+ *             y[i], z[i] = a_u32_sqrt(it, &o), o
+ *         return y, z             # <<<<<<<<<<<<<<
+ *     return a_u32_sqrt(x, &o), o
+ * 
  */
     __Pyx_XDECREF(__pyx_r);
+    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 34, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
-    __pyx_r = ((PyObject *)__pyx_v_y);
+    __Pyx_GIVEREF(((PyObject *)__pyx_v_y));
+    PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_v_y));
+    __Pyx_INCREF(((PyObject *)__pyx_v_z));
+    __Pyx_GIVEREF(((PyObject *)__pyx_v_z));
+    PyTuple_SET_ITEM(__pyx_t_2, 1, ((PyObject *)__pyx_v_z));
+    __pyx_r = __pyx_t_2;
+    __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "python/src/a/math.pxi":18
- * def f64_rsqrt(x):
- *     '''fast inverse square-root'''
+    /* "python/src/a/math.pxi":29
+ * def u32_sqrt(x):
+ *     cdef a_u32_t o
  *     if iterable(x):             # <<<<<<<<<<<<<<
- *         y = reals(x)
+ *         y = u32s(x)
+ *         z = u32s(x)
+ */
+  }
+
+  /* "python/src/a/math.pxi":35
+ *             y[i], z[i] = a_u32_sqrt(it, &o), o
+ *         return y, z
+ *     return a_u32_sqrt(x, &o), o             # <<<<<<<<<<<<<<
+ * 
+ * @cython.wraparound(False)
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_8 = __Pyx_PyInt_As_uint32_t(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_u32_t)-1)) && PyErr_Occurred())) __PYX_ERR(2, 35, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_uint32_t(a_u32_sqrt(__pyx_t_8, (&__pyx_v_o))); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 35, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_t_4 = __Pyx_PyInt_From_uint32_t(__pyx_v_o); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 35, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_4);
+  __pyx_t_9 = PyTuple_New(2); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 35, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_9);
+  __Pyx_GIVEREF(__pyx_t_2);
+  PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_2);
+  __Pyx_GIVEREF(__pyx_t_4);
+  PyTuple_SET_ITEM(__pyx_t_9, 1, __pyx_t_4);
+  __pyx_t_2 = 0;
+  __pyx_t_4 = 0;
+  __pyx_r = __pyx_t_9;
+  __pyx_t_9 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/math.pxi":27
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def u32_sqrt(x):             # <<<<<<<<<<<<<<
+ *     cdef a_u32_t o
+ *     if iterable(x):
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_4);
+  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_XDECREF(__pyx_t_9);
+  __Pyx_AddTraceback("liba.u32_sqrt", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XDECREF((PyObject *)__pyx_v_y);
+  __Pyx_XDECREF((PyObject *)__pyx_v_z);
+  __Pyx_XDECREF(__pyx_v_i);
+  __Pyx_XDECREF(__pyx_v_it);
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/math.pxi":39
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def u64_sqrt(x):             # <<<<<<<<<<<<<<
+ *     cdef a_u64_t o
+ *     if iterable(x):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9u64_sqrt(PyObject *__pyx_self, PyObject *__pyx_v_x); /*proto*/
+static PyMethodDef __pyx_mdef_4liba_9u64_sqrt = {"u64_sqrt", (PyCFunction)__pyx_pw_4liba_9u64_sqrt, METH_O, 0};
+static PyObject *__pyx_pw_4liba_9u64_sqrt(PyObject *__pyx_self, PyObject *__pyx_v_x) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("u64_sqrt (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_8u64_sqrt(__pyx_self, ((PyObject *)__pyx_v_x));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_8u64_sqrt(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x) {
+  a_u64_t __pyx_v_o;
+  arrayobject *__pyx_v_y = NULL;
+  arrayobject *__pyx_v_z = NULL;
+  PyObject *__pyx_v_i = NULL;
+  PyObject *__pyx_v_it = NULL;
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  struct __pyx_opt_args_4liba_u64s __pyx_t_3;
+  PyObject *__pyx_t_4 = NULL;
+  Py_ssize_t __pyx_t_5;
+  PyObject *(*__pyx_t_6)(PyObject *);
+  PyObject *__pyx_t_7 = NULL;
+  a_u64_t __pyx_t_8;
+  PyObject *__pyx_t_9 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("u64_sqrt", 0);
+
+  /* "python/src/a/math.pxi":41
+ * def u64_sqrt(x):
+ *     cdef a_u64_t o
+ *     if iterable(x):             # <<<<<<<<<<<<<<
+ *         y = u64s(x)
+ *         z = u64s(x)
+ */
+  __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a/math.pxi":42
+ *     cdef a_u64_t o
+ *     if iterable(x):
+ *         y = u64s(x)             # <<<<<<<<<<<<<<
+ *         z = u64s(x)
+ *         for i, it in enumerate(x):
+ */
+    __pyx_t_3.__pyx_n = 1;
+    __pyx_t_3.o = __pyx_v_x;
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_u64s(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 42, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __pyx_v_y = ((arrayobject *)__pyx_t_2);
+    __pyx_t_2 = 0;
+
+    /* "python/src/a/math.pxi":43
+ *     if iterable(x):
+ *         y = u64s(x)
+ *         z = u64s(x)             # <<<<<<<<<<<<<<
+ *         for i, it in enumerate(x):
+ *             y[i], z[i] = a_u64_sqrt(it, &o), o
+ */
+    __pyx_t_3.__pyx_n = 1;
+    __pyx_t_3.o = __pyx_v_x;
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_u64s(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 43, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __pyx_v_z = ((arrayobject *)__pyx_t_2);
+    __pyx_t_2 = 0;
+
+    /* "python/src/a/math.pxi":44
+ *         y = u64s(x)
+ *         z = u64s(x)
+ *         for i, it in enumerate(x):             # <<<<<<<<<<<<<<
+ *             y[i], z[i] = a_u64_sqrt(it, &o), o
+ *         return y, z
+ */
+    __Pyx_INCREF(__pyx_int_0);
+    __pyx_t_2 = __pyx_int_0;
+    if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
+      __pyx_t_4 = __pyx_v_x; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
+      __pyx_t_6 = NULL;
+    } else {
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_x); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 44, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_4);
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 44, __pyx_L1_error)
+    }
+    for (;;) {
+      if (likely(!__pyx_t_6)) {
+        if (likely(PyList_CheckExact(__pyx_t_4))) {
+          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(2, 44, __pyx_L1_error)
+          #else
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 44, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_7);
+          #endif
+        } else {
+          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(2, 44, __pyx_L1_error)
+          #else
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 44, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_7);
+          #endif
+        }
+      } else {
+        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
+        if (unlikely(!__pyx_t_7)) {
+          PyObject* exc_type = PyErr_Occurred();
+          if (exc_type) {
+            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
+            else __PYX_ERR(2, 44, __pyx_L1_error)
+          }
+          break;
+        }
+        __Pyx_GOTREF(__pyx_t_7);
+      }
+      __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
+      __pyx_t_7 = 0;
+      __Pyx_INCREF(__pyx_t_2);
+      __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 44, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_7);
+      __Pyx_DECREF(__pyx_t_2);
+      __pyx_t_2 = __pyx_t_7;
+      __pyx_t_7 = 0;
+
+      /* "python/src/a/math.pxi":45
+ *         z = u64s(x)
+ *         for i, it in enumerate(x):
+ *             y[i], z[i] = a_u64_sqrt(it, &o), o             # <<<<<<<<<<<<<<
+ *         return y, z
+ *     return a_u64_sqrt(x, &o), o
+ */
+      __pyx_t_8 = __Pyx_PyInt_As_uint64_t(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_u64_t)-1)) && PyErr_Occurred())) __PYX_ERR(2, 45, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_From_uint64_t(a_u64_sqrt(__pyx_t_8, (&__pyx_v_o))); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 45, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_7);
+      __pyx_t_9 = __Pyx_PyInt_From_uint64_t(__pyx_v_o); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 45, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_9);
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(2, 45, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_z), __pyx_v_i, __pyx_t_9) < 0)) __PYX_ERR(2, 45, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
+
+      /* "python/src/a/math.pxi":44
+ *         y = u64s(x)
+ *         z = u64s(x)
+ *         for i, it in enumerate(x):             # <<<<<<<<<<<<<<
+ *             y[i], z[i] = a_u64_sqrt(it, &o), o
+ *         return y, z
+ */
+    }
+    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+    /* "python/src/a/math.pxi":46
  *         for i, it in enumerate(x):
+ *             y[i], z[i] = a_u64_sqrt(it, &o), o
+ *         return y, z             # <<<<<<<<<<<<<<
+ *     return a_u64_sqrt(x, &o), o
+ */
+    __Pyx_XDECREF(__pyx_r);
+    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 46, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_INCREF(((PyObject *)__pyx_v_y));
+    __Pyx_GIVEREF(((PyObject *)__pyx_v_y));
+    PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_v_y));
+    __Pyx_INCREF(((PyObject *)__pyx_v_z));
+    __Pyx_GIVEREF(((PyObject *)__pyx_v_z));
+    PyTuple_SET_ITEM(__pyx_t_2, 1, ((PyObject *)__pyx_v_z));
+    __pyx_r = __pyx_t_2;
+    __pyx_t_2 = 0;
+    goto __pyx_L0;
+
+    /* "python/src/a/math.pxi":41
+ * def u64_sqrt(x):
+ *     cdef a_u64_t o
+ *     if iterable(x):             # <<<<<<<<<<<<<<
+ *         y = u64s(x)
+ *         z = u64s(x)
  */
   }
 
-  /* "python/src/a/math.pxi":23
- *             y[i] = a_f64_rsqrt(it)
- *         return y
- *     return a_f64_rsqrt(x)             # <<<<<<<<<<<<<<
+  /* "python/src/a/math.pxi":47
+ *             y[i], z[i] = a_u64_sqrt(it, &o), o
+ *         return y, z
+ *     return a_u64_sqrt(x, &o), o             # <<<<<<<<<<<<<<
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_f64_t)-1)) && PyErr_Occurred())) __PYX_ERR(1, 23, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_f64_rsqrt(__pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 23, __pyx_L1_error)
+  __pyx_t_8 = __Pyx_PyInt_As_uint64_t(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_u64_t)-1)) && PyErr_Occurred())) __PYX_ERR(2, 47, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_uint64_t(a_u64_sqrt(__pyx_t_8, (&__pyx_v_o))); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 47, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_r = __pyx_t_2;
+  __pyx_t_4 = __Pyx_PyInt_From_uint64_t(__pyx_v_o); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 47, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_4);
+  __pyx_t_9 = PyTuple_New(2); if (unlikely(!__pyx_t_9)) __PYX_ERR(2, 47, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_9);
+  __Pyx_GIVEREF(__pyx_t_2);
+  PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_2);
+  __Pyx_GIVEREF(__pyx_t_4);
+  PyTuple_SET_ITEM(__pyx_t_9, 1, __pyx_t_4);
   __pyx_t_2 = 0;
+  __pyx_t_4 = 0;
+  __pyx_r = __pyx_t_9;
+  __pyx_t_9 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/math.pxi":16
+  /* "python/src/a/math.pxi":39
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
- * def f64_rsqrt(x):             # <<<<<<<<<<<<<<
- *     '''fast inverse square-root'''
+ * def u64_sqrt(x):             # <<<<<<<<<<<<<<
+ *     cdef a_u64_t o
  *     if iterable(x):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("liba.f64_rsqrt", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_XDECREF(__pyx_t_9);
+  __Pyx_AddTraceback("liba.u64_sqrt", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_y);
+  __Pyx_XDECREF((PyObject *)__pyx_v_z);
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/mf.pxi":15
  *     Z     = A_MF_Z
  *     @staticmethod
  *     def __call__(e: a_mf_e, x, a):             # <<<<<<<<<<<<<<
- *         cdef array d = reals(a)
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr
+ *         cdef array d = floats(a)
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_2mf_1__call__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static PyMethodDef __pyx_mdef_4liba_2mf_1__call__ = {"__call__", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_1__call__, METH_VARARGS|METH_KEYWORDS|METH_COEXIST, 0};
 static PyObject *__pyx_pw_4liba_2mf_1__call__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   a_mf_e __pyx_v_e;
@@ -3544,83 +6518,83 @@
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_pf_4liba_2mf___call__(a_mf_e __pyx_v_e, PyObject *__pyx_v_x, PyObject *__pyx_v_a) {
   arrayobject *__pyx_v_d = 0;
-  a_real_t *__pyx_v_v;
+  a_float_t *__pyx_v_v;
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_2;
+  struct __pyx_opt_args_4liba_floats __pyx_t_2;
   int __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__call__", 0);
 
   /* "python/src/a/mf.pxi":16
  *     @staticmethod
  *     def __call__(e: a_mf_e, x, a):
- *         cdef array d = reals(a)             # <<<<<<<<<<<<<<
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr
+ *         cdef array d = floats(a)             # <<<<<<<<<<<<<<
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr
  *         if iterable(x):
  */
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.o = __pyx_v_a;
-  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 16, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_d = ((arrayobject *)__pyx_t_1);
   __pyx_t_1 = 0;
 
   /* "python/src/a/mf.pxi":17
  *     def __call__(e: a_mf_e, x, a):
- *         cdef array d = reals(a)
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr             # <<<<<<<<<<<<<<
+ *         cdef array d = floats(a)
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr             # <<<<<<<<<<<<<<
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  */
-  __pyx_v_v = ((a_real_t *)__pyx_v_d->data.as_voidptr);
+  __pyx_v_v = ((a_float_t *)__pyx_v_d->data.as_voidptr);
 
   /* "python/src/a/mf.pxi":18
- *         cdef array d = reals(a)
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr
+ *         cdef array d = floats(a)
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   __pyx_t_3 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_3) {
 
     /* "python/src/a/mf.pxi":19
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr
  *         if iterable(x):
- *             y = reals(x)             # <<<<<<<<<<<<<<
+ *             y = floats(x)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf(e, it, v)
  */
     __pyx_t_2.__pyx_n = 1;
     __pyx_t_2.o = __pyx_v_x;
-    __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 19, __pyx_L1_error)
+    __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 19, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_v_y = ((arrayobject *)__pyx_t_1);
     __pyx_t_1 = 0;
 
     /* "python/src/a/mf.pxi":20
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf(e, it, v)
  *             return y
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_1 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
@@ -3669,29 +6643,29 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_1, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 20, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_1);
       __pyx_t_1 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":21
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf(e, it, v)             # <<<<<<<<<<<<<<
  *             return y
  *         return a_mf(e, x, v)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 21, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 21, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_mf(__pyx_v_e, __pyx_t_8, __pyx_v_v)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 21, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(0, 21, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":20
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf(e, it, v)
  *             return y
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -3705,43 +6679,43 @@
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/mf.pxi":18
- *         cdef array d = reals(a)
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr
+ *         cdef array d = floats(a)
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   }
 
   /* "python/src/a/mf.pxi":23
  *                 y[i] = a_mf(e, it, v)
  *             return y
  *         return a_mf(e, x, v)             # <<<<<<<<<<<<<<
  *     @staticmethod
- *     def gauss(x, sigma: a_real_t, c: a_real_t):
+ *     def gauss(x, sigma: a_float_t, c: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 23, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 23, __pyx_L1_error)
   __pyx_t_1 = PyFloat_FromDouble(a_mf(__pyx_v_e, __pyx_t_8, __pyx_v_v)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/mf.pxi":15
  *     Z     = A_MF_Z
  *     @staticmethod
  *     def __call__(e: a_mf_e, x, a):             # <<<<<<<<<<<<<<
- *         cdef array d = reals(a)
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr
+ *         cdef array d = floats(a)
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_7);
@@ -3756,27 +6730,27 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/mf.pxi":25
  *         return a_mf(e, x, v)
  *     @staticmethod
- *     def gauss(x, sigma: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def gauss(x, sigma: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Gaussian membership function'''
  *         if iterable(x):
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_2mf_3gauss(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_2mf_2gauss[] = "Gaussian membership function";
 static PyMethodDef __pyx_mdef_4liba_2mf_3gauss = {"gauss", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_3gauss, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_2gauss};
 static PyObject *__pyx_pw_4liba_2mf_3gauss(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_x = 0;
-  a_real_t __pyx_v_sigma;
-  a_real_t __pyx_v_c;
+  a_float_t __pyx_v_sigma;
+  a_float_t __pyx_v_c;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("gauss (wrapper)", 0);
   {
@@ -3820,16 +6794,16 @@
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_x = values[0];
-    __pyx_v_sigma = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_sigma == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 25, __pyx_L3_error)
-    __pyx_v_c = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_c == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 25, __pyx_L3_error)
+    __pyx_v_sigma = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_sigma == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 25, __pyx_L3_error)
+    __pyx_v_c = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_c == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 25, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
   __Pyx_RaiseArgtupleInvalid("gauss", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 25, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.mf.gauss", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
@@ -3838,60 +6812,60 @@
   __pyx_r = __pyx_pf_4liba_2mf_2gauss(__pyx_v_x, __pyx_v_sigma, __pyx_v_c);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_2mf_2gauss(PyObject *__pyx_v_x, a_real_t __pyx_v_sigma, a_real_t __pyx_v_c) {
+static PyObject *__pyx_pf_4liba_2mf_2gauss(PyObject *__pyx_v_x, a_float_t __pyx_v_sigma, a_float_t __pyx_v_c) {
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("gauss", 0);
 
   /* "python/src/a/mf.pxi":27
- *     def gauss(x, sigma: a_real_t, c: a_real_t):
+ *     def gauss(x, sigma: a_float_t, c: a_float_t):
  *         '''Gaussian membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/mf.pxi":28
  *         '''Gaussian membership function'''
  *         if iterable(x):
- *             y = reals(x)             # <<<<<<<<<<<<<<
+ *             y = floats(x)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_gauss(it, sigma, c)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_x;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_y = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/mf.pxi":29
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_gauss(it, sigma, c)
  *             return y
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
@@ -3940,29 +6914,29 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 29, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":30
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_gauss(it, sigma, c)             # <<<<<<<<<<<<<<
  *             return y
  *         return a_mf_gauss(x, sigma, c)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 30, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 30, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_mf_gauss(__pyx_t_8, __pyx_v_sigma, __pyx_v_c)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 30, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(0, 30, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":29
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_gauss(it, sigma, c)
  *             return y
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
@@ -3976,41 +6950,41 @@
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/mf.pxi":27
- *     def gauss(x, sigma: a_real_t, c: a_real_t):
+ *     def gauss(x, sigma: a_float_t, c: a_float_t):
  *         '''Gaussian membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   }
 
   /* "python/src/a/mf.pxi":32
  *                 y[i] = a_mf_gauss(it, sigma, c)
  *             return y
  *         return a_mf_gauss(x, sigma, c)             # <<<<<<<<<<<<<<
  *     @staticmethod
- *     def gbell(x, a: a_real_t, b: a_real_t, c: a_real_t):
+ *     def gbell(x, a: a_float_t, b: a_float_t, c: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 32, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 32, __pyx_L1_error)
   __pyx_t_2 = PyFloat_FromDouble(a_mf_gauss(__pyx_t_8, __pyx_v_sigma, __pyx_v_c)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 32, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/mf.pxi":25
  *         return a_mf(e, x, v)
  *     @staticmethod
- *     def gauss(x, sigma: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def gauss(x, sigma: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Gaussian membership function'''
  *         if iterable(x):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
@@ -4026,28 +7000,28 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/mf.pxi":34
  *         return a_mf_gauss(x, sigma, c)
  *     @staticmethod
- *     def gbell(x, a: a_real_t, b: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def gbell(x, a: a_float_t, b: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Generalized bell-shaped membership function'''
  *         if iterable(x):
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_2mf_5gbell(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_2mf_4gbell[] = "Generalized bell-shaped membership function";
 static PyMethodDef __pyx_mdef_4liba_2mf_5gbell = {"gbell", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_5gbell, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_4gbell};
 static PyObject *__pyx_pw_4liba_2mf_5gbell(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_x = 0;
-  a_real_t __pyx_v_a;
-  a_real_t __pyx_v_b;
-  a_real_t __pyx_v_c;
+  a_float_t __pyx_v_a;
+  a_float_t __pyx_v_b;
+  a_float_t __pyx_v_c;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("gbell (wrapper)", 0);
   {
@@ -4100,17 +7074,17 @@
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
       values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
     }
     __pyx_v_x = values[0];
-    __pyx_v_a = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_a == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 34, __pyx_L3_error)
-    __pyx_v_b = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_b == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 34, __pyx_L3_error)
-    __pyx_v_c = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_c == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 34, __pyx_L3_error)
+    __pyx_v_a = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_a == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 34, __pyx_L3_error)
+    __pyx_v_b = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_b == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 34, __pyx_L3_error)
+    __pyx_v_c = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_c == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 34, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
   __Pyx_RaiseArgtupleInvalid("gbell", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 34, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.mf.gbell", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
@@ -4119,60 +7093,60 @@
   __pyx_r = __pyx_pf_4liba_2mf_4gbell(__pyx_v_x, __pyx_v_a, __pyx_v_b, __pyx_v_c);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_2mf_4gbell(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_b, a_real_t __pyx_v_c) {
+static PyObject *__pyx_pf_4liba_2mf_4gbell(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_b, a_float_t __pyx_v_c) {
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("gbell", 0);
 
   /* "python/src/a/mf.pxi":36
- *     def gbell(x, a: a_real_t, b: a_real_t, c: a_real_t):
+ *     def gbell(x, a: a_float_t, b: a_float_t, c: a_float_t):
  *         '''Generalized bell-shaped membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/mf.pxi":37
  *         '''Generalized bell-shaped membership function'''
  *         if iterable(x):
- *             y = reals(x)             # <<<<<<<<<<<<<<
+ *             y = floats(x)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_gbell(it, a, b, c)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_x;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 37, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 37, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_y = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/mf.pxi":38
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_gbell(it, a, b, c)
  *             return y
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
@@ -4221,29 +7195,29 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 38, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":39
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_gbell(it, a, b, c)             # <<<<<<<<<<<<<<
  *             return y
  *         return a_mf_gbell(x, a, b, c)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 39, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 39, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_mf_gbell(__pyx_t_8, __pyx_v_a, __pyx_v_b, __pyx_v_c)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 39, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(0, 39, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":38
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_gbell(it, a, b, c)
  *             return y
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
@@ -4257,41 +7231,41 @@
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/mf.pxi":36
- *     def gbell(x, a: a_real_t, b: a_real_t, c: a_real_t):
+ *     def gbell(x, a: a_float_t, b: a_float_t, c: a_float_t):
  *         '''Generalized bell-shaped membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   }
 
   /* "python/src/a/mf.pxi":41
  *                 y[i] = a_mf_gbell(it, a, b, c)
  *             return y
  *         return a_mf_gbell(x, a, b, c)             # <<<<<<<<<<<<<<
  *     @staticmethod
- *     def sig(x, a: a_real_t, c: a_real_t):
+ *     def sig(x, a: a_float_t, c: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 41, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 41, __pyx_L1_error)
   __pyx_t_2 = PyFloat_FromDouble(a_mf_gbell(__pyx_t_8, __pyx_v_a, __pyx_v_b, __pyx_v_c)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 41, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/mf.pxi":34
  *         return a_mf_gauss(x, sigma, c)
  *     @staticmethod
- *     def gbell(x, a: a_real_t, b: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def gbell(x, a: a_float_t, b: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Generalized bell-shaped membership function'''
  *         if iterable(x):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
@@ -4307,27 +7281,27 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/mf.pxi":43
  *         return a_mf_gbell(x, a, b, c)
  *     @staticmethod
- *     def sig(x, a: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def sig(x, a: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Sigmoidal membership function'''
  *         if iterable(x):
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_2mf_7sig(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_2mf_6sig[] = "Sigmoidal membership function";
 static PyMethodDef __pyx_mdef_4liba_2mf_7sig = {"sig", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_7sig, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_6sig};
 static PyObject *__pyx_pw_4liba_2mf_7sig(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_x = 0;
-  a_real_t __pyx_v_a;
-  a_real_t __pyx_v_c;
+  a_float_t __pyx_v_a;
+  a_float_t __pyx_v_c;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("sig (wrapper)", 0);
   {
@@ -4371,16 +7345,16 @@
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_x = values[0];
-    __pyx_v_a = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_a == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 43, __pyx_L3_error)
-    __pyx_v_c = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_c == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 43, __pyx_L3_error)
+    __pyx_v_a = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_a == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 43, __pyx_L3_error)
+    __pyx_v_c = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_c == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 43, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
   __Pyx_RaiseArgtupleInvalid("sig", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 43, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.mf.sig", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
@@ -4389,60 +7363,60 @@
   __pyx_r = __pyx_pf_4liba_2mf_6sig(__pyx_v_x, __pyx_v_a, __pyx_v_c);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_2mf_6sig(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_c) {
+static PyObject *__pyx_pf_4liba_2mf_6sig(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_c) {
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("sig", 0);
 
   /* "python/src/a/mf.pxi":45
- *     def sig(x, a: a_real_t, c: a_real_t):
+ *     def sig(x, a: a_float_t, c: a_float_t):
  *         '''Sigmoidal membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/mf.pxi":46
  *         '''Sigmoidal membership function'''
  *         if iterable(x):
- *             y = reals(x)             # <<<<<<<<<<<<<<
+ *             y = floats(x)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_sig(it, a, c)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_x;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 46, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 46, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_y = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/mf.pxi":47
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_sig(it, a, c)
  *             return y
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
@@ -4491,29 +7465,29 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 47, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":48
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_sig(it, a, c)             # <<<<<<<<<<<<<<
  *             return y
  *         return a_mf_sig(x, a, c)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 48, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 48, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_mf_sig(__pyx_t_8, __pyx_v_a, __pyx_v_c)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 48, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(0, 48, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":47
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_sig(it, a, c)
  *             return y
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
@@ -4527,41 +7501,41 @@
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/mf.pxi":45
- *     def sig(x, a: a_real_t, c: a_real_t):
+ *     def sig(x, a: a_float_t, c: a_float_t):
  *         '''Sigmoidal membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   }
 
   /* "python/src/a/mf.pxi":50
  *                 y[i] = a_mf_sig(it, a, c)
  *             return y
  *         return a_mf_sig(x, a, c)             # <<<<<<<<<<<<<<
  *     @staticmethod
- *     def trap(x, a: a_real_t, b: a_real_t, c: a_real_t, d: a_real_t):
+ *     def trap(x, a: a_float_t, b: a_float_t, c: a_float_t, d: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 50, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 50, __pyx_L1_error)
   __pyx_t_2 = PyFloat_FromDouble(a_mf_sig(__pyx_t_8, __pyx_v_a, __pyx_v_c)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 50, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/mf.pxi":43
  *         return a_mf_gbell(x, a, b, c)
  *     @staticmethod
- *     def sig(x, a: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def sig(x, a: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Sigmoidal membership function'''
  *         if iterable(x):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
@@ -4577,29 +7551,29 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/mf.pxi":52
  *         return a_mf_sig(x, a, c)
  *     @staticmethod
- *     def trap(x, a: a_real_t, b: a_real_t, c: a_real_t, d: a_real_t):             # <<<<<<<<<<<<<<
+ *     def trap(x, a: a_float_t, b: a_float_t, c: a_float_t, d: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Trapezoidal membership function'''
  *         if iterable(x):
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_2mf_9trap(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_2mf_8trap[] = "Trapezoidal membership function";
 static PyMethodDef __pyx_mdef_4liba_2mf_9trap = {"trap", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_9trap, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_8trap};
 static PyObject *__pyx_pw_4liba_2mf_9trap(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_x = 0;
-  a_real_t __pyx_v_a;
-  a_real_t __pyx_v_b;
-  a_real_t __pyx_v_c;
-  a_real_t __pyx_v_d;
+  a_float_t __pyx_v_a;
+  a_float_t __pyx_v_b;
+  a_float_t __pyx_v_c;
+  a_float_t __pyx_v_d;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("trap (wrapper)", 0);
   {
@@ -4661,18 +7635,18 @@
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
       values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
       values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
     }
     __pyx_v_x = values[0];
-    __pyx_v_a = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_a == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 52, __pyx_L3_error)
-    __pyx_v_b = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_b == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 52, __pyx_L3_error)
-    __pyx_v_c = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_c == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 52, __pyx_L3_error)
-    __pyx_v_d = __pyx_PyFloat_AsDouble(values[4]); if (unlikely((__pyx_v_d == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 52, __pyx_L3_error)
+    __pyx_v_a = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_a == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 52, __pyx_L3_error)
+    __pyx_v_b = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_b == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 52, __pyx_L3_error)
+    __pyx_v_c = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_c == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 52, __pyx_L3_error)
+    __pyx_v_d = __pyx_PyFloat_AsFloat(values[4]); if (unlikely((__pyx_v_d == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 52, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
   __Pyx_RaiseArgtupleInvalid("trap", 1, 5, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 52, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.mf.trap", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
@@ -4681,60 +7655,60 @@
   __pyx_r = __pyx_pf_4liba_2mf_8trap(__pyx_v_x, __pyx_v_a, __pyx_v_b, __pyx_v_c, __pyx_v_d);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_2mf_8trap(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_b, a_real_t __pyx_v_c, a_real_t __pyx_v_d) {
+static PyObject *__pyx_pf_4liba_2mf_8trap(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_b, a_float_t __pyx_v_c, a_float_t __pyx_v_d) {
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("trap", 0);
 
   /* "python/src/a/mf.pxi":54
- *     def trap(x, a: a_real_t, b: a_real_t, c: a_real_t, d: a_real_t):
+ *     def trap(x, a: a_float_t, b: a_float_t, c: a_float_t, d: a_float_t):
  *         '''Trapezoidal membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/mf.pxi":55
  *         '''Trapezoidal membership function'''
  *         if iterable(x):
- *             y = reals(x)             # <<<<<<<<<<<<<<
+ *             y = floats(x)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_trap(it, a, b, c, d)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_x;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 55, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 55, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_y = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/mf.pxi":56
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_trap(it, a, b, c, d)
  *             return y
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
@@ -4783,29 +7757,29 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 56, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":57
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_trap(it, a, b, c, d)             # <<<<<<<<<<<<<<
  *             return y
  *         return a_mf_trap(x, a, b, c, d)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 57, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 57, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_mf_trap(__pyx_t_8, __pyx_v_a, __pyx_v_b, __pyx_v_c, __pyx_v_d)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 57, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(0, 57, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":56
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_trap(it, a, b, c, d)
  *             return y
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
@@ -4819,41 +7793,41 @@
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/mf.pxi":54
- *     def trap(x, a: a_real_t, b: a_real_t, c: a_real_t, d: a_real_t):
+ *     def trap(x, a: a_float_t, b: a_float_t, c: a_float_t, d: a_float_t):
  *         '''Trapezoidal membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   }
 
   /* "python/src/a/mf.pxi":59
  *                 y[i] = a_mf_trap(it, a, b, c, d)
  *             return y
  *         return a_mf_trap(x, a, b, c, d)             # <<<<<<<<<<<<<<
  *     @staticmethod
- *     def tri(x, a: a_real_t, b: a_real_t, c: a_real_t):
+ *     def tri(x, a: a_float_t, b: a_float_t, c: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 59, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 59, __pyx_L1_error)
   __pyx_t_2 = PyFloat_FromDouble(a_mf_trap(__pyx_t_8, __pyx_v_a, __pyx_v_b, __pyx_v_c, __pyx_v_d)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/mf.pxi":52
  *         return a_mf_sig(x, a, c)
  *     @staticmethod
- *     def trap(x, a: a_real_t, b: a_real_t, c: a_real_t, d: a_real_t):             # <<<<<<<<<<<<<<
+ *     def trap(x, a: a_float_t, b: a_float_t, c: a_float_t, d: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Trapezoidal membership function'''
  *         if iterable(x):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
@@ -4869,28 +7843,28 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/mf.pxi":61
  *         return a_mf_trap(x, a, b, c, d)
  *     @staticmethod
- *     def tri(x, a: a_real_t, b: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def tri(x, a: a_float_t, b: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Triangular membership function'''
  *         if iterable(x):
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_2mf_11tri(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_2mf_10tri[] = "Triangular membership function";
 static PyMethodDef __pyx_mdef_4liba_2mf_11tri = {"tri", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_11tri, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_10tri};
 static PyObject *__pyx_pw_4liba_2mf_11tri(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_x = 0;
-  a_real_t __pyx_v_a;
-  a_real_t __pyx_v_b;
-  a_real_t __pyx_v_c;
+  a_float_t __pyx_v_a;
+  a_float_t __pyx_v_b;
+  a_float_t __pyx_v_c;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("tri (wrapper)", 0);
   {
@@ -4943,17 +7917,17 @@
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
       values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
     }
     __pyx_v_x = values[0];
-    __pyx_v_a = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_a == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 61, __pyx_L3_error)
-    __pyx_v_b = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_b == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 61, __pyx_L3_error)
-    __pyx_v_c = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_c == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 61, __pyx_L3_error)
+    __pyx_v_a = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_a == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 61, __pyx_L3_error)
+    __pyx_v_b = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_b == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 61, __pyx_L3_error)
+    __pyx_v_c = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_c == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 61, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
   __Pyx_RaiseArgtupleInvalid("tri", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 61, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.mf.tri", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
@@ -4962,60 +7936,60 @@
   __pyx_r = __pyx_pf_4liba_2mf_10tri(__pyx_v_x, __pyx_v_a, __pyx_v_b, __pyx_v_c);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_2mf_10tri(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_b, a_real_t __pyx_v_c) {
+static PyObject *__pyx_pf_4liba_2mf_10tri(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_b, a_float_t __pyx_v_c) {
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("tri", 0);
 
   /* "python/src/a/mf.pxi":63
- *     def tri(x, a: a_real_t, b: a_real_t, c: a_real_t):
+ *     def tri(x, a: a_float_t, b: a_float_t, c: a_float_t):
  *         '''Triangular membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/mf.pxi":64
  *         '''Triangular membership function'''
  *         if iterable(x):
- *             y = reals(x)             # <<<<<<<<<<<<<<
+ *             y = floats(x)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_tri(it, a, b, c)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_x;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 64, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 64, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_y = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/mf.pxi":65
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_tri(it, a, b, c)
  *             return y
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
@@ -5064,29 +8038,29 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 65, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":66
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_tri(it, a, b, c)             # <<<<<<<<<<<<<<
  *             return y
  *         return a_mf_tri(x, a, b, c)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 66, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 66, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_mf_tri(__pyx_t_8, __pyx_v_a, __pyx_v_b, __pyx_v_c)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 66, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(0, 66, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":65
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_tri(it, a, b, c)
  *             return y
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
@@ -5100,41 +8074,41 @@
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/mf.pxi":63
- *     def tri(x, a: a_real_t, b: a_real_t, c: a_real_t):
+ *     def tri(x, a: a_float_t, b: a_float_t, c: a_float_t):
  *         '''Triangular membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   }
 
   /* "python/src/a/mf.pxi":68
  *                 y[i] = a_mf_tri(it, a, b, c)
  *             return y
  *         return a_mf_tri(x, a, b, c)             # <<<<<<<<<<<<<<
  *     @staticmethod
- *     def z(x, a: a_real_t, b: a_real_t):
+ *     def z(x, a: a_float_t, b: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 68, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 68, __pyx_L1_error)
   __pyx_t_2 = PyFloat_FromDouble(a_mf_tri(__pyx_t_8, __pyx_v_a, __pyx_v_b, __pyx_v_c)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 68, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/mf.pxi":61
  *         return a_mf_trap(x, a, b, c, d)
  *     @staticmethod
- *     def tri(x, a: a_real_t, b: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def tri(x, a: a_float_t, b: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Triangular membership function'''
  *         if iterable(x):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
@@ -5150,27 +8124,27 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/mf.pxi":70
  *         return a_mf_tri(x, a, b, c)
  *     @staticmethod
- *     def z(x, a: a_real_t, b: a_real_t):             # <<<<<<<<<<<<<<
+ *     def z(x, a: a_float_t, b: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Z-shaped membership function'''
  *         if iterable(x):
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_2mf_13z(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_2mf_12z[] = "Z-shaped membership function";
 static PyMethodDef __pyx_mdef_4liba_2mf_13z = {"z", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_13z, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_12z};
 static PyObject *__pyx_pw_4liba_2mf_13z(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_x = 0;
-  a_real_t __pyx_v_a;
-  a_real_t __pyx_v_b;
+  a_float_t __pyx_v_a;
+  a_float_t __pyx_v_b;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("z (wrapper)", 0);
   {
@@ -5214,16 +8188,16 @@
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_x = values[0];
-    __pyx_v_a = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_a == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 70, __pyx_L3_error)
-    __pyx_v_b = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_b == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 70, __pyx_L3_error)
+    __pyx_v_a = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_a == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 70, __pyx_L3_error)
+    __pyx_v_b = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_b == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 70, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
   __Pyx_RaiseArgtupleInvalid("z", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 70, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.mf.z", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
@@ -5232,60 +8206,60 @@
   __pyx_r = __pyx_pf_4liba_2mf_12z(__pyx_v_x, __pyx_v_a, __pyx_v_b);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_2mf_12z(PyObject *__pyx_v_x, a_real_t __pyx_v_a, a_real_t __pyx_v_b) {
+static PyObject *__pyx_pf_4liba_2mf_12z(PyObject *__pyx_v_x, a_float_t __pyx_v_a, a_float_t __pyx_v_b) {
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("z", 0);
 
   /* "python/src/a/mf.pxi":72
- *     def z(x, a: a_real_t, b: a_real_t):
+ *     def z(x, a: a_float_t, b: a_float_t):
  *         '''Z-shaped membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/mf.pxi":73
  *         '''Z-shaped membership function'''
  *         if iterable(x):
- *             y = reals(x)             # <<<<<<<<<<<<<<
+ *             y = floats(x)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_z(it, a, b)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_x;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 73, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 73, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_y = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/mf.pxi":74
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_z(it, a, b)
  *             return y
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_x)) || PyTuple_CheckExact(__pyx_v_x)) {
@@ -5334,29 +8308,29 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 74, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":75
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  *                 y[i] = a_mf_z(it, a, b)             # <<<<<<<<<<<<<<
  *             return y
  *         return a_mf_z(x, a, b)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 75, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 75, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_mf_z(__pyx_t_8, __pyx_v_a, __pyx_v_b)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 75, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_y), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(0, 75, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/mf.pxi":74
  *         if iterable(x):
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):             # <<<<<<<<<<<<<<
  *                 y[i] = a_mf_z(it, a, b)
  *             return y
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
@@ -5369,39 +8343,39 @@
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/mf.pxi":72
- *     def z(x, a: a_real_t, b: a_real_t):
+ *     def z(x, a: a_float_t, b: a_float_t):
  *         '''Z-shaped membership function'''
  *         if iterable(x):             # <<<<<<<<<<<<<<
- *             y = reals(x)
+ *             y = floats(x)
  *             for i, it in enumerate(x):
  */
   }
 
   /* "python/src/a/mf.pxi":77
  *                 y[i] = a_mf_z(it, a, b)
  *             return y
  *         return a_mf_z(x, a, b)             # <<<<<<<<<<<<<<
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 77, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 77, __pyx_L1_error)
   __pyx_t_2 = PyFloat_FromDouble(a_mf_z(__pyx_t_8, __pyx_v_a, __pyx_v_b)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 77, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/mf.pxi":70
  *         return a_mf_tri(x, a, b, c)
  *     @staticmethod
- *     def z(x, a: a_real_t, b: a_real_t):             # <<<<<<<<<<<<<<
+ *     def z(x, a: a_float_t, b: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Z-shaped membership function'''
  *         if iterable(x):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
@@ -5466,15 +8440,15 @@
   /* "(tree fragment)":6
  *     cdef bint use_setstate
  *     state = ()
  *     _dict = getattr(self, '__dict__', None)             # <<<<<<<<<<<<<<
  *     if _dict is not None:
  *         state += (_dict,)
  */
-  __pyx_t_1 = __Pyx_GetAttr3(((PyObject *)__pyx_v_self), __pyx_n_s_dict, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 6, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_GetAttr3(((PyObject *)__pyx_v_self), __pyx_n_s_dict, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v__dict = __pyx_t_1;
   __pyx_t_1 = 0;
 
   /* "(tree fragment)":7
  *     state = ()
  *     _dict = getattr(self, '__dict__', None)
@@ -5489,20 +8463,20 @@
     /* "(tree fragment)":8
  *     _dict = getattr(self, '__dict__', None)
  *     if _dict is not None:
  *         state += (_dict,)             # <<<<<<<<<<<<<<
  *         use_setstate = True
  *     else:
  */
-    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 8, __pyx_L1_error)
+    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 8, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_INCREF(__pyx_v__dict);
     __Pyx_GIVEREF(__pyx_v__dict);
     PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v__dict);
-    __pyx_t_4 = PyNumber_InPlaceAdd(__pyx_v_state, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 8, __pyx_L1_error)
+    __pyx_t_4 = PyNumber_InPlaceAdd(__pyx_v_state, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 8, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_DECREF_SET(__pyx_v_state, ((PyObject*)__pyx_t_4));
     __pyx_t_4 = 0;
 
     /* "(tree fragment)":9
  *     if _dict is not None:
@@ -5549,30 +8523,30 @@
  *         use_setstate = False
  *     if use_setstate:
  *         return __pyx_unpickle_mf, (type(self), 0xd41d8cd, None), state             # <<<<<<<<<<<<<<
  *     else:
  *         return __pyx_unpickle_mf, (type(self), 0xd41d8cd, state)
  */
     __Pyx_XDECREF(__pyx_r);
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_pyx_unpickle_mf); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 13, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_pyx_unpickle_mf); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 13, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_7cpython_4type_type), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 13, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_7cpython_4type_type), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 13, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 13, __pyx_L1_error)
+    __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 13, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_GIVEREF(__pyx_t_1);
     PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_1);
     __Pyx_INCREF(__pyx_int_222419149);
     __Pyx_GIVEREF(__pyx_int_222419149);
     PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_int_222419149);
     __Pyx_INCREF(Py_None);
     __Pyx_GIVEREF(Py_None);
     PyTuple_SET_ITEM(__pyx_t_5, 2, Py_None);
     __pyx_t_1 = 0;
-    __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 13, __pyx_L1_error)
+    __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 13, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_GIVEREF(__pyx_t_4);
     PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_4);
     __Pyx_GIVEREF(__pyx_t_5);
     PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_5);
     __Pyx_INCREF(__pyx_v_state);
     __Pyx_GIVEREF(__pyx_v_state);
@@ -5597,30 +8571,30 @@
  *     else:
  *         return __pyx_unpickle_mf, (type(self), 0xd41d8cd, state)             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     __pyx_unpickle_mf__set_state(self, __pyx_state)
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_pyx_unpickle_mf); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 15, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_pyx_unpickle_mf); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 15, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_7cpython_4type_type), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 15, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_7cpython_4type_type), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 15, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 15, __pyx_L1_error)
+    __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 15, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_GIVEREF(__pyx_t_5);
     PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_5);
     __Pyx_INCREF(__pyx_int_222419149);
     __Pyx_GIVEREF(__pyx_int_222419149);
     PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_int_222419149);
     __Pyx_INCREF(__pyx_v_state);
     __Pyx_GIVEREF(__pyx_v_state);
     PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_v_state);
     __pyx_t_5 = 0;
-    __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 15, __pyx_L1_error)
+    __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 15, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_GIVEREF(__pyx_t_1);
     PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_1);
     __Pyx_GIVEREF(__pyx_t_4);
     PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_4);
     __pyx_t_1 = 0;
     __pyx_t_4 = 0;
@@ -5680,16 +8654,16 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":17
  *         return __pyx_unpickle_mf, (type(self), 0xd41d8cd, state)
  * def __setstate_cython__(self, __pyx_state):
  *     __pyx_unpickle_mf__set_state(self, __pyx_state)             # <<<<<<<<<<<<<<
  */
-  if (!(likely(PyTuple_CheckExact(__pyx_v___pyx_state))||((__pyx_v___pyx_state) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v___pyx_state)->tp_name), 0))) __PYX_ERR(2, 17, __pyx_L1_error)
-  __pyx_t_1 = __pyx_f_4liba___pyx_unpickle_mf__set_state(__pyx_v_self, ((PyObject*)__pyx_v___pyx_state)); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 17, __pyx_L1_error)
+  if (!(likely(PyTuple_CheckExact(__pyx_v___pyx_state))||((__pyx_v___pyx_state) == Py_None)||(PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v___pyx_state)->tp_name), 0))) __PYX_ERR(1, 17, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_4liba___pyx_unpickle_mf__set_state(__pyx_v_self, ((PyObject*)__pyx_v___pyx_state)); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "(tree fragment)":16
  *     else:
  *         return __pyx_unpickle_mf, (type(self), 0xd41d8cd, state)
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
@@ -5705,961 +8679,355 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/tf.pxi":12
- *     cdef array _u
- *     cdef array _v
- *     def __cinit__(self, num, den):             # <<<<<<<<<<<<<<
- *         self.num = num
- *         self.den = den
+/* "python/src/a/pid.pxi":11
+ *     INC = A_PID_INC
+ *     cdef a_pid_s ctx
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.summax = sum
+ *         self.ctx.outmax = max
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_2tf_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static int __pyx_pw_4liba_2tf_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v_num = 0;
-  PyObject *__pyx_v_den = 0;
+static int __pyx_pw_4liba_3pid_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static int __pyx_pw_4liba_3pid_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_min;
+  a_float_t __pyx_v_max;
+  a_float_t __pyx_v_sum;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
   {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_num,&__pyx_n_s_den,0};
-    PyObject* values[2] = {0,0};
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_min,&__pyx_n_s_max,&__pyx_n_s_sum,0};
+    PyObject* values[3] = {0,0,0};
     if (unlikely(__pyx_kwds)) {
       Py_ssize_t kw_args;
       const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
       switch (pos_args) {
+        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+        CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_num)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_min);
+          if (value) { values[0] = value; kw_args--; }
+        }
         CYTHON_FALLTHROUGH;
         case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_den)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, 1); __PYX_ERR(5, 12, __pyx_L3_error)
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_max);
+          if (value) { values[1] = value; kw_args--; }
+        }
+        CYTHON_FALLTHROUGH;
+        case  2:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_sum);
+          if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(5, 12, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(5, 11, __pyx_L3_error)
       }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
-      goto __pyx_L5_argtuple_error;
     } else {
-      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-    }
-    __pyx_v_num = values[0];
-    __pyx_v_den = values[1];
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 12, __pyx_L3_error)
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.tf.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_2tf___cinit__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), __pyx_v_num, __pyx_v_den);
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_pf_4liba_2tf___cinit__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_num, PyObject *__pyx_v_den) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__cinit__", 0);
-
-  /* "python/src/a/tf.pxi":13
- *     cdef array _v
- *     def __cinit__(self, num, den):
- *         self.num = num             # <<<<<<<<<<<<<<
- *         self.den = den
- *     def __call__(self, x: a_real_t) -> a_real_t:
- */
-  if (__Pyx_PyObject_SetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_num, __pyx_v_num) < 0) __PYX_ERR(5, 13, __pyx_L1_error)
-
-  /* "python/src/a/tf.pxi":14
- *     def __cinit__(self, num, den):
- *         self.num = num
- *         self.den = den             # <<<<<<<<<<<<<<
- *     def __call__(self, x: a_real_t) -> a_real_t:
- *         '''calculate function for transfer function'''
- */
-  if (__Pyx_PyObject_SetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_den, __pyx_v_den) < 0) __PYX_ERR(5, 14, __pyx_L1_error)
-
-  /* "python/src/a/tf.pxi":12
- *     cdef array _u
- *     cdef array _v
- *     def __cinit__(self, num, den):             # <<<<<<<<<<<<<<
- *         self.num = num
- *         self.den = den
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.tf.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/tf.pxi":15
- *         self.num = num
- *         self.den = den
- *     def __call__(self, x: a_real_t) -> a_real_t:             # <<<<<<<<<<<<<<
- *         '''calculate function for transfer function'''
- *         return a_tf_iter(&self.ctx, x)
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_2tf_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_4liba_2tf_2__call__[] = "calculate function for transfer function";
-#if CYTHON_UPDATE_DESCRIPTOR_DOC
-struct wrapperbase __pyx_wrapperbase_4liba_2tf_2__call__;
-#endif
-static PyObject *__pyx_pw_4liba_2tf_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_x;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_x,0};
-    PyObject* values[1] = {0};
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+        CYTHON_FALLTHROUGH;
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_x)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(5, 15, __pyx_L3_error)
-      }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
-      goto __pyx_L5_argtuple_error;
+    }
+    if (values[0]) {
+      __pyx_v_min = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_min == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 11, __pyx_L3_error)
     } else {
-      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+      __pyx_v_min = __pyx_k__17;
+    }
+    if (values[1]) {
+      __pyx_v_max = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_max == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 11, __pyx_L3_error)
+    } else {
+      __pyx_v_max = __pyx_k__18;
+    }
+    if (values[2]) {
+      __pyx_v_sum = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_sum == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 11, __pyx_L3_error)
+    } else {
+      __pyx_v_sum = ((a_float_t)0.0);
     }
-    __pyx_v_x = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_x == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 15, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__call__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 15, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 0, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 11, __pyx_L3_error)
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.tf.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
-  return NULL;
+  return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_2tf_2__call__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), __pyx_v_x);
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_2tf_2__call__(struct __pyx_obj_4liba_tf *__pyx_v_self, a_real_t __pyx_v_x) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__call__", 0);
-
-  /* "python/src/a/tf.pxi":17
- *     def __call__(self, x: a_real_t) -> a_real_t:
- *         '''calculate function for transfer function'''
- *         return a_tf_iter(&self.ctx, x)             # <<<<<<<<<<<<<<
- *     def __dealloc__(self):
- *         '''terminate function for transfer function'''
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(a_tf_iter((&__pyx_v_self->ctx), __pyx_v_x)); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 17, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "python/src/a/tf.pxi":15
- *         self.num = num
- *         self.den = den
- *     def __call__(self, x: a_real_t) -> a_real_t:             # <<<<<<<<<<<<<<
- *         '''calculate function for transfer function'''
- *         return a_tf_iter(&self.ctx, x)
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.tf.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/tf.pxi":18
- *         '''calculate function for transfer function'''
- *         return a_tf_iter(&self.ctx, x)
- *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         '''terminate function for transfer function'''
- *         a_tf_exit(&self.ctx)
- */
-
-/* Python wrapper */
-static void __pyx_pw_4liba_2tf_5__dealloc__(PyObject *__pyx_v_self); /*proto*/
-static void __pyx_pw_4liba_2tf_5__dealloc__(PyObject *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__dealloc__ (wrapper)", 0);
-  __pyx_pf_4liba_2tf_4__dealloc__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-static void __pyx_pf_4liba_2tf_4__dealloc__(struct __pyx_obj_4liba_tf *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__dealloc__", 0);
-
-  /* "python/src/a/tf.pxi":20
- *     def __dealloc__(self):
- *         '''terminate function for transfer function'''
- *         a_tf_exit(&self.ctx)             # <<<<<<<<<<<<<<
- *     def zero(self):
- *         '''zero function for transfer function'''
- */
-  (void)(a_tf_exit((&__pyx_v_self->ctx)));
-
-  /* "python/src/a/tf.pxi":18
- *         '''calculate function for transfer function'''
- *         return a_tf_iter(&self.ctx, x)
- *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         '''terminate function for transfer function'''
- *         a_tf_exit(&self.ctx)
- */
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-/* "python/src/a/tf.pxi":21
- *         '''terminate function for transfer function'''
- *         a_tf_exit(&self.ctx)
- *     def zero(self):             # <<<<<<<<<<<<<<
- *         '''zero function for transfer function'''
- *         a_tf_zero(&self.ctx)
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_2tf_7zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_2tf_6zero[] = "zero function for transfer function";
-static PyObject *__pyx_pw_4liba_2tf_7zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("zero (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_2tf_6zero(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_2tf_6zero(struct __pyx_obj_4liba_tf *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("zero", 0);
-
-  /* "python/src/a/tf.pxi":23
- *     def zero(self):
- *         '''zero function for transfer function'''
- *         a_tf_zero(&self.ctx)             # <<<<<<<<<<<<<<
- *         return self
- * 
- */
-  (void)(a_tf_zero((&__pyx_v_self->ctx)));
-
-  /* "python/src/a/tf.pxi":24
- *         '''zero function for transfer function'''
- *         a_tf_zero(&self.ctx)
- *         return self             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __pyx_r = ((PyObject *)__pyx_v_self);
-  goto __pyx_L0;
-
-  /* "python/src/a/tf.pxi":21
- *         '''terminate function for transfer function'''
- *         a_tf_exit(&self.ctx)
- *     def zero(self):             # <<<<<<<<<<<<<<
- *         '''zero function for transfer function'''
- *         a_tf_zero(&self.ctx)
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/tf.pxi":27
- * 
- *     @property
- *     def num(self):             # <<<<<<<<<<<<<<
- *         return self._num
- *     @num.setter
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_2tf_3num_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_2tf_3num_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_2tf_3num___get__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_2tf_3num___get__(struct __pyx_obj_4liba_tf *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "python/src/a/tf.pxi":28
- *     @property
- *     def num(self):
- *         return self._num             # <<<<<<<<<<<<<<
- *     @num.setter
- *     def num(self, num):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self->_num));
-  __pyx_r = ((PyObject *)__pyx_v_self->_num);
-  goto __pyx_L0;
-
-  /* "python/src/a/tf.pxi":27
- * 
- *     @property
- *     def num(self):             # <<<<<<<<<<<<<<
- *         return self._num
- *     @num.setter
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/tf.pxi":30
- *         return self._num
- *     @num.setter
- *     def num(self, num):             # <<<<<<<<<<<<<<
- *         cdef a_uint_t m = <a_uint_t>len(num)
- *         self._num = reals(num)
- */
-
-/* Python wrapper */
-static int __pyx_pw_4liba_2tf_3num_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_num); /*proto*/
-static int __pyx_pw_4liba_2tf_3num_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_num) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_2tf_3num_2__set__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), ((PyObject *)__pyx_v_num));
+  __pyx_r = __pyx_pf_4liba_3pid___cinit__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), __pyx_v_min, __pyx_v_max, __pyx_v_sum);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_2tf_3num_2__set__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_num) {
-  a_uint_t __pyx_v_m;
+static int __pyx_pf_4liba_3pid___cinit__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_min, a_float_t __pyx_v_max, a_float_t __pyx_v_sum) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
-  Py_ssize_t __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__set__", 0);
-
-  /* "python/src/a/tf.pxi":31
- *     @num.setter
- *     def num(self, num):
- *         cdef a_uint_t m = <a_uint_t>len(num)             # <<<<<<<<<<<<<<
- *         self._num = reals(num)
- *         self._u = reals(num)
- */
-  __pyx_t_1 = PyObject_Length(__pyx_v_num); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(5, 31, __pyx_L1_error)
-  __pyx_v_m = ((a_uint_t)__pyx_t_1);
-
-  /* "python/src/a/tf.pxi":32
- *     def num(self, num):
- *         cdef a_uint_t m = <a_uint_t>len(num)
- *         self._num = reals(num)             # <<<<<<<<<<<<<<
- *         self._u = reals(num)
- *         a_tf_set_num(&self.ctx, m, <a_real_t *>self._num.data.as_voidptr, <a_real_t *>self._u.data.as_voidptr)
- */
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_v_num;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 32, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_GIVEREF(__pyx_t_2);
-  __Pyx_GOTREF(__pyx_v_self->_num);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->_num));
-  __pyx_v_self->_num = ((arrayobject *)__pyx_t_2);
-  __pyx_t_2 = 0;
-
-  /* "python/src/a/tf.pxi":33
- *         cdef a_uint_t m = <a_uint_t>len(num)
- *         self._num = reals(num)
- *         self._u = reals(num)             # <<<<<<<<<<<<<<
- *         a_tf_set_num(&self.ctx, m, <a_real_t *>self._num.data.as_voidptr, <a_real_t *>self._u.data.as_voidptr)
- * 
- */
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_v_num;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 33, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_GIVEREF(__pyx_t_2);
-  __Pyx_GOTREF(__pyx_v_self->_u);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->_u));
-  __pyx_v_self->_u = ((arrayobject *)__pyx_t_2);
-  __pyx_t_2 = 0;
-
-  /* "python/src/a/tf.pxi":34
- *         self._num = reals(num)
- *         self._u = reals(num)
- *         a_tf_set_num(&self.ctx, m, <a_real_t *>self._num.data.as_voidptr, <a_real_t *>self._u.data.as_voidptr)             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  a_tf_set_num((&__pyx_v_self->ctx), __pyx_v_m, ((a_real_t *)__pyx_v_self->_num->data.as_voidptr), ((a_real_t *)__pyx_v_self->_u->data.as_voidptr));
-
-  /* "python/src/a/tf.pxi":30
- *         return self._num
- *     @num.setter
- *     def num(self, num):             # <<<<<<<<<<<<<<
- *         cdef a_uint_t m = <a_uint_t>len(num)
- *         self._num = reals(num)
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("liba.tf.num.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __pyx_L0:;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/tf.pxi":37
- * 
- *     @property
- *     def den(self):             # <<<<<<<<<<<<<<
- *         return self._den
- *     @den.setter
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_2tf_3den_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_2tf_3den_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_2tf_3den___get__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_2tf_3den___get__(struct __pyx_obj_4liba_tf *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__", 0);
+  int __pyx_t_1;
+  __Pyx_RefNannySetupContext("__cinit__", 0);
 
-  /* "python/src/a/tf.pxi":38
- *     @property
- *     def den(self):
- *         return self._den             # <<<<<<<<<<<<<<
- *     @den.setter
- *     def den(self, den):
+  /* "python/src/a/pid.pxi":12
+ *     cdef a_pid_s ctx
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):
+ *         self.ctx.summax = sum             # <<<<<<<<<<<<<<
+ *         self.ctx.outmax = max
+ *         self.ctx.outmin = min
  */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self->_den));
-  __pyx_r = ((PyObject *)__pyx_v_self->_den);
-  goto __pyx_L0;
+  __pyx_v_self->ctx.summax = __pyx_v_sum;
 
-  /* "python/src/a/tf.pxi":37
- * 
- *     @property
- *     def den(self):             # <<<<<<<<<<<<<<
- *         return self._den
- *     @den.setter
+  /* "python/src/a/pid.pxi":13
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):
+ *         self.ctx.summax = sum
+ *         self.ctx.outmax = max             # <<<<<<<<<<<<<<
+ *         self.ctx.outmin = min
+ *         a_pid_init(&self.ctx, 0)
+ */
+  __pyx_v_self->ctx.outmax = __pyx_v_max;
+
+  /* "python/src/a/pid.pxi":14
+ *         self.ctx.summax = sum
+ *         self.ctx.outmax = max
+ *         self.ctx.outmin = min             # <<<<<<<<<<<<<<
+ *         a_pid_init(&self.ctx, 0)
+ *         if sum:
  */
+  __pyx_v_self->ctx.outmin = __pyx_v_min;
 
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/tf.pxi":40
- *         return self._den
- *     @den.setter
- *     def den(self, den):             # <<<<<<<<<<<<<<
- *         cdef a_uint_t n = <a_uint_t>len(den)
- *         self._den = reals(den)
+  /* "python/src/a/pid.pxi":15
+ *         self.ctx.outmax = max
+ *         self.ctx.outmin = min
+ *         a_pid_init(&self.ctx, 0)             # <<<<<<<<<<<<<<
+ *         if sum:
+ *             self.ctx.mode = A_PID_POS
  */
+  a_pid_init((&__pyx_v_self->ctx), 0);
 
-/* Python wrapper */
-static int __pyx_pw_4liba_2tf_3den_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_den); /*proto*/
-static int __pyx_pw_4liba_2tf_3den_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_den) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_2tf_3den_2__set__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), ((PyObject *)__pyx_v_den));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_pf_4liba_2tf_3den_2__set__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_den) {
-  a_uint_t __pyx_v_n;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  Py_ssize_t __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__set__", 0);
-
-  /* "python/src/a/tf.pxi":41
- *     @den.setter
- *     def den(self, den):
- *         cdef a_uint_t n = <a_uint_t>len(den)             # <<<<<<<<<<<<<<
- *         self._den = reals(den)
- *         self._v = reals(den)
+  /* "python/src/a/pid.pxi":16
+ *         self.ctx.outmin = min
+ *         a_pid_init(&self.ctx, 0)
+ *         if sum:             # <<<<<<<<<<<<<<
+ *             self.ctx.mode = A_PID_POS
+ *         else:
  */
-  __pyx_t_1 = PyObject_Length(__pyx_v_den); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(5, 41, __pyx_L1_error)
-  __pyx_v_n = ((a_uint_t)__pyx_t_1);
+  __pyx_t_1 = (__pyx_v_sum != 0);
+  if (__pyx_t_1) {
 
-  /* "python/src/a/tf.pxi":42
- *     def den(self, den):
- *         cdef a_uint_t n = <a_uint_t>len(den)
- *         self._den = reals(den)             # <<<<<<<<<<<<<<
- *         self._v = reals(den)
- *         a_tf_set_den(&self.ctx, n, <a_real_t *>self._den.data.as_voidptr, <a_real_t *>self._v.data.as_voidptr)
+    /* "python/src/a/pid.pxi":17
+ *         a_pid_init(&self.ctx, 0)
+ *         if sum:
+ *             self.ctx.mode = A_PID_POS             # <<<<<<<<<<<<<<
+ *         else:
+ *             self.ctx.mode = A_PID_INC
  */
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_v_den;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 42, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_GIVEREF(__pyx_t_2);
-  __Pyx_GOTREF(__pyx_v_self->_den);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->_den));
-  __pyx_v_self->_den = ((arrayobject *)__pyx_t_2);
-  __pyx_t_2 = 0;
+    __pyx_v_self->ctx.mode = A_PID_POS;
 
-  /* "python/src/a/tf.pxi":43
- *         cdef a_uint_t n = <a_uint_t>len(den)
- *         self._den = reals(den)
- *         self._v = reals(den)             # <<<<<<<<<<<<<<
- *         a_tf_set_den(&self.ctx, n, <a_real_t *>self._den.data.as_voidptr, <a_real_t *>self._v.data.as_voidptr)
+    /* "python/src/a/pid.pxi":16
+ *         self.ctx.outmin = min
+ *         a_pid_init(&self.ctx, 0)
+ *         if sum:             # <<<<<<<<<<<<<<
+ *             self.ctx.mode = A_PID_POS
+ *         else:
  */
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_v_den;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 43, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_GIVEREF(__pyx_t_2);
-  __Pyx_GOTREF(__pyx_v_self->_v);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->_v));
-  __pyx_v_self->_v = ((arrayobject *)__pyx_t_2);
-  __pyx_t_2 = 0;
+    goto __pyx_L3;
+  }
 
-  /* "python/src/a/tf.pxi":44
- *         self._den = reals(den)
- *         self._v = reals(den)
- *         a_tf_set_den(&self.ctx, n, <a_real_t *>self._den.data.as_voidptr, <a_real_t *>self._v.data.as_voidptr)             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid.pxi":19
+ *             self.ctx.mode = A_PID_POS
+ *         else:
+ *             self.ctx.mode = A_PID_INC             # <<<<<<<<<<<<<<
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):
+ *         '''set proportional integral derivative constant for PID controller'''
  */
-  a_tf_set_den((&__pyx_v_self->ctx), __pyx_v_n, ((a_real_t *)__pyx_v_self->_den->data.as_voidptr), ((a_real_t *)__pyx_v_self->_v->data.as_voidptr));
+  /*else*/ {
+    __pyx_v_self->ctx.mode = A_PID_INC;
+  }
+  __pyx_L3:;
 
-  /* "python/src/a/tf.pxi":40
- *         return self._den
- *     @den.setter
- *     def den(self, den):             # <<<<<<<<<<<<<<
- *         cdef a_uint_t n = <a_uint_t>len(den)
- *         self._den = reals(den)
+  /* "python/src/a/pid.pxi":11
+ *     INC = A_PID_INC
+ *     cdef a_pid_s ctx
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.summax = sum
+ *         self.ctx.outmax = max
  */
 
   /* function exit code */
   __pyx_r = 0;
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("liba.tf.den.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
-  __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
+/* "python/src/a/pid.pxi":20
+ *         else:
+ *             self.ctx.mode = A_PID_INC
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         '''set proportional integral derivative constant for PID controller'''
+ *         a_pid_kpid(&self.ctx, kp, ki, kd)
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_2tf_9__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_pw_4liba_2tf_9__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_2tf_8__reduce_cython__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_2tf_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_tf *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
+static PyObject *__pyx_pw_4liba_3pid_3kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_3pid_2kpid[] = "set proportional integral derivative constant for PID controller";
+static PyObject *__pyx_pw_4liba_3pid_3kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_kp;
+  a_float_t __pyx_v_ki;
+  a_float_t __pyx_v_kd;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
-
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple_, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
-
-  /* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.tf.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_2tf_11__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
-static PyObject *__pyx_pw_4liba_2tf_11__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_2tf_10__setstate_cython__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_2tf_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_tf *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
-
-  /* "(tree fragment)":4
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
-
-  /* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.tf.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/pid.pxi":11
- *     INC = A_PID_INC
- *     cdef a_pid_s ctx
- *     def __cinit__(self, a_real_t dt, a_real_t min, a_real_t max, a_real_t sum = 0):             # <<<<<<<<<<<<<<
- *         a_pid_init(&self.ctx, dt, min, max)
- *         if sum:
- */
-
-/* Python wrapper */
-static int __pyx_pw_4liba_3pid_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static int __pyx_pw_4liba_3pid_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_dt;
-  a_real_t __pyx_v_min;
-  a_real_t __pyx_v_max;
-  a_real_t __pyx_v_sum;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
+  __Pyx_RefNannySetupContext("kpid (wrapper)", 0);
   {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_dt,&__pyx_n_s_min,&__pyx_n_s_max,&__pyx_n_s_sum,0};
-    PyObject* values[4] = {0,0,0,0};
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_kp,&__pyx_n_s_ki,&__pyx_n_s_kd,0};
+    PyObject* values[3] = {0,0,0};
     if (unlikely(__pyx_kwds)) {
       Py_ssize_t kw_args;
       const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
       switch (pos_args) {
-        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
-        CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_dt)) != 0)) kw_args--;
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kp)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_min)) != 0)) kw_args--;
+        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ki)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 3, 4, 1); __PYX_ERR(6, 11, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, 1); __PYX_ERR(5, 20, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
-        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_max)) != 0)) kw_args--;
+        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kd)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 3, 4, 2); __PYX_ERR(6, 11, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  3:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_sum);
-          if (value) { values[3] = value; kw_args--; }
+          __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, 2); __PYX_ERR(5, 20, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(6, 11, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "kpid") < 0)) __PYX_ERR(5, 20, __pyx_L3_error)
       }
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
+      goto __pyx_L5_argtuple_error;
     } else {
-      switch (PyTuple_GET_SIZE(__pyx_args)) {
-        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
-        CYTHON_FALLTHROUGH;
-        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-    }
-    __pyx_v_dt = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_dt == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 11, __pyx_L3_error)
-    __pyx_v_min = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_min == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 11, __pyx_L3_error)
-    __pyx_v_max = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_max == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 11, __pyx_L3_error)
-    if (values[3]) {
-      __pyx_v_sum = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_sum == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 11, __pyx_L3_error)
-    } else {
-      __pyx_v_sum = ((a_real_t)0.0);
+      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
+    __pyx_v_kp = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_kp == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 20, __pyx_L3_error)
+    __pyx_v_ki = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_ki == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 20, __pyx_L3_error)
+    __pyx_v_kd = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_kd == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 20, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(6, 11, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 20, __pyx_L3_error)
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.kpid", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
-  return -1;
+  return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid___cinit__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), __pyx_v_dt, __pyx_v_min, __pyx_v_max, __pyx_v_sum);
+  __pyx_r = __pyx_pf_4liba_3pid_2kpid(((struct __pyx_obj_4liba_pid *)__pyx_v_self), __pyx_v_kp, __pyx_v_ki, __pyx_v_kd);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_3pid___cinit__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_dt, a_real_t __pyx_v_min, a_real_t __pyx_v_max, a_real_t __pyx_v_sum) {
-  int __pyx_r;
+static PyObject *__pyx_pf_4liba_3pid_2kpid(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_kp, a_float_t __pyx_v_ki, a_float_t __pyx_v_kd) {
+  PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  __Pyx_RefNannySetupContext("__cinit__", 0);
-
-  /* "python/src/a/pid.pxi":12
- *     cdef a_pid_s ctx
- *     def __cinit__(self, a_real_t dt, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         a_pid_init(&self.ctx, dt, min, max)             # <<<<<<<<<<<<<<
- *         if sum:
- *             a_pid_pos(&self.ctx, sum)
- */
-  (void)(a_pid_init((&__pyx_v_self->ctx), __pyx_v_dt, __pyx_v_min, __pyx_v_max));
-
-  /* "python/src/a/pid.pxi":13
- *     def __cinit__(self, a_real_t dt, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         a_pid_init(&self.ctx, dt, min, max)
- *         if sum:             # <<<<<<<<<<<<<<
- *             a_pid_pos(&self.ctx, sum)
- *         else:
- */
-  __pyx_t_1 = (__pyx_v_sum != 0);
-  if (__pyx_t_1) {
-
-    /* "python/src/a/pid.pxi":14
- *         a_pid_init(&self.ctx, dt, min, max)
- *         if sum:
- *             a_pid_pos(&self.ctx, sum)             # <<<<<<<<<<<<<<
- *         else:
- *             a_pid_inc(&self.ctx)
- */
-    (void)(a_pid_pos((&__pyx_v_self->ctx), __pyx_v_sum));
+  __Pyx_RefNannySetupContext("kpid", 0);
 
-    /* "python/src/a/pid.pxi":13
- *     def __cinit__(self, a_real_t dt, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         a_pid_init(&self.ctx, dt, min, max)
- *         if sum:             # <<<<<<<<<<<<<<
- *             a_pid_pos(&self.ctx, sum)
- *         else:
+  /* "python/src/a/pid.pxi":22
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):
+ *         '''set proportional integral derivative constant for PID controller'''
+ *         a_pid_kpid(&self.ctx, kp, ki, kd)             # <<<<<<<<<<<<<<
+ *         return self
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
  */
-    goto __pyx_L3;
-  }
+  a_pid_kpid((&__pyx_v_self->ctx), __pyx_v_kp, __pyx_v_ki, __pyx_v_kd);
 
-  /* "python/src/a/pid.pxi":16
- *             a_pid_pos(&self.ctx, sum)
- *         else:
- *             a_pid_inc(&self.ctx)             # <<<<<<<<<<<<<<
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:
+  /* "python/src/a/pid.pxi":23
+ *         '''set proportional integral derivative constant for PID controller'''
+ *         a_pid_kpid(&self.ctx, kp, ki, kd)
+ *         return self             # <<<<<<<<<<<<<<
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
  *         '''calculate function for PID controller'''
  */
-  /*else*/ {
-    (void)(a_pid_inc((&__pyx_v_self->ctx)));
-  }
-  __pyx_L3:;
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self));
+  __pyx_r = ((PyObject *)__pyx_v_self);
+  goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":11
- *     INC = A_PID_INC
- *     cdef a_pid_s ctx
- *     def __cinit__(self, a_real_t dt, a_real_t min, a_real_t max, a_real_t sum = 0):             # <<<<<<<<<<<<<<
- *         a_pid_init(&self.ctx, dt, min, max)
- *         if sum:
+  /* "python/src/a/pid.pxi":20
+ *         else:
+ *             self.ctx.mode = A_PID_INC
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         '''set proportional integral derivative constant for PID controller'''
+ *         a_pid_kpid(&self.ctx, kp, ki, kd)
  */
 
   /* function exit code */
-  __pyx_r = 0;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":17
- *         else:
- *             a_pid_inc(&self.ctx)
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:             # <<<<<<<<<<<<<<
+/* "python/src/a/pid.pxi":24
+ *         a_pid_kpid(&self.ctx, kp, ki, kd)
+ *         return self
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:             # <<<<<<<<<<<<<<
  *         '''calculate function for PID controller'''
  *         return a_pid_outf(&self.ctx, set, fdb)
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_4liba_3pid_2__call__[] = "calculate function for PID controller";
+static PyObject *__pyx_pw_4liba_3pid_5__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_3pid_4__call__[] = "calculate function for PID controller";
 #if CYTHON_UPDATE_DESCRIPTOR_DOC
-struct wrapperbase __pyx_wrapperbase_4liba_3pid_2__call__;
+struct wrapperbase __pyx_wrapperbase_4liba_3pid_4__call__;
 #endif
-static PyObject *__pyx_pw_4liba_3pid_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_set;
-  a_real_t __pyx_v_fdb;
+static PyObject *__pyx_pw_4liba_3pid_5__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_set;
+  a_float_t __pyx_v_fdb;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
   {
@@ -6681,71 +9049,71 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_set)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_fdb)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, 1); __PYX_ERR(6, 17, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, 1); __PYX_ERR(5, 24, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(6, 17, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(5, 24, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
-    __pyx_v_set = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_set == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 17, __pyx_L3_error)
-    __pyx_v_fdb = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_fdb == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 17, __pyx_L3_error)
+    __pyx_v_set = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_set == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 24, __pyx_L3_error)
+    __pyx_v_fdb = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_fdb == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 24, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(6, 17, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(5, 24, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.pid.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_2__call__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), __pyx_v_set, __pyx_v_fdb);
+  __pyx_r = __pyx_pf_4liba_3pid_4__call__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), __pyx_v_set, __pyx_v_fdb);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_2__call__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_set, a_real_t __pyx_v_fdb) {
+static PyObject *__pyx_pf_4liba_3pid_4__call__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_set, a_float_t __pyx_v_fdb) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "python/src/a/pid.pxi":19
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:
+  /* "python/src/a/pid.pxi":26
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
  *         '''calculate function for PID controller'''
  *         return a_pid_outf(&self.ctx, set, fdb)             # <<<<<<<<<<<<<<
- *     def __dealloc__(self):
- *         '''terminate function for PID controller'''
+ *     def zero(self):
+ *         '''zero clear function for PID controller'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(a_pid_outf((&__pyx_v_self->ctx), __pyx_v_set, __pyx_v_fdb)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 19, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(a_pid_outf((&__pyx_v_self->ctx), __pyx_v_set, __pyx_v_fdb)); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":17
- *         else:
- *             a_pid_inc(&self.ctx)
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid.pxi":24
+ *         a_pid_kpid(&self.ctx, kp, ki, kd)
+ *         return self
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:             # <<<<<<<<<<<<<<
  *         '''calculate function for PID controller'''
  *         return a_pid_outf(&self.ctx, set, fdb)
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
@@ -6753,69 +9121,25 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":20
- *         '''calculate function for PID controller'''
- *         return a_pid_outf(&self.ctx, set, fdb)
- *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         '''terminate function for PID controller'''
- *         a_pid_exit(&self.ctx)
- */
-
-/* Python wrapper */
-static void __pyx_pw_4liba_3pid_5__dealloc__(PyObject *__pyx_v_self); /*proto*/
-static void __pyx_pw_4liba_3pid_5__dealloc__(PyObject *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__dealloc__ (wrapper)", 0);
-  __pyx_pf_4liba_3pid_4__dealloc__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-static void __pyx_pf_4liba_3pid_4__dealloc__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__dealloc__", 0);
-
-  /* "python/src/a/pid.pxi":22
- *     def __dealloc__(self):
- *         '''terminate function for PID controller'''
- *         a_pid_exit(&self.ctx)             # <<<<<<<<<<<<<<
- *     def zero(self):
- *         '''zero function for PID controller'''
- */
-  (void)(a_pid_exit((&__pyx_v_self->ctx)));
-
-  /* "python/src/a/pid.pxi":20
+/* "python/src/a/pid.pxi":27
  *         '''calculate function for PID controller'''
  *         return a_pid_outf(&self.ctx, set, fdb)
- *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         '''terminate function for PID controller'''
- *         a_pid_exit(&self.ctx)
- */
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-}
-
-/* "python/src/a/pid.pxi":23
- *         '''terminate function for PID controller'''
- *         a_pid_exit(&self.ctx)
  *     def zero(self):             # <<<<<<<<<<<<<<
- *         '''zero function for PID controller'''
+ *         '''zero clear function for PID controller'''
  *         a_pid_zero(&self.ctx)
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_3pid_7zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_3pid_6zero[] = "zero function for PID controller";
+static char __pyx_doc_4liba_3pid_6zero[] = "zero clear function for PID controller";
 static PyObject *__pyx_pw_4liba_3pid_7zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("zero (wrapper)", 0);
   __pyx_r = __pyx_pf_4liba_3pid_6zero(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
@@ -6824,631 +9148,429 @@
 }
 
 static PyObject *__pyx_pf_4liba_3pid_6zero(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("zero", 0);
 
-  /* "python/src/a/pid.pxi":25
+  /* "python/src/a/pid.pxi":29
  *     def zero(self):
- *         '''zero function for PID controller'''
+ *         '''zero clear function for PID controller'''
  *         a_pid_zero(&self.ctx)             # <<<<<<<<<<<<<<
  *         return self
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):
+ *     @property
  */
-  (void)(a_pid_zero((&__pyx_v_self->ctx)));
+  a_pid_zero((&__pyx_v_self->ctx));
 
-  /* "python/src/a/pid.pxi":26
- *         '''zero function for PID controller'''
+  /* "python/src/a/pid.pxi":30
+ *         '''zero clear function for PID controller'''
  *         a_pid_zero(&self.ctx)
  *         return self             # <<<<<<<<<<<<<<
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):
- *         '''set proportional integral derivative constant for PID controller'''
+ *     @property
+ *     def kp(self) -> a_float_t:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":23
- *         '''terminate function for PID controller'''
- *         a_pid_exit(&self.ctx)
+  /* "python/src/a/pid.pxi":27
+ *         '''calculate function for PID controller'''
+ *         return a_pid_outf(&self.ctx, set, fdb)
  *     def zero(self):             # <<<<<<<<<<<<<<
- *         '''zero function for PID controller'''
+ *         '''zero clear function for PID controller'''
  *         a_pid_zero(&self.ctx)
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":27
- *         a_pid_zero(&self.ctx)
+/* "python/src/a/pid.pxi":32
  *         return self
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):             # <<<<<<<<<<<<<<
- *         '''set proportional integral derivative constant for PID controller'''
- *         a_pid_kpid(&self.ctx, kp, ki, kd)
+ *     @property
+ *     def kp(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.kp
+ *     @kp.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_9kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_4liba_3pid_8kpid[] = "set proportional integral derivative constant for PID controller";
-static PyObject *__pyx_pw_4liba_3pid_9kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_kp;
-  a_real_t __pyx_v_ki;
-  a_real_t __pyx_v_kd;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
+static PyObject *__pyx_pw_4liba_3pid_2kp_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_2kp_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("kpid (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_kp,&__pyx_n_s_ki,&__pyx_n_s_kd,0};
-    PyObject* values[3] = {0,0,0};
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
-        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        CYTHON_FALLTHROUGH;
-        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        CYTHON_FALLTHROUGH;
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kp)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
-        CYTHON_FALLTHROUGH;
-        case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ki)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, 1); __PYX_ERR(6, 27, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  2:
-        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kd)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, 2); __PYX_ERR(6, 27, __pyx_L3_error)
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "kpid") < 0)) __PYX_ERR(6, 27, __pyx_L3_error)
-      }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
-      goto __pyx_L5_argtuple_error;
-    } else {
-      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-    }
-    __pyx_v_kp = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_kp == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 27, __pyx_L3_error)
-    __pyx_v_ki = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_ki == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 27, __pyx_L3_error)
-    __pyx_v_kd = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_kd == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 27, __pyx_L3_error)
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(6, 27, __pyx_L3_error)
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.kpid", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return NULL;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_8kpid(((struct __pyx_obj_4liba_pid *)__pyx_v_self), __pyx_v_kp, __pyx_v_ki, __pyx_v_kd);
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_3pid_2kp___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_8kpid(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_kp, a_real_t __pyx_v_ki, a_real_t __pyx_v_kd) {
+static PyObject *__pyx_pf_4liba_3pid_2kp___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("kpid", 0);
-
-  /* "python/src/a/pid.pxi":29
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):
- *         '''set proportional integral derivative constant for PID controller'''
- *         a_pid_kpid(&self.ctx, kp, ki, kd)             # <<<<<<<<<<<<<<
- *         return self
- *     def pos(self, max: a_real_t):
- */
-  (void)(a_pid_kpid((&__pyx_v_self->ctx), __pyx_v_kp, __pyx_v_ki, __pyx_v_kd));
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":30
- *         '''set proportional integral derivative constant for PID controller'''
- *         a_pid_kpid(&self.ctx, kp, ki, kd)
- *         return self             # <<<<<<<<<<<<<<
- *     def pos(self, max: a_real_t):
- *         '''positional PID controller'''
+  /* "python/src/a/pid.pxi":33
+ *     @property
+ *     def kp(self) -> a_float_t:
+ *         return self.ctx.kp             # <<<<<<<<<<<<<<
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __pyx_r = ((PyObject *)__pyx_v_self);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.kp); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 33, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":27
- *         a_pid_zero(&self.ctx)
+  /* "python/src/a/pid.pxi":32
  *         return self
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):             # <<<<<<<<<<<<<<
- *         '''set proportional integral derivative constant for PID controller'''
- *         a_pid_kpid(&self.ctx, kp, ki, kd)
+ *     @property
+ *     def kp(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.kp
+ *     @kp.setter
  */
 
   /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid.kp.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":31
- *         a_pid_kpid(&self.ctx, kp, ki, kd)
- *         return self
- *     def pos(self, max: a_real_t):             # <<<<<<<<<<<<<<
- *         '''positional PID controller'''
- *         a_pid_pos(&self.ctx, max)
+/* "python/src/a/pid.pxi":35
+ *         return self.ctx.kp
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.kp = kp
+ *     @property
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_11pos(PyObject *__pyx_v_self, PyObject *__pyx_arg_max); /*proto*/
-static char __pyx_doc_4liba_3pid_10pos[] = "positional PID controller";
-static PyObject *__pyx_pw_4liba_3pid_11pos(PyObject *__pyx_v_self, PyObject *__pyx_arg_max) {
-  a_real_t __pyx_v_max;
+static int __pyx_pw_4liba_3pid_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp); /*proto*/
+static int __pyx_pw_4liba_3pid_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp) {
+  a_float_t __pyx_v_kp;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  PyObject *__pyx_r = 0;
+  int __pyx_r;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("pos (wrapper)", 0);
-  assert(__pyx_arg_max); {
-    __pyx_v_max = __pyx_PyFloat_AsDouble(__pyx_arg_max); if (unlikely((__pyx_v_max == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 31, __pyx_L3_error)
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_kp); {
+    __pyx_v_kp = __pyx_PyFloat_AsFloat(__pyx_arg_kp); if (unlikely((__pyx_v_kp == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 35, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.pos", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.kp.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
-  return NULL;
+  return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_10pos(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_real_t)__pyx_v_max));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_3pid_10pos(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_max) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("pos", 0);
-
-  /* "python/src/a/pid.pxi":33
- *     def pos(self, max: a_real_t):
- *         '''positional PID controller'''
- *         a_pid_pos(&self.ctx, max)             # <<<<<<<<<<<<<<
- *         return self
- *     def inc(self):
- */
-  (void)(a_pid_pos((&__pyx_v_self->ctx), __pyx_v_max));
-
-  /* "python/src/a/pid.pxi":34
- *         '''positional PID controller'''
- *         a_pid_pos(&self.ctx, max)
- *         return self             # <<<<<<<<<<<<<<
- *     def inc(self):
- *         '''incremental PID controller'''
- */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __pyx_r = ((PyObject *)__pyx_v_self);
-  goto __pyx_L0;
-
-  /* "python/src/a/pid.pxi":31
- *         a_pid_kpid(&self.ctx, kp, ki, kd)
- *         return self
- *     def pos(self, max: a_real_t):             # <<<<<<<<<<<<<<
- *         '''positional PID controller'''
- *         a_pid_pos(&self.ctx, max)
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/pid.pxi":35
- *         a_pid_pos(&self.ctx, max)
- *         return self
- *     def inc(self):             # <<<<<<<<<<<<<<
- *         '''incremental PID controller'''
- *         a_pid_inc(&self.ctx)
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_13inc(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_3pid_12inc[] = "incremental PID controller";
-static PyObject *__pyx_pw_4liba_3pid_13inc(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("inc (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_12inc(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_2kp_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_float_t)__pyx_v_kp));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_12inc(struct __pyx_obj_4liba_pid *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
+static int __pyx_pf_4liba_3pid_2kp_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_kp) {
+  int __pyx_r;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("inc", 0);
-
-  /* "python/src/a/pid.pxi":37
- *     def inc(self):
- *         '''incremental PID controller'''
- *         a_pid_inc(&self.ctx)             # <<<<<<<<<<<<<<
- *         return self
- *     def off(self):
- */
-  (void)(a_pid_inc((&__pyx_v_self->ctx)));
+  __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/pid.pxi":38
- *         '''incremental PID controller'''
- *         a_pid_inc(&self.ctx)
- *         return self             # <<<<<<<<<<<<<<
- *     def off(self):
- *         '''turn off PID controller'''
+  /* "python/src/a/pid.pxi":36
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):
+ *         self.ctx.kp = kp             # <<<<<<<<<<<<<<
+ *     @property
+ *     def ki(self) -> a_float_t:
  */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __pyx_r = ((PyObject *)__pyx_v_self);
-  goto __pyx_L0;
+  __pyx_v_self->ctx.kp = __pyx_v_kp;
 
   /* "python/src/a/pid.pxi":35
- *         a_pid_pos(&self.ctx, max)
- *         return self
- *     def inc(self):             # <<<<<<<<<<<<<<
- *         '''incremental PID controller'''
- *         a_pid_inc(&self.ctx)
- */
-
-  /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/pid.pxi":39
- *         a_pid_inc(&self.ctx)
- *         return self
- *     def off(self):             # <<<<<<<<<<<<<<
- *         '''turn off PID controller'''
- *         a_pid_off(&self.ctx)
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_15off(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_3pid_14off[] = "turn off PID controller";
-static PyObject *__pyx_pw_4liba_3pid_15off(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("off (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_14off(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_3pid_14off(struct __pyx_obj_4liba_pid *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("off", 0);
-
-  /* "python/src/a/pid.pxi":41
- *     def off(self):
- *         '''turn off PID controller'''
- *         a_pid_off(&self.ctx)             # <<<<<<<<<<<<<<
- *         return self
- * 
- */
-  (void)(a_pid_off((&__pyx_v_self->ctx)));
-
-  /* "python/src/a/pid.pxi":42
- *         '''turn off PID controller'''
- *         a_pid_off(&self.ctx)
- *         return self             # <<<<<<<<<<<<<<
- * 
+ *         return self.ctx.kp
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.kp = kp
  *     @property
  */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __pyx_r = ((PyObject *)__pyx_v_self);
-  goto __pyx_L0;
-
-  /* "python/src/a/pid.pxi":39
- *         a_pid_inc(&self.ctx)
- *         return self
- *     def off(self):             # <<<<<<<<<<<<<<
- *         '''turn off PID controller'''
- *         a_pid_off(&self.ctx)
- */
 
   /* function exit code */
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
+  __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":45
- * 
+/* "python/src/a/pid.pxi":38
+ *         self.ctx.kp = kp
  *     @property
- *     def outmin(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.outmin
- *     @outmin.setter
+ *     def ki(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.ki
+ *     @ki.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_6outmin_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_6outmin_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_3pid_2ki_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_2ki_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_6outmin___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_2ki___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_6outmin___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_2ki___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":46
+  /* "python/src/a/pid.pxi":39
  *     @property
- *     def outmin(self) -> a_real_t:
- *         return self.ctx.outmin             # <<<<<<<<<<<<<<
- *     @outmin.setter
- *     def outmin(self, outmin: a_real_t):
+ *     def ki(self) -> a_float_t:
+ *         return self.ctx.ki             # <<<<<<<<<<<<<<
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.outmin); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 46, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.ki); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 39, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":45
- * 
+  /* "python/src/a/pid.pxi":38
+ *         self.ctx.kp = kp
  *     @property
- *     def outmin(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.outmin
- *     @outmin.setter
+ *     def ki(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.ki
+ *     @ki.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.outmin.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.ki.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":48
- *         return self.ctx.outmin
- *     @outmin.setter
- *     def outmin(self, outmin: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.outmin = outmin
- * 
+/* "python/src/a/pid.pxi":41
+ *         return self.ctx.ki
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.ki = ki
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_3pid_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin); /*proto*/
-static int __pyx_pw_4liba_3pid_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin) {
-  a_real_t __pyx_v_outmin;
+static int __pyx_pw_4liba_3pid_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki); /*proto*/
+static int __pyx_pw_4liba_3pid_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki) {
+  a_float_t __pyx_v_ki;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_outmin); {
-    __pyx_v_outmin = __pyx_PyFloat_AsDouble(__pyx_arg_outmin); if (unlikely((__pyx_v_outmin == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 48, __pyx_L3_error)
+  assert(__pyx_arg_ki); {
+    __pyx_v_ki = __pyx_PyFloat_AsFloat(__pyx_arg_ki); if (unlikely((__pyx_v_ki == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 41, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.outmin.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.ki.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_6outmin_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_real_t)__pyx_v_outmin));
+  __pyx_r = __pyx_pf_4liba_3pid_2ki_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_float_t)__pyx_v_ki));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_3pid_6outmin_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_outmin) {
+static int __pyx_pf_4liba_3pid_2ki_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_ki) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/pid.pxi":49
- *     @outmin.setter
- *     def outmin(self, outmin: a_real_t):
- *         self.ctx.outmin = outmin             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid.pxi":42
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):
+ *         self.ctx.ki = ki             # <<<<<<<<<<<<<<
  *     @property
+ *     def kd(self) -> a_float_t:
  */
-  __pyx_v_self->ctx.outmin = __pyx_v_outmin;
+  __pyx_v_self->ctx.ki = __pyx_v_ki;
 
-  /* "python/src/a/pid.pxi":48
- *         return self.ctx.outmin
- *     @outmin.setter
- *     def outmin(self, outmin: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.outmin = outmin
- * 
+  /* "python/src/a/pid.pxi":41
+ *         return self.ctx.ki
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.ki = ki
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":52
- * 
+/* "python/src/a/pid.pxi":44
+ *         self.ctx.ki = ki
  *     @property
- *     def outmax(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.outmax
- *     @outmax.setter
+ *     def kd(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.kd
+ *     @kd.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_6outmax_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_6outmax_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_3pid_2kd_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_2kd_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_6outmax___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_2kd___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_6outmax___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_2kd___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":53
+  /* "python/src/a/pid.pxi":45
  *     @property
- *     def outmax(self) -> a_real_t:
- *         return self.ctx.outmax             # <<<<<<<<<<<<<<
- *     @outmax.setter
- *     def outmax(self, outmax: a_real_t):
+ *     def kd(self) -> a_float_t:
+ *         return self.ctx.kd             # <<<<<<<<<<<<<<
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.outmax); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 53, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.kd); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 45, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":52
- * 
+  /* "python/src/a/pid.pxi":44
+ *         self.ctx.ki = ki
  *     @property
- *     def outmax(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.outmax
- *     @outmax.setter
+ *     def kd(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.kd
+ *     @kd.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.outmax.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.kd.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":55
- *         return self.ctx.outmax
- *     @outmax.setter
- *     def outmax(self, outmax: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.outmax = outmax
- * 
+/* "python/src/a/pid.pxi":47
+ *         return self.ctx.kd
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.kd = kd
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_3pid_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax); /*proto*/
-static int __pyx_pw_4liba_3pid_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax) {
-  a_real_t __pyx_v_outmax;
+static int __pyx_pw_4liba_3pid_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd); /*proto*/
+static int __pyx_pw_4liba_3pid_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd) {
+  a_float_t __pyx_v_kd;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_outmax); {
-    __pyx_v_outmax = __pyx_PyFloat_AsDouble(__pyx_arg_outmax); if (unlikely((__pyx_v_outmax == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 55, __pyx_L3_error)
+  assert(__pyx_arg_kd); {
+    __pyx_v_kd = __pyx_PyFloat_AsFloat(__pyx_arg_kd); if (unlikely((__pyx_v_kd == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 47, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.outmax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.kd.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_6outmax_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_real_t)__pyx_v_outmax));
+  __pyx_r = __pyx_pf_4liba_3pid_2kd_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_float_t)__pyx_v_kd));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_3pid_6outmax_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_outmax) {
+static int __pyx_pf_4liba_3pid_2kd_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_kd) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/pid.pxi":56
- *     @outmax.setter
- *     def outmax(self, outmax: a_real_t):
- *         self.ctx.outmax = outmax             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid.pxi":48
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):
+ *         self.ctx.kd = kd             # <<<<<<<<<<<<<<
  *     @property
+ *     def summax(self) -> a_float_t:
  */
-  __pyx_v_self->ctx.outmax = __pyx_v_outmax;
+  __pyx_v_self->ctx.kd = __pyx_v_kd;
 
-  /* "python/src/a/pid.pxi":55
- *         return self.ctx.outmax
- *     @outmax.setter
- *     def outmax(self, outmax: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.outmax = outmax
- * 
+  /* "python/src/a/pid.pxi":47
+ *         return self.ctx.kd
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.kd = kd
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":59
- * 
+/* "python/src/a/pid.pxi":50
+ *         self.ctx.kd = kd
  *     @property
- *     def summax(self) -> a_real_t:             # <<<<<<<<<<<<<<
+ *     def summax(self) -> a_float_t:             # <<<<<<<<<<<<<<
  *         return self.ctx.summax
  *     @summax.setter
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_3pid_6summax_1__get__(PyObject *__pyx_v_self); /*proto*/
 static PyObject *__pyx_pw_4liba_3pid_6summax_1__get__(PyObject *__pyx_v_self) {
@@ -7467,32 +9589,32 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":60
+  /* "python/src/a/pid.pxi":51
  *     @property
- *     def summax(self) -> a_real_t:
+ *     def summax(self) -> a_float_t:
  *         return self.ctx.summax             # <<<<<<<<<<<<<<
  *     @summax.setter
- *     def summax(self, summax: a_real_t):
+ *     def summax(self, summax: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.summax); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 60, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.summax); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 51, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":59
- * 
+  /* "python/src/a/pid.pxi":50
+ *         self.ctx.kd = kd
  *     @property
- *     def summax(self) -> a_real_t:             # <<<<<<<<<<<<<<
+ *     def summax(self) -> a_float_t:             # <<<<<<<<<<<<<<
  *         return self.ctx.summax
  *     @summax.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
@@ -7500,988 +9622,676 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":62
+/* "python/src/a/pid.pxi":53
  *         return self.ctx.summax
  *     @summax.setter
- *     def summax(self, summax: a_real_t):             # <<<<<<<<<<<<<<
+ *     def summax(self, summax: a_float_t):             # <<<<<<<<<<<<<<
  *         self.ctx.summax = summax
- * 
+ *     @property
  */
 
 /* Python wrapper */
 static int __pyx_pw_4liba_3pid_6summax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_summax); /*proto*/
 static int __pyx_pw_4liba_3pid_6summax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_summax) {
-  a_real_t __pyx_v_summax;
+  a_float_t __pyx_v_summax;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
   assert(__pyx_arg_summax); {
-    __pyx_v_summax = __pyx_PyFloat_AsDouble(__pyx_arg_summax); if (unlikely((__pyx_v_summax == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 62, __pyx_L3_error)
+    __pyx_v_summax = __pyx_PyFloat_AsFloat(__pyx_arg_summax); if (unlikely((__pyx_v_summax == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 53, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.pid.summax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_6summax_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_real_t)__pyx_v_summax));
+  __pyx_r = __pyx_pf_4liba_3pid_6summax_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_float_t)__pyx_v_summax));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_3pid_6summax_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_summax) {
+static int __pyx_pf_4liba_3pid_6summax_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_summax) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/pid.pxi":63
+  /* "python/src/a/pid.pxi":54
  *     @summax.setter
- *     def summax(self, summax: a_real_t):
+ *     def summax(self, summax: a_float_t):
  *         self.ctx.summax = summax             # <<<<<<<<<<<<<<
- * 
  *     @property
+ *     def outmax(self) -> a_float_t:
  */
   __pyx_v_self->ctx.summax = __pyx_v_summax;
 
-  /* "python/src/a/pid.pxi":62
+  /* "python/src/a/pid.pxi":53
  *         return self.ctx.summax
  *     @summax.setter
- *     def summax(self, summax: a_real_t):             # <<<<<<<<<<<<<<
+ *     def summax(self, summax: a_float_t):             # <<<<<<<<<<<<<<
  *         self.ctx.summax = summax
- * 
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/pid.pxi":66
- * 
- *     @property
- *     def mode(self) -> a_uint_t:             # <<<<<<<<<<<<<<
- *         return a_pid_mode(&self.ctx)
- *     @mode.setter
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_4mode_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_4mode_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_4mode___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_3pid_4mode___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "python/src/a/pid.pxi":67
- *     @property
- *     def mode(self) -> a_uint_t:
- *         return a_pid_mode(&self.ctx)             # <<<<<<<<<<<<<<
- *     @mode.setter
- *     def mode(self, mode: a_uint_t):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_a_uint_t(a_pid_mode((&__pyx_v_self->ctx))); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 67, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "python/src/a/pid.pxi":66
- * 
- *     @property
- *     def mode(self) -> a_uint_t:             # <<<<<<<<<<<<<<
- *         return a_pid_mode(&self.ctx)
- *     @mode.setter
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.mode.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/pid.pxi":69
- *         return a_pid_mode(&self.ctx)
- *     @mode.setter
- *     def mode(self, mode: a_uint_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_mode(&self.ctx, mode)
- * 
- */
-
-/* Python wrapper */
-static int __pyx_pw_4liba_3pid_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_mode); /*proto*/
-static int __pyx_pw_4liba_3pid_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_mode) {
-  a_uint_t __pyx_v_mode;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_mode); {
-    __pyx_v_mode = __Pyx_PyInt_As_a_uint_t(__pyx_arg_mode); if (unlikely((__pyx_v_mode == ((a_uint_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 69, __pyx_L3_error)
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.mode.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_4mode_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_uint_t)__pyx_v_mode));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_pf_4liba_3pid_4mode_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_uint_t __pyx_v_mode) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__", 0);
-
-  /* "python/src/a/pid.pxi":70
- *     @mode.setter
- *     def mode(self, mode: a_uint_t):
- *         a_pid_set_mode(&self.ctx, mode)             # <<<<<<<<<<<<<<
- * 
  *     @property
  */
-  a_pid_set_mode((&__pyx_v_self->ctx), __pyx_v_mode);
-
-  /* "python/src/a/pid.pxi":69
- *         return a_pid_mode(&self.ctx)
- *     @mode.setter
- *     def mode(self, mode: a_uint_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_mode(&self.ctx, mode)
- * 
- */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":73
- * 
+/* "python/src/a/pid.pxi":56
+ *         self.ctx.summax = summax
  *     @property
- *     def dt(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_dt(&self.ctx)
- *     @dt.setter
+ *     def outmax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.outmax
+ *     @outmax.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_2dt_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_2dt_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_3pid_6outmax_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_6outmax_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_2dt___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_6outmax___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_2dt___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_6outmax___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":74
+  /* "python/src/a/pid.pxi":57
  *     @property
- *     def dt(self) -> a_real_t:
- *         return a_pid_dt(&self.ctx)             # <<<<<<<<<<<<<<
- *     @dt.setter
- *     def dt(self, dt: a_real_t):
+ *     def outmax(self) -> a_float_t:
+ *         return self.ctx.outmax             # <<<<<<<<<<<<<<
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(a_pid_dt((&__pyx_v_self->ctx))); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 74, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.outmax); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 57, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":73
- * 
+  /* "python/src/a/pid.pxi":56
+ *         self.ctx.summax = summax
  *     @property
- *     def dt(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_dt(&self.ctx)
- *     @dt.setter
+ *     def outmax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.outmax
+ *     @outmax.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.dt.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.outmax.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":76
- *         return a_pid_dt(&self.ctx)
- *     @dt.setter
- *     def dt(self, dt: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_dt(&self.ctx, dt)
- * 
- */
-
-/* Python wrapper */
-static int __pyx_pw_4liba_3pid_2dt_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_dt); /*proto*/
-static int __pyx_pw_4liba_3pid_2dt_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_dt) {
-  a_real_t __pyx_v_dt;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_dt); {
-    __pyx_v_dt = __pyx_PyFloat_AsDouble(__pyx_arg_dt); if (unlikely((__pyx_v_dt == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 76, __pyx_L3_error)
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.dt.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_2dt_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_real_t)__pyx_v_dt));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_pf_4liba_3pid_2dt_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_dt) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__", 0);
-
-  /* "python/src/a/pid.pxi":77
- *     @dt.setter
- *     def dt(self, dt: a_real_t):
- *         a_pid_set_dt(&self.ctx, dt)             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  a_pid_set_dt((&__pyx_v_self->ctx), __pyx_v_dt);
-
-  /* "python/src/a/pid.pxi":76
- *         return a_pid_dt(&self.ctx)
- *     @dt.setter
- *     def dt(self, dt: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_dt(&self.ctx, dt)
- * 
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/pid.pxi":80
- * 
- *     @property
- *     def kp(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_kp(&self.ctx)
- *     @kp.setter
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_2kp_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_2kp_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_2kp___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_4liba_3pid_2kp___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
-
-  /* "python/src/a/pid.pxi":81
- *     @property
- *     def kp(self) -> a_real_t:
- *         return a_pid_kp(&self.ctx)             # <<<<<<<<<<<<<<
- *     @kp.setter
- *     def kp(self, kp: a_real_t):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(a_pid_kp((&__pyx_v_self->ctx))); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 81, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "python/src/a/pid.pxi":80
- * 
+/* "python/src/a/pid.pxi":59
+ *         return self.ctx.outmax
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.outmax = outmax
  *     @property
- *     def kp(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_kp(&self.ctx)
- *     @kp.setter
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.kp.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/pid.pxi":83
- *         return a_pid_kp(&self.ctx)
- *     @kp.setter
- *     def kp(self, kp: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_kp(&self.ctx, kp)
- * 
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_3pid_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp); /*proto*/
-static int __pyx_pw_4liba_3pid_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp) {
-  a_real_t __pyx_v_kp;
+static int __pyx_pw_4liba_3pid_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax); /*proto*/
+static int __pyx_pw_4liba_3pid_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax) {
+  a_float_t __pyx_v_outmax;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_kp); {
-    __pyx_v_kp = __pyx_PyFloat_AsDouble(__pyx_arg_kp); if (unlikely((__pyx_v_kp == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 83, __pyx_L3_error)
+  assert(__pyx_arg_outmax); {
+    __pyx_v_outmax = __pyx_PyFloat_AsFloat(__pyx_arg_outmax); if (unlikely((__pyx_v_outmax == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 59, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.kp.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.outmax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_2kp_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_real_t)__pyx_v_kp));
+  __pyx_r = __pyx_pf_4liba_3pid_6outmax_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_float_t)__pyx_v_outmax));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_3pid_2kp_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_kp) {
+static int __pyx_pf_4liba_3pid_6outmax_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_outmax) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/pid.pxi":84
- *     @kp.setter
- *     def kp(self, kp: a_real_t):
- *         a_pid_set_kp(&self.ctx, kp)             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid.pxi":60
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):
+ *         self.ctx.outmax = outmax             # <<<<<<<<<<<<<<
  *     @property
+ *     def outmin(self) -> a_float_t:
  */
-  a_pid_set_kp((&__pyx_v_self->ctx), __pyx_v_kp);
+  __pyx_v_self->ctx.outmax = __pyx_v_outmax;
 
-  /* "python/src/a/pid.pxi":83
- *         return a_pid_kp(&self.ctx)
- *     @kp.setter
- *     def kp(self, kp: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_kp(&self.ctx, kp)
- * 
+  /* "python/src/a/pid.pxi":59
+ *         return self.ctx.outmax
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.outmax = outmax
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":87
- * 
+/* "python/src/a/pid.pxi":62
+ *         self.ctx.outmax = outmax
  *     @property
- *     def ki(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_ki(&self.ctx)
- *     @ki.setter
+ *     def outmin(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.outmin
+ *     @outmin.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_2ki_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_2ki_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_3pid_6outmin_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_6outmin_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_2ki___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_6outmin___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_2ki___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_6outmin___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":88
+  /* "python/src/a/pid.pxi":63
  *     @property
- *     def ki(self) -> a_real_t:
- *         return a_pid_ki(&self.ctx)             # <<<<<<<<<<<<<<
- *     @ki.setter
- *     def ki(self, ki: a_real_t):
+ *     def outmin(self) -> a_float_t:
+ *         return self.ctx.outmin             # <<<<<<<<<<<<<<
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(a_pid_ki((&__pyx_v_self->ctx))); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 88, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.outmin); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 63, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":87
- * 
+  /* "python/src/a/pid.pxi":62
+ *         self.ctx.outmax = outmax
  *     @property
- *     def ki(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_ki(&self.ctx)
- *     @ki.setter
+ *     def outmin(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.outmin
+ *     @outmin.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.ki.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.outmin.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":90
- *         return a_pid_ki(&self.ctx)
- *     @ki.setter
- *     def ki(self, ki: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_ki(&self.ctx, ki)
- * 
+/* "python/src/a/pid.pxi":65
+ *         return self.ctx.outmin
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.outmin = outmin
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_3pid_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki); /*proto*/
-static int __pyx_pw_4liba_3pid_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki) {
-  a_real_t __pyx_v_ki;
+static int __pyx_pw_4liba_3pid_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin); /*proto*/
+static int __pyx_pw_4liba_3pid_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin) {
+  a_float_t __pyx_v_outmin;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_ki); {
-    __pyx_v_ki = __pyx_PyFloat_AsDouble(__pyx_arg_ki); if (unlikely((__pyx_v_ki == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 90, __pyx_L3_error)
+  assert(__pyx_arg_outmin); {
+    __pyx_v_outmin = __pyx_PyFloat_AsFloat(__pyx_arg_outmin); if (unlikely((__pyx_v_outmin == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(5, 65, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.ki.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.outmin.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_2ki_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_real_t)__pyx_v_ki));
+  __pyx_r = __pyx_pf_4liba_3pid_6outmin_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_float_t)__pyx_v_outmin));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_3pid_2ki_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_ki) {
+static int __pyx_pf_4liba_3pid_6outmin_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_float_t __pyx_v_outmin) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/pid.pxi":91
- *     @ki.setter
- *     def ki(self, ki: a_real_t):
- *         a_pid_set_ki(&self.ctx, ki)             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid.pxi":66
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):
+ *         self.ctx.outmin = outmin             # <<<<<<<<<<<<<<
  *     @property
+ *     def out(self) -> a_float_t:
  */
-  a_pid_set_ki((&__pyx_v_self->ctx), __pyx_v_ki);
+  __pyx_v_self->ctx.outmin = __pyx_v_outmin;
 
-  /* "python/src/a/pid.pxi":90
- *         return a_pid_ki(&self.ctx)
- *     @ki.setter
- *     def ki(self, ki: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_ki(&self.ctx, ki)
- * 
+  /* "python/src/a/pid.pxi":65
+ *         return self.ctx.outmin
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.outmin = outmin
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":94
- * 
+/* "python/src/a/pid.pxi":68
+ *         self.ctx.outmin = outmin
+ *     @property
+ *     def out(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.out.f
  *     @property
- *     def kd(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_kd(&self.ctx)
- *     @kd.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_2kd_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_2kd_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_3pid_3out_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_3out_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_2kd___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_3out___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_2kd___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_3out___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":95
+  /* "python/src/a/pid.pxi":69
  *     @property
- *     def kd(self) -> a_real_t:
- *         return a_pid_kd(&self.ctx)             # <<<<<<<<<<<<<<
- *     @kd.setter
- *     def kd(self, kd: a_real_t):
+ *     def out(self) -> a_float_t:
+ *         return self.ctx.out.f             # <<<<<<<<<<<<<<
+ *     @property
+ *     def fdb(self) -> a_float_t:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(a_pid_kd((&__pyx_v_self->ctx))); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 95, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.out.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 69, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":94
- * 
+  /* "python/src/a/pid.pxi":68
+ *         self.ctx.outmin = outmin
+ *     @property
+ *     def out(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.out.f
  *     @property
- *     def kd(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_kd(&self.ctx)
- *     @kd.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.kd.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.out.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":97
- *         return a_pid_kd(&self.ctx)
- *     @kd.setter
- *     def kd(self, kd: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_kd(&self.ctx, kd)
- * 
- */
-
-/* Python wrapper */
-static int __pyx_pw_4liba_3pid_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd); /*proto*/
-static int __pyx_pw_4liba_3pid_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd) {
-  a_real_t __pyx_v_kd;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_kd); {
-    __pyx_v_kd = __pyx_PyFloat_AsDouble(__pyx_arg_kd); if (unlikely((__pyx_v_kd == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 97, __pyx_L3_error)
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.pid.kd.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_3pid_2kd_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((a_real_t)__pyx_v_kd));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_pf_4liba_3pid_2kd_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, a_real_t __pyx_v_kd) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__", 0);
-
-  /* "python/src/a/pid.pxi":98
- *     @kd.setter
- *     def kd(self, kd: a_real_t):
- *         a_pid_set_kd(&self.ctx, kd)             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  a_pid_set_kd((&__pyx_v_self->ctx), __pyx_v_kd);
-
-  /* "python/src/a/pid.pxi":97
- *         return a_pid_kd(&self.ctx)
- *     @kd.setter
- *     def kd(self, kd: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_kd(&self.ctx, kd)
- * 
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/pid.pxi":101
- * 
- *     @property
- *     def out(self) -> a_real_t:             # <<<<<<<<<<<<<<
+/* "python/src/a/pid.pxi":71
  *         return self.ctx.out.f
  *     @property
+ *     def fdb(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.fdb.f
+ *     @property
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_3out_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_3out_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_3pid_3fdb_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_3fdb_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_3out___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_3fdb___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_3out___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_3fdb___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":102
+  /* "python/src/a/pid.pxi":72
  *     @property
- *     def out(self) -> a_real_t:
- *         return self.ctx.out.f             # <<<<<<<<<<<<<<
+ *     def fdb(self) -> a_float_t:
+ *         return self.ctx.fdb.f             # <<<<<<<<<<<<<<
  *     @property
- *     def fdb(self) -> a_real_t:
+ *     def err(self) -> a_float_t:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.out.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 102, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.fdb.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 72, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":101
- * 
- *     @property
- *     def out(self) -> a_real_t:             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid.pxi":71
  *         return self.ctx.out.f
  *     @property
+ *     def fdb(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.fdb.f
+ *     @property
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.out.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.fdb.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":104
- *         return self.ctx.out.f
- *     @property
- *     def fdb(self) -> a_real_t:             # <<<<<<<<<<<<<<
+/* "python/src/a/pid.pxi":74
  *         return self.ctx.fdb.f
  *     @property
+ *     def err(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.err.f
+ *     @property
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_3fdb_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_3fdb_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_3pid_3err_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_3err_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_3fdb___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_3err___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_3fdb___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_3err___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":105
+  /* "python/src/a/pid.pxi":75
  *     @property
- *     def fdb(self) -> a_real_t:
- *         return self.ctx.fdb.f             # <<<<<<<<<<<<<<
+ *     def err(self) -> a_float_t:
+ *         return self.ctx.err.f             # <<<<<<<<<<<<<<
  *     @property
- *     def ec(self) -> a_real_t:
+ *     def mode(self) -> int:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.fdb.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 105, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.err.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 75, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":104
- *         return self.ctx.out.f
- *     @property
- *     def fdb(self) -> a_real_t:             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid.pxi":74
  *         return self.ctx.fdb.f
  *     @property
+ *     def err(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.err.f
+ *     @property
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.fdb.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.err.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":107
- *         return self.ctx.fdb.f
- *     @property
- *     def ec(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.ec.f
+/* "python/src/a/pid.pxi":77
+ *         return self.ctx.err.f
  *     @property
+ *     def mode(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.mode
+ *     @mode.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_2ec_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_2ec_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_3pid_4mode_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_4mode_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_2ec___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_4mode___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_2ec___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_4mode___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/pid.pxi":108
+  /* "python/src/a/pid.pxi":78
  *     @property
- *     def ec(self) -> a_real_t:
- *         return self.ctx.ec.f             # <<<<<<<<<<<<<<
- *     @property
- *     def e(self) -> a_real_t:
+ *     def mode(self) -> int:
+ *         return self.ctx.mode             # <<<<<<<<<<<<<<
+ *     @mode.setter
+ *     def mode(self, mode: int):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.ec.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 108, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->ctx.mode); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 78, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/pid.pxi":107
- *         return self.ctx.fdb.f
- *     @property
- *     def ec(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.ec.f
+  /* "python/src/a/pid.pxi":77
+ *         return self.ctx.err.f
  *     @property
+ *     def mode(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.mode
+ *     @mode.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.ec.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid.mode.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/pid.pxi":110
- *         return self.ctx.ec.f
- *     @property
- *     def e(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.e.f
+/* "python/src/a/pid.pxi":80
+ *         return self.ctx.mode
+ *     @mode.setter
+ *     def mode(self, mode: int):             # <<<<<<<<<<<<<<
+ *         self.ctx.mode = mode
+ * 
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_1e_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_1e_1__get__(PyObject *__pyx_v_self) {
-  PyObject *__pyx_r = 0;
+static int __pyx_pw_4liba_3pid_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_mode); /*proto*/
+static int __pyx_pw_4liba_3pid_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_mode) {
+  int __pyx_r;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_1e___get__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_3pid_4mode_2__set__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((PyObject *)__pyx_v_mode));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_1e___get__(struct __pyx_obj_4liba_pid *__pyx_v_self) {
-  PyObject *__pyx_r = NULL;
+static int __pyx_pf_4liba_3pid_4mode_2__set__(struct __pyx_obj_4liba_pid *__pyx_v_self, PyObject *__pyx_v_mode) {
+  int __pyx_r;
   __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
+  unsigned int __pyx_t_1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
+  __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/pid.pxi":111
- *     @property
- *     def e(self) -> a_real_t:
- *         return self.ctx.e.f             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid.pxi":81
+ *     @mode.setter
+ *     def mode(self, mode: int):
+ *         self.ctx.mode = mode             # <<<<<<<<<<<<<<
+ * 
+ * include "pid/fuzzy.pxi"
  */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.e.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 111, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
+  __pyx_t_1 = __Pyx_PyInt_As_unsigned_int(__pyx_v_mode); if (unlikely((__pyx_t_1 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(5, 81, __pyx_L1_error)
+  __pyx_v_self->ctx.mode = __pyx_t_1;
 
-  /* "python/src/a/pid.pxi":110
- *         return self.ctx.ec.f
- *     @property
- *     def e(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.e.f
+  /* "python/src/a/pid.pxi":80
+ *         return self.ctx.mode
+ *     @mode.setter
+ *     def mode(self, mode: int):             # <<<<<<<<<<<<<<
+ *         self.ctx.mode = mode
+ * 
  */
 
   /* function exit code */
+  __pyx_r = 0;
+  goto __pyx_L0;
   __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.pid.e.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
+  __Pyx_AddTraceback("liba.pid.mode.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
   __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_17__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_17__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_3pid_9__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_9__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_16__reduce_cython__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_3pid_8__reduce_cython__(((struct __pyx_obj_4liba_pid *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_16__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_3pid_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_cython__", 0);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__3, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__19, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
+  __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  */
 
@@ -8499,45 +10309,45 @@
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_3pid_19__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
-static PyObject *__pyx_pw_4liba_3pid_19__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pw_4liba_3pid_11__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_3pid_11__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_3pid_18__setstate_cython__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+  __pyx_r = __pyx_pf_4liba_3pid_10__setstate_cython__(((struct __pyx_obj_4liba_pid *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_3pid_18__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_4liba_3pid_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__20, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
+  __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
@@ -8548,58 +10358,252 @@
   __Pyx_AddTraceback("liba.pid.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":15
- *     cdef array mki
+/* "python/src/a/pid/fuzzy.pxi":24
  *     cdef array mkd
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):             # <<<<<<<<<<<<<<
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
+ *     cdef void *ptr
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static int __pyx_pw_4liba_4fpid_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_uint_t __pyx_v_num;
-  a_real_t __pyx_v_dt;
-  PyObject *__pyx_v_me = 0;
-  PyObject *__pyx_v_mec = 0;
-  PyObject *__pyx_v_mkp = 0;
-  PyObject *__pyx_v_mki = 0;
-  PyObject *__pyx_v_mkd = 0;
-  a_real_t __pyx_v_min;
-  a_real_t __pyx_v_max;
-  a_real_t __pyx_v_sum;
+static int __pyx_pw_4liba_9pid_fuzzy_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static int __pyx_pw_4liba_9pid_fuzzy_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_min;
+  a_float_t __pyx_v_max;
+  a_float_t __pyx_v_sum;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
   {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_num,&__pyx_n_s_dt,&__pyx_n_s_me,&__pyx_n_s_mec,&__pyx_n_s_mkp,&__pyx_n_s_mki,&__pyx_n_s_mkd,&__pyx_n_s_min,&__pyx_n_s_max,&__pyx_n_s_sum,0};
-    PyObject* values[10] = {0,0,0,0,0,0,0,0,0,0};
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_min,&__pyx_n_s_max,&__pyx_n_s_sum,0};
+    PyObject* values[3] = {0,0,0};
     if (unlikely(__pyx_kwds)) {
       Py_ssize_t kw_args;
       const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
       switch (pos_args) {
-        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
+        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
-        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
-        case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
-        case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_min);
+          if (value) { values[0] = value; kw_args--; }
+        }
         CYTHON_FALLTHROUGH;
-        case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_max);
+          if (value) { values[1] = value; kw_args--; }
+        }
         CYTHON_FALLTHROUGH;
+        case  2:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_sum);
+          if (value) { values[2] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(6, 24, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+        CYTHON_FALLTHROUGH;
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    if (values[0]) {
+      __pyx_v_min = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_min == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 24, __pyx_L3_error)
+    } else {
+      __pyx_v_min = __pyx_k__21;
+    }
+    if (values[1]) {
+      __pyx_v_max = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_max == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 24, __pyx_L3_error)
+    } else {
+      __pyx_v_max = __pyx_k__22;
+    }
+    if (values[2]) {
+      __pyx_v_sum = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_sum == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 24, __pyx_L3_error)
+    } else {
+      __pyx_v_sum = ((a_float_t)0.0);
+    }
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 0, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(6, 24, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_fuzzy.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy___cinit__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), __pyx_v_min, __pyx_v_max, __pyx_v_sum);
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_9pid_fuzzy___cinit__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_min, a_float_t __pyx_v_max, a_float_t __pyx_v_sum) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  __Pyx_RefNannySetupContext("__cinit__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":25
+ *     cdef void *ptr
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):
+ *         self.ctx.pid.summax = sum             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmax = max
+ *         self.ctx.pid.outmin = min
+ */
+  __pyx_v_self->ctx.pid.summax = __pyx_v_sum;
+
+  /* "python/src/a/pid/fuzzy.pxi":26
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmin = min
+ *         a_pid_fuzzy_init(&self.ctx, 0)
+ */
+  __pyx_v_self->ctx.pid.outmax = __pyx_v_max;
+
+  /* "python/src/a/pid/fuzzy.pxi":27
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max
+ *         self.ctx.pid.outmin = min             # <<<<<<<<<<<<<<
+ *         a_pid_fuzzy_init(&self.ctx, 0)
+ *         if sum:
+ */
+  __pyx_v_self->ctx.pid.outmin = __pyx_v_min;
+
+  /* "python/src/a/pid/fuzzy.pxi":28
+ *         self.ctx.pid.outmax = max
+ *         self.ctx.pid.outmin = min
+ *         a_pid_fuzzy_init(&self.ctx, 0)             # <<<<<<<<<<<<<<
+ *         if sum:
+ *             self.ctx.pid.mode = A_PID_POS
+ */
+  a_pid_fuzzy_init((&__pyx_v_self->ctx), 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":29
+ *         self.ctx.pid.outmin = min
+ *         a_pid_fuzzy_init(&self.ctx, 0)
+ *         if sum:             # <<<<<<<<<<<<<<
+ *             self.ctx.pid.mode = A_PID_POS
+ *         else:
+ */
+  __pyx_t_1 = (__pyx_v_sum != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a/pid/fuzzy.pxi":30
+ *         a_pid_fuzzy_init(&self.ctx, 0)
+ *         if sum:
+ *             self.ctx.pid.mode = A_PID_POS             # <<<<<<<<<<<<<<
+ *         else:
+ *             self.ctx.pid.mode = A_PID_INC
+ */
+    __pyx_v_self->ctx.pid.mode = A_PID_POS;
+
+    /* "python/src/a/pid/fuzzy.pxi":29
+ *         self.ctx.pid.outmin = min
+ *         a_pid_fuzzy_init(&self.ctx, 0)
+ *         if sum:             # <<<<<<<<<<<<<<
+ *             self.ctx.pid.mode = A_PID_POS
+ *         else:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "python/src/a/pid/fuzzy.pxi":32
+ *             self.ctx.pid.mode = A_PID_POS
+ *         else:
+ *             self.ctx.pid.mode = A_PID_INC             # <<<<<<<<<<<<<<
+ *         a_pid_fuzzy_set_op(&self.ctx, A_PID_FUZZY_EQU)
+ *     def rule(self, me, mec, mkp, mki, mkd):
+ */
+  /*else*/ {
+    __pyx_v_self->ctx.pid.mode = A_PID_INC;
+  }
+  __pyx_L3:;
+
+  /* "python/src/a/pid/fuzzy.pxi":33
+ *         else:
+ *             self.ctx.pid.mode = A_PID_INC
+ *         a_pid_fuzzy_set_op(&self.ctx, A_PID_FUZZY_EQU)             # <<<<<<<<<<<<<<
+ *     def rule(self, me, mec, mkp, mki, mkd):
+ *         '''set rule base for fuzzy PID controller'''
+ */
+  a_pid_fuzzy_set_op((&__pyx_v_self->ctx), A_PID_FUZZY_EQU);
+
+  /* "python/src/a/pid/fuzzy.pxi":24
+ *     cdef array mkd
+ *     cdef void *ptr
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":34
+ *             self.ctx.pid.mode = A_PID_INC
+ *         a_pid_fuzzy_set_op(&self.ctx, A_PID_FUZZY_EQU)
+ *     def rule(self, me, mec, mkp, mki, mkd):             # <<<<<<<<<<<<<<
+ *         '''set rule base for fuzzy PID controller'''
+ *         self.me = floats((col for row in me for col in row))
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3rule(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_9pid_fuzzy_2rule[] = "set rule base for fuzzy PID controller";
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3rule(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  PyObject *__pyx_v_me = 0;
+  PyObject *__pyx_v_mec = 0;
+  PyObject *__pyx_v_mkp = 0;
+  PyObject *__pyx_v_mki = 0;
+  PyObject *__pyx_v_mkd = 0;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("rule (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_me,&__pyx_n_s_mec,&__pyx_n_s_mkp,&__pyx_n_s_mki,&__pyx_n_s_mkd,0};
+    PyObject* values[5] = {0,0,0,0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
         case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
         CYTHON_FALLTHROUGH;
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
@@ -8608,167 +10612,120 @@
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_num)) != 0)) kw_args--;
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_me)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_dt)) != 0)) kw_args--;
+        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mec)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, 1); __PYX_ERR(7, 15, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("rule", 1, 5, 5, 1); __PYX_ERR(6, 34, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
-        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_me)) != 0)) kw_args--;
+        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mkp)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, 2); __PYX_ERR(7, 15, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("rule", 1, 5, 5, 2); __PYX_ERR(6, 34, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  3:
-        if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mec)) != 0)) kw_args--;
+        if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mki)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, 3); __PYX_ERR(7, 15, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("rule", 1, 5, 5, 3); __PYX_ERR(6, 34, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  4:
-        if (likely((values[4] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mkp)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, 4); __PYX_ERR(7, 15, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  5:
-        if (likely((values[5] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mki)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, 5); __PYX_ERR(7, 15, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  6:
-        if (likely((values[6] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mkd)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, 6); __PYX_ERR(7, 15, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  7:
-        if (likely((values[7] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_min)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, 7); __PYX_ERR(7, 15, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  8:
-        if (likely((values[8] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_max)) != 0)) kw_args--;
+        if (likely((values[4] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mkd)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, 8); __PYX_ERR(7, 15, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  9:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_sum);
-          if (value) { values[9] = value; kw_args--; }
+          __Pyx_RaiseArgtupleInvalid("rule", 1, 5, 5, 4); __PYX_ERR(6, 34, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(7, 15, __pyx_L3_error)
-      }
-    } else {
-      switch (PyTuple_GET_SIZE(__pyx_args)) {
-        case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
-        CYTHON_FALLTHROUGH;
-        case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
-        values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
-        values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
-        values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
-        values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
-        values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
-        values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        break;
-        default: goto __pyx_L5_argtuple_error;
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "rule") < 0)) __PYX_ERR(6, 34, __pyx_L3_error)
       }
-    }
-    __pyx_v_num = __Pyx_PyInt_As_a_uint_t(values[0]); if (unlikely((__pyx_v_num == ((a_uint_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 15, __pyx_L3_error)
-    __pyx_v_dt = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_dt == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 15, __pyx_L3_error)
-    __pyx_v_me = values[2];
-    __pyx_v_mec = values[3];
-    __pyx_v_mkp = values[4];
-    __pyx_v_mki = values[5];
-    __pyx_v_mkd = values[6];
-    __pyx_v_min = __pyx_PyFloat_AsDouble(values[7]); if (unlikely((__pyx_v_min == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 15, __pyx_L3_error)
-    __pyx_v_max = __pyx_PyFloat_AsDouble(values[8]); if (unlikely((__pyx_v_max == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 15, __pyx_L3_error)
-    if (values[9]) {
-      __pyx_v_sum = __pyx_PyFloat_AsDouble(values[9]); if (unlikely((__pyx_v_sum == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 15, __pyx_L3_error)
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 5) {
+      goto __pyx_L5_argtuple_error;
     } else {
-      __pyx_v_sum = ((a_real_t)0.0);
+      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+      values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
+      values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
     }
+    __pyx_v_me = values[0];
+    __pyx_v_mec = values[1];
+    __pyx_v_mkp = values[2];
+    __pyx_v_mki = values[3];
+    __pyx_v_mkd = values[4];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 9, 10, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(7, 15, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("rule", 1, 5, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(6, 34, __pyx_L3_error)
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.rule", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
-  return -1;
+  return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid___cinit__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), __pyx_v_num, __pyx_v_dt, __pyx_v_me, __pyx_v_mec, __pyx_v_mkp, __pyx_v_mki, __pyx_v_mkd, __pyx_v_min, __pyx_v_max, __pyx_v_sum);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_2rule(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), __pyx_v_me, __pyx_v_mec, __pyx_v_mkp, __pyx_v_mki, __pyx_v_mkd);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___2generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_2generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":16
- *     cdef array mkd
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         self.me = reals((i for j in me for i in j))             # <<<<<<<<<<<<<<
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
+/* "python/src/a/pid/fuzzy.pxi":36
+ *     def rule(self, me, mec, mkp, mki, mkd):
+ *         '''set rule base for fuzzy PID controller'''
+ *         self.me = floats((col for row in me for col in row))             # <<<<<<<<<<<<<<
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___genexpr(PyObject *__pyx_self) {
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_genexpr(PyObject *__pyx_self) {
   struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
   __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_1_genexpr(__pyx_ptype_4liba___pyx_scope_struct_1_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 16, __pyx_L1_error)
+    __PYX_ERR(6, 36, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct__rule *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_9__cinit___2generator, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_cinit___locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 16, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_9pid_fuzzy_4rule_2generator, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_rule_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(6, 36, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.__cinit__.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.rule.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___2generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_2generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
   struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   PyObject *__pyx_t_1 = NULL;
   Py_ssize_t __pyx_t_2;
   PyObject *(*__pyx_t_3)(PyObject *);
   PyObject *__pyx_t_4 = NULL;
@@ -8784,104 +10741,104 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L8_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 16, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me)) { __Pyx_RaiseClosureNameError("me"); __PYX_ERR(7, 16, __pyx_L1_error) }
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 36, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me)) { __Pyx_RaiseClosureNameError("me"); __PYX_ERR(6, 36, __pyx_L1_error) }
   if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me)) {
     __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_me; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
     __pyx_t_3 = NULL;
   } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 16, __pyx_L1_error)
+    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 36, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 16, __pyx_L1_error)
+    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 36, __pyx_L1_error)
   }
   for (;;) {
     if (likely(!__pyx_t_3)) {
       if (likely(PyList_CheckExact(__pyx_t_1))) {
         if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 16, __pyx_L1_error)
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 36, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 16, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 36, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       } else {
         if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 16, __pyx_L1_error)
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 36, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 16, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 36, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       }
     } else {
       __pyx_t_4 = __pyx_t_3(__pyx_t_1);
       if (unlikely(!__pyx_t_4)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 16, __pyx_L1_error)
+          else __PYX_ERR(6, 36, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_4);
     }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
+    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_row);
+    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_row, __pyx_t_4);
     __Pyx_GIVEREF(__pyx_t_4);
     __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
+    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_row)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_row)) {
+      __pyx_t_4 = __pyx_cur_scope->__pyx_v_row; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 16, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_row); if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 36, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 16, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(6, 36, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 16, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 36, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 16, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 36, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 16, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 36, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 16, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 36, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 16, __pyx_L1_error)
+            else __PYX_ERR(6, 36, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
+      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_col);
+      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_col, __pyx_t_7);
       __Pyx_GIVEREF(__pyx_t_7);
       __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
+      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_col);
+      __pyx_r = __pyx_cur_scope->__pyx_v_col;
       __Pyx_XGIVEREF(__pyx_t_1);
       __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
       __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
       __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
       __Pyx_XGIVEREF(__pyx_t_4);
       __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
       __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
@@ -8899,15 +10856,15 @@
       __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
       __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
       __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
       __pyx_cur_scope->__pyx_t_3 = 0;
       __Pyx_XGOTREF(__pyx_t_4);
       __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
       __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 16, __pyx_L1_error)
+      if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 36, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
@@ -8924,61 +10881,61 @@
   __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___5generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_5generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":17
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))             # <<<<<<<<<<<<<<
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
+/* "python/src/a/pid/fuzzy.pxi":37
+ *         '''set rule base for fuzzy PID controller'''
+ *         self.me = floats((col for row in me for col in row))
+ *         self.mec = floats((col for row in mec for col in row))             # <<<<<<<<<<<<<<
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___3genexpr(PyObject *__pyx_self) {
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_3genexpr(PyObject *__pyx_self) {
   struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
   __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_2_genexpr(__pyx_ptype_4liba___pyx_scope_struct_2_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 17, __pyx_L1_error)
+    __PYX_ERR(6, 37, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct__rule *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_9__cinit___5generator1, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_cinit___locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 17, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_9pid_fuzzy_4rule_5generator1, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_rule_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(6, 37, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.__cinit__.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.rule.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___5generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_5generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
   struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   PyObject *__pyx_t_1 = NULL;
   Py_ssize_t __pyx_t_2;
   PyObject *(*__pyx_t_3)(PyObject *);
   PyObject *__pyx_t_4 = NULL;
@@ -8994,104 +10951,104 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L8_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 17, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec)) { __Pyx_RaiseClosureNameError("mec"); __PYX_ERR(7, 17, __pyx_L1_error) }
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 37, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec)) { __Pyx_RaiseClosureNameError("mec"); __PYX_ERR(6, 37, __pyx_L1_error) }
   if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec)) {
     __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
     __pyx_t_3 = NULL;
   } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 17, __pyx_L1_error)
+    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 37, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 17, __pyx_L1_error)
+    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 37, __pyx_L1_error)
   }
   for (;;) {
     if (likely(!__pyx_t_3)) {
       if (likely(PyList_CheckExact(__pyx_t_1))) {
         if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 17, __pyx_L1_error)
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 37, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 17, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 37, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       } else {
         if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 17, __pyx_L1_error)
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 37, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 17, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 37, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       }
     } else {
       __pyx_t_4 = __pyx_t_3(__pyx_t_1);
       if (unlikely(!__pyx_t_4)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 17, __pyx_L1_error)
+          else __PYX_ERR(6, 37, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_4);
     }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
+    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_row);
+    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_row, __pyx_t_4);
     __Pyx_GIVEREF(__pyx_t_4);
     __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
+    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_row)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_row)) {
+      __pyx_t_4 = __pyx_cur_scope->__pyx_v_row; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 17, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_row); if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 37, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 17, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(6, 37, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 17, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 37, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 17, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 37, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 17, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 37, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 17, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 37, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 17, __pyx_L1_error)
+            else __PYX_ERR(6, 37, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
+      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_col);
+      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_col, __pyx_t_7);
       __Pyx_GIVEREF(__pyx_t_7);
       __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
+      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_col);
+      __pyx_r = __pyx_cur_scope->__pyx_v_col;
       __Pyx_XGIVEREF(__pyx_t_1);
       __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
       __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
       __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
       __Pyx_XGIVEREF(__pyx_t_4);
       __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
       __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
@@ -9109,15 +11066,15 @@
       __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
       __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
       __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
       __pyx_cur_scope->__pyx_t_3 = 0;
       __Pyx_XGOTREF(__pyx_t_4);
       __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
       __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 17, __pyx_L1_error)
+      if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 37, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
@@ -9134,61 +11091,61 @@
   __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___8generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_8generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":18
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))             # <<<<<<<<<<<<<<
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))
+/* "python/src/a/pid/fuzzy.pxi":38
+ *         self.me = floats((col for row in me for col in row))
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))             # <<<<<<<<<<<<<<
+ *         self.mki = floats((col for row in mki for col in row))
+ *         self.mkd = floats((col for row in mkd for col in row))
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___6genexpr(PyObject *__pyx_self) {
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_6genexpr(PyObject *__pyx_self) {
   struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
   __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_3_genexpr(__pyx_ptype_4liba___pyx_scope_struct_3_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 18, __pyx_L1_error)
+    __PYX_ERR(6, 38, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct__rule *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_9__cinit___8generator2, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_cinit___locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 18, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_9pid_fuzzy_4rule_8generator2, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_rule_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(6, 38, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.__cinit__.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.rule.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___8generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_8generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
   struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   PyObject *__pyx_t_1 = NULL;
   Py_ssize_t __pyx_t_2;
   PyObject *(*__pyx_t_3)(PyObject *);
   PyObject *__pyx_t_4 = NULL;
@@ -9204,104 +11161,104 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L8_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 18, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp)) { __Pyx_RaiseClosureNameError("mkp"); __PYX_ERR(7, 18, __pyx_L1_error) }
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 38, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp)) { __Pyx_RaiseClosureNameError("mkp"); __PYX_ERR(6, 38, __pyx_L1_error) }
   if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp)) {
     __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
     __pyx_t_3 = NULL;
   } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 18, __pyx_L1_error)
+    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 38, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 18, __pyx_L1_error)
+    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 38, __pyx_L1_error)
   }
   for (;;) {
     if (likely(!__pyx_t_3)) {
       if (likely(PyList_CheckExact(__pyx_t_1))) {
         if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 18, __pyx_L1_error)
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 38, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 18, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 38, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       } else {
         if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 18, __pyx_L1_error)
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 38, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 18, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 38, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       }
     } else {
       __pyx_t_4 = __pyx_t_3(__pyx_t_1);
       if (unlikely(!__pyx_t_4)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 18, __pyx_L1_error)
+          else __PYX_ERR(6, 38, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_4);
     }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
+    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_row);
+    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_row, __pyx_t_4);
     __Pyx_GIVEREF(__pyx_t_4);
     __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
+    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_row)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_row)) {
+      __pyx_t_4 = __pyx_cur_scope->__pyx_v_row; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 18, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_row); if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 38, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 18, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(6, 38, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 18, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 38, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 18, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 38, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 18, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 38, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 18, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 38, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 18, __pyx_L1_error)
+            else __PYX_ERR(6, 38, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
+      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_col);
+      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_col, __pyx_t_7);
       __Pyx_GIVEREF(__pyx_t_7);
       __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
+      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_col);
+      __pyx_r = __pyx_cur_scope->__pyx_v_col;
       __Pyx_XGIVEREF(__pyx_t_1);
       __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
       __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
       __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
       __Pyx_XGIVEREF(__pyx_t_4);
       __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
       __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
@@ -9319,15 +11276,15 @@
       __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
       __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
       __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
       __pyx_cur_scope->__pyx_t_3 = 0;
       __Pyx_XGOTREF(__pyx_t_4);
       __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
       __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 18, __pyx_L1_error)
+      if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 38, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
@@ -9344,61 +11301,61 @@
   __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___11generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_11generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":19
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))             # <<<<<<<<<<<<<<
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
+/* "python/src/a/pid/fuzzy.pxi":39
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))             # <<<<<<<<<<<<<<
+ *         self.mkd = floats((col for row in mkd for col in row))
+ *         a_pid_fuzzy_rule(&self.ctx, <unsigned int>len(me),
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___9genexpr(PyObject *__pyx_self) {
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_9genexpr(PyObject *__pyx_self) {
   struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
   __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_4_genexpr(__pyx_ptype_4liba___pyx_scope_struct_4_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 19, __pyx_L1_error)
+    __PYX_ERR(6, 39, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct__rule *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_9__cinit___11generator3, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_cinit___locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 19, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_9pid_fuzzy_4rule_11generator3, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_rule_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(6, 39, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.__cinit__.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.rule.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___11generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_11generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
   struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   PyObject *__pyx_t_1 = NULL;
   Py_ssize_t __pyx_t_2;
   PyObject *(*__pyx_t_3)(PyObject *);
   PyObject *__pyx_t_4 = NULL;
@@ -9414,104 +11371,104 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L8_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 19, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki)) { __Pyx_RaiseClosureNameError("mki"); __PYX_ERR(7, 19, __pyx_L1_error) }
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 39, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki)) { __Pyx_RaiseClosureNameError("mki"); __PYX_ERR(6, 39, __pyx_L1_error) }
   if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki)) {
     __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
     __pyx_t_3 = NULL;
   } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 19, __pyx_L1_error)
+    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 39, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 19, __pyx_L1_error)
+    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 39, __pyx_L1_error)
   }
   for (;;) {
     if (likely(!__pyx_t_3)) {
       if (likely(PyList_CheckExact(__pyx_t_1))) {
         if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 19, __pyx_L1_error)
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 39, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 19, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 39, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       } else {
         if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 19, __pyx_L1_error)
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 39, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 19, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 39, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       }
     } else {
       __pyx_t_4 = __pyx_t_3(__pyx_t_1);
       if (unlikely(!__pyx_t_4)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 19, __pyx_L1_error)
+          else __PYX_ERR(6, 39, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_4);
     }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
+    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_row);
+    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_row, __pyx_t_4);
     __Pyx_GIVEREF(__pyx_t_4);
     __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
+    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_row)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_row)) {
+      __pyx_t_4 = __pyx_cur_scope->__pyx_v_row; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 19, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_row); if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 39, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 19, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(6, 39, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 19, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 39, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 19, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 39, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 19, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 39, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 19, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 39, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 19, __pyx_L1_error)
+            else __PYX_ERR(6, 39, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
+      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_col);
+      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_col, __pyx_t_7);
       __Pyx_GIVEREF(__pyx_t_7);
       __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
+      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_col);
+      __pyx_r = __pyx_cur_scope->__pyx_v_col;
       __Pyx_XGIVEREF(__pyx_t_1);
       __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
       __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
       __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
       __Pyx_XGIVEREF(__pyx_t_4);
       __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
       __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
@@ -9529,15 +11486,15 @@
       __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
       __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
       __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
       __pyx_cur_scope->__pyx_t_3 = 0;
       __Pyx_XGOTREF(__pyx_t_4);
       __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
       __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 19, __pyx_L1_error)
+      if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 39, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
@@ -9554,61 +11511,61 @@
   __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___14generator4(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_14generator4(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":20
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))             # <<<<<<<<<<<<<<
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
+/* "python/src/a/pid/fuzzy.pxi":40
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))
+ *         self.mkd = floats((col for row in mkd for col in row))             # <<<<<<<<<<<<<<
+ *         a_pid_fuzzy_rule(&self.ctx, <unsigned int>len(me),
+ *                          <a_float_t *>self.me.data.as_voidptr,
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_9__cinit___12genexpr(PyObject *__pyx_self) {
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4rule_12genexpr(PyObject *__pyx_self) {
   struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
   __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_5_genexpr(__pyx_ptype_4liba___pyx_scope_struct_5_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 20, __pyx_L1_error)
+    __PYX_ERR(6, 40, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct__rule *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_9__cinit___14generator4, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_cinit___locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 20, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_9pid_fuzzy_4rule_14generator4, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_rule_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(6, 40, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.__cinit__.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.rule.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_9__cinit___14generator4(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
+static PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_14generator4(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
   struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   PyObject *__pyx_t_1 = NULL;
   Py_ssize_t __pyx_t_2;
   PyObject *(*__pyx_t_3)(PyObject *);
   PyObject *__pyx_t_4 = NULL;
@@ -9624,104 +11581,104 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L8_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 20, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd)) { __Pyx_RaiseClosureNameError("mkd"); __PYX_ERR(7, 20, __pyx_L1_error) }
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 40, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd)) { __Pyx_RaiseClosureNameError("mkd"); __PYX_ERR(6, 40, __pyx_L1_error) }
   if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd)) {
     __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
     __pyx_t_3 = NULL;
   } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 20, __pyx_L1_error)
+    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 40, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 20, __pyx_L1_error)
+    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(6, 40, __pyx_L1_error)
   }
   for (;;) {
     if (likely(!__pyx_t_3)) {
       if (likely(PyList_CheckExact(__pyx_t_1))) {
         if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 20, __pyx_L1_error)
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 40, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 20, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 40, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       } else {
         if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 20, __pyx_L1_error)
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(6, 40, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 20, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 40, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       }
     } else {
       __pyx_t_4 = __pyx_t_3(__pyx_t_1);
       if (unlikely(!__pyx_t_4)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 20, __pyx_L1_error)
+          else __PYX_ERR(6, 40, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_4);
     }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
+    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_row);
+    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_row, __pyx_t_4);
     __Pyx_GIVEREF(__pyx_t_4);
     __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
+    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_row)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_row)) {
+      __pyx_t_4 = __pyx_cur_scope->__pyx_v_row; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 20, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_row); if (unlikely(!__pyx_t_4)) __PYX_ERR(6, 40, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 20, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(6, 40, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 20, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 40, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 20, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 40, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 20, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(6, 40, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 20, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(6, 40, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 20, __pyx_L1_error)
+            else __PYX_ERR(6, 40, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
+      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_col);
+      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_col, __pyx_t_7);
       __Pyx_GIVEREF(__pyx_t_7);
       __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
+      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_col);
+      __pyx_r = __pyx_cur_scope->__pyx_v_col;
       __Pyx_XGIVEREF(__pyx_t_1);
       __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
       __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
       __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
       __Pyx_XGIVEREF(__pyx_t_4);
       __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
       __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
@@ -9739,15 +11696,15 @@
       __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
       __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
       __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
       __pyx_cur_scope->__pyx_t_3 = 0;
       __Pyx_XGOTREF(__pyx_t_4);
       __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
       __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 20, __pyx_L1_error)
+      if (unlikely(!__pyx_sent_value)) __PYX_ERR(6, 40, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
@@ -9765,50 +11722,44 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":15
- *     cdef array mki
- *     cdef array mkd
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):             # <<<<<<<<<<<<<<
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
- */
-
-static int __pyx_pf_4liba_4fpid___cinit__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_uint_t __pyx_v_num, a_real_t __pyx_v_dt, PyObject *__pyx_v_me, PyObject *__pyx_v_mec, PyObject *__pyx_v_mkp, PyObject *__pyx_v_mki, PyObject *__pyx_v_mkd, a_real_t __pyx_v_min, a_real_t __pyx_v_max, a_real_t __pyx_v_sum) {
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *__pyx_cur_scope;
-  a_real_t *__pyx_v_e;
-  a_real_t *__pyx_v_ec;
-  a_real_t *__pyx_v_kp;
-  a_real_t *__pyx_v_ki;
-  a_real_t *__pyx_v_kd;
-  PyObject *__pyx_gb_4liba_4fpid_9__cinit___2generator = 0;
-  PyObject *__pyx_gb_4liba_4fpid_9__cinit___5generator1 = 0;
-  PyObject *__pyx_gb_4liba_4fpid_9__cinit___8generator2 = 0;
-  PyObject *__pyx_gb_4liba_4fpid_9__cinit___11generator3 = 0;
-  PyObject *__pyx_gb_4liba_4fpid_9__cinit___14generator4 = 0;
-  int __pyx_r;
+/* "python/src/a/pid/fuzzy.pxi":34
+ *             self.ctx.pid.mode = A_PID_INC
+ *         a_pid_fuzzy_set_op(&self.ctx, A_PID_FUZZY_EQU)
+ *     def rule(self, me, mec, mkp, mki, mkd):             # <<<<<<<<<<<<<<
+ *         '''set rule base for fuzzy PID controller'''
+ *         self.me = floats((col for row in me for col in row))
+ */
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_2rule(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, PyObject *__pyx_v_me, PyObject *__pyx_v_mec, PyObject *__pyx_v_mkp, PyObject *__pyx_v_mki, PyObject *__pyx_v_mkd) {
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *__pyx_cur_scope;
+  PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_2generator = 0;
+  PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_5generator1 = 0;
+  PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_8generator2 = 0;
+  PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_11generator3 = 0;
+  PyObject *__pyx_gb_4liba_9pid_fuzzy_4rule_14generator4 = 0;
+  PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   Py_ssize_t __pyx_t_4;
-  int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__cinit__", 0);
-  __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *)__pyx_tp_new_4liba___pyx_scope_struct____cinit__(__pyx_ptype_4liba___pyx_scope_struct____cinit__, __pyx_empty_tuple, NULL);
+  __Pyx_RefNannySetupContext("rule", 0);
+  __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct__rule *)__pyx_tp_new_4liba___pyx_scope_struct__rule(__pyx_ptype_4liba___pyx_scope_struct__rule, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct__rule *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 15, __pyx_L1_error)
+    __PYX_ERR(6, 34, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_me = __pyx_v_me;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_me);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_me);
   __pyx_cur_scope->__pyx_v_mec = __pyx_v_mec;
@@ -9820,269 +11771,468 @@
   __pyx_cur_scope->__pyx_v_mki = __pyx_v_mki;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_mki);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_mki);
   __pyx_cur_scope->__pyx_v_mkd = __pyx_v_mkd;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_mkd);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_mkd);
 
-  /* "python/src/a/fpid.pxi":16
- *     cdef array mkd
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         self.me = reals((i for j in me for i in j))             # <<<<<<<<<<<<<<
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
+  /* "python/src/a/pid/fuzzy.pxi":36
+ *     def rule(self, me, mec, mkp, mki, mkd):
+ *         '''set rule base for fuzzy PID controller'''
+ *         self.me = floats((col for row in me for col in row))             # <<<<<<<<<<<<<<
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))
  */
-  __pyx_t_1 = __pyx_pf_4liba_4fpid_9__cinit___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 16, __pyx_L1_error)
+  __pyx_t_1 = __pyx_pf_4liba_9pid_fuzzy_4rule_genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 36, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_3.__pyx_n = 1;
   __pyx_t_3.o = __pyx_t_1;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 16, __pyx_L1_error)
+  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 36, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_GIVEREF(__pyx_t_2);
   __Pyx_GOTREF(__pyx_v_self->me);
   __Pyx_DECREF(((PyObject *)__pyx_v_self->me));
   __pyx_v_self->me = ((arrayobject *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "python/src/a/fpid.pxi":17
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))             # <<<<<<<<<<<<<<
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
+  /* "python/src/a/pid/fuzzy.pxi":37
+ *         '''set rule base for fuzzy PID controller'''
+ *         self.me = floats((col for row in me for col in row))
+ *         self.mec = floats((col for row in mec for col in row))             # <<<<<<<<<<<<<<
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))
  */
-  __pyx_t_2 = __pyx_pf_4liba_4fpid_9__cinit___3genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 17, __pyx_L1_error)
+  __pyx_t_2 = __pyx_pf_4liba_9pid_fuzzy_4rule_3genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 37, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3.__pyx_n = 1;
   __pyx_t_3.o = __pyx_t_2;
-  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 17, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 37, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->mec);
   __Pyx_DECREF(((PyObject *)__pyx_v_self->mec));
   __pyx_v_self->mec = ((arrayobject *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "python/src/a/fpid.pxi":18
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))             # <<<<<<<<<<<<<<
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))
+  /* "python/src/a/pid/fuzzy.pxi":38
+ *         self.me = floats((col for row in me for col in row))
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))             # <<<<<<<<<<<<<<
+ *         self.mki = floats((col for row in mki for col in row))
+ *         self.mkd = floats((col for row in mkd for col in row))
  */
-  __pyx_t_1 = __pyx_pf_4liba_4fpid_9__cinit___6genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 18, __pyx_L1_error)
+  __pyx_t_1 = __pyx_pf_4liba_9pid_fuzzy_4rule_6genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 38, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_3.__pyx_n = 1;
   __pyx_t_3.o = __pyx_t_1;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 18, __pyx_L1_error)
+  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 38, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_GIVEREF(__pyx_t_2);
   __Pyx_GOTREF(__pyx_v_self->mkp);
   __Pyx_DECREF(((PyObject *)__pyx_v_self->mkp));
   __pyx_v_self->mkp = ((arrayobject *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "python/src/a/fpid.pxi":19
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))             # <<<<<<<<<<<<<<
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
+  /* "python/src/a/pid/fuzzy.pxi":39
+ *         self.mec = floats((col for row in mec for col in row))
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))             # <<<<<<<<<<<<<<
+ *         self.mkd = floats((col for row in mkd for col in row))
+ *         a_pid_fuzzy_rule(&self.ctx, <unsigned int>len(me),
  */
-  __pyx_t_2 = __pyx_pf_4liba_4fpid_9__cinit___9genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 19, __pyx_L1_error)
+  __pyx_t_2 = __pyx_pf_4liba_9pid_fuzzy_4rule_9genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 39, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3.__pyx_n = 1;
   __pyx_t_3.o = __pyx_t_2;
-  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 19, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 39, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->mki);
   __Pyx_DECREF(((PyObject *)__pyx_v_self->mki));
   __pyx_v_self->mki = ((arrayobject *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "python/src/a/fpid.pxi":20
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))             # <<<<<<<<<<<<<<
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
+  /* "python/src/a/pid/fuzzy.pxi":40
+ *         self.mkp = floats((col for row in mkp for col in row))
+ *         self.mki = floats((col for row in mki for col in row))
+ *         self.mkd = floats((col for row in mkd for col in row))             # <<<<<<<<<<<<<<
+ *         a_pid_fuzzy_rule(&self.ctx, <unsigned int>len(me),
+ *                          <a_float_t *>self.me.data.as_voidptr,
  */
-  __pyx_t_1 = __pyx_pf_4liba_4fpid_9__cinit___12genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 20, __pyx_L1_error)
+  __pyx_t_1 = __pyx_pf_4liba_9pid_fuzzy_4rule_12genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 40, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_3.__pyx_n = 1;
   __pyx_t_3.o = __pyx_t_1;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 20, __pyx_L1_error)
+  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 40, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_GIVEREF(__pyx_t_2);
   __Pyx_GOTREF(__pyx_v_self->mkd);
   __Pyx_DECREF(((PyObject *)__pyx_v_self->mkd));
   __pyx_v_self->mkd = ((arrayobject *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "python/src/a/fpid.pxi":21
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr             # <<<<<<<<<<<<<<
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr
- */
-  __pyx_v_e = ((a_real_t *)__pyx_v_self->me->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":22
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr             # <<<<<<<<<<<<<<
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr
- */
-  __pyx_v_ec = ((a_real_t *)__pyx_v_self->mec->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":23
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr             # <<<<<<<<<<<<<<
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- */
-  __pyx_v_kp = ((a_real_t *)__pyx_v_self->mkp->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":24
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr             # <<<<<<<<<<<<<<
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- *         a_fpid_init(&self.ctx, dt, <a_uint_t>len(mkp), e, ec, kp, ki, kd, min, max)
- */
-  __pyx_v_ki = ((a_real_t *)__pyx_v_self->mki->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":25
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr             # <<<<<<<<<<<<<<
- *         a_fpid_init(&self.ctx, dt, <a_uint_t>len(mkp), e, ec, kp, ki, kd, min, max)
- *         if sum:
+  /* "python/src/a/pid/fuzzy.pxi":41
+ *         self.mki = floats((col for row in mki for col in row))
+ *         self.mkd = floats((col for row in mkd for col in row))
+ *         a_pid_fuzzy_rule(&self.ctx, <unsigned int>len(me),             # <<<<<<<<<<<<<<
+ *                          <a_float_t *>self.me.data.as_voidptr,
+ *                          <a_float_t *>self.mec.data.as_voidptr,
  */
-  __pyx_v_kd = ((a_real_t *)__pyx_v_self->mkd->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":26
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- *         a_fpid_init(&self.ctx, dt, <a_uint_t>len(mkp), e, ec, kp, ki, kd, min, max)             # <<<<<<<<<<<<<<
- *         if sum:
- *             a_fpid_pos(&self.ctx, sum)
- */
-  __pyx_t_2 = __pyx_cur_scope->__pyx_v_mkp;
+  __pyx_t_2 = __pyx_cur_scope->__pyx_v_me;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_4 = PyObject_Length(__pyx_t_2); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(7, 26, __pyx_L1_error)
+  __pyx_t_4 = PyObject_Length(__pyx_t_2); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(6, 41, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  (void)(a_fpid_init((&__pyx_v_self->ctx), __pyx_v_dt, ((a_uint_t)__pyx_t_4), __pyx_v_e, __pyx_v_ec, __pyx_v_kp, __pyx_v_ki, __pyx_v_kd, __pyx_v_min, __pyx_v_max));
 
-  /* "python/src/a/fpid.pxi":27
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- *         a_fpid_init(&self.ctx, dt, <a_uint_t>len(mkp), e, ec, kp, ki, kd, min, max)
- *         if sum:             # <<<<<<<<<<<<<<
- *             a_fpid_pos(&self.ctx, sum)
- *         else:
+  /* "python/src/a/pid/fuzzy.pxi":46
+ *                          <a_float_t *>self.mkp.data.as_voidptr,
+ *                          <a_float_t *>self.mki.data.as_voidptr,
+ *                          <a_float_t *>self.mkd.data.as_voidptr)             # <<<<<<<<<<<<<<
+ *         return self
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):
  */
-  __pyx_t_5 = (__pyx_v_sum != 0);
-  if (__pyx_t_5) {
+  a_pid_fuzzy_rule((&__pyx_v_self->ctx), ((unsigned int)__pyx_t_4), ((a_float_t *)__pyx_v_self->me->data.as_voidptr), ((a_float_t *)__pyx_v_self->mec->data.as_voidptr), ((a_float_t *)__pyx_v_self->mkp->data.as_voidptr), ((a_float_t *)__pyx_v_self->mki->data.as_voidptr), ((a_float_t *)__pyx_v_self->mkd->data.as_voidptr));
 
-    /* "python/src/a/fpid.pxi":28
- *         a_fpid_init(&self.ctx, dt, <a_uint_t>len(mkp), e, ec, kp, ki, kd, min, max)
- *         if sum:
- *             a_fpid_pos(&self.ctx, sum)             # <<<<<<<<<<<<<<
- *         else:
- *             a_fpid_inc(&self.ctx)
+  /* "python/src/a/pid/fuzzy.pxi":47
+ *                          <a_float_t *>self.mki.data.as_voidptr,
+ *                          <a_float_t *>self.mkd.data.as_voidptr)
+ *         return self             # <<<<<<<<<<<<<<
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):
+ *         '''set proportional integral derivative constant for fuzzy PID controller'''
  */
-    (void)(a_fpid_pos((&__pyx_v_self->ctx), __pyx_v_sum));
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self));
+  __pyx_r = ((PyObject *)__pyx_v_self);
+  goto __pyx_L0;
 
-    /* "python/src/a/fpid.pxi":27
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- *         a_fpid_init(&self.ctx, dt, <a_uint_t>len(mkp), e, ec, kp, ki, kd, min, max)
- *         if sum:             # <<<<<<<<<<<<<<
- *             a_fpid_pos(&self.ctx, sum)
- *         else:
+  /* "python/src/a/pid/fuzzy.pxi":34
+ *             self.ctx.pid.mode = A_PID_INC
+ *         a_pid_fuzzy_set_op(&self.ctx, A_PID_FUZZY_EQU)
+ *     def rule(self, me, mec, mkp, mki, mkd):             # <<<<<<<<<<<<<<
+ *         '''set rule base for fuzzy PID controller'''
+ *         self.me = floats((col for row in me for col in row))
  */
-    goto __pyx_L3;
-  }
 
-  /* "python/src/a/fpid.pxi":30
- *             a_fpid_pos(&self.ctx, sum)
- *         else:
- *             a_fpid_inc(&self.ctx)             # <<<<<<<<<<<<<<
- *         self.buf = num
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("liba.pid_fuzzy.rule", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XDECREF(__pyx_gb_4liba_9pid_fuzzy_4rule_2generator);
+  __Pyx_XDECREF(__pyx_gb_4liba_9pid_fuzzy_4rule_5generator1);
+  __Pyx_XDECREF(__pyx_gb_4liba_9pid_fuzzy_4rule_8generator2);
+  __Pyx_XDECREF(__pyx_gb_4liba_9pid_fuzzy_4rule_11generator3);
+  __Pyx_XDECREF(__pyx_gb_4liba_9pid_fuzzy_4rule_14generator4);
+  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":48
+ *                          <a_float_t *>self.mkd.data.as_voidptr)
+ *         return self
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         '''set proportional integral derivative constant for fuzzy PID controller'''
+ *         a_pid_fuzzy_kpid(&self.ctx, kp, ki, kd)
  */
-  /*else*/ {
-    (void)(a_fpid_inc((&__pyx_v_self->ctx)));
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_5kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_9pid_fuzzy_4kpid[] = "set proportional integral derivative constant for fuzzy PID controller";
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_5kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_kp;
+  a_float_t __pyx_v_ki;
+  a_float_t __pyx_v_kd;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("kpid (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_kp,&__pyx_n_s_ki,&__pyx_n_s_kd,0};
+    PyObject* values[3] = {0,0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+        CYTHON_FALLTHROUGH;
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kp)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ki)) != 0)) kw_args--;
+        else {
+          __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, 1); __PYX_ERR(6, 48, __pyx_L3_error)
+        }
+        CYTHON_FALLTHROUGH;
+        case  2:
+        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kd)) != 0)) kw_args--;
+        else {
+          __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, 2); __PYX_ERR(6, 48, __pyx_L3_error)
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "kpid") < 0)) __PYX_ERR(6, 48, __pyx_L3_error)
+      }
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
+      goto __pyx_L5_argtuple_error;
+    } else {
+      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+    }
+    __pyx_v_kp = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_kp == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 48, __pyx_L3_error)
+    __pyx_v_ki = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_ki == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 48, __pyx_L3_error)
+    __pyx_v_kd = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_kd == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 48, __pyx_L3_error)
   }
-  __pyx_L3:;
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(6, 48, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_fuzzy.kpid", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return NULL;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_4kpid(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), __pyx_v_kp, __pyx_v_ki, __pyx_v_kd);
 
-  /* "python/src/a/fpid.pxi":31
- *         else:
- *             a_fpid_inc(&self.ctx)
- *         self.buf = num             # <<<<<<<<<<<<<<
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:
- *         '''calculate function for fuzzy PID controller'''
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4kpid(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_kp, a_float_t __pyx_v_ki, a_float_t __pyx_v_kd) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("kpid", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":50
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):
+ *         '''set proportional integral derivative constant for fuzzy PID controller'''
+ *         a_pid_fuzzy_kpid(&self.ctx, kp, ki, kd)             # <<<<<<<<<<<<<<
+ *         return self
+ *     def buff(self, num: int):
  */
-  __pyx_t_2 = __Pyx_PyInt_From_a_uint_t(__pyx_v_num); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 31, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (__Pyx_PyObject_SetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_buf, __pyx_t_2) < 0) __PYX_ERR(7, 31, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  a_pid_fuzzy_kpid((&__pyx_v_self->ctx), __pyx_v_kp, __pyx_v_ki, __pyx_v_kd);
 
-  /* "python/src/a/fpid.pxi":15
- *     cdef array mki
- *     cdef array mkd
- *     def __cinit__(self, a_uint_t num, a_real_t dt, me, mec, mkp, mki, mkd, a_real_t min, a_real_t max, a_real_t sum = 0):             # <<<<<<<<<<<<<<
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
+  /* "python/src/a/pid/fuzzy.pxi":51
+ *         '''set proportional integral derivative constant for fuzzy PID controller'''
+ *         a_pid_fuzzy_kpid(&self.ctx, kp, ki, kd)
+ *         return self             # <<<<<<<<<<<<<<
+ *     def buff(self, num: int):
+ *         '''set buffer for fuzzy PID controller'''
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self));
+  __pyx_r = ((PyObject *)__pyx_v_self);
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":48
+ *                          <a_float_t *>self.mkd.data.as_voidptr)
+ *         return self
+ *     def kpid(self, kp: a_float_t, ki: a_float_t, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         '''set proportional integral derivative constant for fuzzy PID controller'''
+ *         a_pid_fuzzy_kpid(&self.ctx, kp, ki, kd)
  */
 
   /* function exit code */
-  __pyx_r = 0;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":52
+ *         a_pid_fuzzy_kpid(&self.ctx, kp, ki, kd)
+ *         return self
+ *     def buff(self, num: int):             # <<<<<<<<<<<<<<
+ *         '''set buffer for fuzzy PID controller'''
+ *         self.ptr = PyMem_Realloc(self.ptr, A_PID_FUZZY_BUF1(num))
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_7buff(PyObject *__pyx_v_self, PyObject *__pyx_v_num); /*proto*/
+static char __pyx_doc_4liba_9pid_fuzzy_6buff[] = "set buffer for fuzzy PID controller";
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_7buff(PyObject *__pyx_v_self, PyObject *__pyx_v_num) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("buff (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_6buff(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((PyObject *)__pyx_v_num));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_6buff(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, PyObject *__pyx_v_num) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  unsigned int __pyx_t_1;
+  a_size_t __pyx_t_2;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("buff", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":54
+ *     def buff(self, num: int):
+ *         '''set buffer for fuzzy PID controller'''
+ *         self.ptr = PyMem_Realloc(self.ptr, A_PID_FUZZY_BUF1(num))             # <<<<<<<<<<<<<<
+ *         a_pid_fuzzy_buf1(&self.ctx, self.ptr, num)
+ *         return self
+ */
+  __pyx_t_1 = __Pyx_PyInt_As_unsigned_int(__pyx_v_num); if (unlikely((__pyx_t_1 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(6, 54, __pyx_L1_error)
+  __pyx_v_self->ptr = PyMem_Realloc(__pyx_v_self->ptr, A_PID_FUZZY_BUF1(__pyx_t_1));
+
+  /* "python/src/a/pid/fuzzy.pxi":55
+ *         '''set buffer for fuzzy PID controller'''
+ *         self.ptr = PyMem_Realloc(self.ptr, A_PID_FUZZY_BUF1(num))
+ *         a_pid_fuzzy_buf1(&self.ctx, self.ptr, num)             # <<<<<<<<<<<<<<
+ *         return self
+ *     def op(self, op: int):
+ */
+  __pyx_t_2 = __Pyx_PyInt_As_size_t(__pyx_v_num); if (unlikely((__pyx_t_2 == ((a_size_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 55, __pyx_L1_error)
+  a_pid_fuzzy_buf1((&__pyx_v_self->ctx), __pyx_v_self->ptr, __pyx_t_2);
+
+  /* "python/src/a/pid/fuzzy.pxi":56
+ *         self.ptr = PyMem_Realloc(self.ptr, A_PID_FUZZY_BUF1(num))
+ *         a_pid_fuzzy_buf1(&self.ctx, self.ptr, num)
+ *         return self             # <<<<<<<<<<<<<<
+ *     def op(self, op: int):
+ *         '''set fuzzy relational operator for fuzzy PID controller'''
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self));
+  __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":52
+ *         a_pid_fuzzy_kpid(&self.ctx, kp, ki, kd)
+ *         return self
+ *     def buff(self, num: int):             # <<<<<<<<<<<<<<
+ *         '''set buffer for fuzzy PID controller'''
+ *         self.ptr = PyMem_Realloc(self.ptr, A_PID_FUZZY_BUF1(num))
+ */
+
+  /* function exit code */
   __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("liba.fpid.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = -1;
+  __Pyx_AddTraceback("liba.pid_fuzzy.buff", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_9__cinit___2generator);
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_9__cinit___5generator1);
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_9__cinit___8generator2);
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_9__cinit___11generator3);
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_9__cinit___14generator4);
-  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":57
+ *         a_pid_fuzzy_buf1(&self.ctx, self.ptr, num)
+ *         return self
+ *     def op(self, op: int):             # <<<<<<<<<<<<<<
+ *         '''set fuzzy relational operator for fuzzy PID controller'''
+ *         a_pid_fuzzy_set_op(&self.ctx, op)
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_9op(PyObject *__pyx_v_self, PyObject *__pyx_v_op); /*proto*/
+static char __pyx_doc_4liba_9pid_fuzzy_8op[] = "set fuzzy relational operator for fuzzy PID controller";
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_9op(PyObject *__pyx_v_self, PyObject *__pyx_v_op) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("op (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_8op(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((PyObject *)__pyx_v_op));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_8op(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, PyObject *__pyx_v_op) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  unsigned int __pyx_t_1;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("op", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":59
+ *     def op(self, op: int):
+ *         '''set fuzzy relational operator for fuzzy PID controller'''
+ *         a_pid_fuzzy_set_op(&self.ctx, op)             # <<<<<<<<<<<<<<
+ *         return self
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
+ */
+  __pyx_t_1 = __Pyx_PyInt_As_unsigned_int(__pyx_v_op); if (unlikely((__pyx_t_1 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(6, 59, __pyx_L1_error)
+  a_pid_fuzzy_set_op((&__pyx_v_self->ctx), __pyx_t_1);
+
+  /* "python/src/a/pid/fuzzy.pxi":60
+ *         '''set fuzzy relational operator for fuzzy PID controller'''
+ *         a_pid_fuzzy_set_op(&self.ctx, op)
+ *         return self             # <<<<<<<<<<<<<<
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
+ *         '''calculate function for fuzzy PID controller'''
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self));
+  __pyx_r = ((PyObject *)__pyx_v_self);
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":57
+ *         a_pid_fuzzy_buf1(&self.ctx, self.ptr, num)
+ *         return self
+ *     def op(self, op: int):             # <<<<<<<<<<<<<<
+ *         '''set fuzzy relational operator for fuzzy PID controller'''
+ *         a_pid_fuzzy_set_op(&self.ctx, op)
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_AddTraceback("liba.pid_fuzzy.op", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":32
- *             a_fpid_inc(&self.ctx)
- *         self.buf = num
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:             # <<<<<<<<<<<<<<
+/* "python/src/a/pid/fuzzy.pxi":61
+ *         a_pid_fuzzy_set_op(&self.ctx, op)
+ *         return self
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:             # <<<<<<<<<<<<<<
  *         '''calculate function for fuzzy PID controller'''
- *         return a_fpid_outf(&self.ctx, set, fdb)
+ *         return a_pid_fuzzy_outf(&self.ctx, set, fdb)
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_4liba_4fpid_2__call__[] = "calculate function for fuzzy PID controller";
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_11__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_9pid_fuzzy_10__call__[] = "calculate function for fuzzy PID controller";
 #if CYTHON_UPDATE_DESCRIPTOR_DOC
-struct wrapperbase __pyx_wrapperbase_4liba_4fpid_2__call__;
+struct wrapperbase __pyx_wrapperbase_4liba_9pid_fuzzy_10__call__;
 #endif
-static PyObject *__pyx_pw_4liba_4fpid_3__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_set;
-  a_real_t __pyx_v_fdb;
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_11__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_set;
+  a_float_t __pyx_v_fdb;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
   {
@@ -10104,3505 +12254,3902 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_set)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_fdb)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, 1); __PYX_ERR(7, 32, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, 1); __PYX_ERR(6, 61, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(7, 32, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(6, 61, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
-    __pyx_v_set = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_set == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 32, __pyx_L3_error)
-    __pyx_v_fdb = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_fdb == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 32, __pyx_L3_error)
+    __pyx_v_set = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_set == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 61, __pyx_L3_error)
+    __pyx_v_fdb = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_fdb == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 61, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(7, 32, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(6, 61, __pyx_L3_error)
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_2__call__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), __pyx_v_set, __pyx_v_fdb);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_10__call__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), __pyx_v_set, __pyx_v_fdb);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_2__call__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_set, a_real_t __pyx_v_fdb) {
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_10__call__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_set, a_float_t __pyx_v_fdb) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "python/src/a/fpid.pxi":34
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:
+  /* "python/src/a/pid/fuzzy.pxi":63
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
  *         '''calculate function for fuzzy PID controller'''
- *         return a_fpid_outf(&self.ctx, set, fdb)             # <<<<<<<<<<<<<<
+ *         return a_pid_fuzzy_outf(&self.ctx, set, fdb)             # <<<<<<<<<<<<<<
  *     def __dealloc__(self):
  *         '''terminate function for fuzzy PID controller'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(a_fpid_outf((&__pyx_v_self->ctx), __pyx_v_set, __pyx_v_fdb)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 34, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(a_pid_fuzzy_outf((&__pyx_v_self->ctx), __pyx_v_set, __pyx_v_fdb)); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 63, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":32
- *             a_fpid_inc(&self.ctx)
- *         self.buf = num
- *     def __call__(self, set: a_real_t, fdb: a_real_t) -> a_real_t:             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid/fuzzy.pxi":61
+ *         a_pid_fuzzy_set_op(&self.ctx, op)
+ *         return self
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:             # <<<<<<<<<<<<<<
  *         '''calculate function for fuzzy PID controller'''
- *         return a_fpid_outf(&self.ctx, set, fdb)
+ *         return a_pid_fuzzy_outf(&self.ctx, set, fdb)
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":35
+/* "python/src/a/pid/fuzzy.pxi":64
  *         '''calculate function for fuzzy PID controller'''
- *         return a_fpid_outf(&self.ctx, set, fdb)
+ *         return a_pid_fuzzy_outf(&self.ctx, set, fdb)
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         '''terminate function for fuzzy PID controller'''
- *         a_fpid_exit(&self.ctx)
+ *         PyMem_Free(self.ptr)
  */
 
 /* Python wrapper */
-static void __pyx_pw_4liba_4fpid_5__dealloc__(PyObject *__pyx_v_self); /*proto*/
-static void __pyx_pw_4liba_4fpid_5__dealloc__(PyObject *__pyx_v_self) {
+static void __pyx_pw_4liba_9pid_fuzzy_13__dealloc__(PyObject *__pyx_v_self); /*proto*/
+static void __pyx_pw_4liba_9pid_fuzzy_13__dealloc__(PyObject *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__ (wrapper)", 0);
-  __pyx_pf_4liba_4fpid_4__dealloc__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_pf_4liba_9pid_fuzzy_12__dealloc__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-static void __pyx_pf_4liba_4fpid_4__dealloc__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static void __pyx_pf_4liba_9pid_fuzzy_12__dealloc__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "python/src/a/fpid.pxi":37
+  /* "python/src/a/pid/fuzzy.pxi":66
  *     def __dealloc__(self):
  *         '''terminate function for fuzzy PID controller'''
- *         a_fpid_exit(&self.ctx)             # <<<<<<<<<<<<<<
- *         PyMem_Free(self.ptr)
- *     def zero(self):
- */
-  (void)(a_fpid_exit((&__pyx_v_self->ctx)));
-
-  /* "python/src/a/fpid.pxi":38
- *         '''terminate function for fuzzy PID controller'''
- *         a_fpid_exit(&self.ctx)
  *         PyMem_Free(self.ptr)             # <<<<<<<<<<<<<<
  *     def zero(self):
- *         '''zero function for fuzzy PID controller'''
+ *         '''zero clear function for fuzzy PID controller'''
  */
   PyMem_Free(__pyx_v_self->ptr);
 
-  /* "python/src/a/fpid.pxi":35
+  /* "python/src/a/pid/fuzzy.pxi":64
  *         '''calculate function for fuzzy PID controller'''
- *         return a_fpid_outf(&self.ctx, set, fdb)
+ *         return a_pid_fuzzy_outf(&self.ctx, set, fdb)
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         '''terminate function for fuzzy PID controller'''
- *         a_fpid_exit(&self.ctx)
+ *         PyMem_Free(self.ptr)
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "python/src/a/fpid.pxi":39
- *         a_fpid_exit(&self.ctx)
+/* "python/src/a/pid/fuzzy.pxi":67
+ *         '''terminate function for fuzzy PID controller'''
  *         PyMem_Free(self.ptr)
  *     def zero(self):             # <<<<<<<<<<<<<<
- *         '''zero function for fuzzy PID controller'''
- *         a_fpid_zero(&self.ctx)
+ *         '''zero clear function for fuzzy PID controller'''
+ *         a_pid_fuzzy_zero(&self.ctx)
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_7zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_4fpid_6zero[] = "zero function for fuzzy PID controller";
-static PyObject *__pyx_pw_4liba_4fpid_7zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_15zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static char __pyx_doc_4liba_9pid_fuzzy_14zero[] = "zero clear function for fuzzy PID controller";
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_15zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("zero (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_6zero(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_14zero(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_6zero(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_14zero(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("zero", 0);
 
-  /* "python/src/a/fpid.pxi":41
+  /* "python/src/a/pid/fuzzy.pxi":69
  *     def zero(self):
- *         '''zero function for fuzzy PID controller'''
- *         a_fpid_zero(&self.ctx)             # <<<<<<<<<<<<<<
+ *         '''zero clear function for fuzzy PID controller'''
+ *         a_pid_fuzzy_zero(&self.ctx)             # <<<<<<<<<<<<<<
  *         return self
- *     def base(self, me, mec, mkp, mki, mkd):
+ *     @property
  */
-  (void)(a_fpid_zero((&__pyx_v_self->ctx)));
+  a_pid_fuzzy_zero((&__pyx_v_self->ctx));
 
-  /* "python/src/a/fpid.pxi":42
- *         '''zero function for fuzzy PID controller'''
- *         a_fpid_zero(&self.ctx)
+  /* "python/src/a/pid/fuzzy.pxi":70
+ *         '''zero clear function for fuzzy PID controller'''
+ *         a_pid_fuzzy_zero(&self.ctx)
  *         return self             # <<<<<<<<<<<<<<
- *     def base(self, me, mec, mkp, mki, mkd):
- *         '''set rule base for fuzzy PID controller'''
+ *     @property
+ *     def kp(self) -> a_float_t:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":39
- *         a_fpid_exit(&self.ctx)
+  /* "python/src/a/pid/fuzzy.pxi":67
+ *         '''terminate function for fuzzy PID controller'''
  *         PyMem_Free(self.ptr)
  *     def zero(self):             # <<<<<<<<<<<<<<
- *         '''zero function for fuzzy PID controller'''
- *         a_fpid_zero(&self.ctx)
+ *         '''zero clear function for fuzzy PID controller'''
+ *         a_pid_fuzzy_zero(&self.ctx)
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":43
- *         a_fpid_zero(&self.ctx)
+/* "python/src/a/pid/fuzzy.pxi":72
  *         return self
- *     def base(self, me, mec, mkp, mki, mkd):             # <<<<<<<<<<<<<<
- *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))
+ *     @property
+ *     def kp(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.kp
+ *     @kp.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_9base(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_4liba_4fpid_8base[] = "set rule base for fuzzy PID controller";
-static PyObject *__pyx_pw_4liba_4fpid_9base(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v_me = 0;
-  PyObject *__pyx_v_mec = 0;
-  PyObject *__pyx_v_mkp = 0;
-  PyObject *__pyx_v_mki = 0;
-  PyObject *__pyx_v_mkd = 0;
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_2kp_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_2kp_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_2kp___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_2kp___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  PyObject *__pyx_r = 0;
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":73
+ *     @property
+ *     def kp(self) -> a_float_t:
+ *         return self.ctx.kp             # <<<<<<<<<<<<<<
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.kp); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 73, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":72
+ *         return self
+ *     @property
+ *     def kp(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.kp
+ *     @kp.setter
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.kp.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":75
+ *         return self.ctx.kp
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.kp = kp
+ *         self.ctx.kp = kp
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_9pid_fuzzy_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp); /*proto*/
+static int __pyx_pw_4liba_9pid_fuzzy_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp) {
+  a_float_t __pyx_v_kp;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("base (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_me,&__pyx_n_s_mec,&__pyx_n_s_mkp,&__pyx_n_s_mki,&__pyx_n_s_mkd,0};
-    PyObject* values[5] = {0,0,0,0,0};
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
-        case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
-        CYTHON_FALLTHROUGH;
-        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
-        CYTHON_FALLTHROUGH;
-        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-        CYTHON_FALLTHROUGH;
-        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        CYTHON_FALLTHROUGH;
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_me)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
-        CYTHON_FALLTHROUGH;
-        case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mec)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("base", 1, 5, 5, 1); __PYX_ERR(7, 43, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  2:
-        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mkp)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("base", 1, 5, 5, 2); __PYX_ERR(7, 43, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  3:
-        if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mki)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("base", 1, 5, 5, 3); __PYX_ERR(7, 43, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  4:
-        if (likely((values[4] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_mkd)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("base", 1, 5, 5, 4); __PYX_ERR(7, 43, __pyx_L3_error)
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "base") < 0)) __PYX_ERR(7, 43, __pyx_L3_error)
-      }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 5) {
-      goto __pyx_L5_argtuple_error;
-    } else {
-      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-      values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
-      values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
-    }
-    __pyx_v_me = values[0];
-    __pyx_v_mec = values[1];
-    __pyx_v_mkp = values[2];
-    __pyx_v_mki = values[3];
-    __pyx_v_mkd = values[4];
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_kp); {
+    __pyx_v_kp = __pyx_PyFloat_AsFloat(__pyx_arg_kp); if (unlikely((__pyx_v_kp == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 75, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("base", 1, 5, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(7, 43, __pyx_L3_error)
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.base", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.kp.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
-  return NULL;
+  return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_8base(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), __pyx_v_me, __pyx_v_mec, __pyx_v_mkp, __pyx_v_mki, __pyx_v_mkd);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_2kp_2__set__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((a_float_t)__pyx_v_kp));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_4base_2generator5(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":45
- *     def base(self, me, mec, mkp, mki, mkd):
- *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))             # <<<<<<<<<<<<<<
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
+static int __pyx_pf_4liba_9pid_fuzzy_2kp_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_kp) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":76
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):
+ *         self.ctx.pid.kp = kp             # <<<<<<<<<<<<<<
+ *         self.ctx.kp = kp
+ *     @property
+ */
+  __pyx_v_self->ctx.pid.kp = __pyx_v_kp;
+
+  /* "python/src/a/pid/fuzzy.pxi":77
+ *     def kp(self, kp: a_float_t):
+ *         self.ctx.pid.kp = kp
+ *         self.ctx.kp = kp             # <<<<<<<<<<<<<<
+ *     @property
+ *     def ki(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.kp = __pyx_v_kp;
+
+  /* "python/src/a/pid/fuzzy.pxi":75
+ *         return self.ctx.kp
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.kp = kp
+ *         self.ctx.kp = kp
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_4base_genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *__pyx_cur_scope;
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":79
+ *         self.ctx.kp = kp
+ *     @property
+ *     def ki(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.ki
+ *     @ki.setter
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_2ki_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_2ki_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_2ki___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_2ki___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_7_genexpr(__pyx_ptype_4liba___pyx_scope_struct_7_genexpr, __pyx_empty_tuple, NULL);
-  if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *)Py_None);
-    __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 45, __pyx_L1_error)
-  } else {
-    __Pyx_GOTREF(__pyx_cur_scope);
-  }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *) __pyx_self;
-  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
-  {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_4base_2generator5, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_base_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 45, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_cur_scope);
-    __Pyx_RefNannyFinishContext();
-    return (PyObject *) gen;
-  }
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":80
+ *     @property
+ *     def ki(self) -> a_float_t:
+ *         return self.ctx.ki             # <<<<<<<<<<<<<<
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.ki); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 80, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":79
+ *         self.ctx.kp = kp
+ *     @property
+ *     def ki(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.ki
+ *     @ki.setter
+ */
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.base.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.ki.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
-  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
+  __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_4base_2generator5(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
-{
-  struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *)__pyx_generator->closure);
-  PyObject *__pyx_r = NULL;
-  PyObject *__pyx_t_1 = NULL;
-  Py_ssize_t __pyx_t_2;
-  PyObject *(*__pyx_t_3)(PyObject *);
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
+/* "python/src/a/pid/fuzzy.pxi":82
+ *         return self.ctx.ki
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.ki = ki
+ *         self.ctx.ki = ki
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_9pid_fuzzy_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki); /*proto*/
+static int __pyx_pw_4liba_9pid_fuzzy_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki) {
+  a_float_t __pyx_v_ki;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
+  int __pyx_r;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  switch (__pyx_generator->resume_label) {
-    case 0: goto __pyx_L3_first_run;
-    case 1: goto __pyx_L8_resume_from_yield;
-    default: /* CPython raises the right error here */
-    __Pyx_RefNannyFinishContext();
-    return NULL;
-  }
-  __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 45, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me)) { __Pyx_RaiseClosureNameError("me"); __PYX_ERR(7, 45, __pyx_L1_error) }
-  if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me)) {
-    __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_me; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
-    __pyx_t_3 = NULL;
-  } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_me); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 45, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 45, __pyx_L1_error)
-  }
-  for (;;) {
-    if (likely(!__pyx_t_3)) {
-      if (likely(PyList_CheckExact(__pyx_t_1))) {
-        if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 45, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 45, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      } else {
-        if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 45, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 45, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      }
-    } else {
-      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
-      if (unlikely(!__pyx_t_4)) {
-        PyObject* exc_type = PyErr_Occurred();
-        if (exc_type) {
-          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 45, __pyx_L1_error)
-        }
-        break;
-      }
-      __Pyx_GOTREF(__pyx_t_4);
-    }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_4);
-    __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-      __pyx_t_6 = NULL;
-    } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 45, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 45, __pyx_L1_error)
-    }
-    for (;;) {
-      if (likely(!__pyx_t_6)) {
-        if (likely(PyList_CheckExact(__pyx_t_4))) {
-          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 45, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 45, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        } else {
-          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 45, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 45, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        }
-      } else {
-        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-        if (unlikely(!__pyx_t_7)) {
-          PyObject* exc_type = PyErr_Occurred();
-          if (exc_type) {
-            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 45, __pyx_L1_error)
-          }
-          break;
-        }
-        __Pyx_GOTREF(__pyx_t_7);
-      }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
-      __Pyx_GIVEREF(__pyx_t_7);
-      __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
-      __Pyx_XGIVEREF(__pyx_t_1);
-      __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
-      __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
-      __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
-      __Pyx_XGIVEREF(__pyx_t_4);
-      __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
-      __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
-      __pyx_cur_scope->__pyx_t_5 = __pyx_t_6;
-      __Pyx_XGIVEREF(__pyx_r);
-      __Pyx_RefNannyFinishContext();
-      __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-      /* return from generator, yielding value */
-      __pyx_generator->resume_label = 1;
-      return __pyx_r;
-      __pyx_L8_resume_from_yield:;
-      __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
-      __pyx_cur_scope->__pyx_t_0 = 0;
-      __Pyx_XGOTREF(__pyx_t_1);
-      __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
-      __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-      __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
-      __pyx_cur_scope->__pyx_t_3 = 0;
-      __Pyx_XGOTREF(__pyx_t_4);
-      __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
-      __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 45, __pyx_L1_error)
-    }
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_ki); {
+    __pyx_v_ki = __pyx_PyFloat_AsFloat(__pyx_arg_ki); if (unlikely((__pyx_v_ki == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 82, __pyx_L3_error)
   }
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_fuzzy.ki.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_2ki_2__set__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((a_float_t)__pyx_v_ki));
 
   /* function exit code */
-  PyErr_SetNone(PyExc_StopIteration);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_9pid_fuzzy_2ki_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_ki) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":83
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):
+ *         self.ctx.pid.ki = ki             # <<<<<<<<<<<<<<
+ *         self.ctx.ki = ki
+ *     @property
+ */
+  __pyx_v_self->ctx.pid.ki = __pyx_v_ki;
+
+  /* "python/src/a/pid/fuzzy.pxi":84
+ *     def ki(self, ki: a_float_t):
+ *         self.ctx.pid.ki = ki
+ *         self.ctx.ki = ki             # <<<<<<<<<<<<<<
+ *     @property
+ *     def kd(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.ki = __pyx_v_ki;
+
+  /* "python/src/a/pid/fuzzy.pxi":82
+ *         return self.ctx.ki
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.ki = ki
+ *         self.ctx.ki = ki
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":86
+ *         self.ctx.ki = ki
+ *     @property
+ *     def kd(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.kd
+ *     @kd.setter
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_2kd_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_2kd_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_2kd___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_2kd___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":87
+ *     @property
+ *     def kd(self) -> a_float_t:
+ *         return self.ctx.kd             # <<<<<<<<<<<<<<
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.kd); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 87, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
   goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":86
+ *         self.ctx.ki = ki
+ *     @property
+ *     def kd(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.kd
+ *     @kd.setter
+ */
+
+  /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.kd.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
-  #if !CYTHON_USE_EXC_INFO_STACK
-  __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-  #endif
-  __pyx_generator->resume_label = -1;
-  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
+  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_4base_5generator6(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":46
- *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))             # <<<<<<<<<<<<<<
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
+/* "python/src/a/pid/fuzzy.pxi":89
+ *         return self.ctx.kd
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.kd = kd
+ *         self.ctx.kd = kd
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_9pid_fuzzy_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd); /*proto*/
+static int __pyx_pw_4liba_9pid_fuzzy_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd) {
+  a_float_t __pyx_v_kd;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_kd); {
+    __pyx_v_kd = __pyx_PyFloat_AsFloat(__pyx_arg_kd); if (unlikely((__pyx_v_kd == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 89, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_fuzzy.kd.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_2kd_2__set__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((a_float_t)__pyx_v_kd));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_9pid_fuzzy_2kd_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_kd) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":90
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):
+ *         self.ctx.pid.kd = kd             # <<<<<<<<<<<<<<
+ *         self.ctx.kd = kd
+ *     @property
+ */
+  __pyx_v_self->ctx.pid.kd = __pyx_v_kd;
+
+  /* "python/src/a/pid/fuzzy.pxi":91
+ *     def kd(self, kd: a_float_t):
+ *         self.ctx.pid.kd = kd
+ *         self.ctx.kd = kd             # <<<<<<<<<<<<<<
+ *     @property
+ *     def summax(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.kd = __pyx_v_kd;
+
+  /* "python/src/a/pid/fuzzy.pxi":89
+ *         return self.ctx.kd
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.kd = kd
+ *         self.ctx.kd = kd
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":93
+ *         self.ctx.kd = kd
+ *     @property
+ *     def summax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.summax
+ *     @summax.setter
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_4base_3genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *__pyx_cur_scope;
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_6summax_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_6summax_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_6summax___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_6summax___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_8_genexpr(__pyx_ptype_4liba___pyx_scope_struct_8_genexpr, __pyx_empty_tuple, NULL);
-  if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *)Py_None);
-    __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 46, __pyx_L1_error)
-  } else {
-    __Pyx_GOTREF(__pyx_cur_scope);
-  }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *) __pyx_self;
-  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
-  {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_4base_5generator6, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_base_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 46, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_cur_scope);
-    __Pyx_RefNannyFinishContext();
-    return (PyObject *) gen;
-  }
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":94
+ *     @property
+ *     def summax(self) -> a_float_t:
+ *         return self.ctx.pid.summax             # <<<<<<<<<<<<<<
+ *     @summax.setter
+ *     def summax(self, summax: a_float_t):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.summax); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 94, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":93
+ *         self.ctx.kd = kd
+ *     @property
+ *     def summax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.summax
+ *     @summax.setter
+ */
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.base.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.summax.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
-  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
+  __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_4base_5generator6(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
-{
-  struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *)__pyx_generator->closure);
-  PyObject *__pyx_r = NULL;
-  PyObject *__pyx_t_1 = NULL;
-  Py_ssize_t __pyx_t_2;
-  PyObject *(*__pyx_t_3)(PyObject *);
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
+/* "python/src/a/pid/fuzzy.pxi":96
+ *         return self.ctx.pid.summax
+ *     @summax.setter
+ *     def summax(self, summax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = summax
+ *     @property
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_9pid_fuzzy_6summax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_summax); /*proto*/
+static int __pyx_pw_4liba_9pid_fuzzy_6summax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_summax) {
+  a_float_t __pyx_v_summax;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
+  int __pyx_r;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  switch (__pyx_generator->resume_label) {
-    case 0: goto __pyx_L3_first_run;
-    case 1: goto __pyx_L8_resume_from_yield;
-    default: /* CPython raises the right error here */
-    __Pyx_RefNannyFinishContext();
-    return NULL;
-  }
-  __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 46, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec)) { __Pyx_RaiseClosureNameError("mec"); __PYX_ERR(7, 46, __pyx_L1_error) }
-  if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec)) {
-    __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
-    __pyx_t_3 = NULL;
-  } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mec); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 46, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 46, __pyx_L1_error)
-  }
-  for (;;) {
-    if (likely(!__pyx_t_3)) {
-      if (likely(PyList_CheckExact(__pyx_t_1))) {
-        if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 46, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 46, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      } else {
-        if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 46, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 46, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      }
-    } else {
-      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
-      if (unlikely(!__pyx_t_4)) {
-        PyObject* exc_type = PyErr_Occurred();
-        if (exc_type) {
-          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 46, __pyx_L1_error)
-        }
-        break;
-      }
-      __Pyx_GOTREF(__pyx_t_4);
-    }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_4);
-    __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-      __pyx_t_6 = NULL;
-    } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 46, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 46, __pyx_L1_error)
-    }
-    for (;;) {
-      if (likely(!__pyx_t_6)) {
-        if (likely(PyList_CheckExact(__pyx_t_4))) {
-          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 46, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 46, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        } else {
-          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 46, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 46, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        }
-      } else {
-        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-        if (unlikely(!__pyx_t_7)) {
-          PyObject* exc_type = PyErr_Occurred();
-          if (exc_type) {
-            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 46, __pyx_L1_error)
-          }
-          break;
-        }
-        __Pyx_GOTREF(__pyx_t_7);
-      }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
-      __Pyx_GIVEREF(__pyx_t_7);
-      __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
-      __Pyx_XGIVEREF(__pyx_t_1);
-      __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
-      __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
-      __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
-      __Pyx_XGIVEREF(__pyx_t_4);
-      __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
-      __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
-      __pyx_cur_scope->__pyx_t_5 = __pyx_t_6;
-      __Pyx_XGIVEREF(__pyx_r);
-      __Pyx_RefNannyFinishContext();
-      __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-      /* return from generator, yielding value */
-      __pyx_generator->resume_label = 1;
-      return __pyx_r;
-      __pyx_L8_resume_from_yield:;
-      __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
-      __pyx_cur_scope->__pyx_t_0 = 0;
-      __Pyx_XGOTREF(__pyx_t_1);
-      __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
-      __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-      __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
-      __pyx_cur_scope->__pyx_t_3 = 0;
-      __Pyx_XGOTREF(__pyx_t_4);
-      __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
-      __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 46, __pyx_L1_error)
-    }
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_summax); {
+    __pyx_v_summax = __pyx_PyFloat_AsFloat(__pyx_arg_summax); if (unlikely((__pyx_v_summax == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 96, __pyx_L3_error)
   }
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_fuzzy.summax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_6summax_2__set__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((a_float_t)__pyx_v_summax));
 
   /* function exit code */
-  PyErr_SetNone(PyExc_StopIteration);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_9pid_fuzzy_6summax_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_summax) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":97
+ *     @summax.setter
+ *     def summax(self, summax: a_float_t):
+ *         self.ctx.pid.summax = summax             # <<<<<<<<<<<<<<
+ *     @property
+ *     def outmax(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.pid.summax = __pyx_v_summax;
+
+  /* "python/src/a/pid/fuzzy.pxi":96
+ *         return self.ctx.pid.summax
+ *     @summax.setter
+ *     def summax(self, summax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = summax
+ *     @property
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":99
+ *         self.ctx.pid.summax = summax
+ *     @property
+ *     def outmax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.outmax
+ *     @outmax.setter
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_6outmax_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_6outmax_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_6outmax___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_6outmax___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":100
+ *     @property
+ *     def outmax(self) -> a_float_t:
+ *         return self.ctx.pid.outmax             # <<<<<<<<<<<<<<
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.outmax); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 100, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
   goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":99
+ *         self.ctx.pid.summax = summax
+ *     @property
+ *     def outmax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.outmax
+ *     @outmax.setter
+ */
+
+  /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.outmax.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
-  #if !CYTHON_USE_EXC_INFO_STACK
-  __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-  #endif
-  __pyx_generator->resume_label = -1;
-  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":102
+ *         return self.ctx.pid.outmax
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmax = outmax
+ *     @property
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_9pid_fuzzy_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax); /*proto*/
+static int __pyx_pw_4liba_9pid_fuzzy_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax) {
+  a_float_t __pyx_v_outmax;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_outmax); {
+    __pyx_v_outmax = __pyx_PyFloat_AsFloat(__pyx_arg_outmax); if (unlikely((__pyx_v_outmax == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 102, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_fuzzy.outmax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_6outmax_2__set__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((a_float_t)__pyx_v_outmax));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_9pid_fuzzy_6outmax_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_outmax) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":103
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):
+ *         self.ctx.pid.outmax = outmax             # <<<<<<<<<<<<<<
+ *     @property
+ *     def outmin(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.pid.outmax = __pyx_v_outmax;
+
+  /* "python/src/a/pid/fuzzy.pxi":102
+ *         return self.ctx.pid.outmax
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmax = outmax
+ *     @property
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_4base_8generator7(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":47
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))             # <<<<<<<<<<<<<<
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))
+/* "python/src/a/pid/fuzzy.pxi":105
+ *         self.ctx.pid.outmax = outmax
+ *     @property
+ *     def outmin(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.outmin
+ *     @outmin.setter
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_4base_6genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *__pyx_cur_scope;
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_6outmin_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_6outmin_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_6outmin___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_6outmin___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_9_genexpr(__pyx_ptype_4liba___pyx_scope_struct_9_genexpr, __pyx_empty_tuple, NULL);
-  if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *)Py_None);
-    __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 47, __pyx_L1_error)
-  } else {
-    __Pyx_GOTREF(__pyx_cur_scope);
-  }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *) __pyx_self;
-  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
-  {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_4base_8generator7, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_base_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 47, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_cur_scope);
-    __Pyx_RefNannyFinishContext();
-    return (PyObject *) gen;
-  }
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":106
+ *     @property
+ *     def outmin(self) -> a_float_t:
+ *         return self.ctx.pid.outmin             # <<<<<<<<<<<<<<
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.outmin); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 106, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":105
+ *         self.ctx.pid.outmax = outmax
+ *     @property
+ *     def outmin(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.outmin
+ *     @outmin.setter
+ */
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.base.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.outmin.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
-  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
+  __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_4base_8generator7(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
-{
-  struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *)__pyx_generator->closure);
-  PyObject *__pyx_r = NULL;
-  PyObject *__pyx_t_1 = NULL;
-  Py_ssize_t __pyx_t_2;
-  PyObject *(*__pyx_t_3)(PyObject *);
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
+/* "python/src/a/pid/fuzzy.pxi":108
+ *         return self.ctx.pid.outmin
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmin = outmin
+ *     @property
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_9pid_fuzzy_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin); /*proto*/
+static int __pyx_pw_4liba_9pid_fuzzy_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin) {
+  a_float_t __pyx_v_outmin;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
+  int __pyx_r;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  switch (__pyx_generator->resume_label) {
-    case 0: goto __pyx_L3_first_run;
-    case 1: goto __pyx_L8_resume_from_yield;
-    default: /* CPython raises the right error here */
-    __Pyx_RefNannyFinishContext();
-    return NULL;
-  }
-  __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 47, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp)) { __Pyx_RaiseClosureNameError("mkp"); __PYX_ERR(7, 47, __pyx_L1_error) }
-  if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp)) {
-    __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
-    __pyx_t_3 = NULL;
-  } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkp); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 47, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 47, __pyx_L1_error)
-  }
-  for (;;) {
-    if (likely(!__pyx_t_3)) {
-      if (likely(PyList_CheckExact(__pyx_t_1))) {
-        if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 47, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 47, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      } else {
-        if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 47, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 47, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      }
-    } else {
-      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
-      if (unlikely(!__pyx_t_4)) {
-        PyObject* exc_type = PyErr_Occurred();
-        if (exc_type) {
-          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 47, __pyx_L1_error)
-        }
-        break;
-      }
-      __Pyx_GOTREF(__pyx_t_4);
-    }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_4);
-    __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-      __pyx_t_6 = NULL;
-    } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 47, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 47, __pyx_L1_error)
-    }
-    for (;;) {
-      if (likely(!__pyx_t_6)) {
-        if (likely(PyList_CheckExact(__pyx_t_4))) {
-          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 47, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 47, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        } else {
-          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 47, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 47, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        }
-      } else {
-        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-        if (unlikely(!__pyx_t_7)) {
-          PyObject* exc_type = PyErr_Occurred();
-          if (exc_type) {
-            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 47, __pyx_L1_error)
-          }
-          break;
-        }
-        __Pyx_GOTREF(__pyx_t_7);
-      }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
-      __Pyx_GIVEREF(__pyx_t_7);
-      __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
-      __Pyx_XGIVEREF(__pyx_t_1);
-      __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
-      __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
-      __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
-      __Pyx_XGIVEREF(__pyx_t_4);
-      __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
-      __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
-      __pyx_cur_scope->__pyx_t_5 = __pyx_t_6;
-      __Pyx_XGIVEREF(__pyx_r);
-      __Pyx_RefNannyFinishContext();
-      __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-      /* return from generator, yielding value */
-      __pyx_generator->resume_label = 1;
-      return __pyx_r;
-      __pyx_L8_resume_from_yield:;
-      __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
-      __pyx_cur_scope->__pyx_t_0 = 0;
-      __Pyx_XGOTREF(__pyx_t_1);
-      __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
-      __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-      __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
-      __pyx_cur_scope->__pyx_t_3 = 0;
-      __Pyx_XGOTREF(__pyx_t_4);
-      __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
-      __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 47, __pyx_L1_error)
-    }
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_outmin); {
+    __pyx_v_outmin = __pyx_PyFloat_AsFloat(__pyx_arg_outmin); if (unlikely((__pyx_v_outmin == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(6, 108, __pyx_L3_error)
   }
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_fuzzy.outmin.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_6outmin_2__set__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((a_float_t)__pyx_v_outmin));
 
   /* function exit code */
-  PyErr_SetNone(PyExc_StopIteration);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_9pid_fuzzy_6outmin_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, a_float_t __pyx_v_outmin) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":109
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):
+ *         self.ctx.pid.outmin = outmin             # <<<<<<<<<<<<<<
+ *     @property
+ *     def out(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.pid.outmin = __pyx_v_outmin;
+
+  /* "python/src/a/pid/fuzzy.pxi":108
+ *         return self.ctx.pid.outmin
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmin = outmin
+ *     @property
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":111
+ *         self.ctx.pid.outmin = outmin
+ *     @property
+ *     def out(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.out.f
+ *     @property
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3out_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3out_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_3out___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3out___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":112
+ *     @property
+ *     def out(self) -> a_float_t:
+ *         return self.ctx.pid.out.f             # <<<<<<<<<<<<<<
+ *     @property
+ *     def fdb(self) -> a_float_t:
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.out.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 112, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
   goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":111
+ *         self.ctx.pid.outmin = outmin
+ *     @property
+ *     def out(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.out.f
+ *     @property
+ */
+
+  /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.out.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
-  #if !CYTHON_USE_EXC_INFO_STACK
-  __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-  #endif
-  __pyx_generator->resume_label = -1;
-  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
+  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_4base_11generator8(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":48
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))             # <<<<<<<<<<<<<<
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
+/* "python/src/a/pid/fuzzy.pxi":114
+ *         return self.ctx.pid.out.f
+ *     @property
+ *     def fdb(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.fdb.f
+ *     @property
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_4base_9genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *__pyx_cur_scope;
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3fdb_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3fdb_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_3fdb___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3fdb___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_10_genexpr(__pyx_ptype_4liba___pyx_scope_struct_10_genexpr, __pyx_empty_tuple, NULL);
-  if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *)Py_None);
-    __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 48, __pyx_L1_error)
-  } else {
-    __Pyx_GOTREF(__pyx_cur_scope);
-  }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *) __pyx_self;
-  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
-  {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_4base_11generator8, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_base_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 48, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_cur_scope);
-    __Pyx_RefNannyFinishContext();
-    return (PyObject *) gen;
-  }
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":115
+ *     @property
+ *     def fdb(self) -> a_float_t:
+ *         return self.ctx.pid.fdb.f             # <<<<<<<<<<<<<<
+ *     @property
+ *     def err(self) -> a_float_t:
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.fdb.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 115, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":114
+ *         return self.ctx.pid.out.f
+ *     @property
+ *     def fdb(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.fdb.f
+ *     @property
+ */
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.base.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.fdb.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
-  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
+  __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_4base_11generator8(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
-{
-  struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *)__pyx_generator->closure);
+/* "python/src/a/pid/fuzzy.pxi":117
+ *         return self.ctx.pid.fdb.f
+ *     @property
+ *     def err(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.err.f
+ *     @property
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3err_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3err_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_3err___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3err___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
-  Py_ssize_t __pyx_t_2;
-  PyObject *(*__pyx_t_3)(PyObject *);
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  switch (__pyx_generator->resume_label) {
-    case 0: goto __pyx_L3_first_run;
-    case 1: goto __pyx_L8_resume_from_yield;
-    default: /* CPython raises the right error here */
-    __Pyx_RefNannyFinishContext();
-    return NULL;
-  }
-  __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 48, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki)) { __Pyx_RaiseClosureNameError("mki"); __PYX_ERR(7, 48, __pyx_L1_error) }
-  if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki)) {
-    __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
-    __pyx_t_3 = NULL;
-  } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mki); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 48, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 48, __pyx_L1_error)
-  }
-  for (;;) {
-    if (likely(!__pyx_t_3)) {
-      if (likely(PyList_CheckExact(__pyx_t_1))) {
-        if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 48, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 48, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      } else {
-        if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 48, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 48, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      }
-    } else {
-      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
-      if (unlikely(!__pyx_t_4)) {
-        PyObject* exc_type = PyErr_Occurred();
-        if (exc_type) {
-          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 48, __pyx_L1_error)
-        }
-        break;
-      }
-      __Pyx_GOTREF(__pyx_t_4);
-    }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_4);
-    __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-      __pyx_t_6 = NULL;
-    } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 48, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 48, __pyx_L1_error)
-    }
-    for (;;) {
-      if (likely(!__pyx_t_6)) {
-        if (likely(PyList_CheckExact(__pyx_t_4))) {
-          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 48, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 48, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        } else {
-          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 48, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 48, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        }
-      } else {
-        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-        if (unlikely(!__pyx_t_7)) {
-          PyObject* exc_type = PyErr_Occurred();
-          if (exc_type) {
-            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 48, __pyx_L1_error)
-          }
-          break;
-        }
-        __Pyx_GOTREF(__pyx_t_7);
-      }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
-      __Pyx_GIVEREF(__pyx_t_7);
-      __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
-      __Pyx_XGIVEREF(__pyx_t_1);
-      __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
-      __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
-      __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
-      __Pyx_XGIVEREF(__pyx_t_4);
-      __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
-      __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
-      __pyx_cur_scope->__pyx_t_5 = __pyx_t_6;
-      __Pyx_XGIVEREF(__pyx_r);
-      __Pyx_RefNannyFinishContext();
-      __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-      /* return from generator, yielding value */
-      __pyx_generator->resume_label = 1;
-      return __pyx_r;
-      __pyx_L8_resume_from_yield:;
-      __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
-      __pyx_cur_scope->__pyx_t_0 = 0;
-      __Pyx_XGOTREF(__pyx_t_1);
-      __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
-      __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-      __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
-      __pyx_cur_scope->__pyx_t_3 = 0;
-      __Pyx_XGOTREF(__pyx_t_4);
-      __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
-      __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 48, __pyx_L1_error)
-    }
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  }
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
+  __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* function exit code */
-  PyErr_SetNone(PyExc_StopIteration);
+  /* "python/src/a/pid/fuzzy.pxi":118
+ *     @property
+ *     def err(self) -> a_float_t:
+ *         return self.ctx.pid.err.f             # <<<<<<<<<<<<<<
+ *     @property
+ *     def mode(self) -> int:
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.err.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 118, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
   goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":117
+ *         return self.ctx.pid.fdb.f
+ *     @property
+ *     def err(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.err.f
+ *     @property
+ */
+
+  /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.err.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
-  #if !CYTHON_USE_EXC_INFO_STACK
-  __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-  #endif
-  __pyx_generator->resume_label = -1;
-  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
+  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
-static PyObject *__pyx_gb_4liba_4fpid_4base_14generator9(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "python/src/a/fpid.pxi":49
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))             # <<<<<<<<<<<<<<
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
+/* "python/src/a/pid/fuzzy.pxi":120
+ *         return self.ctx.pid.err.f
+ *     @property
+ *     def mode(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.mode
+ *     @mode.setter
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_4base_12genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *__pyx_cur_scope;
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_4mode_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_4mode_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_4mode___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_4mode___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *)__pyx_tp_new_4liba___pyx_scope_struct_11_genexpr(__pyx_ptype_4liba___pyx_scope_struct_11_genexpr, __pyx_empty_tuple, NULL);
-  if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *)Py_None);
-    __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 49, __pyx_L1_error)
-  } else {
-    __Pyx_GOTREF(__pyx_cur_scope);
-  }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *) __pyx_self;
-  __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
-  {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_4liba_4fpid_4base_14generator9, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_base_locals_genexpr, __pyx_n_s_liba); if (unlikely(!gen)) __PYX_ERR(7, 49, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_cur_scope);
-    __Pyx_RefNannyFinishContext();
-    return (PyObject *) gen;
-  }
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":121
+ *     @property
+ *     def mode(self) -> int:
+ *         return self.ctx.pid.mode             # <<<<<<<<<<<<<<
+ *     @mode.setter
+ *     def mode(self, mode: int):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->ctx.pid.mode); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 121, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":120
+ *         return self.ctx.pid.err.f
+ *     @property
+ *     def mode(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.mode
+ *     @mode.setter
+ */
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_AddTraceback("liba.fpid.base.genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.mode.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
-  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
+  __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_gb_4liba_4fpid_4base_14generator9(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
-{
-  struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *__pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *)__pyx_generator->closure);
-  PyObject *__pyx_r = NULL;
-  PyObject *__pyx_t_1 = NULL;
-  Py_ssize_t __pyx_t_2;
-  PyObject *(*__pyx_t_3)(PyObject *);
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
+/* "python/src/a/pid/fuzzy.pxi":123
+ *         return self.ctx.pid.mode
+ *     @mode.setter
+ *     def mode(self, mode: int):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.mode = mode
+ *     @property
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_9pid_fuzzy_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_mode); /*proto*/
+static int __pyx_pw_4liba_9pid_fuzzy_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_mode) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_4mode_2__set__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((PyObject *)__pyx_v_mode));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_9pid_fuzzy_4mode_2__set__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, PyObject *__pyx_v_mode) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  unsigned int __pyx_t_1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("genexpr", 0);
-  switch (__pyx_generator->resume_label) {
-    case 0: goto __pyx_L3_first_run;
-    case 1: goto __pyx_L8_resume_from_yield;
-    default: /* CPython raises the right error here */
-    __Pyx_RefNannyFinishContext();
-    return NULL;
-  }
-  __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 49, __pyx_L1_error)
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd)) { __Pyx_RaiseClosureNameError("mkd"); __PYX_ERR(7, 49, __pyx_L1_error) }
-  if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd)) {
-    __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
-    __pyx_t_3 = NULL;
-  } else {
-    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_mkd); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 49, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_3)) __PYX_ERR(7, 49, __pyx_L1_error)
-  }
-  for (;;) {
-    if (likely(!__pyx_t_3)) {
-      if (likely(PyList_CheckExact(__pyx_t_1))) {
-        if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 49, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 49, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      } else {
-        if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
-        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(7, 49, __pyx_L1_error)
-        #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 49, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_4);
-        #endif
-      }
-    } else {
-      __pyx_t_4 = __pyx_t_3(__pyx_t_1);
-      if (unlikely(!__pyx_t_4)) {
-        PyObject* exc_type = PyErr_Occurred();
-        if (exc_type) {
-          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(7, 49, __pyx_L1_error)
-        }
-        break;
-      }
-      __Pyx_GOTREF(__pyx_t_4);
-    }
-    __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_j);
-    __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_j, __pyx_t_4);
-    __Pyx_GIVEREF(__pyx_t_4);
-    __pyx_t_4 = 0;
-    if (likely(PyList_CheckExact(__pyx_cur_scope->__pyx_v_j)) || PyTuple_CheckExact(__pyx_cur_scope->__pyx_v_j)) {
-      __pyx_t_4 = __pyx_cur_scope->__pyx_v_j; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-      __pyx_t_6 = NULL;
-    } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_cur_scope->__pyx_v_j); if (unlikely(!__pyx_t_4)) __PYX_ERR(7, 49, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(7, 49, __pyx_L1_error)
-    }
-    for (;;) {
-      if (likely(!__pyx_t_6)) {
-        if (likely(PyList_CheckExact(__pyx_t_4))) {
-          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 49, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 49, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        } else {
-          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(7, 49, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(7, 49, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        }
-      } else {
-        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-        if (unlikely(!__pyx_t_7)) {
-          PyObject* exc_type = PyErr_Occurred();
-          if (exc_type) {
-            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(7, 49, __pyx_L1_error)
-          }
-          break;
-        }
-        __Pyx_GOTREF(__pyx_t_7);
-      }
-      __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_i);
-      __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_i, __pyx_t_7);
-      __Pyx_GIVEREF(__pyx_t_7);
-      __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_cur_scope->__pyx_v_i);
-      __pyx_r = __pyx_cur_scope->__pyx_v_i;
-      __Pyx_XGIVEREF(__pyx_t_1);
-      __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
-      __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
-      __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
-      __Pyx_XGIVEREF(__pyx_t_4);
-      __pyx_cur_scope->__pyx_t_3 = __pyx_t_4;
-      __pyx_cur_scope->__pyx_t_4 = __pyx_t_5;
-      __pyx_cur_scope->__pyx_t_5 = __pyx_t_6;
-      __Pyx_XGIVEREF(__pyx_r);
-      __Pyx_RefNannyFinishContext();
-      __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-      /* return from generator, yielding value */
-      __pyx_generator->resume_label = 1;
-      return __pyx_r;
-      __pyx_L8_resume_from_yield:;
-      __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
-      __pyx_cur_scope->__pyx_t_0 = 0;
-      __Pyx_XGOTREF(__pyx_t_1);
-      __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
-      __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-      __pyx_t_4 = __pyx_cur_scope->__pyx_t_3;
-      __pyx_cur_scope->__pyx_t_3 = 0;
-      __Pyx_XGOTREF(__pyx_t_4);
-      __pyx_t_5 = __pyx_cur_scope->__pyx_t_4;
-      __pyx_t_6 = __pyx_cur_scope->__pyx_t_5;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(7, 49, __pyx_L1_error)
-    }
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  }
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":124
+ *     @mode.setter
+ *     def mode(self, mode: int):
+ *         self.ctx.pid.mode = mode             # <<<<<<<<<<<<<<
+ *     @property
+ *     def col(self) -> int:
+ */
+  __pyx_t_1 = __Pyx_PyInt_As_unsigned_int(__pyx_v_mode); if (unlikely((__pyx_t_1 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(6, 124, __pyx_L1_error)
+  __pyx_v_self->ctx.pid.mode = __pyx_t_1;
+
+  /* "python/src/a/pid/fuzzy.pxi":123
+ *         return self.ctx.pid.mode
+ *     @mode.setter
+ *     def mode(self, mode: int):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.mode = mode
+ *     @property
+ */
 
   /* function exit code */
-  PyErr_SetNone(PyExc_StopIteration);
+  __pyx_r = 0;
   goto __pyx_L0;
   __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("genexpr", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.mode.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
   __pyx_L0:;
-  __Pyx_XDECREF(__pyx_r); __pyx_r = 0;
-  #if !CYTHON_USE_EXC_INFO_STACK
-  __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
-  #endif
-  __pyx_generator->resume_label = -1;
-  __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":43
- *         a_fpid_zero(&self.ctx)
- *         return self
- *     def base(self, me, mec, mkp, mki, mkd):             # <<<<<<<<<<<<<<
- *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))
+/* "python/src/a/pid/fuzzy.pxi":126
+ *         self.ctx.pid.mode = mode
+ *     @property
+ *     def col(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.col
+ *     @property
  */
 
-static PyObject *__pyx_pf_4liba_4fpid_8base(struct __pyx_obj_4liba_fpid *__pyx_v_self, PyObject *__pyx_v_me, PyObject *__pyx_v_mec, PyObject *__pyx_v_mkp, PyObject *__pyx_v_mki, PyObject *__pyx_v_mkd) {
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *__pyx_cur_scope;
-  a_real_t *__pyx_v_e;
-  a_real_t *__pyx_v_ec;
-  a_real_t *__pyx_v_kp;
-  a_real_t *__pyx_v_ki;
-  a_real_t *__pyx_v_kd;
-  PyObject *__pyx_gb_4liba_4fpid_4base_2generator5 = 0;
-  PyObject *__pyx_gb_4liba_4fpid_4base_5generator6 = 0;
-  PyObject *__pyx_gb_4liba_4fpid_4base_8generator7 = 0;
-  PyObject *__pyx_gb_4liba_4fpid_4base_11generator8 = 0;
-  PyObject *__pyx_gb_4liba_4fpid_4base_14generator9 = 0;
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3col_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3col_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_3col___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3col___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
-  Py_ssize_t __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("base", 0);
-  __pyx_cur_scope = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *)__pyx_tp_new_4liba___pyx_scope_struct_6_base(__pyx_ptype_4liba___pyx_scope_struct_6_base, __pyx_empty_tuple, NULL);
-  if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_4liba___pyx_scope_struct_6_base *)Py_None);
-    __Pyx_INCREF(Py_None);
-    __PYX_ERR(7, 43, __pyx_L1_error)
-  } else {
-    __Pyx_GOTREF(__pyx_cur_scope);
-  }
-  __pyx_cur_scope->__pyx_v_me = __pyx_v_me;
-  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_me);
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_me);
-  __pyx_cur_scope->__pyx_v_mec = __pyx_v_mec;
-  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_mec);
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_mec);
-  __pyx_cur_scope->__pyx_v_mkp = __pyx_v_mkp;
-  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_mkp);
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_mkp);
-  __pyx_cur_scope->__pyx_v_mki = __pyx_v_mki;
-  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_mki);
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_mki);
-  __pyx_cur_scope->__pyx_v_mkd = __pyx_v_mkd;
-  __Pyx_INCREF(__pyx_cur_scope->__pyx_v_mkd);
-  __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_mkd);
+  __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":45
- *     def base(self, me, mec, mkp, mki, mkd):
- *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))             # <<<<<<<<<<<<<<
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
+  /* "python/src/a/pid/fuzzy.pxi":127
+ *     @property
+ *     def col(self) -> int:
+ *         return self.ctx.col             # <<<<<<<<<<<<<<
+ *     @property
+ *     def buf(self) -> int:
  */
-  __pyx_t_1 = __pyx_pf_4liba_4fpid_4base_genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 45, __pyx_L1_error)
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->ctx.col); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 127, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_t_1;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 45, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __Pyx_GIVEREF(__pyx_t_2);
-  __Pyx_GOTREF(__pyx_v_self->me);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->me));
-  __pyx_v_self->me = ((arrayobject *)__pyx_t_2);
-  __pyx_t_2 = 0;
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":46
- *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))             # <<<<<<<<<<<<<<
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
+  /* "python/src/a/pid/fuzzy.pxi":126
+ *         self.ctx.pid.mode = mode
+ *     @property
+ *     def col(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.col
+ *     @property
  */
-  __pyx_t_2 = __pyx_pf_4liba_4fpid_4base_3genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 46, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_t_2;
-  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 46, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_GIVEREF(__pyx_t_1);
-  __Pyx_GOTREF(__pyx_v_self->mec);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->mec));
-  __pyx_v_self->mec = ((arrayobject *)__pyx_t_1);
-  __pyx_t_1 = 0;
 
-  /* "python/src/a/fpid.pxi":47
- *         self.me = reals((i for j in me for i in j))
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))             # <<<<<<<<<<<<<<
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.col.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/fuzzy.pxi":129
+ *         return self.ctx.col
+ *     @property
+ *     def buf(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.buf
  */
-  __pyx_t_1 = __pyx_pf_4liba_4fpid_4base_6genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 47, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_t_1;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 47, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __Pyx_GIVEREF(__pyx_t_2);
-  __Pyx_GOTREF(__pyx_v_self->mkp);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->mkp));
-  __pyx_v_self->mkp = ((arrayobject *)__pyx_t_2);
-  __pyx_t_2 = 0;
 
-  /* "python/src/a/fpid.pxi":48
- *         self.mec = reals((i for j in mec for i in j))
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))             # <<<<<<<<<<<<<<
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3buf_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_3buf_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_3buf___get__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_3buf___get__(struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/pid/fuzzy.pxi":130
+ *     @property
+ *     def buf(self) -> int:
+ *         return self.ctx.buf             # <<<<<<<<<<<<<<
  */
-  __pyx_t_2 = __pyx_pf_4liba_4fpid_4base_9genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 48, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_t_2;
-  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 48, __pyx_L1_error)
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->ctx.buf); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 130, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_GIVEREF(__pyx_t_1);
-  __Pyx_GOTREF(__pyx_v_self->mki);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->mki));
-  __pyx_v_self->mki = ((arrayobject *)__pyx_t_1);
+  __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/pid/fuzzy.pxi":129
+ *         return self.ctx.col
+ *     @property
+ *     def buf(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.buf
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.buf.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_17__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_17__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_16__reduce_cython__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_16__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
 
-  /* "python/src/a/fpid.pxi":49
- *         self.mkp = reals((i for j in mkp for i in j))
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))             # <<<<<<<<<<<<<<
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = __pyx_pf_4liba_4fpid_4base_12genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 49, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__23, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3.__pyx_n = 1;
-  __pyx_t_3.o = __pyx_t_1;
-  __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(7, 49, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __Pyx_GIVEREF(__pyx_t_2);
-  __Pyx_GOTREF(__pyx_v_self->mkd);
-  __Pyx_DECREF(((PyObject *)__pyx_v_self->mkd));
-  __pyx_v_self->mkd = ((arrayobject *)__pyx_t_2);
-  __pyx_t_2 = 0;
+  __PYX_ERR(1, 2, __pyx_L1_error)
 
-  /* "python/src/a/fpid.pxi":50
- *         self.mki = reals((i for j in mki for i in j))
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr             # <<<<<<<<<<<<<<
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr
- */
-  __pyx_v_e = ((a_real_t *)__pyx_v_self->me->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":51
- *         self.mkd = reals((i for j in mkd for i in j))
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr             # <<<<<<<<<<<<<<
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr
- */
-  __pyx_v_ec = ((a_real_t *)__pyx_v_self->mec->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":52
- *         cdef a_real_t *e = <a_real_t *>self.me.data.as_voidptr
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr             # <<<<<<<<<<<<<<
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- */
-  __pyx_v_kp = ((a_real_t *)__pyx_v_self->mkp->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":53
- *         cdef a_real_t *ec = <a_real_t *>self.mec.data.as_voidptr
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr             # <<<<<<<<<<<<<<
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- *         a_fpid_base(&self.ctx, <a_uint_t>len(mkp), e, ec, kp, ki, kd)
- */
-  __pyx_v_ki = ((a_real_t *)__pyx_v_self->mki->data.as_voidptr);
-
-  /* "python/src/a/fpid.pxi":54
- *         cdef a_real_t *kp = <a_real_t *>self.mkp.data.as_voidptr
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr             # <<<<<<<<<<<<<<
- *         a_fpid_base(&self.ctx, <a_uint_t>len(mkp), e, ec, kp, ki, kd)
- *         return self
+  /* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_v_kd = ((a_real_t *)__pyx_v_self->mkd->data.as_voidptr);
 
-  /* "python/src/a/fpid.pxi":55
- *         cdef a_real_t *ki = <a_real_t *>self.mki.data.as_voidptr
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- *         a_fpid_base(&self.ctx, <a_uint_t>len(mkp), e, ec, kp, ki, kd)             # <<<<<<<<<<<<<<
- *         return self
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_fuzzy.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_2 = __pyx_cur_scope->__pyx_v_mkp;
-  __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_4 = PyObject_Length(__pyx_t_2); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(7, 55, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  (void)(a_fpid_base((&__pyx_v_self->ctx), ((a_uint_t)__pyx_t_4), __pyx_v_e, __pyx_v_ec, __pyx_v_kp, __pyx_v_ki, __pyx_v_kd));
 
-  /* "python/src/a/fpid.pxi":56
- *         cdef a_real_t *kd = <a_real_t *>self.mkd.data.as_voidptr
- *         a_fpid_base(&self.ctx, <a_uint_t>len(mkp), e, ec, kp, ki, kd)
- *         return self             # <<<<<<<<<<<<<<
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):
- *         '''set proportional integral derivative constant for fuzzy PID controller'''
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_19__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_9pid_fuzzy_19__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_9pid_fuzzy_18__setstate_cython__(((struct __pyx_obj_4liba_pid_fuzzy *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_9pid_fuzzy_18__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid_fuzzy *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __pyx_r = ((PyObject *)__pyx_v_self);
-  goto __pyx_L0;
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__24, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 4, __pyx_L1_error)
 
-  /* "python/src/a/fpid.pxi":43
- *         a_fpid_zero(&self.ctx)
- *         return self
- *     def base(self, me, mec, mkp, mki, mkd):             # <<<<<<<<<<<<<<
- *         '''set rule base for fuzzy PID controller'''
- *         self.me = reals((i for j in me for i in j))
+  /* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_AddTraceback("liba.fpid.base", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_fuzzy.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_4base_2generator5);
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_4base_5generator6);
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_4base_8generator7);
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_4base_11generator8);
-  __Pyx_XDECREF(__pyx_gb_4liba_4fpid_4base_14generator9);
-  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":57
- *         a_fpid_base(&self.ctx, <a_uint_t>len(mkp), e, ec, kp, ki, kd)
- *         return self
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):             # <<<<<<<<<<<<<<
- *         '''set proportional integral derivative constant for fuzzy PID controller'''
- *         a_fpid_kpid(&self.ctx, kp, ki, kd)
+/* "python/src/a/pid/neuron.pxi":9
+ *     '''single neuron proportional integral derivative controller'''
+ *     cdef a_pid_neuron_s ctx
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_10pid_neuron_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_min;
+  a_float_t __pyx_v_max;
+  a_float_t __pyx_v_sum;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_min,&__pyx_n_s_max,&__pyx_n_s_sum,0};
+    PyObject* values[3] = {0,0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+        CYTHON_FALLTHROUGH;
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_min);
+          if (value) { values[0] = value; kw_args--; }
+        }
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_max);
+          if (value) { values[1] = value; kw_args--; }
+        }
+        CYTHON_FALLTHROUGH;
+        case  2:
+        if (kw_args > 0) {
+          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_sum);
+          if (value) { values[2] = value; kw_args--; }
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(7, 9, __pyx_L3_error)
+      }
+    } else {
+      switch (PyTuple_GET_SIZE(__pyx_args)) {
+        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+        CYTHON_FALLTHROUGH;
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+    }
+    if (values[0]) {
+      __pyx_v_min = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_min == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 9, __pyx_L3_error)
+    } else {
+      __pyx_v_min = __pyx_k__25;
+    }
+    if (values[1]) {
+      __pyx_v_max = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_max == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 9, __pyx_L3_error)
+    } else {
+      __pyx_v_max = __pyx_k__26;
+    }
+    if (values[2]) {
+      __pyx_v_sum = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_sum == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 9, __pyx_L3_error)
+    } else {
+      __pyx_v_sum = ((a_float_t)0.0);
+    }
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 0, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(7, 9, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_neuron.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_10pid_neuron___cinit__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), __pyx_v_min, __pyx_v_max, __pyx_v_sum);
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_10pid_neuron___cinit__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_min, a_float_t __pyx_v_max, a_float_t __pyx_v_sum) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  __Pyx_RefNannySetupContext("__cinit__", 0);
+
+  /* "python/src/a/pid/neuron.pxi":10
+ *     cdef a_pid_neuron_s ctx
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):
+ *         self.ctx.pid.summax = sum             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmax = max
+ *         self.ctx.pid.outmin = min
+ */
+  __pyx_v_self->ctx.pid.summax = __pyx_v_sum;
+
+  /* "python/src/a/pid/neuron.pxi":11
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmin = min
+ *         a_pid_neuron_init(&self.ctx, 0)
+ */
+  __pyx_v_self->ctx.pid.outmax = __pyx_v_max;
+
+  /* "python/src/a/pid/neuron.pxi":12
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max
+ *         self.ctx.pid.outmin = min             # <<<<<<<<<<<<<<
+ *         a_pid_neuron_init(&self.ctx, 0)
+ *         if sum:
+ */
+  __pyx_v_self->ctx.pid.outmin = __pyx_v_min;
+
+  /* "python/src/a/pid/neuron.pxi":13
+ *         self.ctx.pid.outmax = max
+ *         self.ctx.pid.outmin = min
+ *         a_pid_neuron_init(&self.ctx, 0)             # <<<<<<<<<<<<<<
+ *         if sum:
+ *             self.ctx.pid.mode = A_PID_POS
+ */
+  a_pid_neuron_init((&__pyx_v_self->ctx), 0);
+
+  /* "python/src/a/pid/neuron.pxi":14
+ *         self.ctx.pid.outmin = min
+ *         a_pid_neuron_init(&self.ctx, 0)
+ *         if sum:             # <<<<<<<<<<<<<<
+ *             self.ctx.pid.mode = A_PID_POS
+ *         else:
+ */
+  __pyx_t_1 = (__pyx_v_sum != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a/pid/neuron.pxi":15
+ *         a_pid_neuron_init(&self.ctx, 0)
+ *         if sum:
+ *             self.ctx.pid.mode = A_PID_POS             # <<<<<<<<<<<<<<
+ *         else:
+ *             self.ctx.pid.mode = A_PID_INC
+ */
+    __pyx_v_self->ctx.pid.mode = A_PID_POS;
+
+    /* "python/src/a/pid/neuron.pxi":14
+ *         self.ctx.pid.outmin = min
+ *         a_pid_neuron_init(&self.ctx, 0)
+ *         if sum:             # <<<<<<<<<<<<<<
+ *             self.ctx.pid.mode = A_PID_POS
+ *         else:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "python/src/a/pid/neuron.pxi":17
+ *             self.ctx.pid.mode = A_PID_POS
+ *         else:
+ *             self.ctx.pid.mode = A_PID_INC             # <<<<<<<<<<<<<<
+ *     def kpid(self, k: a_float_t, kp: a_float_t, ki: a_float_t, kd: a_float_t):
+ *         '''set proportional integral derivative constant for single neuron PID controller'''
+ */
+  /*else*/ {
+    __pyx_v_self->ctx.pid.mode = A_PID_INC;
+  }
+  __pyx_L3:;
+
+  /* "python/src/a/pid/neuron.pxi":9
+ *     '''single neuron proportional integral derivative controller'''
+ *     cdef a_pid_neuron_s ctx
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/neuron.pxi":18
+ *         else:
+ *             self.ctx.pid.mode = A_PID_INC
+ *     def kpid(self, k: a_float_t, kp: a_float_t, ki: a_float_t, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         '''set proportional integral derivative constant for single neuron PID controller'''
+ *         a_pid_neuron_kpid(&self.ctx, k, kp, ki, kd)
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_11kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_4liba_4fpid_10kpid[] = "set proportional integral derivative constant for fuzzy PID controller";
-static PyObject *__pyx_pw_4liba_4fpid_11kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_kp;
-  a_real_t __pyx_v_ki;
-  a_real_t __pyx_v_kd;
+static PyObject *__pyx_pw_4liba_10pid_neuron_3kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_10pid_neuron_2kpid[] = "set proportional integral derivative constant for single neuron PID controller";
+static PyObject *__pyx_pw_4liba_10pid_neuron_3kpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_k;
+  a_float_t __pyx_v_kp;
+  a_float_t __pyx_v_ki;
+  a_float_t __pyx_v_kd;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("kpid (wrapper)", 0);
   {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_kp,&__pyx_n_s_ki,&__pyx_n_s_kd,0};
-    PyObject* values[3] = {0,0,0};
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_k,&__pyx_n_s_kp,&__pyx_n_s_ki,&__pyx_n_s_kd,0};
+    PyObject* values[4] = {0,0,0,0};
     if (unlikely(__pyx_kwds)) {
       Py_ssize_t kw_args;
       const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
       switch (pos_args) {
+        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
+        CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kp)) != 0)) kw_args--;
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_k)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ki)) != 0)) kw_args--;
+        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kp)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, 1); __PYX_ERR(7, 57, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("kpid", 1, 4, 4, 1); __PYX_ERR(7, 18, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
-        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kd)) != 0)) kw_args--;
+        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ki)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, 2); __PYX_ERR(7, 57, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("kpid", 1, 4, 4, 2); __PYX_ERR(7, 18, __pyx_L3_error)
+        }
+        CYTHON_FALLTHROUGH;
+        case  3:
+        if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kd)) != 0)) kw_args--;
+        else {
+          __Pyx_RaiseArgtupleInvalid("kpid", 1, 4, 4, 3); __PYX_ERR(7, 18, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "kpid") < 0)) __PYX_ERR(7, 57, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "kpid") < 0)) __PYX_ERR(7, 18, __pyx_L3_error)
       }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 4) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+      values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
     }
-    __pyx_v_kp = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_kp == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 57, __pyx_L3_error)
-    __pyx_v_ki = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_ki == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 57, __pyx_L3_error)
-    __pyx_v_kd = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_kd == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 57, __pyx_L3_error)
+    __pyx_v_k = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_k == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 18, __pyx_L3_error)
+    __pyx_v_kp = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_kp == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 18, __pyx_L3_error)
+    __pyx_v_ki = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_ki == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 18, __pyx_L3_error)
+    __pyx_v_kd = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_kd == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 18, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("kpid", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(7, 57, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("kpid", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(7, 18, __pyx_L3_error)
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.kpid", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.kpid", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_10kpid(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), __pyx_v_kp, __pyx_v_ki, __pyx_v_kd);
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2kpid(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), __pyx_v_k, __pyx_v_kp, __pyx_v_ki, __pyx_v_kd);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_10kpid(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_kp, a_real_t __pyx_v_ki, a_real_t __pyx_v_kd) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_2kpid(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_k, a_float_t __pyx_v_kp, a_float_t __pyx_v_ki, a_float_t __pyx_v_kd) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("kpid", 0);
 
-  /* "python/src/a/fpid.pxi":59
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):
- *         '''set proportional integral derivative constant for fuzzy PID controller'''
- *         a_fpid_kpid(&self.ctx, kp, ki, kd)             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid/neuron.pxi":20
+ *     def kpid(self, k: a_float_t, kp: a_float_t, ki: a_float_t, kd: a_float_t):
+ *         '''set proportional integral derivative constant for single neuron PID controller'''
+ *         a_pid_neuron_kpid(&self.ctx, k, kp, ki, kd)             # <<<<<<<<<<<<<<
  *         return self
- *     def pos(self, max: a_real_t):
+ *     def wpid(self, wp: a_float_t, wi: a_float_t, wd: a_float_t):
  */
-  (void)(a_fpid_kpid((&__pyx_v_self->ctx), __pyx_v_kp, __pyx_v_ki, __pyx_v_kd));
+  a_pid_neuron_kpid((&__pyx_v_self->ctx), __pyx_v_k, __pyx_v_kp, __pyx_v_ki, __pyx_v_kd);
 
-  /* "python/src/a/fpid.pxi":60
- *         '''set proportional integral derivative constant for fuzzy PID controller'''
- *         a_fpid_kpid(&self.ctx, kp, ki, kd)
+  /* "python/src/a/pid/neuron.pxi":21
+ *         '''set proportional integral derivative constant for single neuron PID controller'''
+ *         a_pid_neuron_kpid(&self.ctx, k, kp, ki, kd)
  *         return self             # <<<<<<<<<<<<<<
- *     def pos(self, max: a_real_t):
- *         '''positional fuzzy PID controller'''
+ *     def wpid(self, wp: a_float_t, wi: a_float_t, wd: a_float_t):
+ *         '''set proportional integral derivative weight for single neuron PID controller'''
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":57
- *         a_fpid_base(&self.ctx, <a_uint_t>len(mkp), e, ec, kp, ki, kd)
- *         return self
- *     def kpid(self, kp: a_real_t, ki: a_real_t, kd: a_real_t):             # <<<<<<<<<<<<<<
- *         '''set proportional integral derivative constant for fuzzy PID controller'''
- *         a_fpid_kpid(&self.ctx, kp, ki, kd)
+  /* "python/src/a/pid/neuron.pxi":18
+ *         else:
+ *             self.ctx.pid.mode = A_PID_INC
+ *     def kpid(self, k: a_float_t, kp: a_float_t, ki: a_float_t, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         '''set proportional integral derivative constant for single neuron PID controller'''
+ *         a_pid_neuron_kpid(&self.ctx, k, kp, ki, kd)
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":61
- *         a_fpid_kpid(&self.ctx, kp, ki, kd)
+/* "python/src/a/pid/neuron.pxi":22
+ *         a_pid_neuron_kpid(&self.ctx, k, kp, ki, kd)
  *         return self
- *     def pos(self, max: a_real_t):             # <<<<<<<<<<<<<<
- *         '''positional fuzzy PID controller'''
- *         a_fpid_pos(&self.ctx, max)
+ *     def wpid(self, wp: a_float_t, wi: a_float_t, wd: a_float_t):             # <<<<<<<<<<<<<<
+ *         '''set proportional integral derivative weight for single neuron PID controller'''
+ *         a_pid_neuron_wpid(&self.ctx, wp, wi, wd)
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_13pos(PyObject *__pyx_v_self, PyObject *__pyx_arg_max); /*proto*/
-static char __pyx_doc_4liba_4fpid_12pos[] = "positional fuzzy PID controller";
-static PyObject *__pyx_pw_4liba_4fpid_13pos(PyObject *__pyx_v_self, PyObject *__pyx_arg_max) {
-  a_real_t __pyx_v_max;
+static PyObject *__pyx_pw_4liba_10pid_neuron_5wpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_10pid_neuron_4wpid[] = "set proportional integral derivative weight for single neuron PID controller";
+static PyObject *__pyx_pw_4liba_10pid_neuron_5wpid(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_wp;
+  a_float_t __pyx_v_wi;
+  a_float_t __pyx_v_wd;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("pos (wrapper)", 0);
-  assert(__pyx_arg_max); {
-    __pyx_v_max = __pyx_PyFloat_AsDouble(__pyx_arg_max); if (unlikely((__pyx_v_max == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 61, __pyx_L3_error)
+  __Pyx_RefNannySetupContext("wpid (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_wp,&__pyx_n_s_wi,&__pyx_n_s_wd,0};
+    PyObject* values[3] = {0,0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+        CYTHON_FALLTHROUGH;
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_wp)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_wi)) != 0)) kw_args--;
+        else {
+          __Pyx_RaiseArgtupleInvalid("wpid", 1, 3, 3, 1); __PYX_ERR(7, 22, __pyx_L3_error)
+        }
+        CYTHON_FALLTHROUGH;
+        case  2:
+        if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_wd)) != 0)) kw_args--;
+        else {
+          __Pyx_RaiseArgtupleInvalid("wpid", 1, 3, 3, 2); __PYX_ERR(7, 22, __pyx_L3_error)
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "wpid") < 0)) __PYX_ERR(7, 22, __pyx_L3_error)
+      }
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
+      goto __pyx_L5_argtuple_error;
+    } else {
+      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+      values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
+    }
+    __pyx_v_wp = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_wp == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 22, __pyx_L3_error)
+    __pyx_v_wi = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_wi == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 22, __pyx_L3_error)
+    __pyx_v_wd = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_wd == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 22, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("wpid", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(7, 22, __pyx_L3_error)
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.pos", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.wpid", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_12pos(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_real_t)__pyx_v_max));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_4wpid(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), __pyx_v_wp, __pyx_v_wi, __pyx_v_wd);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_12pos(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_max) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_4wpid(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_wp, a_float_t __pyx_v_wi, a_float_t __pyx_v_wd) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("pos", 0);
+  __Pyx_RefNannySetupContext("wpid", 0);
 
-  /* "python/src/a/fpid.pxi":63
- *     def pos(self, max: a_real_t):
- *         '''positional fuzzy PID controller'''
- *         a_fpid_pos(&self.ctx, max)             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid/neuron.pxi":24
+ *     def wpid(self, wp: a_float_t, wi: a_float_t, wd: a_float_t):
+ *         '''set proportional integral derivative weight for single neuron PID controller'''
+ *         a_pid_neuron_wpid(&self.ctx, wp, wi, wd)             # <<<<<<<<<<<<<<
  *         return self
- *     def inc(self):
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
  */
-  (void)(a_fpid_pos((&__pyx_v_self->ctx), __pyx_v_max));
+  a_pid_neuron_wpid((&__pyx_v_self->ctx), __pyx_v_wp, __pyx_v_wi, __pyx_v_wd);
 
-  /* "python/src/a/fpid.pxi":64
- *         '''positional fuzzy PID controller'''
- *         a_fpid_pos(&self.ctx, max)
+  /* "python/src/a/pid/neuron.pxi":25
+ *         '''set proportional integral derivative weight for single neuron PID controller'''
+ *         a_pid_neuron_wpid(&self.ctx, wp, wi, wd)
  *         return self             # <<<<<<<<<<<<<<
- *     def inc(self):
- *         '''incremental fuzzy PID controller'''
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
+ *         '''calculate function for single neuron PID controller'''
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":61
- *         a_fpid_kpid(&self.ctx, kp, ki, kd)
+  /* "python/src/a/pid/neuron.pxi":22
+ *         a_pid_neuron_kpid(&self.ctx, k, kp, ki, kd)
  *         return self
- *     def pos(self, max: a_real_t):             # <<<<<<<<<<<<<<
- *         '''positional fuzzy PID controller'''
- *         a_fpid_pos(&self.ctx, max)
+ *     def wpid(self, wp: a_float_t, wi: a_float_t, wd: a_float_t):             # <<<<<<<<<<<<<<
+ *         '''set proportional integral derivative weight for single neuron PID controller'''
+ *         a_pid_neuron_wpid(&self.ctx, wp, wi, wd)
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":65
- *         a_fpid_pos(&self.ctx, max)
+/* "python/src/a/pid/neuron.pxi":26
+ *         a_pid_neuron_wpid(&self.ctx, wp, wi, wd)
  *         return self
- *     def inc(self):             # <<<<<<<<<<<<<<
- *         '''incremental fuzzy PID controller'''
- *         a_fpid_inc(&self.ctx)
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         '''calculate function for single neuron PID controller'''
+ *         return a_pid_neuron_outf(&self.ctx, set, fdb)
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_15inc(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_4fpid_14inc[] = "incremental fuzzy PID controller";
-static PyObject *__pyx_pw_4liba_4fpid_15inc(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_7__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_10pid_neuron_6__call__[] = "calculate function for single neuron PID controller";
+#if CYTHON_UPDATE_DESCRIPTOR_DOC
+struct wrapperbase __pyx_wrapperbase_4liba_10pid_neuron_6__call__;
+#endif
+static PyObject *__pyx_pw_4liba_10pid_neuron_7__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_set;
+  a_float_t __pyx_v_fdb;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("inc (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_14inc(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_set,&__pyx_n_s_fdb,0};
+    PyObject* values[2] = {0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_set)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_fdb)) != 0)) kw_args--;
+        else {
+          __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, 1); __PYX_ERR(7, 26, __pyx_L3_error)
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(7, 26, __pyx_L3_error)
+      }
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
+      goto __pyx_L5_argtuple_error;
+    } else {
+      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+    }
+    __pyx_v_set = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_set == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 26, __pyx_L3_error)
+    __pyx_v_fdb = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_fdb == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 26, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__call__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(7, 26, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_neuron.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return NULL;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_6__call__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), __pyx_v_set, __pyx_v_fdb);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_14inc(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_6__call__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_set, a_float_t __pyx_v_fdb) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("inc", 0);
-
-  /* "python/src/a/fpid.pxi":67
- *     def inc(self):
- *         '''incremental fuzzy PID controller'''
- *         a_fpid_inc(&self.ctx)             # <<<<<<<<<<<<<<
- *         return self
- *     def off(self):
- */
-  (void)(a_fpid_inc((&__pyx_v_self->ctx)));
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "python/src/a/fpid.pxi":68
- *         '''incremental fuzzy PID controller'''
- *         a_fpid_inc(&self.ctx)
- *         return self             # <<<<<<<<<<<<<<
- *     def off(self):
- *         '''turn off fuzzy PID controller'''
+  /* "python/src/a/pid/neuron.pxi":28
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:
+ *         '''calculate function for single neuron PID controller'''
+ *         return a_pid_neuron_outf(&self.ctx, set, fdb)             # <<<<<<<<<<<<<<
+ *     def zero(self):
+ *         '''zero clear function for single neuron PID controller'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_INCREF(((PyObject *)__pyx_v_self));
-  __pyx_r = ((PyObject *)__pyx_v_self);
+  __pyx_t_1 = PyFloat_FromDouble(a_pid_neuron_outf((&__pyx_v_self->ctx), __pyx_v_set, __pyx_v_fdb)); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 28, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":65
- *         a_fpid_pos(&self.ctx, max)
+  /* "python/src/a/pid/neuron.pxi":26
+ *         a_pid_neuron_wpid(&self.ctx, wp, wi, wd)
  *         return self
- *     def inc(self):             # <<<<<<<<<<<<<<
- *         '''incremental fuzzy PID controller'''
- *         a_fpid_inc(&self.ctx)
+ *     def __call__(self, set: a_float_t, fdb: a_float_t) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         '''calculate function for single neuron PID controller'''
+ *         return a_pid_neuron_outf(&self.ctx, set, fdb)
  */
 
   /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_neuron.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":69
- *         a_fpid_inc(&self.ctx)
- *         return self
- *     def off(self):             # <<<<<<<<<<<<<<
- *         '''turn off fuzzy PID controller'''
- *         a_fpid_off(&self.ctx)
+/* "python/src/a/pid/neuron.pxi":29
+ *         '''calculate function for single neuron PID controller'''
+ *         return a_pid_neuron_outf(&self.ctx, set, fdb)
+ *     def zero(self):             # <<<<<<<<<<<<<<
+ *         '''zero clear function for single neuron PID controller'''
+ *         a_pid_neuron_zero(&self.ctx)
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_17off(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_4liba_4fpid_16off[] = "turn off fuzzy PID controller";
-static PyObject *__pyx_pw_4liba_4fpid_17off(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_9zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static char __pyx_doc_4liba_10pid_neuron_8zero[] = "zero clear function for single neuron PID controller";
+static PyObject *__pyx_pw_4liba_10pid_neuron_9zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("off (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_16off(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __Pyx_RefNannySetupContext("zero (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_8zero(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_16off(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_8zero(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("off", 0);
+  __Pyx_RefNannySetupContext("zero", 0);
 
-  /* "python/src/a/fpid.pxi":71
- *     def off(self):
- *         '''turn off fuzzy PID controller'''
- *         a_fpid_off(&self.ctx)             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid/neuron.pxi":31
+ *     def zero(self):
+ *         '''zero clear function for single neuron PID controller'''
+ *         a_pid_neuron_zero(&self.ctx)             # <<<<<<<<<<<<<<
  *         return self
- * 
+ *     @property
  */
-  (void)(a_fpid_off((&__pyx_v_self->ctx)));
+  a_pid_neuron_zero((&__pyx_v_self->ctx));
 
-  /* "python/src/a/fpid.pxi":72
- *         '''turn off fuzzy PID controller'''
- *         a_fpid_off(&self.ctx)
+  /* "python/src/a/pid/neuron.pxi":32
+ *         '''zero clear function for single neuron PID controller'''
+ *         a_pid_neuron_zero(&self.ctx)
  *         return self             # <<<<<<<<<<<<<<
- * 
  *     @property
+ *     def kp(self) -> a_float_t:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":69
- *         a_fpid_inc(&self.ctx)
- *         return self
- *     def off(self):             # <<<<<<<<<<<<<<
- *         '''turn off fuzzy PID controller'''
- *         a_fpid_off(&self.ctx)
+  /* "python/src/a/pid/neuron.pxi":29
+ *         '''calculate function for single neuron PID controller'''
+ *         return a_pid_neuron_outf(&self.ctx, set, fdb)
+ *     def zero(self):             # <<<<<<<<<<<<<<
+ *         '''zero clear function for single neuron PID controller'''
+ *         a_pid_neuron_zero(&self.ctx)
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":75
- * 
+/* "python/src/a/pid/neuron.pxi":34
+ *         return self
  *     @property
- *     def outmin(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.outmin
- *     @outmin.setter
+ *     def kp(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.kp
+ *     @kp.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_6outmin_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_6outmin_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_2kp_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_2kp_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_6outmin___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2kp___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_6outmin___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_2kp___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":76
+  /* "python/src/a/pid/neuron.pxi":35
  *     @property
- *     def outmin(self) -> a_real_t:
- *         return self.ctx.pid.outmin             # <<<<<<<<<<<<<<
- *     @outmin.setter
- *     def outmin(self, outmin: a_real_t):
+ *     def kp(self) -> a_float_t:
+ *         return self.ctx.pid.kp             # <<<<<<<<<<<<<<
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.outmin); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 76, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.kp); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 35, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":75
- * 
+  /* "python/src/a/pid/neuron.pxi":34
+ *         return self
  *     @property
- *     def outmin(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.outmin
- *     @outmin.setter
+ *     def kp(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.kp
+ *     @kp.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.outmin.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.kp.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":78
- *         return self.ctx.pid.outmin
- *     @outmin.setter
- *     def outmin(self, outmin: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.pid.outmin = outmin
- * 
+/* "python/src/a/pid/neuron.pxi":37
+ *         return self.ctx.pid.kp
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.kp = kp
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin); /*proto*/
-static int __pyx_pw_4liba_4fpid_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin) {
-  a_real_t __pyx_v_outmin;
+static int __pyx_pw_4liba_10pid_neuron_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp) {
+  a_float_t __pyx_v_kp;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_outmin); {
-    __pyx_v_outmin = __pyx_PyFloat_AsDouble(__pyx_arg_outmin); if (unlikely((__pyx_v_outmin == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 78, __pyx_L3_error)
+  assert(__pyx_arg_kp); {
+    __pyx_v_kp = __pyx_PyFloat_AsFloat(__pyx_arg_kp); if (unlikely((__pyx_v_kp == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 37, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.outmin.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.kp.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_6outmin_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_real_t)__pyx_v_outmin));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2kp_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_kp));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_4fpid_6outmin_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_outmin) {
+static int __pyx_pf_4liba_10pid_neuron_2kp_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_kp) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/fpid.pxi":79
- *     @outmin.setter
- *     def outmin(self, outmin: a_real_t):
- *         self.ctx.pid.outmin = outmin             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid/neuron.pxi":38
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):
+ *         self.ctx.pid.kp = kp             # <<<<<<<<<<<<<<
  *     @property
+ *     def ki(self) -> a_float_t:
  */
-  __pyx_v_self->ctx.pid.outmin = __pyx_v_outmin;
+  __pyx_v_self->ctx.pid.kp = __pyx_v_kp;
 
-  /* "python/src/a/fpid.pxi":78
- *         return self.ctx.pid.outmin
- *     @outmin.setter
- *     def outmin(self, outmin: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.pid.outmin = outmin
- * 
+  /* "python/src/a/pid/neuron.pxi":37
+ *         return self.ctx.pid.kp
+ *     @kp.setter
+ *     def kp(self, kp: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.kp = kp
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":82
- * 
+/* "python/src/a/pid/neuron.pxi":40
+ *         self.ctx.pid.kp = kp
  *     @property
- *     def outmax(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.outmax
- *     @outmax.setter
+ *     def ki(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.ki
+ *     @ki.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_6outmax_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_6outmax_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_2ki_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_2ki_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_6outmax___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2ki___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_6outmax___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_2ki___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":83
+  /* "python/src/a/pid/neuron.pxi":41
  *     @property
- *     def outmax(self) -> a_real_t:
- *         return self.ctx.pid.outmax             # <<<<<<<<<<<<<<
- *     @outmax.setter
- *     def outmax(self, outmax: a_real_t):
+ *     def ki(self) -> a_float_t:
+ *         return self.ctx.pid.ki             # <<<<<<<<<<<<<<
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.outmax); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 83, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.ki); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 41, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":82
- * 
+  /* "python/src/a/pid/neuron.pxi":40
+ *         self.ctx.pid.kp = kp
  *     @property
- *     def outmax(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.outmax
- *     @outmax.setter
+ *     def ki(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.ki
+ *     @ki.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.outmax.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.ki.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":85
- *         return self.ctx.pid.outmax
- *     @outmax.setter
- *     def outmax(self, outmax: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.pid.outmax = outmax
- * 
+/* "python/src/a/pid/neuron.pxi":43
+ *         return self.ctx.pid.ki
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.ki = ki
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax); /*proto*/
-static int __pyx_pw_4liba_4fpid_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax) {
-  a_real_t __pyx_v_outmax;
+static int __pyx_pw_4liba_10pid_neuron_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki) {
+  a_float_t __pyx_v_ki;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_outmax); {
-    __pyx_v_outmax = __pyx_PyFloat_AsDouble(__pyx_arg_outmax); if (unlikely((__pyx_v_outmax == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 85, __pyx_L3_error)
+  assert(__pyx_arg_ki); {
+    __pyx_v_ki = __pyx_PyFloat_AsFloat(__pyx_arg_ki); if (unlikely((__pyx_v_ki == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 43, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.outmax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.ki.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_6outmax_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_real_t)__pyx_v_outmax));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2ki_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_ki));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_4fpid_6outmax_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_outmax) {
+static int __pyx_pf_4liba_10pid_neuron_2ki_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_ki) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/fpid.pxi":86
- *     @outmax.setter
- *     def outmax(self, outmax: a_real_t):
- *         self.ctx.pid.outmax = outmax             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid/neuron.pxi":44
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):
+ *         self.ctx.pid.ki = ki             # <<<<<<<<<<<<<<
  *     @property
+ *     def kd(self) -> a_float_t:
  */
-  __pyx_v_self->ctx.pid.outmax = __pyx_v_outmax;
+  __pyx_v_self->ctx.pid.ki = __pyx_v_ki;
 
-  /* "python/src/a/fpid.pxi":85
- *         return self.ctx.pid.outmax
- *     @outmax.setter
- *     def outmax(self, outmax: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.pid.outmax = outmax
- * 
+  /* "python/src/a/pid/neuron.pxi":43
+ *         return self.ctx.pid.ki
+ *     @ki.setter
+ *     def ki(self, ki: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.ki = ki
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":89
- * 
+/* "python/src/a/pid/neuron.pxi":46
+ *         self.ctx.pid.ki = ki
  *     @property
- *     def summax(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.summax
- *     @summax.setter
+ *     def kd(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.kd
+ *     @kd.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_6summax_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_6summax_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_2kd_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_2kd_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_6summax___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2kd___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_6summax___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_2kd___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":90
+  /* "python/src/a/pid/neuron.pxi":47
  *     @property
- *     def summax(self) -> a_real_t:
- *         return self.ctx.pid.summax             # <<<<<<<<<<<<<<
- *     @summax.setter
- *     def summax(self, summax: a_real_t):
+ *     def kd(self) -> a_float_t:
+ *         return self.ctx.pid.kd             # <<<<<<<<<<<<<<
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.summax); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 90, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.kd); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 47, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":89
- * 
+  /* "python/src/a/pid/neuron.pxi":46
+ *         self.ctx.pid.ki = ki
  *     @property
- *     def summax(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.summax
- *     @summax.setter
+ *     def kd(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.kd
+ *     @kd.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.summax.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.kd.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":92
- *         return self.ctx.pid.summax
- *     @summax.setter
- *     def summax(self, summax: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.pid.summax = summax
- * 
+/* "python/src/a/pid/neuron.pxi":49
+ *         return self.ctx.pid.kd
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.kd = kd
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_6summax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_summax); /*proto*/
-static int __pyx_pw_4liba_4fpid_6summax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_summax) {
-  a_real_t __pyx_v_summax;
+static int __pyx_pw_4liba_10pid_neuron_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd) {
+  a_float_t __pyx_v_kd;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_summax); {
-    __pyx_v_summax = __pyx_PyFloat_AsDouble(__pyx_arg_summax); if (unlikely((__pyx_v_summax == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 92, __pyx_L3_error)
+  assert(__pyx_arg_kd); {
+    __pyx_v_kd = __pyx_PyFloat_AsFloat(__pyx_arg_kd); if (unlikely((__pyx_v_kd == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 49, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.summax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.kd.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_6summax_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_real_t)__pyx_v_summax));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2kd_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_kd));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_4fpid_6summax_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_summax) {
+static int __pyx_pf_4liba_10pid_neuron_2kd_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_kd) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/fpid.pxi":93
- *     @summax.setter
- *     def summax(self, summax: a_real_t):
- *         self.ctx.pid.summax = summax             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid/neuron.pxi":50
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):
+ *         self.ctx.pid.kd = kd             # <<<<<<<<<<<<<<
  *     @property
+ *     def summax(self) -> a_float_t:
  */
-  __pyx_v_self->ctx.pid.summax = __pyx_v_summax;
+  __pyx_v_self->ctx.pid.kd = __pyx_v_kd;
 
-  /* "python/src/a/fpid.pxi":92
- *         return self.ctx.pid.summax
- *     @summax.setter
- *     def summax(self, summax: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.pid.summax = summax
- * 
+  /* "python/src/a/pid/neuron.pxi":49
+ *         return self.ctx.pid.kd
+ *     @kd.setter
+ *     def kd(self, kd: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.kd = kd
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":96
- * 
+/* "python/src/a/pid/neuron.pxi":52
+ *         self.ctx.pid.kd = kd
  *     @property
- *     def mode(self) -> a_uint_t:             # <<<<<<<<<<<<<<
- *         return a_pid_mode(&self.ctx.pid)
- *     @mode.setter
+ *     def summax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.summax
+ *     @summax.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_4mode_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_4mode_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_6summax_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_6summax_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_4mode___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_6summax___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_4mode___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_6summax___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":97
+  /* "python/src/a/pid/neuron.pxi":53
  *     @property
- *     def mode(self) -> a_uint_t:
- *         return a_pid_mode(&self.ctx.pid)             # <<<<<<<<<<<<<<
- *     @mode.setter
- *     def mode(self, mode: a_uint_t):
+ *     def summax(self) -> a_float_t:
+ *         return self.ctx.pid.summax             # <<<<<<<<<<<<<<
+ *     @summax.setter
+ *     def summax(self, summax: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_a_uint_t(a_pid_mode((&__pyx_v_self->ctx.pid))); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 97, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.summax); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 53, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":96
- * 
+  /* "python/src/a/pid/neuron.pxi":52
+ *         self.ctx.pid.kd = kd
  *     @property
- *     def mode(self) -> a_uint_t:             # <<<<<<<<<<<<<<
- *         return a_pid_mode(&self.ctx.pid)
- *     @mode.setter
+ *     def summax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.summax
+ *     @summax.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.mode.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.summax.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":99
- *         return a_pid_mode(&self.ctx.pid)
- *     @mode.setter
- *     def mode(self, mode: a_uint_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_mode(&self.ctx.pid, mode)
- * 
+/* "python/src/a/pid/neuron.pxi":55
+ *         return self.ctx.pid.summax
+ *     @summax.setter
+ *     def summax(self, summax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = summax
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_mode); /*proto*/
-static int __pyx_pw_4liba_4fpid_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_mode) {
-  a_uint_t __pyx_v_mode;
+static int __pyx_pw_4liba_10pid_neuron_6summax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_summax); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_6summax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_summax) {
+  a_float_t __pyx_v_summax;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_mode); {
-    __pyx_v_mode = __Pyx_PyInt_As_a_uint_t(__pyx_arg_mode); if (unlikely((__pyx_v_mode == ((a_uint_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 99, __pyx_L3_error)
+  assert(__pyx_arg_summax); {
+    __pyx_v_summax = __pyx_PyFloat_AsFloat(__pyx_arg_summax); if (unlikely((__pyx_v_summax == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 55, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.mode.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.summax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_4mode_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_uint_t)__pyx_v_mode));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_6summax_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_summax));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_4fpid_4mode_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_uint_t __pyx_v_mode) {
+static int __pyx_pf_4liba_10pid_neuron_6summax_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_summax) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/fpid.pxi":100
- *     @mode.setter
- *     def mode(self, mode: a_uint_t):
- *         a_pid_set_mode(&self.ctx.pid, mode)             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid/neuron.pxi":56
+ *     @summax.setter
+ *     def summax(self, summax: a_float_t):
+ *         self.ctx.pid.summax = summax             # <<<<<<<<<<<<<<
  *     @property
+ *     def outmax(self) -> a_float_t:
  */
-  a_pid_set_mode((&__pyx_v_self->ctx.pid), __pyx_v_mode);
+  __pyx_v_self->ctx.pid.summax = __pyx_v_summax;
 
-  /* "python/src/a/fpid.pxi":99
- *         return a_pid_mode(&self.ctx.pid)
- *     @mode.setter
- *     def mode(self, mode: a_uint_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_mode(&self.ctx.pid, mode)
- * 
+  /* "python/src/a/pid/neuron.pxi":55
+ *         return self.ctx.pid.summax
+ *     @summax.setter
+ *     def summax(self, summax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = summax
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":103
- * 
+/* "python/src/a/pid/neuron.pxi":58
+ *         self.ctx.pid.summax = summax
  *     @property
- *     def dt(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_dt(&self.ctx.pid)
- *     @dt.setter
+ *     def outmax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.outmax
+ *     @outmax.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_2dt_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_2dt_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_6outmax_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_6outmax_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_2dt___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_6outmax___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_2dt___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_6outmax___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":104
+  /* "python/src/a/pid/neuron.pxi":59
  *     @property
- *     def dt(self) -> a_real_t:
- *         return a_pid_dt(&self.ctx.pid)             # <<<<<<<<<<<<<<
- *     @dt.setter
- *     def dt(self, dt: a_real_t):
+ *     def outmax(self) -> a_float_t:
+ *         return self.ctx.pid.outmax             # <<<<<<<<<<<<<<
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(a_pid_dt((&__pyx_v_self->ctx.pid))); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 104, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.outmax); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":103
- * 
+  /* "python/src/a/pid/neuron.pxi":58
+ *         self.ctx.pid.summax = summax
  *     @property
- *     def dt(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return a_pid_dt(&self.ctx.pid)
- *     @dt.setter
+ *     def outmax(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.outmax
+ *     @outmax.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.dt.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.outmax.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":106
- *         return a_pid_dt(&self.ctx.pid)
- *     @dt.setter
- *     def dt(self, dt: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_dt(&self.ctx.pid, dt)
- * 
+/* "python/src/a/pid/neuron.pxi":61
+ *         return self.ctx.pid.outmax
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmax = outmax
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_2dt_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_dt); /*proto*/
-static int __pyx_pw_4liba_4fpid_2dt_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_dt) {
-  a_real_t __pyx_v_dt;
+static int __pyx_pw_4liba_10pid_neuron_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_6outmax_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmax) {
+  a_float_t __pyx_v_outmax;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_dt); {
-    __pyx_v_dt = __pyx_PyFloat_AsDouble(__pyx_arg_dt); if (unlikely((__pyx_v_dt == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 106, __pyx_L3_error)
+  assert(__pyx_arg_outmax); {
+    __pyx_v_outmax = __pyx_PyFloat_AsFloat(__pyx_arg_outmax); if (unlikely((__pyx_v_outmax == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 61, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.dt.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.outmax.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_2dt_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_real_t)__pyx_v_dt));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_6outmax_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_outmax));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_4fpid_2dt_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_dt) {
+static int __pyx_pf_4liba_10pid_neuron_6outmax_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_outmax) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/fpid.pxi":107
- *     @dt.setter
- *     def dt(self, dt: a_real_t):
- *         a_pid_set_dt(&self.ctx.pid, dt)             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid/neuron.pxi":62
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):
+ *         self.ctx.pid.outmax = outmax             # <<<<<<<<<<<<<<
  *     @property
+ *     def outmin(self) -> a_float_t:
  */
-  a_pid_set_dt((&__pyx_v_self->ctx.pid), __pyx_v_dt);
+  __pyx_v_self->ctx.pid.outmax = __pyx_v_outmax;
 
-  /* "python/src/a/fpid.pxi":106
- *         return a_pid_dt(&self.ctx.pid)
- *     @dt.setter
- *     def dt(self, dt: a_real_t):             # <<<<<<<<<<<<<<
- *         a_pid_set_dt(&self.ctx.pid, dt)
- * 
+  /* "python/src/a/pid/neuron.pxi":61
+ *         return self.ctx.pid.outmax
+ *     @outmax.setter
+ *     def outmax(self, outmax: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmax = outmax
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":110
- * 
+/* "python/src/a/pid/neuron.pxi":64
+ *         self.ctx.pid.outmax = outmax
  *     @property
- *     def kp(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.kp
- *     @kp.setter
+ *     def outmin(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.outmin
+ *     @outmin.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_2kp_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_2kp_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_6outmin_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_6outmin_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_2kp___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_6outmin___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_2kp___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_6outmin___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":111
+  /* "python/src/a/pid/neuron.pxi":65
  *     @property
- *     def kp(self) -> a_real_t:
- *         return self.ctx.kp             # <<<<<<<<<<<<<<
- *     @kp.setter
- *     def kp(self, kp: a_real_t):
+ *     def outmin(self) -> a_float_t:
+ *         return self.ctx.pid.outmin             # <<<<<<<<<<<<<<
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.kp); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 111, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.outmin); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 65, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":110
- * 
+  /* "python/src/a/pid/neuron.pxi":64
+ *         self.ctx.pid.outmax = outmax
  *     @property
- *     def kp(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.kp
- *     @kp.setter
+ *     def outmin(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.outmin
+ *     @outmin.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.kp.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.outmin.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":113
- *         return self.ctx.kp
- *     @kp.setter
- *     def kp(self, kp: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.kp = kp
- * 
+/* "python/src/a/pid/neuron.pxi":67
+ *         return self.ctx.pid.outmin
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmin = outmin
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp); /*proto*/
-static int __pyx_pw_4liba_4fpid_2kp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kp) {
-  a_real_t __pyx_v_kp;
+static int __pyx_pw_4liba_10pid_neuron_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_6outmin_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_outmin) {
+  a_float_t __pyx_v_outmin;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_kp); {
-    __pyx_v_kp = __pyx_PyFloat_AsDouble(__pyx_arg_kp); if (unlikely((__pyx_v_kp == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 113, __pyx_L3_error)
+  assert(__pyx_arg_outmin); {
+    __pyx_v_outmin = __pyx_PyFloat_AsFloat(__pyx_arg_outmin); if (unlikely((__pyx_v_outmin == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 67, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.kp.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.outmin.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_2kp_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_real_t)__pyx_v_kp));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_6outmin_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_outmin));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_4fpid_2kp_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_kp) {
+static int __pyx_pf_4liba_10pid_neuron_6outmin_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_outmin) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/fpid.pxi":114
- *     @kp.setter
- *     def kp(self, kp: a_real_t):
- *         self.ctx.kp = kp             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid/neuron.pxi":68
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):
+ *         self.ctx.pid.outmin = outmin             # <<<<<<<<<<<<<<
  *     @property
+ *     def out(self) -> a_float_t:
  */
-  __pyx_v_self->ctx.kp = __pyx_v_kp;
+  __pyx_v_self->ctx.pid.outmin = __pyx_v_outmin;
 
-  /* "python/src/a/fpid.pxi":113
- *         return self.ctx.kp
- *     @kp.setter
- *     def kp(self, kp: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.kp = kp
- * 
+  /* "python/src/a/pid/neuron.pxi":67
+ *         return self.ctx.pid.outmin
+ *     @outmin.setter
+ *     def outmin(self, outmin: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.outmin = outmin
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":117
- * 
+/* "python/src/a/pid/neuron.pxi":70
+ *         self.ctx.pid.outmin = outmin
+ *     @property
+ *     def out(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.out.f
  *     @property
- *     def ki(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.ki
- *     @ki.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_2ki_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_2ki_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_3out_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_3out_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_2ki___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_3out___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_2ki___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_3out___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":118
+  /* "python/src/a/pid/neuron.pxi":71
  *     @property
- *     def ki(self) -> a_real_t:
- *         return self.ctx.ki             # <<<<<<<<<<<<<<
- *     @ki.setter
- *     def ki(self, ki: a_real_t):
+ *     def out(self) -> a_float_t:
+ *         return self.ctx.pid.out.f             # <<<<<<<<<<<<<<
+ *     @property
+ *     def fdb(self) -> a_float_t:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.ki); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 118, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.out.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 71, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":117
- * 
+  /* "python/src/a/pid/neuron.pxi":70
+ *         self.ctx.pid.outmin = outmin
+ *     @property
+ *     def out(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.out.f
  *     @property
- *     def ki(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.ki
- *     @ki.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.ki.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.out.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":120
- *         return self.ctx.ki
- *     @ki.setter
- *     def ki(self, ki: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.ki = ki
- * 
- */
-
-/* Python wrapper */
-static int __pyx_pw_4liba_4fpid_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki); /*proto*/
-static int __pyx_pw_4liba_4fpid_2ki_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_ki) {
-  a_real_t __pyx_v_ki;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_ki); {
-    __pyx_v_ki = __pyx_PyFloat_AsDouble(__pyx_arg_ki); if (unlikely((__pyx_v_ki == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 120, __pyx_L3_error)
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.ki.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_2ki_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_real_t)__pyx_v_ki));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static int __pyx_pf_4liba_4fpid_2ki_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_ki) {
-  int __pyx_r;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__", 0);
-
-  /* "python/src/a/fpid.pxi":121
- *     @ki.setter
- *     def ki(self, ki: a_real_t):
- *         self.ctx.ki = ki             # <<<<<<<<<<<<<<
- * 
+/* "python/src/a/pid/neuron.pxi":73
+ *         return self.ctx.pid.out.f
  *     @property
- */
-  __pyx_v_self->ctx.ki = __pyx_v_ki;
-
-  /* "python/src/a/fpid.pxi":120
- *         return self.ctx.ki
- *     @ki.setter
- *     def ki(self, ki: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.ki = ki
- * 
- */
-
-  /* function exit code */
-  __pyx_r = 0;
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "python/src/a/fpid.pxi":124
- * 
+ *     def fdb(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.fdb.f
  *     @property
- *     def kd(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.kd
- *     @kd.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_2kd_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_2kd_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_3fdb_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_3fdb_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_2kd___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_3fdb___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_2kd___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_3fdb___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":125
+  /* "python/src/a/pid/neuron.pxi":74
  *     @property
- *     def kd(self) -> a_real_t:
- *         return self.ctx.kd             # <<<<<<<<<<<<<<
- *     @kd.setter
- *     def kd(self, kd: a_real_t):
+ *     def fdb(self) -> a_float_t:
+ *         return self.ctx.pid.fdb.f             # <<<<<<<<<<<<<<
+ *     @property
+ *     def err(self) -> a_float_t:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.kd); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 125, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.fdb.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 74, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":124
- * 
+  /* "python/src/a/pid/neuron.pxi":73
+ *         return self.ctx.pid.out.f
+ *     @property
+ *     def fdb(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.fdb.f
  *     @property
- *     def kd(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.kd
- *     @kd.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.kd.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.fdb.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":127
- *         return self.ctx.kd
- *     @kd.setter
- *     def kd(self, kd: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.kd = kd
- * 
+/* "python/src/a/pid/neuron.pxi":76
+ *         return self.ctx.pid.fdb.f
+ *     @property
+ *     def err(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.err.f
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd); /*proto*/
-static int __pyx_pw_4liba_4fpid_2kd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_kd) {
-  a_real_t __pyx_v_kd;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  int __pyx_r;
+static PyObject *__pyx_pw_4liba_10pid_neuron_3err_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_3err_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_kd); {
-    __pyx_v_kd = __pyx_PyFloat_AsDouble(__pyx_arg_kd); if (unlikely((__pyx_v_kd == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 127, __pyx_L3_error)
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.kd.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_2kd_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_real_t)__pyx_v_kd));
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_3err___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_4fpid_2kd_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_real_t __pyx_v_kd) {
-  int __pyx_r;
+static PyObject *__pyx_pf_4liba_10pid_neuron_3err___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__set__", 0);
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":128
- *     @kd.setter
- *     def kd(self, kd: a_real_t):
- *         self.ctx.kd = kd             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid/neuron.pxi":77
  *     @property
+ *     def err(self) -> a_float_t:
+ *         return self.ctx.pid.err.f             # <<<<<<<<<<<<<<
+ *     @property
+ *     def mode(self) -> int:
  */
-  __pyx_v_self->ctx.kd = __pyx_v_kd;
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.err.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 77, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":127
- *         return self.ctx.kd
- *     @kd.setter
- *     def kd(self, kd: a_real_t):             # <<<<<<<<<<<<<<
- *         self.ctx.kd = kd
- * 
+  /* "python/src/a/pid/neuron.pxi":76
+ *         return self.ctx.pid.fdb.f
+ *     @property
+ *     def err(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.err.f
+ *     @property
  */
 
   /* function exit code */
-  __pyx_r = 0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.pid_neuron.err.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":131
- * 
+/* "python/src/a/pid/neuron.pxi":79
+ *         return self.ctx.pid.err.f
  *     @property
- *     def buf(self) -> a_uint_t:             # <<<<<<<<<<<<<<
- *         return a_fpid_bufnum(&self.ctx)
- *     @buf.setter
+ *     def mode(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.mode
+ *     @mode.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_3buf_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_3buf_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_4mode_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_4mode_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_3buf___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_4mode___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_3buf___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_4mode___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":132
+  /* "python/src/a/pid/neuron.pxi":80
  *     @property
- *     def buf(self) -> a_uint_t:
- *         return a_fpid_bufnum(&self.ctx)             # <<<<<<<<<<<<<<
- *     @buf.setter
- *     def buf(self, max: a_uint_t):
+ *     def mode(self) -> int:
+ *         return self.ctx.pid.mode             # <<<<<<<<<<<<<<
+ *     @mode.setter
+ *     def mode(self, mode: int):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_a_uint_t(a_fpid_bufnum((&__pyx_v_self->ctx))); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 132, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->ctx.pid.mode); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 80, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":131
- * 
+  /* "python/src/a/pid/neuron.pxi":79
+ *         return self.ctx.pid.err.f
  *     @property
- *     def buf(self) -> a_uint_t:             # <<<<<<<<<<<<<<
- *         return a_fpid_bufnum(&self.ctx)
- *     @buf.setter
+ *     def mode(self) -> int:             # <<<<<<<<<<<<<<
+ *         return self.ctx.pid.mode
+ *     @mode.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.buf.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.mode.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":134
- *         return a_fpid_bufnum(&self.ctx)
- *     @buf.setter
- *     def buf(self, max: a_uint_t):             # <<<<<<<<<<<<<<
- *         self.ptr = PyMem_Realloc(self.ptr, A_FPID_BUF1(max))
- *         a_fpid_buf1(&self.ctx, self.ptr, max)
+/* "python/src/a/pid/neuron.pxi":82
+ *         return self.ctx.pid.mode
+ *     @mode.setter
+ *     def mode(self, mode: int):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.mode = mode
+ *     @property
  */
 
 /* Python wrapper */
-static int __pyx_pw_4liba_4fpid_3buf_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_max); /*proto*/
-static int __pyx_pw_4liba_4fpid_3buf_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_max) {
-  a_uint_t __pyx_v_max;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
+static int __pyx_pw_4liba_10pid_neuron_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_mode); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_4mode_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_mode) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
-  assert(__pyx_arg_max); {
-    __pyx_v_max = __Pyx_PyInt_As_a_uint_t(__pyx_arg_max); if (unlikely((__pyx_v_max == ((a_uint_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 134, __pyx_L3_error)
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("liba.fpid.buf.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return -1;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_4fpid_3buf_2__set__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((a_uint_t)__pyx_v_max));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_4mode_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((PyObject *)__pyx_v_mode));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_4fpid_3buf_2__set__(struct __pyx_obj_4liba_fpid *__pyx_v_self, a_uint_t __pyx_v_max) {
+static int __pyx_pf_4liba_10pid_neuron_4mode_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, PyObject *__pyx_v_mode) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
+  unsigned int __pyx_t_1;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 0);
 
-  /* "python/src/a/fpid.pxi":135
- *     @buf.setter
- *     def buf(self, max: a_uint_t):
- *         self.ptr = PyMem_Realloc(self.ptr, A_FPID_BUF1(max))             # <<<<<<<<<<<<<<
- *         a_fpid_buf1(&self.ctx, self.ptr, max)
- * 
- */
-  __pyx_v_self->ptr = PyMem_Realloc(__pyx_v_self->ptr, A_FPID_BUF1(__pyx_v_max));
-
-  /* "python/src/a/fpid.pxi":136
- *     def buf(self, max: a_uint_t):
- *         self.ptr = PyMem_Realloc(self.ptr, A_FPID_BUF1(max))
- *         a_fpid_buf1(&self.ctx, self.ptr, max)             # <<<<<<<<<<<<<<
- * 
+  /* "python/src/a/pid/neuron.pxi":83
+ *     @mode.setter
+ *     def mode(self, mode: int):
+ *         self.ctx.pid.mode = mode             # <<<<<<<<<<<<<<
  *     @property
+ *     def ec(self) -> a_float_t:
  */
-  (void)(a_fpid_buf1((&__pyx_v_self->ctx), __pyx_v_self->ptr, __pyx_v_max));
+  __pyx_t_1 = __Pyx_PyInt_As_unsigned_int(__pyx_v_mode); if (unlikely((__pyx_t_1 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(7, 83, __pyx_L1_error)
+  __pyx_v_self->ctx.pid.mode = __pyx_t_1;
 
-  /* "python/src/a/fpid.pxi":134
- *         return a_fpid_bufnum(&self.ctx)
- *     @buf.setter
- *     def buf(self, max: a_uint_t):             # <<<<<<<<<<<<<<
- *         self.ptr = PyMem_Realloc(self.ptr, A_FPID_BUF1(max))
- *         a_fpid_buf1(&self.ctx, self.ptr, max)
+  /* "python/src/a/pid/neuron.pxi":82
+ *         return self.ctx.pid.mode
+ *     @mode.setter
+ *     def mode(self, mode: int):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.mode = mode
+ *     @property
  */
 
   /* function exit code */
   __pyx_r = 0;
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_AddTraceback("liba.pid_neuron.mode.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
+  __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":139
- * 
+/* "python/src/a/pid/neuron.pxi":85
+ *         self.ctx.pid.mode = mode
  *     @property
- *     def col(self) -> a_uint_t:             # <<<<<<<<<<<<<<
- *         return a_fpid_col(&self.ctx)
+ *     def ec(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.ec.f
  *     @property
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_3col_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_3col_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_2ec_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_2ec_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_3col___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2ec___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_3col___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_2ec___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":140
+  /* "python/src/a/pid/neuron.pxi":86
  *     @property
- *     def col(self) -> a_uint_t:
- *         return a_fpid_col(&self.ctx)             # <<<<<<<<<<<<<<
+ *     def ec(self) -> a_float_t:
+ *         return self.ctx.ec.f             # <<<<<<<<<<<<<<
  *     @property
- *     def out(self) -> a_real_t:
+ *     def wp(self) -> a_float_t:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_a_uint_t(a_fpid_col((&__pyx_v_self->ctx))); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 140, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.ec.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 86, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":139
- * 
+  /* "python/src/a/pid/neuron.pxi":85
+ *         self.ctx.pid.mode = mode
  *     @property
- *     def col(self) -> a_uint_t:             # <<<<<<<<<<<<<<
- *         return a_fpid_col(&self.ctx)
+ *     def ec(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.ec.f
  *     @property
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.col.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.ec.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":142
- *         return a_fpid_col(&self.ctx)
- *     @property
- *     def out(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.out.f
+/* "python/src/a/pid/neuron.pxi":88
+ *         return self.ctx.ec.f
  *     @property
+ *     def wp(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.wp.f
+ *     @wp.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_3out_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_3out_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_2wp_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_2wp_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_3out___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2wp___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_3out___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_2wp___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":143
+  /* "python/src/a/pid/neuron.pxi":89
  *     @property
- *     def out(self) -> a_real_t:
- *         return self.ctx.pid.out.f             # <<<<<<<<<<<<<<
- *     @property
- *     def fdb(self) -> a_real_t:
+ *     def wp(self) -> a_float_t:
+ *         return self.ctx.wp.f             # <<<<<<<<<<<<<<
+ *     @wp.setter
+ *     def wp(self, wp: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.out.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 143, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.wp.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 89, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":142
- *         return a_fpid_col(&self.ctx)
- *     @property
- *     def out(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.out.f
+  /* "python/src/a/pid/neuron.pxi":88
+ *         return self.ctx.ec.f
  *     @property
+ *     def wp(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.wp.f
+ *     @wp.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.out.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.wp.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":145
- *         return self.ctx.pid.out.f
+/* "python/src/a/pid/neuron.pxi":91
+ *         return self.ctx.wp.f
+ *     @wp.setter
+ *     def wp(self, wp: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.wp.f = wp
  *     @property
- *     def fdb(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.fdb.f
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_10pid_neuron_2wp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_wp); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_2wp_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_wp) {
+  a_float_t __pyx_v_wp;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_wp); {
+    __pyx_v_wp = __pyx_PyFloat_AsFloat(__pyx_arg_wp); if (unlikely((__pyx_v_wp == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 91, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_neuron.wp.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2wp_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_wp));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_10pid_neuron_2wp_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_wp) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/neuron.pxi":92
+ *     @wp.setter
+ *     def wp(self, wp: a_float_t):
+ *         self.ctx.wp.f = wp             # <<<<<<<<<<<<<<
+ *     @property
+ *     def wi(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.wp.f = __pyx_v_wp;
+
+  /* "python/src/a/pid/neuron.pxi":91
+ *         return self.ctx.wp.f
+ *     @wp.setter
+ *     def wp(self, wp: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.wp.f = wp
  *     @property
  */
 
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/neuron.pxi":94
+ *         self.ctx.wp.f = wp
+ *     @property
+ *     def wi(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.wi.f
+ *     @wi.setter
+ */
+
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_3fdb_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_3fdb_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_2wi_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_2wi_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_3fdb___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2wi___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_3fdb___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_2wi___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":146
- *     @property
- *     def fdb(self) -> a_real_t:
- *         return self.ctx.pid.fdb.f             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid/neuron.pxi":95
  *     @property
- *     def ec(self) -> a_real_t:
+ *     def wi(self) -> a_float_t:
+ *         return self.ctx.wi.f             # <<<<<<<<<<<<<<
+ *     @wi.setter
+ *     def wi(self, wi: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.fdb.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 146, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.wi.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 95, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":145
- *         return self.ctx.pid.out.f
- *     @property
- *     def fdb(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.fdb.f
+  /* "python/src/a/pid/neuron.pxi":94
+ *         self.ctx.wp.f = wp
  *     @property
+ *     def wi(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.wi.f
+ *     @wi.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.fdb.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.wi.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":148
- *         return self.ctx.pid.fdb.f
+/* "python/src/a/pid/neuron.pxi":97
+ *         return self.ctx.wi.f
+ *     @wi.setter
+ *     def wi(self, wi: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.wi.f = wi
+ *     @property
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_10pid_neuron_2wi_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_wi); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_2wi_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_wi) {
+  a_float_t __pyx_v_wi;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_wi); {
+    __pyx_v_wi = __pyx_PyFloat_AsFloat(__pyx_arg_wi); if (unlikely((__pyx_v_wi == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 97, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_neuron.wi.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2wi_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_wi));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_10pid_neuron_2wi_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_wi) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/neuron.pxi":98
+ *     @wi.setter
+ *     def wi(self, wi: a_float_t):
+ *         self.ctx.wi.f = wi             # <<<<<<<<<<<<<<
+ *     @property
+ *     def wd(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.wi.f = __pyx_v_wi;
+
+  /* "python/src/a/pid/neuron.pxi":97
+ *         return self.ctx.wi.f
+ *     @wi.setter
+ *     def wi(self, wi: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.wi.f = wi
  *     @property
- *     def ec(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.ec.f
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/neuron.pxi":100
+ *         self.ctx.wi.f = wi
  *     @property
+ *     def wd(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.wd.f
+ *     @wd.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_2ec_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_2ec_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_2wd_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_2wd_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_2ec___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2wd___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_2ec___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_2wd___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":149
- *     @property
- *     def ec(self) -> a_real_t:
- *         return self.ctx.pid.ec.f             # <<<<<<<<<<<<<<
+  /* "python/src/a/pid/neuron.pxi":101
  *     @property
- *     def e(self) -> a_real_t:
+ *     def wd(self) -> a_float_t:
+ *         return self.ctx.wd.f             # <<<<<<<<<<<<<<
+ *     @wd.setter
+ *     def wd(self, wd: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.ec.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 149, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.wd.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 101, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":148
- *         return self.ctx.pid.fdb.f
- *     @property
- *     def ec(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.ec.f
+  /* "python/src/a/pid/neuron.pxi":100
+ *         self.ctx.wi.f = wi
  *     @property
+ *     def wd(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.wd.f
+ *     @wd.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.ec.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.wd.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/fpid.pxi":151
- *         return self.ctx.pid.ec.f
+/* "python/src/a/pid/neuron.pxi":103
+ *         return self.ctx.wd.f
+ *     @wd.setter
+ *     def wd(self, wd: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.wd.f = wd
+ *     @property
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_10pid_neuron_2wd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_wd); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_2wd_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_wd) {
+  a_float_t __pyx_v_wd;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_wd); {
+    __pyx_v_wd = __pyx_PyFloat_AsFloat(__pyx_arg_wd); if (unlikely((__pyx_v_wd == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 103, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_neuron.wd.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_2wd_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_wd));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_10pid_neuron_2wd_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_wd) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/neuron.pxi":104
+ *     @wd.setter
+ *     def wd(self, wd: a_float_t):
+ *         self.ctx.wd.f = wd             # <<<<<<<<<<<<<<
+ *     @property
+ *     def k(self) -> a_float_t:
+ */
+  __pyx_v_self->ctx.wd.f = __pyx_v_wd;
+
+  /* "python/src/a/pid/neuron.pxi":103
+ *         return self.ctx.wd.f
+ *     @wd.setter
+ *     def wd(self, wd: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.wd.f = wd
+ *     @property
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/pid/neuron.pxi":106
+ *         self.ctx.wd.f = wd
  *     @property
- *     def e(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.e.f
+ *     def k(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.k
+ *     @k.setter
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_1e_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_1e_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_1k_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_1k_1__get__(PyObject *__pyx_v_self) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_1e___get__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_1k___get__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_1e___get__(struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_1k___get__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/fpid.pxi":152
+  /* "python/src/a/pid/neuron.pxi":107
  *     @property
- *     def e(self) -> a_real_t:
- *         return self.ctx.pid.e.f             # <<<<<<<<<<<<<<
+ *     def k(self) -> a_float_t:
+ *         return self.ctx.k             # <<<<<<<<<<<<<<
+ *     @k.setter
+ *     def k(self, k: a_float_t):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.pid.e.f); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 152, __pyx_L1_error)
+  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->ctx.k); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 107, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/fpid.pxi":151
- *         return self.ctx.pid.ec.f
+  /* "python/src/a/pid/neuron.pxi":106
+ *         self.ctx.wd.f = wd
  *     @property
- *     def e(self) -> a_real_t:             # <<<<<<<<<<<<<<
- *         return self.ctx.pid.e.f
+ *     def k(self) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         return self.ctx.k
+ *     @k.setter
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.e.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.k.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
+/* "python/src/a/pid/neuron.pxi":109
+ *         return self.ctx.k
+ *     @k.setter
+ *     def k(self, k: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.k = k
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_10pid_neuron_1k_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_k); /*proto*/
+static int __pyx_pw_4liba_10pid_neuron_1k_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_arg_k) {
+  a_float_t __pyx_v_k;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  assert(__pyx_arg_k); {
+    __pyx_v_k = __pyx_PyFloat_AsFloat(__pyx_arg_k); if (unlikely((__pyx_v_k == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(7, 109, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.pid_neuron.k.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_1k_2__set__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((a_float_t)__pyx_v_k));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_10pid_neuron_1k_2__set__(struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, a_float_t __pyx_v_k) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/pid/neuron.pxi":110
+ *     @k.setter
+ *     def k(self, k: a_float_t):
+ *         self.ctx.k = k             # <<<<<<<<<<<<<<
+ */
+  __pyx_v_self->ctx.k = __pyx_v_k;
+
+  /* "python/src/a/pid/neuron.pxi":109
+ *         return self.ctx.k
+ *     @k.setter
+ *     def k(self, k: a_float_t):             # <<<<<<<<<<<<<<
+ *         self.ctx.k = k
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
 /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_19__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_19__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_11__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_11__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_18__reduce_cython__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_10__reduce_cython__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_18__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_fpid *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_10__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid_neuron *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_cython__", 0);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__27, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
+  __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_4fpid_21__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
-static PyObject *__pyx_pw_4liba_4fpid_21__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pw_4liba_10pid_neuron_13__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_10pid_neuron_13__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_4fpid_20__setstate_cython__(((struct __pyx_obj_4liba_fpid *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+  __pyx_r = __pyx_pf_4liba_10pid_neuron_12__setstate_cython__(((struct __pyx_obj_4liba_pid_neuron *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_4fpid_20__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_fpid *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_4liba_10pid_neuron_12__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_pid_neuron *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__6, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__28, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
+  __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.fpid.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.pid_neuron.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/poly.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def poly_eval(x, *a):             # <<<<<<<<<<<<<<
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_13poly_eval(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static PyMethodDef __pyx_mdef_4liba_13poly_eval = {"poly_eval", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_13poly_eval, METH_VARARGS|METH_KEYWORDS, 0};
-static PyObject *__pyx_pw_4liba_13poly_eval(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+static PyObject *__pyx_pw_4liba_11poly_eval(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static PyMethodDef __pyx_mdef_4liba_11poly_eval = {"poly_eval", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_11poly_eval, METH_VARARGS|METH_KEYWORDS, 0};
+static PyObject *__pyx_pw_4liba_11poly_eval(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_x = 0;
   PyObject *__pyx_v_a = 0;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
@@ -13651,140 +16198,140 @@
   __Pyx_RaiseArgtupleInvalid("poly_eval", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(8, 5, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_DECREF(__pyx_v_a); __pyx_v_a = 0;
   __Pyx_AddTraceback("liba.poly_eval", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_12poly_eval(__pyx_self, __pyx_v_x, __pyx_v_a);
+  __pyx_r = __pyx_pf_4liba_10poly_eval(__pyx_self, __pyx_v_x, __pyx_v_a);
 
   /* function exit code */
   __Pyx_XDECREF(__pyx_v_a);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_12poly_eval(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x, PyObject *__pyx_v_a) {
+static PyObject *__pyx_pf_4liba_10poly_eval(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x, PyObject *__pyx_v_a) {
   arrayobject *__pyx_v_d = NULL;
   Py_ssize_t __pyx_v_n;
-  a_real_t *__pyx_v_p;
+  a_float_t *__pyx_v_p;
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_2;
+  struct __pyx_opt_args_4liba_floats __pyx_t_2;
   Py_ssize_t __pyx_t_3;
   int __pyx_t_4;
-  a_real_t __pyx_t_5;
+  a_float_t __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("poly_eval", 0);
 
   /* "python/src/a/poly.pxi":6
  * @cython.boundscheck(False)
  * def poly_eval(x, *a):
- *     d, n = reals(a), len(a)             # <<<<<<<<<<<<<<
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)             # <<<<<<<<<<<<<<
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  *     if iterable(x):
  */
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.o = __pyx_v_a;
-  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 6, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_3 = PyTuple_GET_SIZE(__pyx_v_a); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(8, 6, __pyx_L1_error)
   __pyx_v_d = ((arrayobject *)__pyx_t_1);
   __pyx_t_1 = 0;
   __pyx_v_n = __pyx_t_3;
 
   /* "python/src/a/poly.pxi":7
  * def poly_eval(x, *a):
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr             # <<<<<<<<<<<<<<
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr             # <<<<<<<<<<<<<<
  *     if iterable(x):
- *         y = reals(x)
+ *         y = floats(x)
  */
-  __pyx_v_p = ((a_real_t *)__pyx_v_d->data.as_voidptr);
+  __pyx_v_p = ((a_float_t *)__pyx_v_d->data.as_voidptr);
 
   /* "python/src/a/poly.pxi":8
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  *     if iterable(x):             # <<<<<<<<<<<<<<
- *         y = reals(x)
- *         a_poly_evaln(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         y = floats(x)
+ *         a_poly_evaln(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  */
   __pyx_t_4 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_4) {
 
     /* "python/src/a/poly.pxi":9
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  *     if iterable(x):
- *         y = reals(x)             # <<<<<<<<<<<<<<
- *         a_poly_evaln(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         y = floats(x)             # <<<<<<<<<<<<<<
+ *         a_poly_evaln(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  *         return y
  */
     __pyx_t_2.__pyx_n = 1;
     __pyx_t_2.o = __pyx_v_x;
-    __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 9, __pyx_L1_error)
+    __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 9, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_v_y = ((arrayobject *)__pyx_t_1);
     __pyx_t_1 = 0;
 
     /* "python/src/a/poly.pxi":10
  *     if iterable(x):
- *         y = reals(x)
- *         a_poly_evaln(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)             # <<<<<<<<<<<<<<
+ *         y = floats(x)
+ *         a_poly_evaln(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)             # <<<<<<<<<<<<<<
  *         return y
  *     return a_poly_eval(p, n, x)
  */
     __pyx_t_3 = PyObject_Length(__pyx_v_x); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(8, 10, __pyx_L1_error)
-    (void)(a_poly_evaln(__pyx_v_p, __pyx_v_n, ((a_real_t *)__pyx_v_y->data.as_voidptr), __pyx_t_3, ((a_real_t *)__pyx_v_y->data.as_voidptr)));
+    (void)(a_poly_evaln(__pyx_v_p, __pyx_v_n, ((a_float_t *)__pyx_v_y->data.as_voidptr), __pyx_t_3, ((a_float_t *)__pyx_v_y->data.as_voidptr)));
 
     /* "python/src/a/poly.pxi":11
- *         y = reals(x)
- *         a_poly_evaln(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         y = floats(x)
+ *         a_poly_evaln(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  *         return y             # <<<<<<<<<<<<<<
  *     return a_poly_eval(p, n, x)
  * 
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/poly.pxi":8
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  *     if iterable(x):             # <<<<<<<<<<<<<<
- *         y = reals(x)
- *         a_poly_evaln(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         y = floats(x)
+ *         a_poly_evaln(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  */
   }
 
   /* "python/src/a/poly.pxi":12
- *         a_poly_evaln(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         a_poly_evaln(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  *         return y
  *     return a_poly_eval(p, n, x)             # <<<<<<<<<<<<<<
  * 
  * @cython.wraparound(False)
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_5 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_5 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(8, 12, __pyx_L1_error)
+  __pyx_t_5 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_5 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(8, 12, __pyx_L1_error)
   __pyx_t_1 = PyFloat_FromDouble(a_poly_eval(__pyx_v_p, __pyx_v_n, __pyx_t_5)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 12, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/poly.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def poly_eval(x, *a):             # <<<<<<<<<<<<<<
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_AddTraceback("liba.poly_eval", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
@@ -13796,22 +16343,22 @@
   return __pyx_r;
 }
 
 /* "python/src/a/poly.pxi":16
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def poly_evar(x, *a):             # <<<<<<<<<<<<<<
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_15poly_evar(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static PyMethodDef __pyx_mdef_4liba_15poly_evar = {"poly_evar", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_15poly_evar, METH_VARARGS|METH_KEYWORDS, 0};
-static PyObject *__pyx_pw_4liba_15poly_evar(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+static PyObject *__pyx_pw_4liba_13poly_evar(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static PyMethodDef __pyx_mdef_4liba_13poly_evar = {"poly_evar", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_13poly_evar, METH_VARARGS|METH_KEYWORDS, 0};
+static PyObject *__pyx_pw_4liba_13poly_evar(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_x = 0;
   PyObject *__pyx_v_a = 0;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
@@ -13860,137 +16407,137 @@
   __Pyx_RaiseArgtupleInvalid("poly_evar", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(8, 16, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_DECREF(__pyx_v_a); __pyx_v_a = 0;
   __Pyx_AddTraceback("liba.poly_evar", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_14poly_evar(__pyx_self, __pyx_v_x, __pyx_v_a);
+  __pyx_r = __pyx_pf_4liba_12poly_evar(__pyx_self, __pyx_v_x, __pyx_v_a);
 
   /* function exit code */
   __Pyx_XDECREF(__pyx_v_a);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_14poly_evar(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x, PyObject *__pyx_v_a) {
+static PyObject *__pyx_pf_4liba_12poly_evar(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_x, PyObject *__pyx_v_a) {
   arrayobject *__pyx_v_d = NULL;
   Py_ssize_t __pyx_v_n;
-  a_real_t *__pyx_v_p;
+  a_float_t *__pyx_v_p;
   arrayobject *__pyx_v_y = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_2;
+  struct __pyx_opt_args_4liba_floats __pyx_t_2;
   Py_ssize_t __pyx_t_3;
   int __pyx_t_4;
-  a_real_t __pyx_t_5;
+  a_float_t __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("poly_evar", 0);
 
   /* "python/src/a/poly.pxi":17
  * @cython.boundscheck(False)
  * def poly_evar(x, *a):
- *     d, n = reals(a), len(a)             # <<<<<<<<<<<<<<
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)             # <<<<<<<<<<<<<<
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  *     if iterable(x):
  */
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.o = __pyx_v_a;
-  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 17, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_3 = PyTuple_GET_SIZE(__pyx_v_a); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(8, 17, __pyx_L1_error)
   __pyx_v_d = ((arrayobject *)__pyx_t_1);
   __pyx_t_1 = 0;
   __pyx_v_n = __pyx_t_3;
 
   /* "python/src/a/poly.pxi":18
  * def poly_evar(x, *a):
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr             # <<<<<<<<<<<<<<
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr             # <<<<<<<<<<<<<<
  *     if iterable(x):
- *         y = reals(x)
+ *         y = floats(x)
  */
-  __pyx_v_p = ((a_real_t *)__pyx_v_d->data.as_voidptr);
+  __pyx_v_p = ((a_float_t *)__pyx_v_d->data.as_voidptr);
 
   /* "python/src/a/poly.pxi":19
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  *     if iterable(x):             # <<<<<<<<<<<<<<
- *         y = reals(x)
- *         a_poly_evarn(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         y = floats(x)
+ *         a_poly_evarn(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  */
   __pyx_t_4 = (__pyx_f_4liba_iterable(__pyx_v_x) != 0);
   if (__pyx_t_4) {
 
     /* "python/src/a/poly.pxi":20
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  *     if iterable(x):
- *         y = reals(x)             # <<<<<<<<<<<<<<
- *         a_poly_evarn(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         y = floats(x)             # <<<<<<<<<<<<<<
+ *         a_poly_evarn(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  *         return y
  */
     __pyx_t_2.__pyx_n = 1;
     __pyx_t_2.o = __pyx_v_x;
-    __pyx_t_1 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 20, __pyx_L1_error)
+    __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 20, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_v_y = ((arrayobject *)__pyx_t_1);
     __pyx_t_1 = 0;
 
     /* "python/src/a/poly.pxi":21
  *     if iterable(x):
- *         y = reals(x)
- *         a_poly_evarn(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)             # <<<<<<<<<<<<<<
+ *         y = floats(x)
+ *         a_poly_evarn(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)             # <<<<<<<<<<<<<<
  *         return y
  *     return a_poly_evar(p, n, x)
  */
     __pyx_t_3 = PyObject_Length(__pyx_v_x); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(8, 21, __pyx_L1_error)
-    (void)(a_poly_evarn(__pyx_v_p, __pyx_v_n, ((a_real_t *)__pyx_v_y->data.as_voidptr), __pyx_t_3, ((a_real_t *)__pyx_v_y->data.as_voidptr)));
+    (void)(a_poly_evarn(__pyx_v_p, __pyx_v_n, ((a_float_t *)__pyx_v_y->data.as_voidptr), __pyx_t_3, ((a_float_t *)__pyx_v_y->data.as_voidptr)));
 
     /* "python/src/a/poly.pxi":22
- *         y = reals(x)
- *         a_poly_evarn(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         y = floats(x)
+ *         a_poly_evarn(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  *         return y             # <<<<<<<<<<<<<<
  *     return a_poly_evar(p, n, x)
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_y));
     __pyx_r = ((PyObject *)__pyx_v_y);
     goto __pyx_L0;
 
     /* "python/src/a/poly.pxi":19
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  *     if iterable(x):             # <<<<<<<<<<<<<<
- *         y = reals(x)
- *         a_poly_evarn(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         y = floats(x)
+ *         a_poly_evarn(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  */
   }
 
   /* "python/src/a/poly.pxi":23
- *         a_poly_evarn(p, n, <a_real_t *>y.data.as_voidptr, len(x), <a_real_t *>y.data.as_voidptr)
+ *         a_poly_evarn(p, n, <a_float_t *>y.data.as_voidptr, len(x), <a_float_t *>y.data.as_voidptr)
  *         return y
  *     return a_poly_evar(p, n, x)             # <<<<<<<<<<<<<<
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_5 = __pyx_PyFloat_AsDouble(__pyx_v_x); if (unlikely((__pyx_t_5 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(8, 23, __pyx_L1_error)
+  __pyx_t_5 = __pyx_PyFloat_AsFloat(__pyx_v_x); if (unlikely((__pyx_t_5 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(8, 23, __pyx_L1_error)
   __pyx_t_1 = PyFloat_FromDouble(a_poly_evar(__pyx_v_p, __pyx_v_n, __pyx_t_5)); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/poly.pxi":16
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def poly_evar(x, *a):             # <<<<<<<<<<<<<<
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_AddTraceback("liba.poly_evar", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
@@ -14001,28 +16548,28 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/polytrack.pxi":8
  *     '''cubic polynomial trajectory'''
  *     cdef a_polytrack3_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):             # <<<<<<<<<<<<<<
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):             # <<<<<<<<<<<<<<
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
  */
 
 /* Python wrapper */
 static int __pyx_pw_4liba_10polytrack3_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static int __pyx_pw_4liba_10polytrack3_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_t0;
-  a_real_t __pyx_v_t1;
-  a_real_t __pyx_v_q0;
-  a_real_t __pyx_v_q1;
-  a_real_t __pyx_v_v0;
-  a_real_t __pyx_v_v1;
+  a_float_t __pyx_v_t0;
+  a_float_t __pyx_v_t1;
+  a_float_t __pyx_v_q0;
+  a_float_t __pyx_v_q1;
+  a_float_t __pyx_v_v0;
+  a_float_t __pyx_v_v1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
   {
@@ -14096,27 +16643,27 @@
         values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
-    __pyx_v_t0 = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_t0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
-    __pyx_v_t1 = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_t1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
-    __pyx_v_q0 = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_q0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
-    __pyx_v_q1 = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_q1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
+    __pyx_v_t0 = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_t0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
+    __pyx_v_t1 = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_t1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
+    __pyx_v_q0 = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_q0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
+    __pyx_v_q1 = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_q1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
     if (values[4]) {
-      __pyx_v_v0 = __pyx_PyFloat_AsDouble(values[4]); if (unlikely((__pyx_v_v0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
+      __pyx_v_v0 = __pyx_PyFloat_AsFloat(values[4]); if (unlikely((__pyx_v_v0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
     } else {
-      __pyx_v_v0 = ((a_real_t)0.0);
+      __pyx_v_v0 = ((a_float_t)0.0);
     }
     if (values[5]) {
-      __pyx_v_v1 = __pyx_PyFloat_AsDouble(values[5]); if (unlikely((__pyx_v_v1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
+      __pyx_v_v1 = __pyx_PyFloat_AsFloat(values[5]); if (unlikely((__pyx_v_v1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 8, __pyx_L3_error)
     } else {
-      __pyx_v_v1 = ((a_real_t)0.0);
+      __pyx_v_v1 = ((a_float_t)0.0);
     }
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
   __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 6, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 8, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.polytrack3.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
@@ -14126,60 +16673,60 @@
   __pyx_r = __pyx_pf_4liba_10polytrack3___cinit__(((struct __pyx_obj_4liba_polytrack3 *)__pyx_v_self), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_10polytrack3___cinit__(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1) {
+static int __pyx_pf_4liba_10polytrack3___cinit__(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__", 0);
 
   /* "python/src/a/polytrack.pxi":9
  *     cdef a_polytrack3_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)             # <<<<<<<<<<<<<<
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
  *         '''generation function'''
  */
   a_polytrack3_gen((&__pyx_v_self->ctx), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1);
 
   /* "python/src/a/polytrack.pxi":8
  *     '''cubic polynomial trajectory'''
  *     cdef a_polytrack3_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):             # <<<<<<<<<<<<<<
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):             # <<<<<<<<<<<<<<
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/polytrack.pxi":10
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):             # <<<<<<<<<<<<<<
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):             # <<<<<<<<<<<<<<
  *         '''generation function'''
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_10polytrack3_3gen(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_10polytrack3_2gen[] = "generation function";
 static PyObject *__pyx_pw_4liba_10polytrack3_3gen(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_t0;
-  a_real_t __pyx_v_t1;
-  a_real_t __pyx_v_q0;
-  a_real_t __pyx_v_q1;
-  a_real_t __pyx_v_v0;
-  a_real_t __pyx_v_v1;
+  a_float_t __pyx_v_t0;
+  a_float_t __pyx_v_t1;
+  a_float_t __pyx_v_q0;
+  a_float_t __pyx_v_q1;
+  a_float_t __pyx_v_v0;
+  a_float_t __pyx_v_v1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("gen (wrapper)", 0);
   {
@@ -14253,27 +16800,27 @@
         values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
-    __pyx_v_t0 = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_t0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
-    __pyx_v_t1 = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_t1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
-    __pyx_v_q0 = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_q0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
-    __pyx_v_q1 = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_q1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
+    __pyx_v_t0 = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_t0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
+    __pyx_v_t1 = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_t1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
+    __pyx_v_q0 = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_q0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
+    __pyx_v_q1 = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_q1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
     if (values[4]) {
-      __pyx_v_v0 = __pyx_PyFloat_AsDouble(values[4]); if (unlikely((__pyx_v_v0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
+      __pyx_v_v0 = __pyx_PyFloat_AsFloat(values[4]); if (unlikely((__pyx_v_v0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
     } else {
-      __pyx_v_v0 = ((a_real_t)0.0);
+      __pyx_v_v0 = ((a_float_t)0.0);
     }
     if (values[5]) {
-      __pyx_v_v1 = __pyx_PyFloat_AsDouble(values[5]); if (unlikely((__pyx_v_v1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
+      __pyx_v_v1 = __pyx_PyFloat_AsFloat(values[5]); if (unlikely((__pyx_v_v1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 10, __pyx_L3_error)
     } else {
-      __pyx_v_v1 = ((a_real_t)0.0);
+      __pyx_v_v1 = ((a_float_t)0.0);
     }
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
   __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 6, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 10, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.polytrack3.gen", __pyx_clineno, __pyx_lineno, __pyx_filename);
@@ -14283,32 +16830,32 @@
   __pyx_r = __pyx_pf_4liba_10polytrack3_2gen(((struct __pyx_obj_4liba_polytrack3 *)__pyx_v_self), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack3_2gen(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1) {
+static PyObject *__pyx_pf_4liba_10polytrack3_2gen(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("gen", 0);
 
   /* "python/src/a/polytrack.pxi":12
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
  *         '''generation function'''
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)             # <<<<<<<<<<<<<<
  *     def __call__(self, dt):
  *         '''calculate all'''
  */
   a_polytrack3_gen((&__pyx_v_self->ctx), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1);
 
   /* "python/src/a/polytrack.pxi":10
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0):             # <<<<<<<<<<<<<<
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0):             # <<<<<<<<<<<<<<
  *         '''generation function'''
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
@@ -14317,15 +16864,15 @@
 }
 
 /* "python/src/a/polytrack.pxi":13
  *         '''generation function'''
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
  *     def __call__(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate all'''
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_10polytrack3_5__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_10polytrack3_4__call__[] = "calculate all";
 #if CYTHON_UPDATE_DESCRIPTOR_DOC
 struct wrapperbase __pyx_wrapperbase_4liba_10polytrack3_4__call__;
@@ -14378,91 +16925,91 @@
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_pf_4liba_10polytrack3_4__call__(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, PyObject *__pyx_v_dt) {
-  a_real_t __pyx_v_out[3];
+  a_float_t __pyx_v_out[3];
   arrayobject *__pyx_v_p = NULL;
   arrayobject *__pyx_v_v = NULL;
   arrayobject *__pyx_v_a = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__call__", 0);
 
   /* "python/src/a/polytrack.pxi":16
  *         '''calculate all'''
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             p = reals(dt)
- *             v = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/polytrack.pxi":17
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  *         if iterable(dt):
- *             p = reals(dt)             # <<<<<<<<<<<<<<
- *             v = reals(dt)
- *             a = reals(dt)
+ *             p = floats(dt)             # <<<<<<<<<<<<<<
+ *             v = floats(dt)
+ *             a = floats(dt)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 17, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 17, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_p = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":18
  *         if iterable(dt):
- *             p = reals(dt)
- *             v = reals(dt)             # <<<<<<<<<<<<<<
- *             a = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)             # <<<<<<<<<<<<<<
+ *             a = floats(dt)
  *             for i, it in enumerate(dt):
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 18, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 18, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_v = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":19
- *             p = reals(dt)
- *             v = reals(dt)
- *             a = reals(dt)             # <<<<<<<<<<<<<<
+ *             p = floats(dt)
+ *             v = floats(dt)
+ *             a = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
  *                 a_polytrack3_out(&self.ctx, it, out)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 19, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 19, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_a = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":20
- *             v = reals(dt)
- *             a = reals(dt)
+ *             v = floats(dt)
+ *             a = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 a_polytrack3_out(&self.ctx, it, out)
  *                 p[i] = out[0]
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
@@ -14511,21 +17058,21 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 20, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/polytrack.pxi":21
- *             a = reals(dt)
+ *             a = floats(dt)
  *             for i, it in enumerate(dt):
  *                 a_polytrack3_out(&self.ctx, it, out)             # <<<<<<<<<<<<<<
  *                 p[i] = out[0]
  *                 v[i] = out[1]
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 21, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 21, __pyx_L1_error)
       a_polytrack3_out((&__pyx_v_self->ctx), __pyx_t_8, __pyx_v_out);
 
       /* "python/src/a/polytrack.pxi":22
  *             for i, it in enumerate(dt):
  *                 a_polytrack3_out(&self.ctx, it, out)
  *                 p[i] = out[0]             # <<<<<<<<<<<<<<
  *                 v[i] = out[1]
@@ -14557,16 +17104,16 @@
  */
       __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 24, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_a), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 24, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/polytrack.pxi":20
- *             v = reals(dt)
- *             a = reals(dt)
+ *             v = floats(dt)
+ *             a = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 a_polytrack3_out(&self.ctx, it, out)
  *                 p[i] = out[0]
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
@@ -14592,29 +17139,29 @@
     PyTuple_SET_ITEM(__pyx_t_2, 2, ((PyObject *)__pyx_v_a));
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
     /* "python/src/a/polytrack.pxi":16
  *         '''calculate all'''
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             p = reals(dt)
- *             v = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)
  */
   }
 
   /* "python/src/a/polytrack.pxi":26
  *                 a[i] = out[2]
  *             return p, v, a
  *         a_polytrack3_out(&self.ctx, dt, out)             # <<<<<<<<<<<<<<
  *         return out[0], out[1], out[2]
  *     def pos(self, dt):
  */
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 26, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 26, __pyx_L1_error)
   a_polytrack3_out((&__pyx_v_self->ctx), __pyx_t_8, __pyx_v_out);
 
   /* "python/src/a/polytrack.pxi":27
  *             return p, v, a
  *         a_polytrack3_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2]             # <<<<<<<<<<<<<<
  *     def pos(self, dt):
@@ -14643,15 +17190,15 @@
   goto __pyx_L0;
 
   /* "python/src/a/polytrack.pxi":13
  *         '''generation function'''
  *         a_polytrack3_gen(&self.ctx, t0, t1, q0, q1, v0, v1)
  *     def __call__(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate all'''
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_7);
@@ -14695,52 +17242,52 @@
   arrayobject *__pyx_v_out = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("pos", 0);
 
   /* "python/src/a/polytrack.pxi":30
  *     def pos(self, dt):
  *         '''calculate position'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/polytrack.pxi":31
  *         '''calculate position'''
  *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack3_pos(&self.ctx, it)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 31, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 31, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_out = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":32
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack3_pos(&self.ctx, it)
  *             return out
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
@@ -14789,67 +17336,67 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 32, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/polytrack.pxi":33
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack3_pos(&self.ctx, it)             # <<<<<<<<<<<<<<
  *             return out
  *         return a_polytrack3_pos(&self.ctx, dt)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 33, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 33, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_polytrack3_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 33, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 33, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/polytrack.pxi":32
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack3_pos(&self.ctx, it)
  *             return out
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":34
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack3_pos(&self.ctx, it)
  *             return out             # <<<<<<<<<<<<<<
  *         return a_polytrack3_pos(&self.ctx, dt)
- *     def vec(self, dt):
+ *     def vel(self, dt):
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_out));
     __pyx_r = ((PyObject *)__pyx_v_out);
     goto __pyx_L0;
 
     /* "python/src/a/polytrack.pxi":30
  *     def pos(self, dt):
  *         '''calculate position'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   }
 
   /* "python/src/a/polytrack.pxi":35
  *                 out[i] = a_polytrack3_pos(&self.ctx, it)
  *             return out
  *         return a_polytrack3_pos(&self.ctx, dt)             # <<<<<<<<<<<<<<
- *     def vec(self, dt):
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 35, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 35, __pyx_L1_error)
   __pyx_t_2 = PyFloat_FromDouble(a_polytrack3_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 35, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/polytrack.pxi":28
@@ -14875,81 +17422,81 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/polytrack.pxi":36
  *             return out
  *         return a_polytrack3_pos(&self.ctx, dt)
- *     def vec(self, dt):             # <<<<<<<<<<<<<<
+ *     def vel(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate velocity'''
  *         if iterable(dt):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_10polytrack3_9vec(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
-static char __pyx_doc_4liba_10polytrack3_8vec[] = "calculate velocity";
-static PyObject *__pyx_pw_4liba_10polytrack3_9vec(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
+static PyObject *__pyx_pw_4liba_10polytrack3_9vel(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
+static char __pyx_doc_4liba_10polytrack3_8vel[] = "calculate velocity";
+static PyObject *__pyx_pw_4liba_10polytrack3_9vel(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("vec (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10polytrack3_8vec(((struct __pyx_obj_4liba_polytrack3 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
+  __Pyx_RefNannySetupContext("vel (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10polytrack3_8vel(((struct __pyx_obj_4liba_polytrack3 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack3_8vec(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, PyObject *__pyx_v_dt) {
+static PyObject *__pyx_pf_4liba_10polytrack3_8vel(struct __pyx_obj_4liba_polytrack3 *__pyx_v_self, PyObject *__pyx_v_dt) {
   arrayobject *__pyx_v_out = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("vec", 0);
+  __Pyx_RefNannySetupContext("vel", 0);
 
   /* "python/src/a/polytrack.pxi":38
- *     def vec(self, dt):
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/polytrack.pxi":39
  *         '''calculate velocity'''
  *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack3_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack3_vel(&self.ctx, it)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 39, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 39, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_out = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":40
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack3_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack3_vel(&self.ctx, it)
  *             return out
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
       __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
@@ -14996,100 +17543,100 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 40, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/polytrack.pxi":41
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack3_vec(&self.ctx, it)             # <<<<<<<<<<<<<<
+ *                 out[i] = a_polytrack3_vel(&self.ctx, it)             # <<<<<<<<<<<<<<
  *             return out
- *         return a_polytrack3_vec(&self.ctx, dt)
+ *         return a_polytrack3_vel(&self.ctx, dt)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 41, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_polytrack3_vec((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 41, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 41, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble(a_polytrack3_vel((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 41, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 41, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/polytrack.pxi":40
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack3_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack3_vel(&self.ctx, it)
  *             return out
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":42
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack3_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack3_vel(&self.ctx, it)
  *             return out             # <<<<<<<<<<<<<<
- *         return a_polytrack3_vec(&self.ctx, dt)
+ *         return a_polytrack3_vel(&self.ctx, dt)
  *     def acc(self, dt):
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_out));
     __pyx_r = ((PyObject *)__pyx_v_out);
     goto __pyx_L0;
 
     /* "python/src/a/polytrack.pxi":38
- *     def vec(self, dt):
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   }
 
   /* "python/src/a/polytrack.pxi":43
- *                 out[i] = a_polytrack3_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack3_vel(&self.ctx, it)
  *             return out
- *         return a_polytrack3_vec(&self.ctx, dt)             # <<<<<<<<<<<<<<
+ *         return a_polytrack3_vel(&self.ctx, dt)             # <<<<<<<<<<<<<<
  *     def acc(self, dt):
  *         '''calculate acceleration'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 43, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_polytrack3_vec((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 43, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 43, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble(a_polytrack3_vel((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 43, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/polytrack.pxi":36
  *             return out
  *         return a_polytrack3_pos(&self.ctx, dt)
- *     def vec(self, dt):             # <<<<<<<<<<<<<<
+ *     def vel(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate velocity'''
  *         if iterable(dt):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("liba.polytrack3.vec", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.polytrack3.vel", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_out);
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "python/src/a/polytrack.pxi":44
  *             return out
- *         return a_polytrack3_vec(&self.ctx, dt)
+ *         return a_polytrack3_vel(&self.ctx, dt)
  *     def acc(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate acceleration'''
  *         if iterable(dt):
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_10polytrack3_11acc(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
@@ -15109,52 +17656,52 @@
   arrayobject *__pyx_v_out = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("acc", 0);
 
   /* "python/src/a/polytrack.pxi":46
  *     def acc(self, dt):
  *         '''calculate acceleration'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
     /* "python/src/a/polytrack.pxi":47
  *         '''calculate acceleration'''
  *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack3_acc(&self.ctx, it)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 47, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 47, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_out = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":48
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack3_acc(&self.ctx, it)
  *             return out
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
@@ -15203,76 +17750,76 @@
       __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 48, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
       /* "python/src/a/polytrack.pxi":49
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack3_acc(&self.ctx, it)             # <<<<<<<<<<<<<<
  *             return out
  *         return a_polytrack3_acc(&self.ctx, dt)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 49, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 49, __pyx_L1_error)
       __pyx_t_7 = PyFloat_FromDouble(a_polytrack3_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 49, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 49, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
       /* "python/src/a/polytrack.pxi":48
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack3_acc(&self.ctx, it)
  *             return out
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
     /* "python/src/a/polytrack.pxi":50
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack3_acc(&self.ctx, it)
  *             return out             # <<<<<<<<<<<<<<
  *         return a_polytrack3_acc(&self.ctx, dt)
- * 
+ *     @property
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_out));
     __pyx_r = ((PyObject *)__pyx_v_out);
     goto __pyx_L0;
 
     /* "python/src/a/polytrack.pxi":46
  *     def acc(self, dt):
  *         '''calculate acceleration'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   }
 
   /* "python/src/a/polytrack.pxi":51
  *                 out[i] = a_polytrack3_acc(&self.ctx, it)
  *             return out
  *         return a_polytrack3_acc(&self.ctx, dt)             # <<<<<<<<<<<<<<
- * 
  *     @property
+ *     def k(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 51, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 51, __pyx_L1_error)
   __pyx_t_2 = PyFloat_FromDouble(a_polytrack3_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 51, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
   /* "python/src/a/polytrack.pxi":44
  *             return out
- *         return a_polytrack3_vec(&self.ctx, dt)
+ *         return a_polytrack3_vel(&self.ctx, dt)
  *     def acc(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate acceleration'''
  *         if iterable(dt):
  */
 
   /* function exit code */
   __pyx_L1_error:;
@@ -15286,16 +17833,16 @@
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":54
- * 
+/* "python/src/a/polytrack.pxi":53
+ *         return a_polytrack3_acc(&self.ctx, dt)
  *     @property
  *     def k(self):             # <<<<<<<<<<<<<<
  *         return self.ctx.k
  * 
  */
 
 /* Python wrapper */
@@ -15316,30 +17863,30 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/polytrack.pxi":55
+  /* "python/src/a/polytrack.pxi":54
  *     @property
  *     def k(self):
  *         return self.ctx.k             # <<<<<<<<<<<<<<
  * 
  * @cython.wraparound(False)
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_carray_to_py_a_real_t(__pyx_v_self->ctx.k, 4); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 55, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_carray_to_py_a_float_t(__pyx_v_self->ctx.k, 4); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 54, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":54
- * 
+  /* "python/src/a/polytrack.pxi":53
+ *         return a_polytrack3_acc(&self.ctx, dt)
  *     @property
  *     def k(self):             # <<<<<<<<<<<<<<
  *         return self.ctx.k
  * 
  */
 
   /* function exit code */
@@ -15383,19 +17930,19 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__29, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
+  __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  */
 
@@ -15439,19 +17986,19 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__30, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
+  __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
@@ -15462,33 +18009,33 @@
   __Pyx_AddTraceback("liba.polytrack3.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":62
+/* "python/src/a/polytrack.pxi":61
  *     '''quintic polynomial trajectory'''
  *     cdef a_polytrack5_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):             # <<<<<<<<<<<<<<
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):             # <<<<<<<<<<<<<<
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
  */
 
 /* Python wrapper */
 static int __pyx_pw_4liba_10polytrack5_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static int __pyx_pw_4liba_10polytrack5_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_t0;
-  a_real_t __pyx_v_t1;
-  a_real_t __pyx_v_q0;
-  a_real_t __pyx_v_q1;
-  a_real_t __pyx_v_v0;
-  a_real_t __pyx_v_v1;
-  a_real_t __pyx_v_a0;
-  a_real_t __pyx_v_a1;
+  a_float_t __pyx_v_t0;
+  a_float_t __pyx_v_t1;
+  a_float_t __pyx_v_q0;
+  a_float_t __pyx_v_q1;
+  a_float_t __pyx_v_v0;
+  a_float_t __pyx_v_v1;
+  a_float_t __pyx_v_a0;
+  a_float_t __pyx_v_a1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
   {
@@ -15522,27 +18069,27 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_t0)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_t1)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 8, 1); __PYX_ERR(9, 62, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 8, 1); __PYX_ERR(9, 61, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_q0)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 8, 2); __PYX_ERR(9, 62, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 8, 2); __PYX_ERR(9, 61, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  3:
         if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_q1)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 8, 3); __PYX_ERR(9, 62, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 8, 3); __PYX_ERR(9, 61, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_v0);
           if (value) { values[4] = value; kw_args--; }
         }
@@ -15562,15 +18109,15 @@
         case  7:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_a1);
           if (value) { values[7] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(9, 62, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(9, 61, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
         CYTHON_FALLTHROUGH;
         case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
         CYTHON_FALLTHROUGH;
@@ -15582,102 +18129,102 @@
         values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
-    __pyx_v_t0 = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_t0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 62, __pyx_L3_error)
-    __pyx_v_t1 = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_t1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 62, __pyx_L3_error)
-    __pyx_v_q0 = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_q0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 62, __pyx_L3_error)
-    __pyx_v_q1 = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_q1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 62, __pyx_L3_error)
+    __pyx_v_t0 = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_t0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 61, __pyx_L3_error)
+    __pyx_v_t1 = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_t1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 61, __pyx_L3_error)
+    __pyx_v_q0 = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_q0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 61, __pyx_L3_error)
+    __pyx_v_q1 = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_q1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 61, __pyx_L3_error)
     if (values[4]) {
-      __pyx_v_v0 = __pyx_PyFloat_AsDouble(values[4]); if (unlikely((__pyx_v_v0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 62, __pyx_L3_error)
+      __pyx_v_v0 = __pyx_PyFloat_AsFloat(values[4]); if (unlikely((__pyx_v_v0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 61, __pyx_L3_error)
     } else {
-      __pyx_v_v0 = ((a_real_t)0.0);
+      __pyx_v_v0 = ((a_float_t)0.0);
     }
     if (values[5]) {
-      __pyx_v_v1 = __pyx_PyFloat_AsDouble(values[5]); if (unlikely((__pyx_v_v1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 62, __pyx_L3_error)
+      __pyx_v_v1 = __pyx_PyFloat_AsFloat(values[5]); if (unlikely((__pyx_v_v1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 61, __pyx_L3_error)
     } else {
-      __pyx_v_v1 = ((a_real_t)0.0);
+      __pyx_v_v1 = ((a_float_t)0.0);
     }
     if (values[6]) {
-      __pyx_v_a0 = __pyx_PyFloat_AsDouble(values[6]); if (unlikely((__pyx_v_a0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 62, __pyx_L3_error)
+      __pyx_v_a0 = __pyx_PyFloat_AsFloat(values[6]); if (unlikely((__pyx_v_a0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 61, __pyx_L3_error)
     } else {
-      __pyx_v_a0 = ((a_real_t)0.0);
+      __pyx_v_a0 = ((a_float_t)0.0);
     }
     if (values[7]) {
-      __pyx_v_a1 = __pyx_PyFloat_AsDouble(values[7]); if (unlikely((__pyx_v_a1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 62, __pyx_L3_error)
+      __pyx_v_a1 = __pyx_PyFloat_AsFloat(values[7]); if (unlikely((__pyx_v_a1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 61, __pyx_L3_error)
     } else {
-      __pyx_v_a1 = ((a_real_t)0.0);
+      __pyx_v_a1 = ((a_float_t)0.0);
     }
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 8, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 62, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 8, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 61, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.polytrack5.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_4liba_10polytrack5___cinit__(((struct __pyx_obj_4liba_polytrack5 *)__pyx_v_self), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1, __pyx_v_a0, __pyx_v_a1);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_10polytrack5___cinit__(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1, a_real_t __pyx_v_a0, a_real_t __pyx_v_a1) {
+static int __pyx_pf_4liba_10polytrack5___cinit__(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1, a_float_t __pyx_v_a0, a_float_t __pyx_v_a1) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__", 0);
 
-  /* "python/src/a/polytrack.pxi":63
+  /* "python/src/a/polytrack.pxi":62
  *     cdef a_polytrack5_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)             # <<<<<<<<<<<<<<
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
  *         '''generation function'''
  */
   a_polytrack5_gen((&__pyx_v_self->ctx), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1, __pyx_v_a0, __pyx_v_a1);
 
-  /* "python/src/a/polytrack.pxi":62
+  /* "python/src/a/polytrack.pxi":61
  *     '''quintic polynomial trajectory'''
  *     cdef a_polytrack5_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):             # <<<<<<<<<<<<<<
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):             # <<<<<<<<<<<<<<
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":64
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+/* "python/src/a/polytrack.pxi":63
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):             # <<<<<<<<<<<<<<
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):             # <<<<<<<<<<<<<<
  *         '''generation function'''
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_10polytrack5_3gen(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_10polytrack5_2gen[] = "generation function";
 static PyObject *__pyx_pw_4liba_10polytrack5_3gen(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_t0;
-  a_real_t __pyx_v_t1;
-  a_real_t __pyx_v_q0;
-  a_real_t __pyx_v_q1;
-  a_real_t __pyx_v_v0;
-  a_real_t __pyx_v_v1;
-  a_real_t __pyx_v_a0;
-  a_real_t __pyx_v_a1;
+  a_float_t __pyx_v_t0;
+  a_float_t __pyx_v_t1;
+  a_float_t __pyx_v_q0;
+  a_float_t __pyx_v_q1;
+  a_float_t __pyx_v_v0;
+  a_float_t __pyx_v_v1;
+  a_float_t __pyx_v_a0;
+  a_float_t __pyx_v_a1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("gen (wrapper)", 0);
   {
@@ -15711,27 +18258,27 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_t0)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_t1)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 8, 1); __PYX_ERR(9, 64, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 8, 1); __PYX_ERR(9, 63, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_q0)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 8, 2); __PYX_ERR(9, 64, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 8, 2); __PYX_ERR(9, 63, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  3:
         if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_q1)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 8, 3); __PYX_ERR(9, 64, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 8, 3); __PYX_ERR(9, 63, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_v0);
           if (value) { values[4] = value; kw_args--; }
         }
@@ -15751,15 +18298,15 @@
         case  7:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_a1);
           if (value) { values[7] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "gen") < 0)) __PYX_ERR(9, 64, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "gen") < 0)) __PYX_ERR(9, 63, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  8: values[7] = PyTuple_GET_ITEM(__pyx_args, 7);
         CYTHON_FALLTHROUGH;
         case  7: values[6] = PyTuple_GET_ITEM(__pyx_args, 6);
         CYTHON_FALLTHROUGH;
@@ -15771,89 +18318,89 @@
         values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
-    __pyx_v_t0 = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_t0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 64, __pyx_L3_error)
-    __pyx_v_t1 = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_t1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 64, __pyx_L3_error)
-    __pyx_v_q0 = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_q0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 64, __pyx_L3_error)
-    __pyx_v_q1 = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_q1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 64, __pyx_L3_error)
+    __pyx_v_t0 = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_t0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 63, __pyx_L3_error)
+    __pyx_v_t1 = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_t1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 63, __pyx_L3_error)
+    __pyx_v_q0 = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_q0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 63, __pyx_L3_error)
+    __pyx_v_q1 = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_q1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 63, __pyx_L3_error)
     if (values[4]) {
-      __pyx_v_v0 = __pyx_PyFloat_AsDouble(values[4]); if (unlikely((__pyx_v_v0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 64, __pyx_L3_error)
+      __pyx_v_v0 = __pyx_PyFloat_AsFloat(values[4]); if (unlikely((__pyx_v_v0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 63, __pyx_L3_error)
     } else {
-      __pyx_v_v0 = ((a_real_t)0.0);
+      __pyx_v_v0 = ((a_float_t)0.0);
     }
     if (values[5]) {
-      __pyx_v_v1 = __pyx_PyFloat_AsDouble(values[5]); if (unlikely((__pyx_v_v1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 64, __pyx_L3_error)
+      __pyx_v_v1 = __pyx_PyFloat_AsFloat(values[5]); if (unlikely((__pyx_v_v1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 63, __pyx_L3_error)
     } else {
-      __pyx_v_v1 = ((a_real_t)0.0);
+      __pyx_v_v1 = ((a_float_t)0.0);
     }
     if (values[6]) {
-      __pyx_v_a0 = __pyx_PyFloat_AsDouble(values[6]); if (unlikely((__pyx_v_a0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 64, __pyx_L3_error)
+      __pyx_v_a0 = __pyx_PyFloat_AsFloat(values[6]); if (unlikely((__pyx_v_a0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 63, __pyx_L3_error)
     } else {
-      __pyx_v_a0 = ((a_real_t)0.0);
+      __pyx_v_a0 = ((a_float_t)0.0);
     }
     if (values[7]) {
-      __pyx_v_a1 = __pyx_PyFloat_AsDouble(values[7]); if (unlikely((__pyx_v_a1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 64, __pyx_L3_error)
+      __pyx_v_a1 = __pyx_PyFloat_AsFloat(values[7]); if (unlikely((__pyx_v_a1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 63, __pyx_L3_error)
     } else {
-      __pyx_v_a1 = ((a_real_t)0.0);
+      __pyx_v_a1 = ((a_float_t)0.0);
     }
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 8, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 64, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 8, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 63, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.polytrack5.gen", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_4liba_10polytrack5_2gen(((struct __pyx_obj_4liba_polytrack5 *)__pyx_v_self), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1, __pyx_v_a0, __pyx_v_a1);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack5_2gen(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1, a_real_t __pyx_v_a0, a_real_t __pyx_v_a1) {
+static PyObject *__pyx_pf_4liba_10polytrack5_2gen(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1, a_float_t __pyx_v_a0, a_float_t __pyx_v_a1) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("gen", 0);
 
-  /* "python/src/a/polytrack.pxi":66
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+  /* "python/src/a/polytrack.pxi":65
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
  *         '''generation function'''
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)             # <<<<<<<<<<<<<<
  *     def __call__(self, dt):
  *         '''calculate all'''
  */
   a_polytrack5_gen((&__pyx_v_self->ctx), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1, __pyx_v_a0, __pyx_v_a1);
 
-  /* "python/src/a/polytrack.pxi":64
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):
+  /* "python/src/a/polytrack.pxi":63
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0):             # <<<<<<<<<<<<<<
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0):             # <<<<<<<<<<<<<<
  *         '''generation function'''
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":67
+/* "python/src/a/polytrack.pxi":66
  *         '''generation function'''
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
  *     def __call__(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate all'''
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_10polytrack5_5__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_10polytrack5_4__call__[] = "calculate all";
 #if CYTHON_UPDATE_DESCRIPTOR_DOC
 struct wrapperbase __pyx_wrapperbase_4liba_10polytrack5_4__call__;
@@ -15881,305 +18428,305 @@
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_dt)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(9, 67, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(9, 66, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_dt = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__call__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 67, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__call__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 66, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.polytrack5.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_4liba_10polytrack5_4__call__(((struct __pyx_obj_4liba_polytrack5 *)__pyx_v_self), __pyx_v_dt);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_pf_4liba_10polytrack5_4__call__(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, PyObject *__pyx_v_dt) {
-  a_real_t __pyx_v_out[3];
+  a_float_t __pyx_v_out[3];
   arrayobject *__pyx_v_p = NULL;
   arrayobject *__pyx_v_v = NULL;
   arrayobject *__pyx_v_a = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "python/src/a/polytrack.pxi":70
+  /* "python/src/a/polytrack.pxi":69
  *         '''calculate all'''
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             p = reals(dt)
- *             v = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/polytrack.pxi":71
- *         cdef a_real_t out[3]
+    /* "python/src/a/polytrack.pxi":70
+ *         cdef a_float_t out[3]
  *         if iterable(dt):
- *             p = reals(dt)             # <<<<<<<<<<<<<<
- *             v = reals(dt)
- *             a = reals(dt)
+ *             p = floats(dt)             # <<<<<<<<<<<<<<
+ *             v = floats(dt)
+ *             a = floats(dt)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 71, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 70, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_p = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":72
+    /* "python/src/a/polytrack.pxi":71
  *         if iterable(dt):
- *             p = reals(dt)
- *             v = reals(dt)             # <<<<<<<<<<<<<<
- *             a = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)             # <<<<<<<<<<<<<<
+ *             a = floats(dt)
  *             for i, it in enumerate(dt):
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 72, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 71, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_v = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":73
- *             p = reals(dt)
- *             v = reals(dt)
- *             a = reals(dt)             # <<<<<<<<<<<<<<
+    /* "python/src/a/polytrack.pxi":72
+ *             p = floats(dt)
+ *             v = floats(dt)
+ *             a = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
  *                 a_polytrack5_out(&self.ctx, it, out)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 73, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 72, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_a = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":74
- *             v = reals(dt)
- *             a = reals(dt)
+    /* "python/src/a/polytrack.pxi":73
+ *             v = floats(dt)
+ *             a = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 a_polytrack5_out(&self.ctx, it, out)
  *                 p[i] = out[0]
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
       __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 74, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 73, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 74, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 73, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 74, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 73, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 74, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 73, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 74, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 73, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 74, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 73, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 74, __pyx_L1_error)
+            else __PYX_ERR(9, 73, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 74, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 73, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":75
- *             a = reals(dt)
+      /* "python/src/a/polytrack.pxi":74
+ *             a = floats(dt)
  *             for i, it in enumerate(dt):
  *                 a_polytrack5_out(&self.ctx, it, out)             # <<<<<<<<<<<<<<
  *                 p[i] = out[0]
  *                 v[i] = out[1]
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 75, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 74, __pyx_L1_error)
       a_polytrack5_out((&__pyx_v_self->ctx), __pyx_t_8, __pyx_v_out);
 
-      /* "python/src/a/polytrack.pxi":76
+      /* "python/src/a/polytrack.pxi":75
  *             for i, it in enumerate(dt):
  *                 a_polytrack5_out(&self.ctx, it, out)
  *                 p[i] = out[0]             # <<<<<<<<<<<<<<
  *                 v[i] = out[1]
  *                 a[i] = out[2]
  */
-      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[0])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 76, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[0])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 75, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_p), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 76, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_p), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 75, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":77
+      /* "python/src/a/polytrack.pxi":76
  *                 a_polytrack5_out(&self.ctx, it, out)
  *                 p[i] = out[0]
  *                 v[i] = out[1]             # <<<<<<<<<<<<<<
  *                 a[i] = out[2]
  *             return p, v, a
  */
-      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[1])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 77, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[1])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 76, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_v), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 77, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_v), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 76, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":78
+      /* "python/src/a/polytrack.pxi":77
  *                 p[i] = out[0]
  *                 v[i] = out[1]
  *                 a[i] = out[2]             # <<<<<<<<<<<<<<
  *             return p, v, a
  *         a_polytrack5_out(&self.ctx, dt, out)
  */
-      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 78, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 77, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_a), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 78, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_a), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 77, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":74
- *             v = reals(dt)
- *             a = reals(dt)
+      /* "python/src/a/polytrack.pxi":73
+ *             v = floats(dt)
+ *             a = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 a_polytrack5_out(&self.ctx, it, out)
  *                 p[i] = out[0]
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":79
+    /* "python/src/a/polytrack.pxi":78
  *                 v[i] = out[1]
  *                 a[i] = out[2]
  *             return p, v, a             # <<<<<<<<<<<<<<
  *         a_polytrack5_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2]
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 79, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 78, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_INCREF(((PyObject *)__pyx_v_p));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_p));
     PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_v_p));
     __Pyx_INCREF(((PyObject *)__pyx_v_v));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_v));
     PyTuple_SET_ITEM(__pyx_t_2, 1, ((PyObject *)__pyx_v_v));
     __Pyx_INCREF(((PyObject *)__pyx_v_a));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_a));
     PyTuple_SET_ITEM(__pyx_t_2, 2, ((PyObject *)__pyx_v_a));
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "python/src/a/polytrack.pxi":70
+    /* "python/src/a/polytrack.pxi":69
  *         '''calculate all'''
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             p = reals(dt)
- *             v = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)
  */
   }
 
-  /* "python/src/a/polytrack.pxi":80
+  /* "python/src/a/polytrack.pxi":79
  *                 a[i] = out[2]
  *             return p, v, a
  *         a_polytrack5_out(&self.ctx, dt, out)             # <<<<<<<<<<<<<<
  *         return out[0], out[1], out[2]
  *     def pos(self, dt):
  */
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 80, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 79, __pyx_L1_error)
   a_polytrack5_out((&__pyx_v_self->ctx), __pyx_t_8, __pyx_v_out);
 
-  /* "python/src/a/polytrack.pxi":81
+  /* "python/src/a/polytrack.pxi":80
  *             return p, v, a
  *         a_polytrack5_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2]             # <<<<<<<<<<<<<<
  *     def pos(self, dt):
  *         '''calculate position'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = PyFloat_FromDouble((__pyx_v_out[0])); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 81, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble((__pyx_v_out[0])); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 80, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_4 = PyFloat_FromDouble((__pyx_v_out[1])); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 81, __pyx_L1_error)
+  __pyx_t_4 = PyFloat_FromDouble((__pyx_v_out[1])); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 80, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 81, __pyx_L1_error)
+  __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 80, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_7);
-  __pyx_t_9 = PyTuple_New(3); if (unlikely(!__pyx_t_9)) __PYX_ERR(9, 81, __pyx_L1_error)
+  __pyx_t_9 = PyTuple_New(3); if (unlikely(!__pyx_t_9)) __PYX_ERR(9, 80, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_9);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_4);
   PyTuple_SET_ITEM(__pyx_t_9, 1, __pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_7);
   PyTuple_SET_ITEM(__pyx_t_9, 2, __pyx_t_7);
   __pyx_t_2 = 0;
   __pyx_t_4 = 0;
   __pyx_t_7 = 0;
   __pyx_r = __pyx_t_9;
   __pyx_t_9 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":67
+  /* "python/src/a/polytrack.pxi":66
  *         '''generation function'''
  *         a_polytrack5_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1)
  *     def __call__(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate all'''
- *         cdef a_real_t out[3]
+ *         cdef a_float_t out[3]
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_7);
@@ -16193,15 +18740,15 @@
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":82
+/* "python/src/a/polytrack.pxi":81
  *         a_polytrack5_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2]
  *     def pos(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate position'''
  *         if iterable(dt):
  */
 
@@ -16223,168 +18770,168 @@
   arrayobject *__pyx_v_out = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("pos", 0);
 
-  /* "python/src/a/polytrack.pxi":84
+  /* "python/src/a/polytrack.pxi":83
  *     def pos(self, dt):
  *         '''calculate position'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/polytrack.pxi":85
+    /* "python/src/a/polytrack.pxi":84
  *         '''calculate position'''
  *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack5_pos(&self.ctx, it)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 85, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 84, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_out = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":86
+    /* "python/src/a/polytrack.pxi":85
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack5_pos(&self.ctx, it)
  *             return out
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
       __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 86, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 85, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 86, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 85, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 86, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 85, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 86, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 85, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 86, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 85, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 86, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 85, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 86, __pyx_L1_error)
+            else __PYX_ERR(9, 85, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 86, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 85, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":87
- *             out = reals(dt)
+      /* "python/src/a/polytrack.pxi":86
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack5_pos(&self.ctx, it)             # <<<<<<<<<<<<<<
  *             return out
  *         return a_polytrack5_pos(&self.ctx, dt)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 87, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_polytrack5_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 87, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 86, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble(a_polytrack5_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 86, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 87, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 86, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":86
+      /* "python/src/a/polytrack.pxi":85
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack5_pos(&self.ctx, it)
  *             return out
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":88
+    /* "python/src/a/polytrack.pxi":87
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack5_pos(&self.ctx, it)
  *             return out             # <<<<<<<<<<<<<<
  *         return a_polytrack5_pos(&self.ctx, dt)
- *     def vec(self, dt):
+ *     def vel(self, dt):
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_out));
     __pyx_r = ((PyObject *)__pyx_v_out);
     goto __pyx_L0;
 
-    /* "python/src/a/polytrack.pxi":84
+    /* "python/src/a/polytrack.pxi":83
  *     def pos(self, dt):
  *         '''calculate position'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   }
 
-  /* "python/src/a/polytrack.pxi":89
+  /* "python/src/a/polytrack.pxi":88
  *                 out[i] = a_polytrack5_pos(&self.ctx, it)
  *             return out
  *         return a_polytrack5_pos(&self.ctx, dt)             # <<<<<<<<<<<<<<
- *     def vec(self, dt):
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 89, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_polytrack5_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 89, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 88, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble(a_polytrack5_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 88, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":82
+  /* "python/src/a/polytrack.pxi":81
  *         a_polytrack5_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2]
  *     def pos(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate position'''
  *         if iterable(dt):
  */
 
@@ -16400,224 +18947,224 @@
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":90
+/* "python/src/a/polytrack.pxi":89
  *             return out
  *         return a_polytrack5_pos(&self.ctx, dt)
- *     def vec(self, dt):             # <<<<<<<<<<<<<<
+ *     def vel(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate velocity'''
  *         if iterable(dt):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_10polytrack5_9vec(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
-static char __pyx_doc_4liba_10polytrack5_8vec[] = "calculate velocity";
-static PyObject *__pyx_pw_4liba_10polytrack5_9vec(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
+static PyObject *__pyx_pw_4liba_10polytrack5_9vel(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
+static char __pyx_doc_4liba_10polytrack5_8vel[] = "calculate velocity";
+static PyObject *__pyx_pw_4liba_10polytrack5_9vel(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("vec (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10polytrack5_8vec(((struct __pyx_obj_4liba_polytrack5 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
+  __Pyx_RefNannySetupContext("vel (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10polytrack5_8vel(((struct __pyx_obj_4liba_polytrack5 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack5_8vec(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, PyObject *__pyx_v_dt) {
+static PyObject *__pyx_pf_4liba_10polytrack5_8vel(struct __pyx_obj_4liba_polytrack5 *__pyx_v_self, PyObject *__pyx_v_dt) {
   arrayobject *__pyx_v_out = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("vec", 0);
+  __Pyx_RefNannySetupContext("vel", 0);
 
-  /* "python/src/a/polytrack.pxi":92
- *     def vec(self, dt):
+  /* "python/src/a/polytrack.pxi":91
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/polytrack.pxi":93
+    /* "python/src/a/polytrack.pxi":92
  *         '''calculate velocity'''
  *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack5_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack5_vel(&self.ctx, it)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 93, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 92, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_out = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":94
+    /* "python/src/a/polytrack.pxi":93
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack5_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack5_vel(&self.ctx, it)
  *             return out
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
       __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 94, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 93, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 94, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 93, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 94, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 93, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 94, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 93, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 94, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 93, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 94, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 93, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 94, __pyx_L1_error)
+            else __PYX_ERR(9, 93, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 94, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 93, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":95
- *             out = reals(dt)
+      /* "python/src/a/polytrack.pxi":94
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack5_vec(&self.ctx, it)             # <<<<<<<<<<<<<<
+ *                 out[i] = a_polytrack5_vel(&self.ctx, it)             # <<<<<<<<<<<<<<
  *             return out
- *         return a_polytrack5_vec(&self.ctx, dt)
+ *         return a_polytrack5_vel(&self.ctx, dt)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 95, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_polytrack5_vec((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 95, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 94, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble(a_polytrack5_vel((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 94, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 95, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 94, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":94
+      /* "python/src/a/polytrack.pxi":93
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack5_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack5_vel(&self.ctx, it)
  *             return out
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":96
+    /* "python/src/a/polytrack.pxi":95
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack5_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack5_vel(&self.ctx, it)
  *             return out             # <<<<<<<<<<<<<<
- *         return a_polytrack5_vec(&self.ctx, dt)
+ *         return a_polytrack5_vel(&self.ctx, dt)
  *     def acc(self, dt):
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_out));
     __pyx_r = ((PyObject *)__pyx_v_out);
     goto __pyx_L0;
 
-    /* "python/src/a/polytrack.pxi":92
- *     def vec(self, dt):
+    /* "python/src/a/polytrack.pxi":91
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   }
 
-  /* "python/src/a/polytrack.pxi":97
- *                 out[i] = a_polytrack5_vec(&self.ctx, it)
+  /* "python/src/a/polytrack.pxi":96
+ *                 out[i] = a_polytrack5_vel(&self.ctx, it)
  *             return out
- *         return a_polytrack5_vec(&self.ctx, dt)             # <<<<<<<<<<<<<<
+ *         return a_polytrack5_vel(&self.ctx, dt)             # <<<<<<<<<<<<<<
  *     def acc(self, dt):
  *         '''calculate acceleration'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 97, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_polytrack5_vec((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 97, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 96, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble(a_polytrack5_vel((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 96, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":90
+  /* "python/src/a/polytrack.pxi":89
  *             return out
  *         return a_polytrack5_pos(&self.ctx, dt)
- *     def vec(self, dt):             # <<<<<<<<<<<<<<
+ *     def vel(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate velocity'''
  *         if iterable(dt):
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("liba.polytrack5.vec", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.polytrack5.vel", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_out);
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":98
+/* "python/src/a/polytrack.pxi":97
  *             return out
- *         return a_polytrack5_vec(&self.ctx, dt)
+ *         return a_polytrack5_vel(&self.ctx, dt)
  *     def acc(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate acceleration'''
  *         if iterable(dt):
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_10polytrack5_11acc(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
@@ -16637,170 +19184,170 @@
   arrayobject *__pyx_v_out = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("acc", 0);
 
-  /* "python/src/a/polytrack.pxi":100
+  /* "python/src/a/polytrack.pxi":99
  *     def acc(self, dt):
  *         '''calculate acceleration'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/polytrack.pxi":101
+    /* "python/src/a/polytrack.pxi":100
  *         '''calculate acceleration'''
  *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack5_acc(&self.ctx, it)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 101, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 100, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_out = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":102
+    /* "python/src/a/polytrack.pxi":101
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack5_acc(&self.ctx, it)
  *             return out
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
       __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 102, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 101, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 102, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 101, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 102, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 101, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 102, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 101, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 102, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 101, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 102, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 101, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 102, __pyx_L1_error)
+            else __PYX_ERR(9, 101, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 102, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 101, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":103
- *             out = reals(dt)
+      /* "python/src/a/polytrack.pxi":102
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack5_acc(&self.ctx, it)             # <<<<<<<<<<<<<<
  *             return out
  *         return a_polytrack5_acc(&self.ctx, dt)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 103, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_polytrack5_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 103, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 102, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble(a_polytrack5_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 102, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 103, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 102, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":102
+      /* "python/src/a/polytrack.pxi":101
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack5_acc(&self.ctx, it)
  *             return out
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":104
+    /* "python/src/a/polytrack.pxi":103
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack5_acc(&self.ctx, it)
  *             return out             # <<<<<<<<<<<<<<
  *         return a_polytrack5_acc(&self.ctx, dt)
- * 
+ *     @property
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_out));
     __pyx_r = ((PyObject *)__pyx_v_out);
     goto __pyx_L0;
 
-    /* "python/src/a/polytrack.pxi":100
+    /* "python/src/a/polytrack.pxi":99
  *     def acc(self, dt):
  *         '''calculate acceleration'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   }
 
-  /* "python/src/a/polytrack.pxi":105
+  /* "python/src/a/polytrack.pxi":104
  *                 out[i] = a_polytrack5_acc(&self.ctx, it)
  *             return out
  *         return a_polytrack5_acc(&self.ctx, dt)             # <<<<<<<<<<<<<<
- * 
  *     @property
+ *     def k(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 105, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_polytrack5_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 105, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 104, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble(a_polytrack5_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 104, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":98
+  /* "python/src/a/polytrack.pxi":97
  *             return out
- *         return a_polytrack5_vec(&self.ctx, dt)
+ *         return a_polytrack5_vel(&self.ctx, dt)
  *     def acc(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate acceleration'''
  *         if iterable(dt):
  */
 
   /* function exit code */
   __pyx_L1_error:;
@@ -16814,16 +19361,16 @@
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":108
- * 
+/* "python/src/a/polytrack.pxi":106
+ *         return a_polytrack5_acc(&self.ctx, dt)
  *     @property
  *     def k(self):             # <<<<<<<<<<<<<<
  *         return self.ctx.k
  * 
  */
 
 /* Python wrapper */
@@ -16844,30 +19391,30 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "python/src/a/polytrack.pxi":109
+  /* "python/src/a/polytrack.pxi":107
  *     @property
  *     def k(self):
  *         return self.ctx.k             # <<<<<<<<<<<<<<
  * 
  * @cython.wraparound(False)
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_carray_to_py_a_real_t(__pyx_v_self->ctx.k, 6); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 109, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_carray_to_py_a_float_t(__pyx_v_self->ctx.k, 6); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 107, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":108
- * 
+  /* "python/src/a/polytrack.pxi":106
+ *         return a_polytrack5_acc(&self.ctx, dt)
  *     @property
  *     def k(self):             # <<<<<<<<<<<<<<
  *         return self.ctx.k
  * 
  */
 
   /* function exit code */
@@ -16911,19 +19458,19 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__9, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__31, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
+  __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  */
 
@@ -16967,19 +19514,19 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__10, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__32, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
+  __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
@@ -16990,35 +19537,35 @@
   __Pyx_AddTraceback("liba.polytrack5.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":116
+/* "python/src/a/polytrack.pxi":114
  *     '''hepta polynomial trajectory'''
  *     cdef a_polytrack7_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):             # <<<<<<<<<<<<<<
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):             # <<<<<<<<<<<<<<
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
  */
 
 /* Python wrapper */
 static int __pyx_pw_4liba_10polytrack7_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static int __pyx_pw_4liba_10polytrack7_1__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_t0;
-  a_real_t __pyx_v_t1;
-  a_real_t __pyx_v_q0;
-  a_real_t __pyx_v_q1;
-  a_real_t __pyx_v_v0;
-  a_real_t __pyx_v_v1;
-  a_real_t __pyx_v_a0;
-  a_real_t __pyx_v_a1;
-  a_real_t __pyx_v_j0;
-  a_real_t __pyx_v_j1;
+  a_float_t __pyx_v_t0;
+  a_float_t __pyx_v_t1;
+  a_float_t __pyx_v_q0;
+  a_float_t __pyx_v_q1;
+  a_float_t __pyx_v_v0;
+  a_float_t __pyx_v_v1;
+  a_float_t __pyx_v_a0;
+  a_float_t __pyx_v_a1;
+  a_float_t __pyx_v_j0;
+  a_float_t __pyx_v_j1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
   {
@@ -17056,27 +19603,27 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_t0)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_t1)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 10, 1); __PYX_ERR(9, 116, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 10, 1); __PYX_ERR(9, 114, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_q0)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 10, 2); __PYX_ERR(9, 116, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 10, 2); __PYX_ERR(9, 114, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  3:
         if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_q1)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 10, 3); __PYX_ERR(9, 116, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 10, 3); __PYX_ERR(9, 114, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_v0);
           if (value) { values[4] = value; kw_args--; }
         }
@@ -17108,15 +19655,15 @@
         case  9:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_j1);
           if (value) { values[9] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(9, 116, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(9, 114, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
         CYTHON_FALLTHROUGH;
         case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
         CYTHON_FALLTHROUGH;
@@ -17132,114 +19679,114 @@
         values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
-    __pyx_v_t0 = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_t0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
-    __pyx_v_t1 = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_t1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
-    __pyx_v_q0 = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_q0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
-    __pyx_v_q1 = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_q1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+    __pyx_v_t0 = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_t0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
+    __pyx_v_t1 = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_t1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
+    __pyx_v_q0 = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_q0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
+    __pyx_v_q1 = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_q1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
     if (values[4]) {
-      __pyx_v_v0 = __pyx_PyFloat_AsDouble(values[4]); if (unlikely((__pyx_v_v0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+      __pyx_v_v0 = __pyx_PyFloat_AsFloat(values[4]); if (unlikely((__pyx_v_v0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
     } else {
-      __pyx_v_v0 = ((a_real_t)0.0);
+      __pyx_v_v0 = ((a_float_t)0.0);
     }
     if (values[5]) {
-      __pyx_v_v1 = __pyx_PyFloat_AsDouble(values[5]); if (unlikely((__pyx_v_v1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+      __pyx_v_v1 = __pyx_PyFloat_AsFloat(values[5]); if (unlikely((__pyx_v_v1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
     } else {
-      __pyx_v_v1 = ((a_real_t)0.0);
+      __pyx_v_v1 = ((a_float_t)0.0);
     }
     if (values[6]) {
-      __pyx_v_a0 = __pyx_PyFloat_AsDouble(values[6]); if (unlikely((__pyx_v_a0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+      __pyx_v_a0 = __pyx_PyFloat_AsFloat(values[6]); if (unlikely((__pyx_v_a0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
     } else {
-      __pyx_v_a0 = ((a_real_t)0.0);
+      __pyx_v_a0 = ((a_float_t)0.0);
     }
     if (values[7]) {
-      __pyx_v_a1 = __pyx_PyFloat_AsDouble(values[7]); if (unlikely((__pyx_v_a1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+      __pyx_v_a1 = __pyx_PyFloat_AsFloat(values[7]); if (unlikely((__pyx_v_a1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
     } else {
-      __pyx_v_a1 = ((a_real_t)0.0);
+      __pyx_v_a1 = ((a_float_t)0.0);
     }
     if (values[8]) {
-      __pyx_v_j0 = __pyx_PyFloat_AsDouble(values[8]); if (unlikely((__pyx_v_j0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+      __pyx_v_j0 = __pyx_PyFloat_AsFloat(values[8]); if (unlikely((__pyx_v_j0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
     } else {
-      __pyx_v_j0 = ((a_real_t)0.0);
+      __pyx_v_j0 = ((a_float_t)0.0);
     }
     if (values[9]) {
-      __pyx_v_j1 = __pyx_PyFloat_AsDouble(values[9]); if (unlikely((__pyx_v_j1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+      __pyx_v_j1 = __pyx_PyFloat_AsFloat(values[9]); if (unlikely((__pyx_v_j1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 114, __pyx_L3_error)
     } else {
-      __pyx_v_j1 = ((a_real_t)0.0);
+      __pyx_v_j1 = ((a_float_t)0.0);
     }
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 10, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 116, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 4, 10, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 114, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.polytrack7.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_4liba_10polytrack7___cinit__(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1, __pyx_v_a0, __pyx_v_a1, __pyx_v_j0, __pyx_v_j1);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_4liba_10polytrack7___cinit__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1, a_real_t __pyx_v_a0, a_real_t __pyx_v_a1, a_real_t __pyx_v_j0, a_real_t __pyx_v_j1) {
+static int __pyx_pf_4liba_10polytrack7___cinit__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1, a_float_t __pyx_v_a0, a_float_t __pyx_v_a1, a_float_t __pyx_v_j0, a_float_t __pyx_v_j1) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__", 0);
 
-  /* "python/src/a/polytrack.pxi":117
+  /* "python/src/a/polytrack.pxi":115
  *     cdef a_polytrack7_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)             # <<<<<<<<<<<<<<
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
  *         '''generation function'''
  */
   a_polytrack7_gen((&__pyx_v_self->ctx), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1, __pyx_v_a0, __pyx_v_a1, __pyx_v_j0, __pyx_v_j1);
 
-  /* "python/src/a/polytrack.pxi":116
+  /* "python/src/a/polytrack.pxi":114
  *     '''hepta polynomial trajectory'''
  *     cdef a_polytrack7_s ctx
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):             # <<<<<<<<<<<<<<
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):             # <<<<<<<<<<<<<<
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":118
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+/* "python/src/a/polytrack.pxi":116
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):             # <<<<<<<<<<<<<<
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):             # <<<<<<<<<<<<<<
  *         '''generation function'''
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_10polytrack7_3gen(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_10polytrack7_2gen[] = "generation function";
 static PyObject *__pyx_pw_4liba_10polytrack7_3gen(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  a_real_t __pyx_v_t0;
-  a_real_t __pyx_v_t1;
-  a_real_t __pyx_v_q0;
-  a_real_t __pyx_v_q1;
-  a_real_t __pyx_v_v0;
-  a_real_t __pyx_v_v1;
-  a_real_t __pyx_v_a0;
-  a_real_t __pyx_v_a1;
-  a_real_t __pyx_v_j0;
-  a_real_t __pyx_v_j1;
+  a_float_t __pyx_v_t0;
+  a_float_t __pyx_v_t1;
+  a_float_t __pyx_v_q0;
+  a_float_t __pyx_v_q1;
+  a_float_t __pyx_v_v0;
+  a_float_t __pyx_v_v1;
+  a_float_t __pyx_v_a0;
+  a_float_t __pyx_v_a1;
+  a_float_t __pyx_v_j0;
+  a_float_t __pyx_v_j1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("gen (wrapper)", 0);
   {
@@ -17277,27 +19824,27 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_t0)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_t1)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 10, 1); __PYX_ERR(9, 118, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 10, 1); __PYX_ERR(9, 116, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_q0)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 10, 2); __PYX_ERR(9, 118, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 10, 2); __PYX_ERR(9, 116, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  3:
         if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_q1)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 10, 3); __PYX_ERR(9, 118, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 10, 3); __PYX_ERR(9, 116, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_v0);
           if (value) { values[4] = value; kw_args--; }
         }
@@ -17329,15 +19876,15 @@
         case  9:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_j1);
           if (value) { values[9] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "gen") < 0)) __PYX_ERR(9, 118, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "gen") < 0)) __PYX_ERR(9, 116, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case 10: values[9] = PyTuple_GET_ITEM(__pyx_args, 9);
         CYTHON_FALLTHROUGH;
         case  9: values[8] = PyTuple_GET_ITEM(__pyx_args, 8);
         CYTHON_FALLTHROUGH;
@@ -17353,99 +19900,99 @@
         values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
-    __pyx_v_t0 = __pyx_PyFloat_AsDouble(values[0]); if (unlikely((__pyx_v_t0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
-    __pyx_v_t1 = __pyx_PyFloat_AsDouble(values[1]); if (unlikely((__pyx_v_t1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
-    __pyx_v_q0 = __pyx_PyFloat_AsDouble(values[2]); if (unlikely((__pyx_v_q0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
-    __pyx_v_q1 = __pyx_PyFloat_AsDouble(values[3]); if (unlikely((__pyx_v_q1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
+    __pyx_v_t0 = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_t0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+    __pyx_v_t1 = __pyx_PyFloat_AsFloat(values[1]); if (unlikely((__pyx_v_t1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+    __pyx_v_q0 = __pyx_PyFloat_AsFloat(values[2]); if (unlikely((__pyx_v_q0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
+    __pyx_v_q1 = __pyx_PyFloat_AsFloat(values[3]); if (unlikely((__pyx_v_q1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
     if (values[4]) {
-      __pyx_v_v0 = __pyx_PyFloat_AsDouble(values[4]); if (unlikely((__pyx_v_v0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
+      __pyx_v_v0 = __pyx_PyFloat_AsFloat(values[4]); if (unlikely((__pyx_v_v0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
     } else {
-      __pyx_v_v0 = ((a_real_t)0.0);
+      __pyx_v_v0 = ((a_float_t)0.0);
     }
     if (values[5]) {
-      __pyx_v_v1 = __pyx_PyFloat_AsDouble(values[5]); if (unlikely((__pyx_v_v1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
+      __pyx_v_v1 = __pyx_PyFloat_AsFloat(values[5]); if (unlikely((__pyx_v_v1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
     } else {
-      __pyx_v_v1 = ((a_real_t)0.0);
+      __pyx_v_v1 = ((a_float_t)0.0);
     }
     if (values[6]) {
-      __pyx_v_a0 = __pyx_PyFloat_AsDouble(values[6]); if (unlikely((__pyx_v_a0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
+      __pyx_v_a0 = __pyx_PyFloat_AsFloat(values[6]); if (unlikely((__pyx_v_a0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
     } else {
-      __pyx_v_a0 = ((a_real_t)0.0);
+      __pyx_v_a0 = ((a_float_t)0.0);
     }
     if (values[7]) {
-      __pyx_v_a1 = __pyx_PyFloat_AsDouble(values[7]); if (unlikely((__pyx_v_a1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
+      __pyx_v_a1 = __pyx_PyFloat_AsFloat(values[7]); if (unlikely((__pyx_v_a1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
     } else {
-      __pyx_v_a1 = ((a_real_t)0.0);
+      __pyx_v_a1 = ((a_float_t)0.0);
     }
     if (values[8]) {
-      __pyx_v_j0 = __pyx_PyFloat_AsDouble(values[8]); if (unlikely((__pyx_v_j0 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
+      __pyx_v_j0 = __pyx_PyFloat_AsFloat(values[8]); if (unlikely((__pyx_v_j0 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
     } else {
-      __pyx_v_j0 = ((a_real_t)0.0);
+      __pyx_v_j0 = ((a_float_t)0.0);
     }
     if (values[9]) {
-      __pyx_v_j1 = __pyx_PyFloat_AsDouble(values[9]); if (unlikely((__pyx_v_j1 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 118, __pyx_L3_error)
+      __pyx_v_j1 = __pyx_PyFloat_AsFloat(values[9]); if (unlikely((__pyx_v_j1 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 116, __pyx_L3_error)
     } else {
-      __pyx_v_j1 = ((a_real_t)0.0);
+      __pyx_v_j1 = ((a_float_t)0.0);
     }
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 10, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 118, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("gen", 0, 4, 10, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 116, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.polytrack7.gen", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_4liba_10polytrack7_2gen(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1, __pyx_v_a0, __pyx_v_a1, __pyx_v_j0, __pyx_v_j1);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack7_2gen(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, a_real_t __pyx_v_t0, a_real_t __pyx_v_t1, a_real_t __pyx_v_q0, a_real_t __pyx_v_q1, a_real_t __pyx_v_v0, a_real_t __pyx_v_v1, a_real_t __pyx_v_a0, a_real_t __pyx_v_a1, a_real_t __pyx_v_j0, a_real_t __pyx_v_j1) {
+static PyObject *__pyx_pf_4liba_10polytrack7_2gen(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, a_float_t __pyx_v_t0, a_float_t __pyx_v_t1, a_float_t __pyx_v_q0, a_float_t __pyx_v_q1, a_float_t __pyx_v_v0, a_float_t __pyx_v_v1, a_float_t __pyx_v_a0, a_float_t __pyx_v_a1, a_float_t __pyx_v_j0, a_float_t __pyx_v_j1) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("gen", 0);
 
-  /* "python/src/a/polytrack.pxi":120
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+  /* "python/src/a/polytrack.pxi":118
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
  *         '''generation function'''
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)             # <<<<<<<<<<<<<<
  *     def __call__(self, dt):
  *         '''calculate all'''
  */
   a_polytrack7_gen((&__pyx_v_self->ctx), __pyx_v_t0, __pyx_v_t1, __pyx_v_q0, __pyx_v_q1, __pyx_v_v0, __pyx_v_v1, __pyx_v_a0, __pyx_v_a1, __pyx_v_j0, __pyx_v_j1);
 
-  /* "python/src/a/polytrack.pxi":118
- *     def __cinit__(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):
+  /* "python/src/a/polytrack.pxi":116
+ *     def __cinit__(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
- *     def gen(self, a_real_t t0, a_real_t t1, a_real_t q0, a_real_t q1, a_real_t v0 = 0, a_real_t v1 = 0, a_real_t a0 = 0, a_real_t a1 = 0, a_real_t j0 = 0, a_real_t j1 = 0):             # <<<<<<<<<<<<<<
+ *     def gen(self, a_float_t t0, a_float_t t1, a_float_t q0, a_float_t q1, a_float_t v0 = 0, a_float_t v1 = 0, a_float_t a0 = 0, a_float_t a1 = 0, a_float_t j0 = 0, a_float_t j1 = 0):             # <<<<<<<<<<<<<<
  *         '''generation function'''
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":121
+/* "python/src/a/polytrack.pxi":119
  *         '''generation function'''
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
  *     def __call__(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate all'''
- *         cdef a_real_t out[4]
+ *         cdef a_float_t out[4]
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_4liba_10polytrack7_5__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_4liba_10polytrack7_4__call__[] = "calculate all";
 #if CYTHON_UPDATE_DESCRIPTOR_DOC
 struct wrapperbase __pyx_wrapperbase_4liba_10polytrack7_4__call__;
@@ -17473,265 +20020,265 @@
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_dt)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(9, 121, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(9, 119, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_dt = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__call__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 121, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__call__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(9, 119, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.polytrack7.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_4liba_10polytrack7_4__call__(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), __pyx_v_dt);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_pf_4liba_10polytrack7_4__call__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt) {
-  a_real_t __pyx_v_out[4];
+  a_float_t __pyx_v_out[4];
   arrayobject *__pyx_v_p = NULL;
   arrayobject *__pyx_v_v = NULL;
   arrayobject *__pyx_v_a = NULL;
   arrayobject *__pyx_v_j = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   PyObject *__pyx_t_10 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "python/src/a/polytrack.pxi":124
+  /* "python/src/a/polytrack.pxi":122
  *         '''calculate all'''
- *         cdef a_real_t out[4]
+ *         cdef a_float_t out[4]
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             p = reals(dt)
- *             v = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/polytrack.pxi":125
- *         cdef a_real_t out[4]
+    /* "python/src/a/polytrack.pxi":123
+ *         cdef a_float_t out[4]
  *         if iterable(dt):
- *             p = reals(dt)             # <<<<<<<<<<<<<<
- *             v = reals(dt)
- *             a = reals(dt)
+ *             p = floats(dt)             # <<<<<<<<<<<<<<
+ *             v = floats(dt)
+ *             a = floats(dt)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 125, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 123, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_p = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":126
+    /* "python/src/a/polytrack.pxi":124
  *         if iterable(dt):
- *             p = reals(dt)
- *             v = reals(dt)             # <<<<<<<<<<<<<<
- *             a = reals(dt)
- *             j = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)             # <<<<<<<<<<<<<<
+ *             a = floats(dt)
+ *             j = floats(dt)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 126, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 124, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_v = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":127
- *             p = reals(dt)
- *             v = reals(dt)
- *             a = reals(dt)             # <<<<<<<<<<<<<<
- *             j = reals(dt)
+    /* "python/src/a/polytrack.pxi":125
+ *             p = floats(dt)
+ *             v = floats(dt)
+ *             a = floats(dt)             # <<<<<<<<<<<<<<
+ *             j = floats(dt)
  *             for i, it in enumerate(dt):
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 127, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 125, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_a = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":128
- *             v = reals(dt)
- *             a = reals(dt)
- *             j = reals(dt)             # <<<<<<<<<<<<<<
+    /* "python/src/a/polytrack.pxi":126
+ *             v = floats(dt)
+ *             a = floats(dt)
+ *             j = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
  *                 a_polytrack7_out(&self.ctx, it, out)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 128, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 126, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_j = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":129
- *             a = reals(dt)
- *             j = reals(dt)
+    /* "python/src/a/polytrack.pxi":127
+ *             a = floats(dt)
+ *             j = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 a_polytrack7_out(&self.ctx, it, out)
  *                 p[i] = out[0]
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
       __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 129, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 127, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 129, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 127, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 129, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 127, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 129, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 127, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 129, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 127, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 129, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 127, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 129, __pyx_L1_error)
+            else __PYX_ERR(9, 127, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 129, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 127, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":130
- *             j = reals(dt)
+      /* "python/src/a/polytrack.pxi":128
+ *             j = floats(dt)
  *             for i, it in enumerate(dt):
  *                 a_polytrack7_out(&self.ctx, it, out)             # <<<<<<<<<<<<<<
  *                 p[i] = out[0]
  *                 v[i] = out[1]
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 130, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 128, __pyx_L1_error)
       a_polytrack7_out((&__pyx_v_self->ctx), __pyx_t_8, __pyx_v_out);
 
-      /* "python/src/a/polytrack.pxi":131
+      /* "python/src/a/polytrack.pxi":129
  *             for i, it in enumerate(dt):
  *                 a_polytrack7_out(&self.ctx, it, out)
  *                 p[i] = out[0]             # <<<<<<<<<<<<<<
  *                 v[i] = out[1]
  *                 a[i] = out[2]
  */
-      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[0])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 131, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[0])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 129, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_p), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 131, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_p), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 129, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":132
+      /* "python/src/a/polytrack.pxi":130
  *                 a_polytrack7_out(&self.ctx, it, out)
  *                 p[i] = out[0]
  *                 v[i] = out[1]             # <<<<<<<<<<<<<<
  *                 a[i] = out[2]
  *                 j[i] = out[3]
  */
-      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[1])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 132, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[1])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 130, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_v), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 132, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_v), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 130, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":133
+      /* "python/src/a/polytrack.pxi":131
  *                 p[i] = out[0]
  *                 v[i] = out[1]
  *                 a[i] = out[2]             # <<<<<<<<<<<<<<
  *                 j[i] = out[3]
  *             return p, v, a, j
  */
-      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 133, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 131, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_a), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 133, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_a), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 131, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":134
+      /* "python/src/a/polytrack.pxi":132
  *                 v[i] = out[1]
  *                 a[i] = out[2]
  *                 j[i] = out[3]             # <<<<<<<<<<<<<<
  *             return p, v, a, j
  *         a_polytrack7_out(&self.ctx, dt, out)
  */
-      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[3])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 134, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[3])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 132, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_j), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 134, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_j), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 132, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":129
- *             a = reals(dt)
- *             j = reals(dt)
+      /* "python/src/a/polytrack.pxi":127
+ *             a = floats(dt)
+ *             j = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 a_polytrack7_out(&self.ctx, it, out)
  *                 p[i] = out[0]
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":135
+    /* "python/src/a/polytrack.pxi":133
  *                 a[i] = out[2]
  *                 j[i] = out[3]
  *             return p, v, a, j             # <<<<<<<<<<<<<<
  *         a_polytrack7_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2], out[3]
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 135, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 133, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_INCREF(((PyObject *)__pyx_v_p));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_p));
     PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_v_p));
     __Pyx_INCREF(((PyObject *)__pyx_v_v));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_v));
     PyTuple_SET_ITEM(__pyx_t_2, 1, ((PyObject *)__pyx_v_v));
@@ -17741,50 +20288,50 @@
     __Pyx_INCREF(((PyObject *)__pyx_v_j));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_j));
     PyTuple_SET_ITEM(__pyx_t_2, 3, ((PyObject *)__pyx_v_j));
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "python/src/a/polytrack.pxi":124
+    /* "python/src/a/polytrack.pxi":122
  *         '''calculate all'''
- *         cdef a_real_t out[4]
+ *         cdef a_float_t out[4]
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             p = reals(dt)
- *             v = reals(dt)
+ *             p = floats(dt)
+ *             v = floats(dt)
  */
   }
 
-  /* "python/src/a/polytrack.pxi":136
+  /* "python/src/a/polytrack.pxi":134
  *                 j[i] = out[3]
  *             return p, v, a, j
  *         a_polytrack7_out(&self.ctx, dt, out)             # <<<<<<<<<<<<<<
  *         return out[0], out[1], out[2], out[3]
  *     def pos(self, dt):
  */
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 136, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 134, __pyx_L1_error)
   a_polytrack7_out((&__pyx_v_self->ctx), __pyx_t_8, __pyx_v_out);
 
-  /* "python/src/a/polytrack.pxi":137
+  /* "python/src/a/polytrack.pxi":135
  *             return p, v, a, j
  *         a_polytrack7_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2], out[3]             # <<<<<<<<<<<<<<
  *     def pos(self, dt):
  *         '''calculate position'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = PyFloat_FromDouble((__pyx_v_out[0])); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 137, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble((__pyx_v_out[0])); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 135, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_4 = PyFloat_FromDouble((__pyx_v_out[1])); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 137, __pyx_L1_error)
+  __pyx_t_4 = PyFloat_FromDouble((__pyx_v_out[1])); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 135, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 137, __pyx_L1_error)
+  __pyx_t_7 = PyFloat_FromDouble((__pyx_v_out[2])); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 135, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_7);
-  __pyx_t_9 = PyFloat_FromDouble((__pyx_v_out[3])); if (unlikely(!__pyx_t_9)) __PYX_ERR(9, 137, __pyx_L1_error)
+  __pyx_t_9 = PyFloat_FromDouble((__pyx_v_out[3])); if (unlikely(!__pyx_t_9)) __PYX_ERR(9, 135, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_9);
-  __pyx_t_10 = PyTuple_New(4); if (unlikely(!__pyx_t_10)) __PYX_ERR(9, 137, __pyx_L1_error)
+  __pyx_t_10 = PyTuple_New(4); if (unlikely(!__pyx_t_10)) __PYX_ERR(9, 135, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_10);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_4);
   PyTuple_SET_ITEM(__pyx_t_10, 1, __pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_7);
   PyTuple_SET_ITEM(__pyx_t_10, 2, __pyx_t_7);
@@ -17794,20 +20341,20 @@
   __pyx_t_4 = 0;
   __pyx_t_7 = 0;
   __pyx_t_9 = 0;
   __pyx_r = __pyx_t_10;
   __pyx_t_10 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":121
+  /* "python/src/a/polytrack.pxi":119
  *         '''generation function'''
  *         a_polytrack7_gen(&self.ctx, t0, t1, q0, q1, v0, v1, a0, a1, j0, j1)
  *     def __call__(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate all'''
- *         cdef a_real_t out[4]
+ *         cdef a_float_t out[4]
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_7);
@@ -17823,15 +20370,15 @@
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":138
+/* "python/src/a/polytrack.pxi":136
  *         a_polytrack7_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2], out[3]
  *     def pos(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate position'''
  *         if iterable(dt):
  */
 
@@ -17853,168 +20400,168 @@
   arrayobject *__pyx_v_out = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("pos", 0);
 
-  /* "python/src/a/polytrack.pxi":140
+  /* "python/src/a/polytrack.pxi":138
  *     def pos(self, dt):
  *         '''calculate position'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/polytrack.pxi":141
+    /* "python/src/a/polytrack.pxi":139
  *         '''calculate position'''
  *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack7_pos(&self.ctx, it)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 141, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 139, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_out = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":142
+    /* "python/src/a/polytrack.pxi":140
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack7_pos(&self.ctx, it)
  *             return out
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
       __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 142, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 140, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 142, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 140, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 142, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 140, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 142, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 140, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 142, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 140, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 142, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 140, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 142, __pyx_L1_error)
+            else __PYX_ERR(9, 140, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 142, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 140, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":143
- *             out = reals(dt)
+      /* "python/src/a/polytrack.pxi":141
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack7_pos(&self.ctx, it)             # <<<<<<<<<<<<<<
  *             return out
  *         return a_polytrack7_pos(&self.ctx, dt)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 143, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_polytrack7_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 143, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 141, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble(a_polytrack7_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 143, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 141, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":142
+      /* "python/src/a/polytrack.pxi":140
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
  *                 out[i] = a_polytrack7_pos(&self.ctx, it)
  *             return out
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":144
+    /* "python/src/a/polytrack.pxi":142
  *             for i, it in enumerate(dt):
  *                 out[i] = a_polytrack7_pos(&self.ctx, it)
  *             return out             # <<<<<<<<<<<<<<
  *         return a_polytrack7_pos(&self.ctx, dt)
- *     def vec(self, dt):
+ *     def vel(self, dt):
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_out));
     __pyx_r = ((PyObject *)__pyx_v_out);
     goto __pyx_L0;
 
-    /* "python/src/a/polytrack.pxi":140
+    /* "python/src/a/polytrack.pxi":138
  *     def pos(self, dt):
  *         '''calculate position'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   }
 
-  /* "python/src/a/polytrack.pxi":145
+  /* "python/src/a/polytrack.pxi":143
  *                 out[i] = a_polytrack7_pos(&self.ctx, it)
  *             return out
  *         return a_polytrack7_pos(&self.ctx, dt)             # <<<<<<<<<<<<<<
- *     def vec(self, dt):
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 145, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_polytrack7_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 145, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 143, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble(a_polytrack7_pos((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 143, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":138
+  /* "python/src/a/polytrack.pxi":136
  *         a_polytrack7_out(&self.ctx, dt, out)
  *         return out[0], out[1], out[2], out[3]
  *     def pos(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate position'''
  *         if iterable(dt):
  */
 
@@ -18030,817 +20577,1913 @@
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":146
+/* "python/src/a/polytrack.pxi":144
  *             return out
  *         return a_polytrack7_pos(&self.ctx, dt)
- *     def vec(self, dt):             # <<<<<<<<<<<<<<
+ *     def vel(self, dt):             # <<<<<<<<<<<<<<
  *         '''calculate velocity'''
  *         if iterable(dt):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_10polytrack7_9vec(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
-static char __pyx_doc_4liba_10polytrack7_8vec[] = "calculate velocity";
-static PyObject *__pyx_pw_4liba_10polytrack7_9vec(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
+static PyObject *__pyx_pw_4liba_10polytrack7_9vel(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
+static char __pyx_doc_4liba_10polytrack7_8vel[] = "calculate velocity";
+static PyObject *__pyx_pw_4liba_10polytrack7_9vel(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("vec (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10polytrack7_8vec(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
+  __Pyx_RefNannySetupContext("vel (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10polytrack7_8vel(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack7_8vec(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt) {
+static PyObject *__pyx_pf_4liba_10polytrack7_8vel(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt) {
   arrayobject *__pyx_v_out = NULL;
   PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_it = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  a_float_t __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("vec", 0);
+  __Pyx_RefNannySetupContext("vel", 0);
 
-  /* "python/src/a/polytrack.pxi":148
- *     def vec(self, dt):
+  /* "python/src/a/polytrack.pxi":146
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/polytrack.pxi":149
+    /* "python/src/a/polytrack.pxi":147
  *         '''calculate velocity'''
  *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack7_vel(&self.ctx, it)
  */
     __pyx_t_3.__pyx_n = 1;
     __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 149, __pyx_L1_error)
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 147, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_out = ((arrayobject *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":150
+    /* "python/src/a/polytrack.pxi":148
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack7_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack7_vel(&self.ctx, it)
  *             return out
  */
     __Pyx_INCREF(__pyx_int_0);
     __pyx_t_2 = __pyx_int_0;
     if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
       __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
       __pyx_t_6 = NULL;
     } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 150, __pyx_L1_error)
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 148, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 150, __pyx_L1_error)
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 148, __pyx_L1_error)
     }
     for (;;) {
       if (likely(!__pyx_t_6)) {
         if (likely(PyList_CheckExact(__pyx_t_4))) {
           if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 150, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 148, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 150, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 148, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 150, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 148, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 150, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 148, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_6(__pyx_t_4);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 150, __pyx_L1_error)
+            else __PYX_ERR(9, 148, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 150, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 148, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2);
       __pyx_t_2 = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":151
- *             out = reals(dt)
+      /* "python/src/a/polytrack.pxi":149
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_vec(&self.ctx, it)             # <<<<<<<<<<<<<<
+ *                 out[i] = a_polytrack7_vel(&self.ctx, it)             # <<<<<<<<<<<<<<
  *             return out
- *         return a_polytrack7_vec(&self.ctx, dt)
+ *         return a_polytrack7_vel(&self.ctx, dt)
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 151, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_polytrack7_vec((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 151, __pyx_L1_error)
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 149, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble(a_polytrack7_vel((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 149, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 151, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 149, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":150
+      /* "python/src/a/polytrack.pxi":148
  *         if iterable(dt):
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack7_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack7_vel(&self.ctx, it)
  *             return out
  */
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":152
+    /* "python/src/a/polytrack.pxi":150
  *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_vec(&self.ctx, it)
+ *                 out[i] = a_polytrack7_vel(&self.ctx, it)
  *             return out             # <<<<<<<<<<<<<<
- *         return a_polytrack7_vec(&self.ctx, dt)
+ *         return a_polytrack7_vel(&self.ctx, dt)
  *     def acc(self, dt):
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(((PyObject *)__pyx_v_out));
     __pyx_r = ((PyObject *)__pyx_v_out);
     goto __pyx_L0;
 
-    /* "python/src/a/polytrack.pxi":148
- *     def vec(self, dt):
+    /* "python/src/a/polytrack.pxi":146
+ *     def vel(self, dt):
  *         '''calculate velocity'''
  *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
+ *             out = floats(dt)
  *             for i, it in enumerate(dt):
  */
   }
 
-  /* "python/src/a/polytrack.pxi":153
- *                 out[i] = a_polytrack7_vec(&self.ctx, it)
+  /* "python/src/a/polytrack.pxi":151
+ *                 out[i] = a_polytrack7_vel(&self.ctx, it)
+ *             return out
+ *         return a_polytrack7_vel(&self.ctx, dt)             # <<<<<<<<<<<<<<
+ *     def acc(self, dt):
+ *         '''calculate acceleration'''
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 151, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble(a_polytrack7_vel((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 151, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/polytrack.pxi":144
+ *             return out
+ *         return a_polytrack7_pos(&self.ctx, dt)
+ *     def vel(self, dt):             # <<<<<<<<<<<<<<
+ *         '''calculate velocity'''
+ *         if iterable(dt):
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_4);
+  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_AddTraceback("liba.polytrack7.vel", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XDECREF((PyObject *)__pyx_v_out);
+  __Pyx_XDECREF(__pyx_v_i);
+  __Pyx_XDECREF(__pyx_v_it);
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/polytrack.pxi":152
+ *             return out
+ *         return a_polytrack7_vel(&self.ctx, dt)
+ *     def acc(self, dt):             # <<<<<<<<<<<<<<
+ *         '''calculate acceleration'''
+ *         if iterable(dt):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_10polytrack7_11acc(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
+static char __pyx_doc_4liba_10polytrack7_10acc[] = "calculate acceleration";
+static PyObject *__pyx_pw_4liba_10polytrack7_11acc(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("acc (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10polytrack7_10acc(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_10polytrack7_10acc(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt) {
+  arrayobject *__pyx_v_out = NULL;
+  PyObject *__pyx_v_i = NULL;
+  PyObject *__pyx_v_it = NULL;
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
+  PyObject *__pyx_t_4 = NULL;
+  Py_ssize_t __pyx_t_5;
+  PyObject *(*__pyx_t_6)(PyObject *);
+  PyObject *__pyx_t_7 = NULL;
+  a_float_t __pyx_t_8;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("acc", 0);
+
+  /* "python/src/a/polytrack.pxi":154
+ *     def acc(self, dt):
+ *         '''calculate acceleration'''
+ *         if iterable(dt):             # <<<<<<<<<<<<<<
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):
+ */
+  __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a/polytrack.pxi":155
+ *         '''calculate acceleration'''
+ *         if iterable(dt):
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
+ *             for i, it in enumerate(dt):
+ *                 out[i] = a_polytrack7_acc(&self.ctx, it)
+ */
+    __pyx_t_3.__pyx_n = 1;
+    __pyx_t_3.o = __pyx_v_dt;
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 155, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __pyx_v_out = ((arrayobject *)__pyx_t_2);
+    __pyx_t_2 = 0;
+
+    /* "python/src/a/polytrack.pxi":156
+ *         if iterable(dt):
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
+ *                 out[i] = a_polytrack7_acc(&self.ctx, it)
+ *             return out
+ */
+    __Pyx_INCREF(__pyx_int_0);
+    __pyx_t_2 = __pyx_int_0;
+    if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
+      __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
+      __pyx_t_6 = NULL;
+    } else {
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 156, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_4);
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 156, __pyx_L1_error)
+    }
+    for (;;) {
+      if (likely(!__pyx_t_6)) {
+        if (likely(PyList_CheckExact(__pyx_t_4))) {
+          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 156, __pyx_L1_error)
+          #else
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 156, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_7);
+          #endif
+        } else {
+          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 156, __pyx_L1_error)
+          #else
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 156, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_7);
+          #endif
+        }
+      } else {
+        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
+        if (unlikely(!__pyx_t_7)) {
+          PyObject* exc_type = PyErr_Occurred();
+          if (exc_type) {
+            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
+            else __PYX_ERR(9, 156, __pyx_L1_error)
+          }
+          break;
+        }
+        __Pyx_GOTREF(__pyx_t_7);
+      }
+      __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
+      __pyx_t_7 = 0;
+      __Pyx_INCREF(__pyx_t_2);
+      __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 156, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_7);
+      __Pyx_DECREF(__pyx_t_2);
+      __pyx_t_2 = __pyx_t_7;
+      __pyx_t_7 = 0;
+
+      /* "python/src/a/polytrack.pxi":157
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):
+ *                 out[i] = a_polytrack7_acc(&self.ctx, it)             # <<<<<<<<<<<<<<
+ *             return out
+ *         return a_polytrack7_acc(&self.ctx, dt)
+ */
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 157, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble(a_polytrack7_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 157, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_7);
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 157, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+
+      /* "python/src/a/polytrack.pxi":156
+ *         if iterable(dt):
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
+ *                 out[i] = a_polytrack7_acc(&self.ctx, it)
  *             return out
- *         return a_polytrack7_vec(&self.ctx, dt)             # <<<<<<<<<<<<<<
+ */
+    }
+    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+    /* "python/src/a/polytrack.pxi":158
+ *             for i, it in enumerate(dt):
+ *                 out[i] = a_polytrack7_acc(&self.ctx, it)
+ *             return out             # <<<<<<<<<<<<<<
+ *         return a_polytrack7_acc(&self.ctx, dt)
+ *     def jer(self, dt):
+ */
+    __Pyx_XDECREF(__pyx_r);
+    __Pyx_INCREF(((PyObject *)__pyx_v_out));
+    __pyx_r = ((PyObject *)__pyx_v_out);
+    goto __pyx_L0;
+
+    /* "python/src/a/polytrack.pxi":154
  *     def acc(self, dt):
  *         '''calculate acceleration'''
+ *         if iterable(dt):             # <<<<<<<<<<<<<<
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):
+ */
+  }
+
+  /* "python/src/a/polytrack.pxi":159
+ *                 out[i] = a_polytrack7_acc(&self.ctx, it)
+ *             return out
+ *         return a_polytrack7_acc(&self.ctx, dt)             # <<<<<<<<<<<<<<
+ *     def jer(self, dt):
+ *         '''calculate jerk'''
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 159, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble(a_polytrack7_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 159, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/polytrack.pxi":152
+ *             return out
+ *         return a_polytrack7_vel(&self.ctx, dt)
+ *     def acc(self, dt):             # <<<<<<<<<<<<<<
+ *         '''calculate acceleration'''
+ *         if iterable(dt):
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_4);
+  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_AddTraceback("liba.polytrack7.acc", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XDECREF((PyObject *)__pyx_v_out);
+  __Pyx_XDECREF(__pyx_v_i);
+  __Pyx_XDECREF(__pyx_v_it);
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/polytrack.pxi":160
+ *             return out
+ *         return a_polytrack7_acc(&self.ctx, dt)
+ *     def jer(self, dt):             # <<<<<<<<<<<<<<
+ *         '''calculate jerk'''
+ *         if iterable(dt):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_10polytrack7_13jer(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
+static char __pyx_doc_4liba_10polytrack7_12jer[] = "calculate jerk";
+static PyObject *__pyx_pw_4liba_10polytrack7_13jer(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("jer (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10polytrack7_12jer(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_10polytrack7_12jer(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt) {
+  arrayobject *__pyx_v_out = NULL;
+  PyObject *__pyx_v_i = NULL;
+  PyObject *__pyx_v_it = NULL;
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  struct __pyx_opt_args_4liba_floats __pyx_t_3;
+  PyObject *__pyx_t_4 = NULL;
+  Py_ssize_t __pyx_t_5;
+  PyObject *(*__pyx_t_6)(PyObject *);
+  PyObject *__pyx_t_7 = NULL;
+  a_float_t __pyx_t_8;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("jer", 0);
+
+  /* "python/src/a/polytrack.pxi":162
+ *     def jer(self, dt):
+ *         '''calculate jerk'''
+ *         if iterable(dt):             # <<<<<<<<<<<<<<
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):
+ */
+  __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
+  if (__pyx_t_1) {
+
+    /* "python/src/a/polytrack.pxi":163
+ *         '''calculate jerk'''
+ *         if iterable(dt):
+ *             out = floats(dt)             # <<<<<<<<<<<<<<
+ *             for i, it in enumerate(dt):
+ *                 out[i] = a_polytrack7_jer(&self.ctx, it)
+ */
+    __pyx_t_3.__pyx_n = 1;
+    __pyx_t_3.o = __pyx_v_dt;
+    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 163, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __pyx_v_out = ((arrayobject *)__pyx_t_2);
+    __pyx_t_2 = 0;
+
+    /* "python/src/a/polytrack.pxi":164
+ *         if iterable(dt):
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
+ *                 out[i] = a_polytrack7_jer(&self.ctx, it)
+ *             return out
+ */
+    __Pyx_INCREF(__pyx_int_0);
+    __pyx_t_2 = __pyx_int_0;
+    if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
+      __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
+      __pyx_t_6 = NULL;
+    } else {
+      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 164, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_4);
+      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 164, __pyx_L1_error)
+    }
+    for (;;) {
+      if (likely(!__pyx_t_6)) {
+        if (likely(PyList_CheckExact(__pyx_t_4))) {
+          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 164, __pyx_L1_error)
+          #else
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 164, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_7);
+          #endif
+        } else {
+          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 164, __pyx_L1_error)
+          #else
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 164, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_7);
+          #endif
+        }
+      } else {
+        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
+        if (unlikely(!__pyx_t_7)) {
+          PyObject* exc_type = PyErr_Occurred();
+          if (exc_type) {
+            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
+            else __PYX_ERR(9, 164, __pyx_L1_error)
+          }
+          break;
+        }
+        __Pyx_GOTREF(__pyx_t_7);
+      }
+      __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
+      __pyx_t_7 = 0;
+      __Pyx_INCREF(__pyx_t_2);
+      __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
+      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 164, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_7);
+      __Pyx_DECREF(__pyx_t_2);
+      __pyx_t_2 = __pyx_t_7;
+      __pyx_t_7 = 0;
+
+      /* "python/src/a/polytrack.pxi":165
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):
+ *                 out[i] = a_polytrack7_jer(&self.ctx, it)             # <<<<<<<<<<<<<<
+ *             return out
+ *         return a_polytrack7_jer(&self.ctx, dt)
+ */
+      __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 165, __pyx_L1_error)
+      __pyx_t_7 = PyFloat_FromDouble(a_polytrack7_jer((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 165, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_7);
+      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 165, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+
+      /* "python/src/a/polytrack.pxi":164
+ *         if iterable(dt):
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
+ *                 out[i] = a_polytrack7_jer(&self.ctx, it)
+ *             return out
+ */
+    }
+    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+    /* "python/src/a/polytrack.pxi":166
+ *             for i, it in enumerate(dt):
+ *                 out[i] = a_polytrack7_jer(&self.ctx, it)
+ *             return out             # <<<<<<<<<<<<<<
+ *         return a_polytrack7_jer(&self.ctx, dt)
+ *     @property
+ */
+    __Pyx_XDECREF(__pyx_r);
+    __Pyx_INCREF(((PyObject *)__pyx_v_out));
+    __pyx_r = ((PyObject *)__pyx_v_out);
+    goto __pyx_L0;
+
+    /* "python/src/a/polytrack.pxi":162
+ *     def jer(self, dt):
+ *         '''calculate jerk'''
+ *         if iterable(dt):             # <<<<<<<<<<<<<<
+ *             out = floats(dt)
+ *             for i, it in enumerate(dt):
+ */
+  }
+
+  /* "python/src/a/polytrack.pxi":167
+ *                 out[i] = a_polytrack7_jer(&self.ctx, it)
+ *             return out
+ *         return a_polytrack7_jer(&self.ctx, dt)             # <<<<<<<<<<<<<<
+ *     @property
+ *     def k(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 153, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_polytrack7_vec((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 153, __pyx_L1_error)
+  __pyx_t_8 = __pyx_PyFloat_AsFloat(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 167, __pyx_L1_error)
+  __pyx_t_2 = PyFloat_FromDouble(a_polytrack7_jer((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 167, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":146
- *             return out
- *         return a_polytrack7_pos(&self.ctx, dt)
- *     def vec(self, dt):             # <<<<<<<<<<<<<<
- *         '''calculate velocity'''
- *         if iterable(dt):
+  /* "python/src/a/polytrack.pxi":160
+ *             return out
+ *         return a_polytrack7_acc(&self.ctx, dt)
+ *     def jer(self, dt):             # <<<<<<<<<<<<<<
+ *         '''calculate jerk'''
+ *         if iterable(dt):
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_4);
+  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_AddTraceback("liba.polytrack7.jer", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XDECREF((PyObject *)__pyx_v_out);
+  __Pyx_XDECREF(__pyx_v_i);
+  __Pyx_XDECREF(__pyx_v_it);
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/polytrack.pxi":169
+ *         return a_polytrack7_jer(&self.ctx, dt)
+ *     @property
+ *     def k(self):             # <<<<<<<<<<<<<<
+ *         return self.ctx.k
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_10polytrack7_1k_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_10polytrack7_1k_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10polytrack7_1k___get__(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_10polytrack7_1k___get__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/polytrack.pxi":170
+ *     @property
+ *     def k(self):
+ *         return self.ctx.k             # <<<<<<<<<<<<<<
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = __Pyx_carray_to_py_a_float_t(__pyx_v_self->ctx.k, 8); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 170, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/polytrack.pxi":169
+ *         return a_polytrack7_jer(&self.ctx, dt)
+ *     @property
+ *     def k(self):             # <<<<<<<<<<<<<<
+ *         return self.ctx.k
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.polytrack7.k.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_10polytrack7_15__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_10polytrack7_15__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10polytrack7_14__reduce_cython__(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_10polytrack7_14__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack7 *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
+
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__33, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 2, __pyx_L1_error)
+
+  /* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.polytrack7.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_10polytrack7_17__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_10polytrack7_17__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_10polytrack7_16__setstate_cython__(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_10polytrack7_16__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__34, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 4, __pyx_L1_error)
+
+  /* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.polytrack7.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":8
+ *     '''transfer function'''
+ *     cdef a_tf_s ctx
+ *     def __call__(self, x: a_float_t) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         '''calculate function for transfer function'''
+ *         return a_tf_iter(&self.ctx, x)
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_2tf_1__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_4liba_2tf___call__[] = "calculate function for transfer function";
+#if CYTHON_UPDATE_DESCRIPTOR_DOC
+struct wrapperbase __pyx_wrapperbase_4liba_2tf___call__;
+#endif
+static PyObject *__pyx_pw_4liba_2tf_1__call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  a_float_t __pyx_v_x;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__call__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_x,0};
+    PyObject* values[1] = {0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_x)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__call__") < 0)) __PYX_ERR(10, 8, __pyx_L3_error)
+      }
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
+      goto __pyx_L5_argtuple_error;
+    } else {
+      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+    }
+    __pyx_v_x = __pyx_PyFloat_AsFloat(values[0]); if (unlikely((__pyx_v_x == ((a_float_t)-1)) && PyErr_Occurred())) __PYX_ERR(10, 8, __pyx_L3_error)
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__call__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(10, 8, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.tf.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return NULL;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_2tf___call__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), __pyx_v_x);
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_2tf___call__(struct __pyx_obj_4liba_tf *__pyx_v_self, a_float_t __pyx_v_x) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__call__", 0);
+
+  /* "python/src/a/tf.pxi":10
+ *     def __call__(self, x: a_float_t) -> a_float_t:
+ *         '''calculate function for transfer function'''
+ *         return a_tf_iter(&self.ctx, x)             # <<<<<<<<<<<<<<
+ *     def zero(self):
+ *         '''zero clear function for transfer function'''
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = PyFloat_FromDouble(a_tf_iter((&__pyx_v_self->ctx), __pyx_v_x)); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 10, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* "python/src/a/tf.pxi":8
+ *     '''transfer function'''
+ *     cdef a_tf_s ctx
+ *     def __call__(self, x: a_float_t) -> a_float_t:             # <<<<<<<<<<<<<<
+ *         '''calculate function for transfer function'''
+ *         return a_tf_iter(&self.ctx, x)
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.tf.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":11
+ *         '''calculate function for transfer function'''
+ *         return a_tf_iter(&self.ctx, x)
+ *     def zero(self):             # <<<<<<<<<<<<<<
+ *         '''zero clear function for transfer function'''
+ *         a_tf_zero(&self.ctx)
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_2tf_3zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static char __pyx_doc_4liba_2tf_2zero[] = "zero clear function for transfer function";
+static PyObject *__pyx_pw_4liba_2tf_3zero(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("zero (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_2zero(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_2tf_2zero(struct __pyx_obj_4liba_tf *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("zero", 0);
+
+  /* "python/src/a/tf.pxi":13
+ *     def zero(self):
+ *         '''zero clear function for transfer function'''
+ *         a_tf_zero(&self.ctx)             # <<<<<<<<<<<<<<
+ *         return self
+ *     cdef array input
+ */
+  a_tf_zero((&__pyx_v_self->ctx));
+
+  /* "python/src/a/tf.pxi":14
+ *         '''zero clear function for transfer function'''
+ *         a_tf_zero(&self.ctx)
+ *         return self             # <<<<<<<<<<<<<<
+ *     cdef array input
+ *     @property
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self));
+  __pyx_r = ((PyObject *)__pyx_v_self);
+  goto __pyx_L0;
+
+  /* "python/src/a/tf.pxi":11
+ *         '''calculate function for transfer function'''
+ *         return a_tf_iter(&self.ctx, x)
+ *     def zero(self):             # <<<<<<<<<<<<<<
+ *         '''zero clear function for transfer function'''
+ *         a_tf_zero(&self.ctx)
+ */
+
+  /* function exit code */
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":17
+ *     cdef array input
+ *     @property
+ *     def input(self):             # <<<<<<<<<<<<<<
+ *         return self.input
+ *     cdef array _num
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_2tf_5input_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_2tf_5input_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_5input___get__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_2tf_5input___get__(struct __pyx_obj_4liba_tf *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/tf.pxi":18
+ *     @property
+ *     def input(self):
+ *         return self.input             # <<<<<<<<<<<<<<
+ *     cdef array _num
+ *     @property
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self->input));
+  __pyx_r = ((PyObject *)__pyx_v_self->input);
+  goto __pyx_L0;
+
+  /* "python/src/a/tf.pxi":17
+ *     cdef array input
+ *     @property
+ *     def input(self):             # <<<<<<<<<<<<<<
+ *         return self.input
+ *     cdef array _num
+ */
+
+  /* function exit code */
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":21
+ *     cdef array _num
+ *     @property
+ *     def num(self):             # <<<<<<<<<<<<<<
+ *         return self._num
+ *     @num.setter
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_2tf_3num_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_2tf_3num_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_3num___get__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_2tf_3num___get__(struct __pyx_obj_4liba_tf *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/tf.pxi":22
+ *     @property
+ *     def num(self):
+ *         return self._num             # <<<<<<<<<<<<<<
+ *     @num.setter
+ *     def num(self, num):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self->_num));
+  __pyx_r = ((PyObject *)__pyx_v_self->_num);
+  goto __pyx_L0;
+
+  /* "python/src/a/tf.pxi":21
+ *     cdef array _num
+ *     @property
+ *     def num(self):             # <<<<<<<<<<<<<<
+ *         return self._num
+ *     @num.setter
+ */
+
+  /* function exit code */
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":24
+ *         return self._num
+ *     @num.setter
+ *     def num(self, num):             # <<<<<<<<<<<<<<
+ *         self._num = floats(num)
+ *         self.input = floats(num)
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_2tf_3num_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_num); /*proto*/
+static int __pyx_pw_4liba_2tf_3num_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_num) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_3num_2__set__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), ((PyObject *)__pyx_v_num));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_2tf_3num_2__set__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_num) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  struct __pyx_opt_args_4liba_floats __pyx_t_2;
+  Py_ssize_t __pyx_t_3;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/tf.pxi":25
+ *     @num.setter
+ *     def num(self, num):
+ *         self._num = floats(num)             # <<<<<<<<<<<<<<
+ *         self.input = floats(num)
+ *         a_tf_set_num(&self.ctx, <unsigned int>len(num), <a_float_t *>self._num.data.as_voidptr, <a_float_t *>self.input.data.as_voidptr)
+ */
+  __pyx_t_2.__pyx_n = 1;
+  __pyx_t_2.o = __pyx_v_num;
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 25, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_GIVEREF(__pyx_t_1);
+  __Pyx_GOTREF(__pyx_v_self->_num);
+  __Pyx_DECREF(((PyObject *)__pyx_v_self->_num));
+  __pyx_v_self->_num = ((arrayobject *)__pyx_t_1);
+  __pyx_t_1 = 0;
+
+  /* "python/src/a/tf.pxi":26
+ *     def num(self, num):
+ *         self._num = floats(num)
+ *         self.input = floats(num)             # <<<<<<<<<<<<<<
+ *         a_tf_set_num(&self.ctx, <unsigned int>len(num), <a_float_t *>self._num.data.as_voidptr, <a_float_t *>self.input.data.as_voidptr)
+ *     cdef array output
+ */
+  __pyx_t_2.__pyx_n = 1;
+  __pyx_t_2.o = __pyx_v_num;
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 26, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_GIVEREF(__pyx_t_1);
+  __Pyx_GOTREF(__pyx_v_self->input);
+  __Pyx_DECREF(((PyObject *)__pyx_v_self->input));
+  __pyx_v_self->input = ((arrayobject *)__pyx_t_1);
+  __pyx_t_1 = 0;
+
+  /* "python/src/a/tf.pxi":27
+ *         self._num = floats(num)
+ *         self.input = floats(num)
+ *         a_tf_set_num(&self.ctx, <unsigned int>len(num), <a_float_t *>self._num.data.as_voidptr, <a_float_t *>self.input.data.as_voidptr)             # <<<<<<<<<<<<<<
+ *     cdef array output
+ *     @property
+ */
+  __pyx_t_3 = PyObject_Length(__pyx_v_num); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(10, 27, __pyx_L1_error)
+  a_tf_set_num((&__pyx_v_self->ctx), ((unsigned int)__pyx_t_3), ((a_float_t *)__pyx_v_self->_num->data.as_voidptr), ((a_float_t *)__pyx_v_self->input->data.as_voidptr));
+
+  /* "python/src/a/tf.pxi":24
+ *         return self._num
+ *     @num.setter
+ *     def num(self, num):             # <<<<<<<<<<<<<<
+ *         self._num = floats(num)
+ *         self.input = floats(num)
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.tf.num.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":30
+ *     cdef array output
+ *     @property
+ *     def output(self):             # <<<<<<<<<<<<<<
+ *         return self.output
+ *     cdef array _den
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_2tf_6output_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_2tf_6output_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_6output___get__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_2tf_6output___get__(struct __pyx_obj_4liba_tf *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/tf.pxi":31
+ *     @property
+ *     def output(self):
+ *         return self.output             # <<<<<<<<<<<<<<
+ *     cdef array _den
+ *     @property
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self->output));
+  __pyx_r = ((PyObject *)__pyx_v_self->output);
+  goto __pyx_L0;
+
+  /* "python/src/a/tf.pxi":30
+ *     cdef array output
+ *     @property
+ *     def output(self):             # <<<<<<<<<<<<<<
+ *         return self.output
+ *     cdef array _den
+ */
+
+  /* function exit code */
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":34
+ *     cdef array _den
+ *     @property
+ *     def den(self):             # <<<<<<<<<<<<<<
+ *         return self._den
+ *     @den.setter
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_2tf_3den_1__get__(PyObject *__pyx_v_self); /*proto*/
+static PyObject *__pyx_pw_4liba_2tf_3den_1__get__(PyObject *__pyx_v_self) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_3den___get__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_4liba_2tf_3den___get__(struct __pyx_obj_4liba_tf *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__get__", 0);
+
+  /* "python/src/a/tf.pxi":35
+ *     @property
+ *     def den(self):
+ *         return self._den             # <<<<<<<<<<<<<<
+ *     @den.setter
+ *     def den(self, den):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __Pyx_INCREF(((PyObject *)__pyx_v_self->_den));
+  __pyx_r = ((PyObject *)__pyx_v_self->_den);
+  goto __pyx_L0;
+
+  /* "python/src/a/tf.pxi":34
+ *     cdef array _den
+ *     @property
+ *     def den(self):             # <<<<<<<<<<<<<<
+ *         return self._den
+ *     @den.setter
+ */
+
+  /* function exit code */
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":37
+ *         return self._den
+ *     @den.setter
+ *     def den(self, den):             # <<<<<<<<<<<<<<
+ *         self._den = floats(den)
+ *         self.output = floats(den)
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_2tf_3den_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_den); /*proto*/
+static int __pyx_pw_4liba_2tf_3den_3__set__(PyObject *__pyx_v_self, PyObject *__pyx_v_den) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_3den_2__set__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), ((PyObject *)__pyx_v_den));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_2tf_3den_2__set__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_den) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  struct __pyx_opt_args_4liba_floats __pyx_t_2;
+  Py_ssize_t __pyx_t_3;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__set__", 0);
+
+  /* "python/src/a/tf.pxi":38
+ *     @den.setter
+ *     def den(self, den):
+ *         self._den = floats(den)             # <<<<<<<<<<<<<<
+ *         self.output = floats(den)
+ *         a_tf_set_den(&self.ctx, <unsigned int>len(den), <a_float_t *>self._den.data.as_voidptr, <a_float_t *>self.output.data.as_voidptr)
+ */
+  __pyx_t_2.__pyx_n = 1;
+  __pyx_t_2.o = __pyx_v_den;
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 38, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_GIVEREF(__pyx_t_1);
+  __Pyx_GOTREF(__pyx_v_self->_den);
+  __Pyx_DECREF(((PyObject *)__pyx_v_self->_den));
+  __pyx_v_self->_den = ((arrayobject *)__pyx_t_1);
+  __pyx_t_1 = 0;
+
+  /* "python/src/a/tf.pxi":39
+ *     def den(self, den):
+ *         self._den = floats(den)
+ *         self.output = floats(den)             # <<<<<<<<<<<<<<
+ *         a_tf_set_den(&self.ctx, <unsigned int>len(den), <a_float_t *>self._den.data.as_voidptr, <a_float_t *>self.output.data.as_voidptr)
+ *     def __cinit__(self, num, den):
+ */
+  __pyx_t_2.__pyx_n = 1;
+  __pyx_t_2.o = __pyx_v_den;
+  __pyx_t_1 = ((PyObject *)__pyx_f_4liba_floats(&__pyx_t_2)); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 39, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_GIVEREF(__pyx_t_1);
+  __Pyx_GOTREF(__pyx_v_self->output);
+  __Pyx_DECREF(((PyObject *)__pyx_v_self->output));
+  __pyx_v_self->output = ((arrayobject *)__pyx_t_1);
+  __pyx_t_1 = 0;
+
+  /* "python/src/a/tf.pxi":40
+ *         self._den = floats(den)
+ *         self.output = floats(den)
+ *         a_tf_set_den(&self.ctx, <unsigned int>len(den), <a_float_t *>self._den.data.as_voidptr, <a_float_t *>self.output.data.as_voidptr)             # <<<<<<<<<<<<<<
+ *     def __cinit__(self, num, den):
+ *         self.num = num
+ */
+  __pyx_t_3 = PyObject_Length(__pyx_v_den); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(10, 40, __pyx_L1_error)
+  a_tf_set_den((&__pyx_v_self->ctx), ((unsigned int)__pyx_t_3), ((a_float_t *)__pyx_v_self->_den->data.as_voidptr), ((a_float_t *)__pyx_v_self->output->data.as_voidptr));
+
+  /* "python/src/a/tf.pxi":37
+ *         return self._den
+ *     @den.setter
+ *     def den(self, den):             # <<<<<<<<<<<<<<
+ *         self._den = floats(den)
+ *         self.output = floats(den)
+ */
+
+  /* function exit code */
+  __pyx_r = 0;
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.tf.den.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "python/src/a/tf.pxi":41
+ *         self.output = floats(den)
+ *         a_tf_set_den(&self.ctx, <unsigned int>len(den), <a_float_t *>self._den.data.as_voidptr, <a_float_t *>self.output.data.as_voidptr)
+ *     def __cinit__(self, num, den):             # <<<<<<<<<<<<<<
+ *         self.num = num
+ *         self.den = den
+ */
+
+/* Python wrapper */
+static int __pyx_pw_4liba_2tf_5__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static int __pyx_pw_4liba_2tf_5__cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  PyObject *__pyx_v_num = 0;
+  PyObject *__pyx_v_den = 0;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__cinit__ (wrapper)", 0);
+  {
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_num,&__pyx_n_s_den,0};
+    PyObject* values[2] = {0,0};
+    if (unlikely(__pyx_kwds)) {
+      Py_ssize_t kw_args;
+      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
+      switch (pos_args) {
+        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+        CYTHON_FALLTHROUGH;
+        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+        CYTHON_FALLTHROUGH;
+        case  0: break;
+        default: goto __pyx_L5_argtuple_error;
+      }
+      kw_args = PyDict_Size(__pyx_kwds);
+      switch (pos_args) {
+        case  0:
+        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_num)) != 0)) kw_args--;
+        else goto __pyx_L5_argtuple_error;
+        CYTHON_FALLTHROUGH;
+        case  1:
+        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_den)) != 0)) kw_args--;
+        else {
+          __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, 1); __PYX_ERR(10, 41, __pyx_L3_error)
+        }
+      }
+      if (unlikely(kw_args > 0)) {
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(10, 41, __pyx_L3_error)
+      }
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
+      goto __pyx_L5_argtuple_error;
+    } else {
+      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
+      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
+    }
+    __pyx_v_num = values[0];
+    __pyx_v_den = values[1];
+  }
+  goto __pyx_L4_argument_unpacking_done;
+  __pyx_L5_argtuple_error:;
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(10, 41, __pyx_L3_error)
+  __pyx_L3_error:;
+  __Pyx_AddTraceback("liba.tf.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_RefNannyFinishContext();
+  return -1;
+  __pyx_L4_argument_unpacking_done:;
+  __pyx_r = __pyx_pf_4liba_2tf_4__cinit__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), __pyx_v_num, __pyx_v_den);
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static int __pyx_pf_4liba_2tf_4__cinit__(struct __pyx_obj_4liba_tf *__pyx_v_self, PyObject *__pyx_v_num, PyObject *__pyx_v_den) {
+  int __pyx_r;
+  __Pyx_RefNannyDeclarations
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__cinit__", 0);
+
+  /* "python/src/a/tf.pxi":42
+ *         a_tf_set_den(&self.ctx, <unsigned int>len(den), <a_float_t *>self._den.data.as_voidptr, <a_float_t *>self.output.data.as_voidptr)
+ *     def __cinit__(self, num, den):
+ *         self.num = num             # <<<<<<<<<<<<<<
+ *         self.den = den
+ */
+  if (__Pyx_PyObject_SetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_num, __pyx_v_num) < 0) __PYX_ERR(10, 42, __pyx_L1_error)
+
+  /* "python/src/a/tf.pxi":43
+ *     def __cinit__(self, num, den):
+ *         self.num = num
+ *         self.den = den             # <<<<<<<<<<<<<<
+ */
+  if (__Pyx_PyObject_SetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_den, __pyx_v_den) < 0) __PYX_ERR(10, 43, __pyx_L1_error)
+
+  /* "python/src/a/tf.pxi":41
+ *         self.output = floats(den)
+ *         a_tf_set_den(&self.ctx, <unsigned int>len(den), <a_float_t *>self._den.data.as_voidptr, <a_float_t *>self.output.data.as_voidptr)
+ *     def __cinit__(self, num, den):             # <<<<<<<<<<<<<<
+ *         self.num = num
+ *         self.den = den
  */
 
   /* function exit code */
+  __pyx_r = 0;
+  goto __pyx_L0;
   __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("liba.polytrack7.vec", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
+  __Pyx_AddTraceback("liba.tf.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = -1;
   __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_out);
-  __Pyx_XDECREF(__pyx_v_i);
-  __Pyx_XDECREF(__pyx_v_it);
-  __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":154
- *             return out
- *         return a_polytrack7_vec(&self.ctx, dt)
- *     def acc(self, dt):             # <<<<<<<<<<<<<<
- *         '''calculate acceleration'''
- *         if iterable(dt):
+/* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_10polytrack7_11acc(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
-static char __pyx_doc_4liba_10polytrack7_10acc[] = "calculate acceleration";
-static PyObject *__pyx_pw_4liba_10polytrack7_11acc(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
+static PyObject *__pyx_pw_4liba_2tf_7__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_4liba_2tf_7__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("acc (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10polytrack7_10acc(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
+  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_6__reduce_cython__(((struct __pyx_obj_4liba_tf *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack7_10acc(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt) {
-  arrayobject *__pyx_v_out = NULL;
-  PyObject *__pyx_v_i = NULL;
-  PyObject *__pyx_v_it = NULL;
+static PyObject *__pyx_pf_4liba_2tf_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_tf *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("acc", 0);
+  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
 
-  /* "python/src/a/polytrack.pxi":156
- *     def acc(self, dt):
- *         '''calculate acceleration'''
- *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
- *             for i, it in enumerate(dt):
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
-  if (__pyx_t_1) {
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__35, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 2, __pyx_L1_error)
 
-    /* "python/src/a/polytrack.pxi":157
- *         '''calculate acceleration'''
- *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
- *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_acc(&self.ctx, it)
+  /* "(tree fragment)":1
+ * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
  */
-    __pyx_t_3.__pyx_n = 1;
-    __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 157, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_v_out = ((arrayobject *)__pyx_t_2);
-    __pyx_t_2 = 0;
 
-    /* "python/src/a/polytrack.pxi":158
- *         if iterable(dt):
- *             out = reals(dt)
- *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack7_acc(&self.ctx, it)
- *             return out
- */
-    __Pyx_INCREF(__pyx_int_0);
-    __pyx_t_2 = __pyx_int_0;
-    if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
-      __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-      __pyx_t_6 = NULL;
-    } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 158, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 158, __pyx_L1_error)
-    }
-    for (;;) {
-      if (likely(!__pyx_t_6)) {
-        if (likely(PyList_CheckExact(__pyx_t_4))) {
-          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 158, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 158, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        } else {
-          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 158, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 158, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        }
-      } else {
-        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-        if (unlikely(!__pyx_t_7)) {
-          PyObject* exc_type = PyErr_Occurred();
-          if (exc_type) {
-            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 158, __pyx_L1_error)
-          }
-          break;
-        }
-        __Pyx_GOTREF(__pyx_t_7);
-      }
-      __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
-      __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_t_2);
-      __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 158, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_7);
-      __Pyx_DECREF(__pyx_t_2);
-      __pyx_t_2 = __pyx_t_7;
-      __pyx_t_7 = 0;
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.tf.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
 
-      /* "python/src/a/polytrack.pxi":159
- *             out = reals(dt)
- *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_acc(&self.ctx, it)             # <<<<<<<<<<<<<<
- *             return out
- *         return a_polytrack7_acc(&self.ctx, dt)
+/* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 159, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_polytrack7_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 159, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 159, __pyx_L1_error)
-      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "python/src/a/polytrack.pxi":158
- *         if iterable(dt):
- *             out = reals(dt)
- *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack7_acc(&self.ctx, it)
- *             return out
- */
-    }
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+/* Python wrapper */
+static PyObject *__pyx_pw_4liba_2tf_9__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
+static PyObject *__pyx_pw_4liba_2tf_9__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_2tf_8__setstate_cython__(((struct __pyx_obj_4liba_tf *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
 
-    /* "python/src/a/polytrack.pxi":160
- *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_acc(&self.ctx, it)
- *             return out             # <<<<<<<<<<<<<<
- *         return a_polytrack7_acc(&self.ctx, dt)
- *     def jer(self, dt):
- */
-    __Pyx_XDECREF(__pyx_r);
-    __Pyx_INCREF(((PyObject *)__pyx_v_out));
-    __pyx_r = ((PyObject *)__pyx_v_out);
-    goto __pyx_L0;
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
 
-    /* "python/src/a/polytrack.pxi":156
- *     def acc(self, dt):
- *         '''calculate acceleration'''
- *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
- *             for i, it in enumerate(dt):
- */
-  }
+static PyObject *__pyx_pf_4liba_2tf_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_tf *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
-  /* "python/src/a/polytrack.pxi":161
- *                 out[i] = a_polytrack7_acc(&self.ctx, it)
- *             return out
- *         return a_polytrack7_acc(&self.ctx, dt)             # <<<<<<<<<<<<<<
- *     def jer(self, dt):
- *         '''calculate jerk'''
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 161, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_polytrack7_acc((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 161, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
-  goto __pyx_L0;
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__36, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __PYX_ERR(1, 4, __pyx_L1_error)
 
-  /* "python/src/a/polytrack.pxi":154
- *             return out
- *         return a_polytrack7_vec(&self.ctx, dt)
- *     def acc(self, dt):             # <<<<<<<<<<<<<<
- *         '''calculate acceleration'''
- *         if iterable(dt):
+  /* "(tree fragment)":3
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("liba.polytrack7.acc", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("liba.tf.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_out);
-  __Pyx_XDECREF(__pyx_v_i);
-  __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":162
- *             return out
- *         return a_polytrack7_acc(&self.ctx, dt)
- *     def jer(self, dt):             # <<<<<<<<<<<<<<
- *         '''calculate jerk'''
- *         if iterable(dt):
+/* "python/src/a/version.pxi":4
+ * 
+ * VERSION = A_VERSION.decode()
+ * def version():             # <<<<<<<<<<<<<<
+ *     '''algorithm library version'''
+ *     if PY_MAJOR_VERSION >= 3:
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_10polytrack7_13jer(PyObject *__pyx_v_self, PyObject *__pyx_v_dt); /*proto*/
-static char __pyx_doc_4liba_10polytrack7_12jer[] = "calculate jerk";
-static PyObject *__pyx_pw_4liba_10polytrack7_13jer(PyObject *__pyx_v_self, PyObject *__pyx_v_dt) {
+static PyObject *__pyx_pw_4liba_15version(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static char __pyx_doc_4liba_14version[] = "algorithm library version";
+static PyMethodDef __pyx_mdef_4liba_15version = {"version", (PyCFunction)__pyx_pw_4liba_15version, METH_NOARGS, __pyx_doc_4liba_14version};
+static PyObject *__pyx_pw_4liba_15version(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("jer (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10polytrack7_12jer(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), ((PyObject *)__pyx_v_dt));
+  __Pyx_RefNannySetupContext("version (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_14version(__pyx_self);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack7_12jer(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, PyObject *__pyx_v_dt) {
-  arrayobject *__pyx_v_out = NULL;
-  PyObject *__pyx_v_i = NULL;
-  PyObject *__pyx_v_it = NULL;
+static PyObject *__pyx_pf_4liba_14version(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
-  PyObject *__pyx_t_2 = NULL;
-  struct __pyx_opt_args_4liba_reals __pyx_t_3;
-  PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  PyObject *(*__pyx_t_6)(PyObject *);
-  PyObject *__pyx_t_7 = NULL;
-  a_real_t __pyx_t_8;
+  char const *__pyx_t_2;
+  PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("jer", 0);
+  __Pyx_RefNannySetupContext("version", 0);
 
-  /* "python/src/a/polytrack.pxi":164
- *     def jer(self, dt):
- *         '''calculate jerk'''
- *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
- *             for i, it in enumerate(dt):
+  /* "python/src/a/version.pxi":6
+ * def version():
+ *     '''algorithm library version'''
+ *     if PY_MAJOR_VERSION >= 3:             # <<<<<<<<<<<<<<
+ *         return a_version().decode()
+ *     return a_version()
  */
-  __pyx_t_1 = (__pyx_f_4liba_iterable(__pyx_v_dt) != 0);
+  __pyx_t_1 = ((PY_MAJOR_VERSION >= 3) != 0);
   if (__pyx_t_1) {
 
-    /* "python/src/a/polytrack.pxi":165
- *         '''calculate jerk'''
- *         if iterable(dt):
- *             out = reals(dt)             # <<<<<<<<<<<<<<
- *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_jer(&self.ctx, it)
- */
-    __pyx_t_3.__pyx_n = 1;
-    __pyx_t_3.o = __pyx_v_dt;
-    __pyx_t_2 = ((PyObject *)__pyx_f_4liba_reals(&__pyx_t_3)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 165, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_v_out = ((arrayobject *)__pyx_t_2);
-    __pyx_t_2 = 0;
-
-    /* "python/src/a/polytrack.pxi":166
- *         if iterable(dt):
- *             out = reals(dt)
- *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack7_jer(&self.ctx, it)
- *             return out
- */
-    __Pyx_INCREF(__pyx_int_0);
-    __pyx_t_2 = __pyx_int_0;
-    if (likely(PyList_CheckExact(__pyx_v_dt)) || PyTuple_CheckExact(__pyx_v_dt)) {
-      __pyx_t_4 = __pyx_v_dt; __Pyx_INCREF(__pyx_t_4); __pyx_t_5 = 0;
-      __pyx_t_6 = NULL;
-    } else {
-      __pyx_t_5 = -1; __pyx_t_4 = PyObject_GetIter(__pyx_v_dt); if (unlikely(!__pyx_t_4)) __PYX_ERR(9, 166, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_6 = Py_TYPE(__pyx_t_4)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(9, 166, __pyx_L1_error)
-    }
-    for (;;) {
-      if (likely(!__pyx_t_6)) {
-        if (likely(PyList_CheckExact(__pyx_t_4))) {
-          if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 166, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 166, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        } else {
-          if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_4)) break;
-          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_4, __pyx_t_5); __Pyx_INCREF(__pyx_t_7); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(9, 166, __pyx_L1_error)
-          #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_4, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 166, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_7);
-          #endif
-        }
-      } else {
-        __pyx_t_7 = __pyx_t_6(__pyx_t_4);
-        if (unlikely(!__pyx_t_7)) {
-          PyObject* exc_type = PyErr_Occurred();
-          if (exc_type) {
-            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(9, 166, __pyx_L1_error)
-          }
-          break;
-        }
-        __Pyx_GOTREF(__pyx_t_7);
-      }
-      __Pyx_XDECREF_SET(__pyx_v_it, __pyx_t_7);
-      __pyx_t_7 = 0;
-      __Pyx_INCREF(__pyx_t_2);
-      __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_2);
-      __pyx_t_7 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 166, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_7);
-      __Pyx_DECREF(__pyx_t_2);
-      __pyx_t_2 = __pyx_t_7;
-      __pyx_t_7 = 0;
-
-      /* "python/src/a/polytrack.pxi":167
- *             out = reals(dt)
- *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_jer(&self.ctx, it)             # <<<<<<<<<<<<<<
- *             return out
- *         return a_polytrack7_jer(&self.ctx, dt)
- */
-      __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_it); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 167, __pyx_L1_error)
-      __pyx_t_7 = PyFloat_FromDouble(a_polytrack7_jer((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_7)) __PYX_ERR(9, 167, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_7);
-      if (unlikely(PyObject_SetItem(((PyObject *)__pyx_v_out), __pyx_v_i, __pyx_t_7) < 0)) __PYX_ERR(9, 167, __pyx_L1_error)
-      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-
-      /* "python/src/a/polytrack.pxi":166
- *         if iterable(dt):
- *             out = reals(dt)
- *             for i, it in enumerate(dt):             # <<<<<<<<<<<<<<
- *                 out[i] = a_polytrack7_jer(&self.ctx, it)
- *             return out
- */
-    }
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-    /* "python/src/a/polytrack.pxi":168
- *             for i, it in enumerate(dt):
- *                 out[i] = a_polytrack7_jer(&self.ctx, it)
- *             return out             # <<<<<<<<<<<<<<
- *         return a_polytrack7_jer(&self.ctx, dt)
+    /* "python/src/a/version.pxi":7
+ *     '''algorithm library version'''
+ *     if PY_MAJOR_VERSION >= 3:
+ *         return a_version().decode()             # <<<<<<<<<<<<<<
+ *     return a_version()
  * 
  */
     __Pyx_XDECREF(__pyx_r);
-    __Pyx_INCREF(((PyObject *)__pyx_v_out));
-    __pyx_r = ((PyObject *)__pyx_v_out);
+    __pyx_t_2 = a_version();
+    __pyx_t_3 = __Pyx_decode_c_string(__pyx_t_2, 0, strlen(__pyx_t_2), NULL, NULL, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(11, 7, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_INCREF(__pyx_t_3);
+    __pyx_r = __pyx_t_3;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "python/src/a/polytrack.pxi":164
- *     def jer(self, dt):
- *         '''calculate jerk'''
- *         if iterable(dt):             # <<<<<<<<<<<<<<
- *             out = reals(dt)
- *             for i, it in enumerate(dt):
+    /* "python/src/a/version.pxi":6
+ * def version():
+ *     '''algorithm library version'''
+ *     if PY_MAJOR_VERSION >= 3:             # <<<<<<<<<<<<<<
+ *         return a_version().decode()
+ *     return a_version()
  */
   }
 
-  /* "python/src/a/polytrack.pxi":169
- *                 out[i] = a_polytrack7_jer(&self.ctx, it)
- *             return out
- *         return a_polytrack7_jer(&self.ctx, dt)             # <<<<<<<<<<<<<<
+  /* "python/src/a/version.pxi":8
+ *     if PY_MAJOR_VERSION >= 3:
+ *         return a_version().decode()
+ *     return a_version()             # <<<<<<<<<<<<<<
  * 
- *     @property
+ * VERSION_MAJOR = A_VERSION_MAJOR
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_dt); if (unlikely((__pyx_t_8 == ((a_real_t)-1)) && PyErr_Occurred())) __PYX_ERR(9, 169, __pyx_L1_error)
-  __pyx_t_2 = PyFloat_FromDouble(a_polytrack7_jer((&__pyx_v_self->ctx), __pyx_t_8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(9, 169, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_r = __pyx_t_2;
-  __pyx_t_2 = 0;
+  __pyx_t_3 = __Pyx_PyBytes_FromString(a_version()); if (unlikely(!__pyx_t_3)) __PYX_ERR(11, 8, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_r = __pyx_t_3;
+  __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":162
- *             return out
- *         return a_polytrack7_acc(&self.ctx, dt)
- *     def jer(self, dt):             # <<<<<<<<<<<<<<
- *         '''calculate jerk'''
- *         if iterable(dt):
+  /* "python/src/a/version.pxi":4
+ * 
+ * VERSION = A_VERSION.decode()
+ * def version():             # <<<<<<<<<<<<<<
+ *     '''algorithm library version'''
+ *     if PY_MAJOR_VERSION >= 3:
  */
 
   /* function exit code */
   __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_AddTraceback("liba.polytrack7.jer", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_AddTraceback("liba.version", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XDECREF((PyObject *)__pyx_v_out);
-  __Pyx_XDECREF(__pyx_v_i);
-  __Pyx_XDECREF(__pyx_v_it);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "python/src/a/polytrack.pxi":172
+/* "python/src/a/version.pxi":11
  * 
- *     @property
- *     def k(self):             # <<<<<<<<<<<<<<
- *         return self.ctx.k
+ * VERSION_MAJOR = A_VERSION_MAJOR
+ * def version_major() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version major'''
+ *     return a_version_major()
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_10polytrack7_1k_1__get__(PyObject *__pyx_v_self); /*proto*/
-static PyObject *__pyx_pw_4liba_10polytrack7_1k_1__get__(PyObject *__pyx_v_self) {
+static PyObject *__pyx_pw_4liba_17version_major(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static char __pyx_doc_4liba_16version_major[] = "algorithm library version major";
+static PyMethodDef __pyx_mdef_4liba_17version_major = {"version_major", (PyCFunction)__pyx_pw_4liba_17version_major, METH_NOARGS, __pyx_doc_4liba_16version_major};
+static PyObject *__pyx_pw_4liba_17version_major(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__get__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10polytrack7_1k___get__(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self));
+  __Pyx_RefNannySetupContext("version_major (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_16version_major(__pyx_self);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack7_1k___get__(struct __pyx_obj_4liba_polytrack7 *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_16version_major(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__get__", 0);
+  __Pyx_RefNannySetupContext("version_major", 0);
 
-  /* "python/src/a/polytrack.pxi":173
- *     @property
- *     def k(self):
- *         return self.ctx.k             # <<<<<<<<<<<<<<
+  /* "python/src/a/version.pxi":13
+ * def version_major() -> int:
+ *     '''algorithm library version major'''
+ *     return a_version_major()             # <<<<<<<<<<<<<<
+ * 
+ * VERSION_MINOR = A_VERSION_MINOR
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_carray_to_py_a_real_t(__pyx_v_self->ctx.k, 8); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 173, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(a_version_major()); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 13, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "python/src/a/polytrack.pxi":172
+  /* "python/src/a/version.pxi":11
  * 
- *     @property
- *     def k(self):             # <<<<<<<<<<<<<<
- *         return self.ctx.k
+ * VERSION_MAJOR = A_VERSION_MAJOR
+ * def version_major() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version major'''
+ *     return a_version_major()
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.polytrack7.k.__get__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.version_major", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
+/* "python/src/a/version.pxi":16
+ * 
+ * VERSION_MINOR = A_VERSION_MINOR
+ * def version_minor() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version minor'''
+ *     return a_version_minor()
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_10polytrack7_15__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static PyObject *__pyx_pw_4liba_10polytrack7_15__reduce_cython__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_4liba_19version_minor(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static char __pyx_doc_4liba_18version_minor[] = "algorithm library version minor";
+static PyMethodDef __pyx_mdef_4liba_19version_minor = {"version_minor", (PyCFunction)__pyx_pw_4liba_19version_minor, METH_NOARGS, __pyx_doc_4liba_18version_minor};
+static PyObject *__pyx_pw_4liba_19version_minor(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__reduce_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10polytrack7_14__reduce_cython__(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self));
+  __Pyx_RefNannySetupContext("version_minor (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_18version_minor(__pyx_self);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack7_14__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack7 *__pyx_v_self) {
+static PyObject *__pyx_pf_4liba_18version_minor(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__reduce_cython__", 0);
+  __Pyx_RefNannySetupContext("version_minor", 0);
 
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+  /* "python/src/a/version.pxi":18
+ * def version_minor() -> int:
+ *     '''algorithm library version minor'''
+ *     return a_version_minor()             # <<<<<<<<<<<<<<
+ * 
+ * VERSION_PATCH = A_VERSION_PATCH
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__11, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(a_version_minor()); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 18, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
 
-  /* "(tree fragment)":1
- * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
+  /* "python/src/a/version.pxi":16
+ * 
+ * VERSION_MINOR = A_VERSION_MINOR
+ * def version_minor() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version minor'''
+ *     return a_version_minor()
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.polytrack7.__reduce_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.version_minor", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
+  __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+/* "python/src/a/version.pxi":21
+ * 
+ * VERSION_PATCH = A_VERSION_PATCH
+ * def version_patch() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version patch'''
+ *     return a_version_patch()
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_10polytrack7_17__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state); /*proto*/
-static PyObject *__pyx_pw_4liba_10polytrack7_17__setstate_cython__(PyObject *__pyx_v_self, PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pw_4liba_21version_patch(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static char __pyx_doc_4liba_20version_patch[] = "algorithm library version patch";
+static PyMethodDef __pyx_mdef_4liba_21version_patch = {"version_patch", (PyCFunction)__pyx_pw_4liba_21version_patch, METH_NOARGS, __pyx_doc_4liba_20version_patch};
+static PyObject *__pyx_pw_4liba_21version_patch(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__setstate_cython__ (wrapper)", 0);
-  __pyx_r = __pyx_pf_4liba_10polytrack7_16__setstate_cython__(((struct __pyx_obj_4liba_polytrack7 *)__pyx_v_self), ((PyObject *)__pyx_v___pyx_state));
+  __Pyx_RefNannySetupContext("version_patch (wrapper)", 0);
+  __pyx_r = __pyx_pf_4liba_20version_patch(__pyx_self);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_10polytrack7_16__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_4liba_polytrack7 *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_4liba_20version_patch(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__setstate_cython__", 0);
+  __Pyx_RefNannySetupContext("version_patch", 0);
 
-  /* "(tree fragment)":4
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+  /* "python/src/a/version.pxi":23
+ * def version_patch() -> int:
+ *     '''algorithm library version patch'''
+ *     return a_version_patch()             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__12, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(a_version_patch()); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_Raise(__pyx_t_1, 0, 0, 0);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
 
-  /* "(tree fragment)":3
- * def __reduce_cython__(self):
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
- * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
- *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+  /* "python/src/a/version.pxi":21
+ * 
+ * VERSION_PATCH = A_VERSION_PATCH
+ * def version_patch() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version patch'''
+ *     return a_version_patch()
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("liba.polytrack7.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("liba.version_patch", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
+  __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "(tree fragment)":1
  * def __pyx_unpickle_mf(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_4liba_17__pyx_unpickle_mf(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static PyMethodDef __pyx_mdef_4liba_17__pyx_unpickle_mf = {"__pyx_unpickle_mf", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_17__pyx_unpickle_mf, METH_VARARGS|METH_KEYWORDS, 0};
-static PyObject *__pyx_pw_4liba_17__pyx_unpickle_mf(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+static PyObject *__pyx_pw_4liba_23__pyx_unpickle_mf(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static PyMethodDef __pyx_mdef_4liba_23__pyx_unpickle_mf = {"__pyx_unpickle_mf", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_23__pyx_unpickle_mf, METH_VARARGS|METH_KEYWORDS, 0};
+static PyObject *__pyx_pw_4liba_23__pyx_unpickle_mf(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v___pyx_type = 0;
   long __pyx_v___pyx_checksum;
   PyObject *__pyx_v___pyx_state = 0;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
@@ -18867,53 +22510,53 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_pyx_type)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_pyx_checksum)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_mf", 1, 3, 3, 1); __PYX_ERR(2, 1, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_mf", 1, 3, 3, 1); __PYX_ERR(1, 1, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_pyx_state)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_mf", 1, 3, 3, 2); __PYX_ERR(2, 1, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_mf", 1, 3, 3, 2); __PYX_ERR(1, 1, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__pyx_unpickle_mf") < 0)) __PYX_ERR(2, 1, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__pyx_unpickle_mf") < 0)) __PYX_ERR(1, 1, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v___pyx_type = values[0];
-    __pyx_v___pyx_checksum = __Pyx_PyInt_As_long(values[1]); if (unlikely((__pyx_v___pyx_checksum == (long)-1) && PyErr_Occurred())) __PYX_ERR(2, 1, __pyx_L3_error)
+    __pyx_v___pyx_checksum = __Pyx_PyInt_As_long(values[1]); if (unlikely((__pyx_v___pyx_checksum == (long)-1) && PyErr_Occurred())) __PYX_ERR(1, 1, __pyx_L3_error)
     __pyx_v___pyx_state = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_mf", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(2, 1, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__pyx_unpickle_mf", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(1, 1, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("liba.__pyx_unpickle_mf", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_4liba_16__pyx_unpickle_mf(__pyx_self, __pyx_v___pyx_type, __pyx_v___pyx_checksum, __pyx_v___pyx_state);
+  __pyx_r = __pyx_pf_4liba_22__pyx_unpickle_mf(__pyx_self, __pyx_v___pyx_type, __pyx_v___pyx_checksum, __pyx_v___pyx_state);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_4liba_16__pyx_unpickle_mf(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_4liba_22__pyx_unpickle_mf(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_v___pyx_PickleError = 0;
   PyObject *__pyx_v___pyx_result = 0;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_t_2;
   int __pyx_t_3;
@@ -18928,53 +22571,53 @@
   /* "(tree fragment)":4
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xd41d8cd, 0xe3b0c44, 0xda39a3e):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())" % __pyx_checksum)
  */
-  __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__13, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__37, Py_NE)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
     /* "(tree fragment)":5
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xd41d8cd, 0xe3b0c44, 0xda39a3e):
  *         from pickle import PickleError as __pyx_PickleError             # <<<<<<<<<<<<<<
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())" % __pyx_checksum)
  *     __pyx_result = mf.__new__(__pyx_type)
  */
-    __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 5, __pyx_L1_error)
+    __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 5, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_INCREF(__pyx_n_s_PickleError);
     __Pyx_GIVEREF(__pyx_n_s_PickleError);
     PyList_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_PickleError);
-    __pyx_t_4 = __Pyx_Import(__pyx_n_s_pickle, __pyx_t_1, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 5, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_Import(__pyx_n_s_pickle, __pyx_t_1, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 5, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_4, __pyx_n_s_PickleError); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 5, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_4, __pyx_n_s_PickleError); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 5, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v___pyx_PickleError = __pyx_t_1;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
     /* "(tree fragment)":6
  *     if __pyx_checksum not in (0xd41d8cd, 0xe3b0c44, 0xda39a3e):
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())" % __pyx_checksum)             # <<<<<<<<<<<<<<
  *     __pyx_result = mf.__new__(__pyx_type)
  *     if __pyx_state is not None:
  */
-    __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 6, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 6, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = __Pyx_PyString_Format(__pyx_kp_s_Incompatible_checksums_0x_x_vs_0, __pyx_t_1); if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 6, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyString_Format(__pyx_kp_s_Incompatible_checksums_0x_x_vs_0, __pyx_t_1); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 6, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_INCREF(__pyx_v___pyx_PickleError);
     __pyx_t_1 = __pyx_v___pyx_PickleError; __pyx_t_6 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_6)) {
@@ -18983,20 +22626,20 @@
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_4 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_6, __pyx_t_5) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_5);
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 6, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 6, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_4, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __PYX_ERR(2, 6, __pyx_L1_error)
+    __PYX_ERR(1, 6, __pyx_L1_error)
 
     /* "(tree fragment)":4
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xd41d8cd, 0xe3b0c44, 0xda39a3e):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())" % __pyx_checksum)
@@ -19006,29 +22649,29 @@
   /* "(tree fragment)":7
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())" % __pyx_checksum)
  *     __pyx_result = mf.__new__(__pyx_type)             # <<<<<<<<<<<<<<
  *     if __pyx_state is not None:
  *         __pyx_unpickle_mf__set_state(<mf> __pyx_result, __pyx_state)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_ptype_4liba_mf), __pyx_n_s_new); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 7, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_ptype_4liba_mf), __pyx_n_s_new); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_5 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
     if (likely(__pyx_t_5)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_5);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_1, function);
     }
   }
   __pyx_t_4 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_5, __pyx_v___pyx_type) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v___pyx_type);
   __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 7, __pyx_L1_error)
+  if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v___pyx_result = __pyx_t_4;
   __pyx_t_4 = 0;
 
   /* "(tree fragment)":8
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())" % __pyx_checksum)
@@ -19044,16 +22687,16 @@
     /* "(tree fragment)":9
  *     __pyx_result = mf.__new__(__pyx_type)
  *     if __pyx_state is not None:
  *         __pyx_unpickle_mf__set_state(<mf> __pyx_result, __pyx_state)             # <<<<<<<<<<<<<<
  *     return __pyx_result
  * cdef __pyx_unpickle_mf__set_state(mf __pyx_result, tuple __pyx_state):
  */
-    if (!(likely(PyTuple_CheckExact(__pyx_v___pyx_state))||((__pyx_v___pyx_state) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v___pyx_state)->tp_name), 0))) __PYX_ERR(2, 9, __pyx_L1_error)
-    __pyx_t_4 = __pyx_f_4liba___pyx_unpickle_mf__set_state(((struct __pyx_obj_4liba_mf *)__pyx_v___pyx_result), ((PyObject*)__pyx_v___pyx_state)); if (unlikely(!__pyx_t_4)) __PYX_ERR(2, 9, __pyx_L1_error)
+    if (!(likely(PyTuple_CheckExact(__pyx_v___pyx_state))||((__pyx_v___pyx_state) == Py_None)||(PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v___pyx_state)->tp_name), 0))) __PYX_ERR(1, 9, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_4liba___pyx_unpickle_mf__set_state(((struct __pyx_obj_4liba_mf *)__pyx_v___pyx_result), ((PyObject*)__pyx_v___pyx_state)); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 9, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
     /* "(tree fragment)":8
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0xd41d8cd, 0xe3b0c44, 0xda39a3e) = ())" % __pyx_checksum)
  *     __pyx_result = mf.__new__(__pyx_type)
  *     if __pyx_state is not None:             # <<<<<<<<<<<<<<
@@ -19124,59 +22767,59 @@
  *     return __pyx_result
  * cdef __pyx_unpickle_mf__set_state(mf __pyx_result, tuple __pyx_state):
  *     if len(__pyx_state) > 0 and hasattr(__pyx_result, '__dict__'):             # <<<<<<<<<<<<<<
  *         __pyx_result.__dict__.update(__pyx_state[0])
  */
   if (unlikely(__pyx_v___pyx_state == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
-    __PYX_ERR(2, 12, __pyx_L1_error)
+    __PYX_ERR(1, 12, __pyx_L1_error)
   }
-  __pyx_t_2 = PyTuple_GET_SIZE(__pyx_v___pyx_state); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(2, 12, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_GET_SIZE(__pyx_v___pyx_state); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(1, 12, __pyx_L1_error)
   __pyx_t_3 = ((__pyx_t_2 > 0) != 0);
   if (__pyx_t_3) {
   } else {
     __pyx_t_1 = __pyx_t_3;
     goto __pyx_L4_bool_binop_done;
   }
-  __pyx_t_3 = __Pyx_HasAttr(((PyObject *)__pyx_v___pyx_result), __pyx_n_s_dict); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(2, 12, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_HasAttr(((PyObject *)__pyx_v___pyx_result), __pyx_n_s_dict); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(1, 12, __pyx_L1_error)
   __pyx_t_4 = (__pyx_t_3 != 0);
   __pyx_t_1 = __pyx_t_4;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
     /* "(tree fragment)":13
  * cdef __pyx_unpickle_mf__set_state(mf __pyx_result, tuple __pyx_state):
  *     if len(__pyx_state) > 0 and hasattr(__pyx_result, '__dict__'):
  *         __pyx_result.__dict__.update(__pyx_state[0])             # <<<<<<<<<<<<<<
  */
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v___pyx_result), __pyx_n_s_dict); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 13, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v___pyx_result), __pyx_n_s_dict); if (unlikely(!__pyx_t_6)) __PYX_ERR(1, 13, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
-    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_update); if (unlikely(!__pyx_t_7)) __PYX_ERR(2, 13, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_update); if (unlikely(!__pyx_t_7)) __PYX_ERR(1, 13, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     if (unlikely(__pyx_v___pyx_state == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(2, 13, __pyx_L1_error)
+      __PYX_ERR(1, 13, __pyx_L1_error)
     }
-    __pyx_t_6 = __Pyx_GetItemInt_Tuple(__pyx_v___pyx_state, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(2, 13, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_GetItemInt_Tuple(__pyx_v___pyx_state, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(1, 13, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __pyx_t_8 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
       __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_7);
       if (likely(__pyx_t_8)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
         __Pyx_INCREF(__pyx_t_8);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_7, function);
       }
     }
     __pyx_t_5 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_8, __pyx_t_6) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_6);
     __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_5)) __PYX_ERR(2, 13, __pyx_L1_error)
+    if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 13, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
     /* "(tree fragment)":12
  *     return __pyx_result
  * cdef __pyx_unpickle_mf__set_state(mf __pyx_result, tuple __pyx_state):
@@ -19255,15 +22898,15 @@
   /* "cpython/array.pxd":98
  *             # In particular strided access is always provided regardless
  *             # of flags
  *             item_count = Py_SIZE(self)             # <<<<<<<<<<<<<<
  * 
  *             info.suboffsets = NULL
  */
-  __pyx_t_1 = PyInt_FromSsize_t(Py_SIZE(((PyObject *)__pyx_v_self))); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 98, __pyx_L1_error)
+  __pyx_t_1 = PyInt_FromSsize_t(Py_SIZE(((PyObject *)__pyx_v_self))); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 98, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_item_count = __pyx_t_1;
   __pyx_t_1 = 0;
 
   /* "cpython/array.pxd":100
  *             item_count = Py_SIZE(self)
  * 
@@ -19314,20 +22957,20 @@
   /* "cpython/array.pxd":105
  *             info.ndim = 1
  *             info.itemsize = self.ob_descr.itemsize   # e.g. sizeof(float)
  *             info.len = info.itemsize * item_count             # <<<<<<<<<<<<<<
  * 
  *             info.shape = <Py_ssize_t*> PyObject_Malloc(sizeof(Py_ssize_t) + 2)
  */
-  __pyx_t_1 = PyInt_FromSsize_t(__pyx_v_info->itemsize); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 105, __pyx_L1_error)
+  __pyx_t_1 = PyInt_FromSsize_t(__pyx_v_info->itemsize); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 105, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_4 = PyNumber_Multiply(__pyx_t_1, __pyx_v_item_count); if (unlikely(!__pyx_t_4)) __PYX_ERR(10, 105, __pyx_L1_error)
+  __pyx_t_4 = PyNumber_Multiply(__pyx_t_1, __pyx_v_item_count); if (unlikely(!__pyx_t_4)) __PYX_ERR(12, 105, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_5 = __Pyx_PyIndex_AsSsize_t(__pyx_t_4); if (unlikely((__pyx_t_5 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(10, 105, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyIndex_AsSsize_t(__pyx_t_4); if (unlikely((__pyx_t_5 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(12, 105, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_v_info->len = __pyx_t_5;
 
   /* "cpython/array.pxd":107
  *             info.len = info.itemsize * item_count
  * 
  *             info.shape = <Py_ssize_t*> PyObject_Malloc(sizeof(Py_ssize_t) + 2)             # <<<<<<<<<<<<<<
@@ -19349,15 +22992,15 @@
     /* "cpython/array.pxd":109
  *             info.shape = <Py_ssize_t*> PyObject_Malloc(sizeof(Py_ssize_t) + 2)
  *             if not info.shape:
  *                 raise MemoryError()             # <<<<<<<<<<<<<<
  *             info.shape[0] = item_count      # constant regardless of resizing
  *             info.strides = &info.itemsize
  */
-    PyErr_NoMemory(); __PYX_ERR(10, 109, __pyx_L1_error)
+    PyErr_NoMemory(); __PYX_ERR(12, 109, __pyx_L1_error)
 
     /* "cpython/array.pxd":108
  * 
  *             info.shape = <Py_ssize_t*> PyObject_Malloc(sizeof(Py_ssize_t) + 2)
  *             if not info.shape:             # <<<<<<<<<<<<<<
  *                 raise MemoryError()
  *             info.shape[0] = item_count      # constant regardless of resizing
@@ -19367,15 +23010,15 @@
   /* "cpython/array.pxd":110
  *             if not info.shape:
  *                 raise MemoryError()
  *             info.shape[0] = item_count      # constant regardless of resizing             # <<<<<<<<<<<<<<
  *             info.strides = &info.itemsize
  * 
  */
-  __pyx_t_5 = __Pyx_PyIndex_AsSsize_t(__pyx_v_item_count); if (unlikely((__pyx_t_5 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(10, 110, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyIndex_AsSsize_t(__pyx_v_item_count); if (unlikely((__pyx_t_5 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(12, 110, __pyx_L1_error)
   (__pyx_v_info->shape[0]) = __pyx_t_5;
 
   /* "cpython/array.pxd":111
  *                 raise MemoryError()
  *             info.shape[0] = item_count      # constant regardless of resizing
  *             info.strides = &info.itemsize             # <<<<<<<<<<<<<<
  * 
@@ -19524,15 +23167,15 @@
   /* "cpython/array.pxd":134
  *     type will be same as template.
  *     if zero is true, new array will be initialized with zeroes."""
  *     cdef array op = newarrayobject(Py_TYPE(template), length, template.ob_descr)             # <<<<<<<<<<<<<<
  *     if zero and op is not None:
  *         memset(op.data.as_chars, 0, length * op.ob_descr.itemsize)
  */
-  __pyx_t_1 = ((PyObject *)newarrayobject(Py_TYPE(((PyObject *)__pyx_v_template)), __pyx_v_length, __pyx_v_template->ob_descr)); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 134, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)newarrayobject(Py_TYPE(((PyObject *)__pyx_v_template)), __pyx_v_length, __pyx_v_template->ob_descr)); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 134, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_op = ((arrayobject *)__pyx_t_1);
   __pyx_t_1 = 0;
 
   /* "cpython/array.pxd":135
  *     if zero is true, new array will be initialized with zeroes."""
  *     cdef array op = newarrayobject(Py_TYPE(template), length, template.ob_descr)
@@ -19623,15 +23266,15 @@
   /* "cpython/array.pxd":141
  * cdef inline array copy(array self):
  *     """ make a copy of an array. """
  *     cdef array op = newarrayobject(Py_TYPE(self), Py_SIZE(self), self.ob_descr)             # <<<<<<<<<<<<<<
  *     memcpy(op.data.as_chars, self.data.as_chars, Py_SIZE(op) * op.ob_descr.itemsize)
  *     return op
  */
-  __pyx_t_1 = ((PyObject *)newarrayobject(Py_TYPE(((PyObject *)__pyx_v_self)), Py_SIZE(((PyObject *)__pyx_v_self)), __pyx_v_self->ob_descr)); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 141, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)newarrayobject(Py_TYPE(((PyObject *)__pyx_v_self)), Py_SIZE(((PyObject *)__pyx_v_self)), __pyx_v_self->ob_descr)); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 141, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_op = ((arrayobject *)__pyx_t_1);
   __pyx_t_1 = 0;
 
   /* "cpython/array.pxd":142
  *     """ make a copy of an array. """
  *     cdef array op = newarrayobject(Py_TYPE(self), Py_SIZE(self), self.ob_descr)
@@ -19714,15 +23357,15 @@
   /* "cpython/array.pxd":151
  *     cdef Py_ssize_t itemsize = self.ob_descr.itemsize
  *     cdef Py_ssize_t origsize = Py_SIZE(self)
  *     resize_smart(self, origsize + n)             # <<<<<<<<<<<<<<
  *     memcpy(self.data.as_chars + origsize * itemsize, stuff, n * itemsize)
  *     return 0
  */
-  __pyx_t_1 = resize_smart(__pyx_v_self, (__pyx_v_origsize + __pyx_v_n)); if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(10, 151, __pyx_L1_error)
+  __pyx_t_1 = resize_smart(__pyx_v_self, (__pyx_v_origsize + __pyx_v_n)); if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(12, 151, __pyx_L1_error)
 
   /* "cpython/array.pxd":152
  *     cdef Py_ssize_t origsize = Py_SIZE(self)
  *     resize_smart(self, origsize + n)
  *     memcpy(self.data.as_chars + origsize * itemsize, stuff, n * itemsize)             # <<<<<<<<<<<<<<
  *     return 0
  * 
@@ -19787,15 +23430,15 @@
     /* "cpython/array.pxd":158
  *     """ extend array with data from another array; types must match. """
  *     if self.ob_descr.typecode != other.ob_descr.typecode:
  *         PyErr_BadArgument()             # <<<<<<<<<<<<<<
  *     return extend_buffer(self, other.data.as_chars, Py_SIZE(other))
  * 
  */
-    __pyx_t_2 = PyErr_BadArgument(); if (unlikely(__pyx_t_2 == ((int)0))) __PYX_ERR(10, 158, __pyx_L1_error)
+    __pyx_t_2 = PyErr_BadArgument(); if (unlikely(__pyx_t_2 == ((int)0))) __PYX_ERR(12, 158, __pyx_L1_error)
 
     /* "cpython/array.pxd":157
  * cdef inline int extend(array self, array other) except -1:
  *     """ extend array with data from another array; types must match. """
  *     if self.ob_descr.typecode != other.ob_descr.typecode:             # <<<<<<<<<<<<<<
  *         PyErr_BadArgument()
  *     return extend_buffer(self, other.data.as_chars, Py_SIZE(other))
@@ -19805,15 +23448,15 @@
   /* "cpython/array.pxd":159
  *     if self.ob_descr.typecode != other.ob_descr.typecode:
  *         PyErr_BadArgument()
  *     return extend_buffer(self, other.data.as_chars, Py_SIZE(other))             # <<<<<<<<<<<<<<
  * 
  * cdef inline void zero(array self):
  */
-  __pyx_t_2 = __pyx_f_7cpython_5array_extend_buffer(__pyx_v_self, __pyx_v_other->data.as_chars, Py_SIZE(((PyObject *)__pyx_v_other))); if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(10, 159, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_7cpython_5array_extend_buffer(__pyx_v_self, __pyx_v_other->data.as_chars, Py_SIZE(((PyObject *)__pyx_v_other))); if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(12, 159, __pyx_L1_error)
   __pyx_r = __pyx_t_2;
   goto __pyx_L0;
 
   /* "cpython/array.pxd":155
  *     return 0
  * 
  * cdef inline int extend(array self, array other) except -1:             # <<<<<<<<<<<<<<
@@ -19859,43 +23502,43 @@
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
 /* "carray.to_py":112
  * 
- * @cname("__Pyx_carray_to_py_a_real_t")
- * cdef inline list __Pyx_carray_to_py_a_real_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
+ * @cname("__Pyx_carray_to_py_a_float_t")
+ * cdef inline list __Pyx_carray_to_py_a_float_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
  *     cdef size_t i
  *     cdef object value
  */
 
-static CYTHON_INLINE PyObject *__Pyx_carray_to_py_a_real_t(a_real_t *__pyx_v_v, Py_ssize_t __pyx_v_length) {
+static CYTHON_INLINE PyObject *__Pyx_carray_to_py_a_float_t(a_float_t *__pyx_v_v, Py_ssize_t __pyx_v_length) {
   size_t __pyx_v_i;
   PyObject *__pyx_v_value = 0;
   PyObject *__pyx_v_l = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   size_t __pyx_t_2;
   size_t __pyx_t_3;
   size_t __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__Pyx_carray_to_py_a_real_t", 0);
+  __Pyx_RefNannySetupContext("__Pyx_carray_to_py_a_float_t", 0);
 
   /* "carray.to_py":115
  *     cdef size_t i
  *     cdef object value
  *     l = PyList_New(length)             # <<<<<<<<<<<<<<
  *     for i in range(<size_t>length):
  *         value = v[i]
  */
-  __pyx_t_1 = PyList_New(__pyx_v_length); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 115, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(__pyx_v_length); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 115, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_l = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
   /* "carray.to_py":116
  *     cdef object value
  *     l = PyList_New(length)
@@ -19911,15 +23554,15 @@
     /* "carray.to_py":117
  *     l = PyList_New(length)
  *     for i in range(<size_t>length):
  *         value = v[i]             # <<<<<<<<<<<<<<
  *         Py_INCREF(value)
  *         PyList_SET_ITEM(l, i, value)
  */
-    __pyx_t_1 = PyFloat_FromDouble((__pyx_v_v[__pyx_v_i])); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 117, __pyx_L1_error)
+    __pyx_t_1 = PyFloat_FromDouble((__pyx_v_v[__pyx_v_i])); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 117, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_XDECREF_SET(__pyx_v_value, __pyx_t_1);
     __pyx_t_1 = 0;
 
     /* "carray.to_py":118
  *     for i in range(<size_t>length):
  *         value = v[i]
@@ -19949,64 +23592,64 @@
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_l);
   __pyx_r = __pyx_v_l;
   goto __pyx_L0;
 
   /* "carray.to_py":112
  * 
- * @cname("__Pyx_carray_to_py_a_real_t")
- * cdef inline list __Pyx_carray_to_py_a_real_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
+ * @cname("__Pyx_carray_to_py_a_float_t")
+ * cdef inline list __Pyx_carray_to_py_a_float_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
  *     cdef size_t i
  *     cdef object value
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("carray.to_py.__Pyx_carray_to_py_a_real_t", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("carray.to_py.__Pyx_carray_to_py_a_float_t", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_value);
   __Pyx_XDECREF(__pyx_v_l);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "carray.to_py":124
  * 
- * @cname("__Pyx_carray_to_tuple_a_real_t")
- * cdef inline tuple __Pyx_carray_to_tuple_a_real_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
+ * @cname("__Pyx_carray_to_tuple_a_float_t")
+ * cdef inline tuple __Pyx_carray_to_tuple_a_float_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
  *     cdef size_t i
  *     cdef object value
  */
 
-static CYTHON_INLINE PyObject *__Pyx_carray_to_tuple_a_real_t(a_real_t *__pyx_v_v, Py_ssize_t __pyx_v_length) {
+static CYTHON_INLINE PyObject *__Pyx_carray_to_tuple_a_float_t(a_float_t *__pyx_v_v, Py_ssize_t __pyx_v_length) {
   size_t __pyx_v_i;
   PyObject *__pyx_v_value = 0;
   PyObject *__pyx_v_t = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   size_t __pyx_t_2;
   size_t __pyx_t_3;
   size_t __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__Pyx_carray_to_tuple_a_real_t", 0);
+  __Pyx_RefNannySetupContext("__Pyx_carray_to_tuple_a_float_t", 0);
 
   /* "carray.to_py":127
  *     cdef size_t i
  *     cdef object value
  *     t = PyTuple_New(length)             # <<<<<<<<<<<<<<
  *     for i in range(<size_t>length):
  *         value = v[i]
  */
-  __pyx_t_1 = PyTuple_New(__pyx_v_length); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 127, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(__pyx_v_length); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 127, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_t = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
   /* "carray.to_py":128
  *     cdef object value
  *     t = PyTuple_New(length)
@@ -20022,15 +23665,15 @@
     /* "carray.to_py":129
  *     t = PyTuple_New(length)
  *     for i in range(<size_t>length):
  *         value = v[i]             # <<<<<<<<<<<<<<
  *         Py_INCREF(value)
  *         PyTuple_SET_ITEM(t, i, value)
  */
-    __pyx_t_1 = PyFloat_FromDouble((__pyx_v_v[__pyx_v_i])); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 129, __pyx_L1_error)
+    __pyx_t_1 = PyFloat_FromDouble((__pyx_v_v[__pyx_v_i])); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 129, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_XDECREF_SET(__pyx_v_value, __pyx_t_1);
     __pyx_t_1 = 0;
 
     /* "carray.to_py":130
  *     for i in range(<size_t>length):
  *         value = v[i]
@@ -20057,71 +23700,102 @@
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_t);
   __pyx_r = __pyx_v_t;
   goto __pyx_L0;
 
   /* "carray.to_py":124
  * 
- * @cname("__Pyx_carray_to_tuple_a_real_t")
- * cdef inline tuple __Pyx_carray_to_tuple_a_real_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
+ * @cname("__Pyx_carray_to_tuple_a_float_t")
+ * cdef inline tuple __Pyx_carray_to_tuple_a_float_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
  *     cdef size_t i
  *     cdef object value
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("carray.to_py.__Pyx_carray_to_tuple_a_real_t", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __Pyx_AddTraceback("carray.to_py.__Pyx_carray_to_tuple_a_float_t", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_value);
   __Pyx_XDECREF(__pyx_v_t);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_tp_new_4liba_mf(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_4liba_crc8(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_4liba_crc8 *p;
   PyObject *o;
   if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
     o = (*t->tp_alloc)(t, 0);
   } else {
     o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
   if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_4liba_crc8 *)o);
+  p->table = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_4liba_4crc8_1__cinit__(o, a, k) < 0)) goto bad;
   return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
 }
 
-static void __pyx_tp_dealloc_4liba_mf(PyObject *o) {
+static void __pyx_tp_dealloc_4liba_crc8(PyObject *o) {
+  struct __pyx_obj_4liba_crc8 *p = (struct __pyx_obj_4liba_crc8 *)o;
   #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && (!PyType_IS_GC(Py_TYPE(o)) || !_PyGC_FINALIZED(o))) {
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
     if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
   #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->table);
   (*Py_TYPE(o)->tp_free)(o);
 }
 
-static PyMethodDef __pyx_methods_4liba_mf[] = {
-  {"gauss", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_3gauss, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_2gauss},
-  {"gbell", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_5gbell, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_4gbell},
-  {"sig", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_7sig, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_6sig},
-  {"trap", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_9trap, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_8trap},
-  {"tri", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_11tri, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_10tri},
-  {"z", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_13z, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_12z},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_2mf_15__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_2mf_17__setstate_cython__, METH_O, 0},
+static int __pyx_tp_traverse_4liba_crc8(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_4liba_crc8 *p = (struct __pyx_obj_4liba_crc8 *)o;
+  if (p->table) {
+    e = (*v)(((PyObject *)p->table), a); if (e) return e;
+  }
+  return 0;
+}
+
+static int __pyx_tp_clear_4liba_crc8(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_4liba_crc8 *p = (struct __pyx_obj_4liba_crc8 *)o;
+  tmp = ((PyObject*)p->table);
+  p->table = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
+
+static PyObject *__pyx_getprop_4liba_4crc8_table(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_4crc8_5table_1__get__(o);
+}
+
+static PyMethodDef __pyx_methods_4liba_crc8[] = {
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_4crc8_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_4crc8_7__setstate_cython__, METH_O, 0},
   {0, 0, 0, 0}
 };
 
-static PyTypeObject __pyx_type_4liba_mf = {
+static struct PyGetSetDef __pyx_getsets_4liba_crc8[] = {
+  {(char *)"table", __pyx_getprop_4liba_4crc8_table, 0, (char *)0, 0},
+  {0, 0, 0, 0, 0}
+};
+
+static PyTypeObject __pyx_type_4liba_crc8 = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.mf", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba_mf), /*tp_basicsize*/
+  "liba.crc8", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba_crc8), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba_mf, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba_crc8, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -20133,38 +23807,38 @@
   0, /*tp_as_async*/
   #endif
   0, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
-  __pyx_pw_4liba_2mf_1__call__, /*tp_call*/
+  __pyx_pw_4liba_4crc8_3__call__, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
-  "membership function", /*tp_doc*/
-  0, /*tp_traverse*/
-  0, /*tp_clear*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_4liba_crc8, /*tp_traverse*/
+  __pyx_tp_clear_4liba_crc8, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
-  __pyx_methods_4liba_mf, /*tp_methods*/
+  __pyx_methods_4liba_crc8, /*tp_methods*/
   0, /*tp_members*/
-  0, /*tp_getset*/
+  __pyx_getsets_4liba_crc8, /*tp_getset*/
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba_mf, /*tp_new*/
+  __pyx_tp_new_4liba_crc8, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -20180,141 +23854,218 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static PyObject *__pyx_tp_new_4liba_tf(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_4liba_tf *p;
+static PyObject *__pyx_tp_new_4liba_crc16(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_4liba_crc16 *p;
   PyObject *o;
   if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
     o = (*t->tp_alloc)(t, 0);
   } else {
     o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
   if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_4liba_tf *)o);
-  p->_num = ((arrayobject *)Py_None); Py_INCREF(Py_None);
-  p->_den = ((arrayobject *)Py_None); Py_INCREF(Py_None);
-  p->_u = ((arrayobject *)Py_None); Py_INCREF(Py_None);
-  p->_v = ((arrayobject *)Py_None); Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_4liba_2tf_1__cinit__(o, a, k) < 0)) goto bad;
+  p = ((struct __pyx_obj_4liba_crc16 *)o);
+  p->table = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_4liba_5crc16_1__cinit__(o, a, k) < 0)) goto bad;
   return o;
   bad:
   Py_DECREF(o); o = 0;
   return NULL;
 }
 
-static void __pyx_tp_dealloc_4liba_tf(PyObject *o) {
-  struct __pyx_obj_4liba_tf *p = (struct __pyx_obj_4liba_tf *)o;
+static void __pyx_tp_dealloc_4liba_crc16(PyObject *o) {
+  struct __pyx_obj_4liba_crc16 *p = (struct __pyx_obj_4liba_crc16 *)o;
   #if CYTHON_USE_TP_FINALIZE
   if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
     if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
   #endif
   PyObject_GC_UnTrack(o);
-  {
-    PyObject *etype, *eval, *etb;
-    PyErr_Fetch(&etype, &eval, &etb);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) + 1);
-    __pyx_pw_4liba_2tf_5__dealloc__(o);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) - 1);
-    PyErr_Restore(etype, eval, etb);
-  }
-  Py_CLEAR(p->_num);
-  Py_CLEAR(p->_den);
-  Py_CLEAR(p->_u);
-  Py_CLEAR(p->_v);
+  Py_CLEAR(p->table);
   (*Py_TYPE(o)->tp_free)(o);
 }
 
-static int __pyx_tp_traverse_4liba_tf(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba_crc16(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba_tf *p = (struct __pyx_obj_4liba_tf *)o;
-  if (p->_num) {
-    e = (*v)(((PyObject *)p->_num), a); if (e) return e;
-  }
-  if (p->_den) {
-    e = (*v)(((PyObject *)p->_den), a); if (e) return e;
-  }
-  if (p->_u) {
-    e = (*v)(((PyObject *)p->_u), a); if (e) return e;
-  }
-  if (p->_v) {
-    e = (*v)(((PyObject *)p->_v), a); if (e) return e;
+  struct __pyx_obj_4liba_crc16 *p = (struct __pyx_obj_4liba_crc16 *)o;
+  if (p->table) {
+    e = (*v)(((PyObject *)p->table), a); if (e) return e;
   }
   return 0;
 }
 
-static int __pyx_tp_clear_4liba_tf(PyObject *o) {
+static int __pyx_tp_clear_4liba_crc16(PyObject *o) {
   PyObject* tmp;
-  struct __pyx_obj_4liba_tf *p = (struct __pyx_obj_4liba_tf *)o;
-  tmp = ((PyObject*)p->_num);
-  p->_num = ((arrayobject *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->_den);
-  p->_den = ((arrayobject *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->_u);
-  p->_u = ((arrayobject *)Py_None); Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->_v);
-  p->_v = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  struct __pyx_obj_4liba_crc16 *p = (struct __pyx_obj_4liba_crc16 *)o;
+  tmp = ((PyObject*)p->table);
+  p->table = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   return 0;
 }
 
-static PyObject *__pyx_getprop_4liba_2tf_num(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_2tf_3num_1__get__(o);
+static PyObject *__pyx_getprop_4liba_5crc16_table(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_5crc16_5table_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_2tf_num(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
-  if (v) {
-    return __pyx_pw_4liba_2tf_3num_3__set__(o, v);
-  }
-  else {
-    PyErr_SetString(PyExc_NotImplementedError, "__del__");
-    return -1;
+static PyMethodDef __pyx_methods_4liba_crc16[] = {
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_5crc16_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_5crc16_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
+
+static struct PyGetSetDef __pyx_getsets_4liba_crc16[] = {
+  {(char *)"table", __pyx_getprop_4liba_5crc16_table, 0, (char *)0, 0},
+  {0, 0, 0, 0, 0}
+};
+
+static PyTypeObject __pyx_type_4liba_crc16 = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "liba.crc16", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba_crc16), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_4liba_crc16, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  __pyx_pw_4liba_5crc16_3__call__, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_4liba_crc16, /*tp_traverse*/
+  __pyx_tp_clear_4liba_crc16, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_4liba_crc16, /*tp_methods*/
+  0, /*tp_members*/
+  __pyx_getsets_4liba_crc16, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  0, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_4liba_crc16, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+
+static PyObject *__pyx_tp_new_4liba_crc32(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_4liba_crc32 *p;
+  PyObject *o;
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
+    o = (*t->tp_alloc)(t, 0);
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_4liba_crc32 *)o);
+  p->table = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_4liba_5crc32_1__cinit__(o, a, k) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
 }
 
-static PyObject *__pyx_getprop_4liba_2tf_den(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_2tf_3den_1__get__(o);
+static void __pyx_tp_dealloc_4liba_crc32(PyObject *o) {
+  struct __pyx_obj_4liba_crc32 *p = (struct __pyx_obj_4liba_crc32 *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
+  }
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->table);
+  (*Py_TYPE(o)->tp_free)(o);
 }
 
-static int __pyx_setprop_4liba_2tf_den(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
-  if (v) {
-    return __pyx_pw_4liba_2tf_3den_3__set__(o, v);
-  }
-  else {
-    PyErr_SetString(PyExc_NotImplementedError, "__del__");
-    return -1;
+static int __pyx_tp_traverse_4liba_crc32(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_4liba_crc32 *p = (struct __pyx_obj_4liba_crc32 *)o;
+  if (p->table) {
+    e = (*v)(((PyObject *)p->table), a); if (e) return e;
   }
+  return 0;
 }
 
-static PyMethodDef __pyx_methods_4liba_tf[] = {
-  {"zero", (PyCFunction)__pyx_pw_4liba_2tf_7zero, METH_NOARGS, __pyx_doc_4liba_2tf_6zero},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_2tf_9__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_2tf_11__setstate_cython__, METH_O, 0},
+static int __pyx_tp_clear_4liba_crc32(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_4liba_crc32 *p = (struct __pyx_obj_4liba_crc32 *)o;
+  tmp = ((PyObject*)p->table);
+  p->table = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
+
+static PyObject *__pyx_getprop_4liba_5crc32_table(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_5crc32_5table_1__get__(o);
+}
+
+static PyMethodDef __pyx_methods_4liba_crc32[] = {
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_5crc32_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_5crc32_7__setstate_cython__, METH_O, 0},
   {0, 0, 0, 0}
 };
 
-static struct PyGetSetDef __pyx_getsets_4liba_tf[] = {
-  {(char *)"num", __pyx_getprop_4liba_2tf_num, __pyx_setprop_4liba_2tf_num, (char *)0, 0},
-  {(char *)"den", __pyx_getprop_4liba_2tf_den, __pyx_setprop_4liba_2tf_den, (char *)0, 0},
+static struct PyGetSetDef __pyx_getsets_4liba_crc32[] = {
+  {(char *)"table", __pyx_getprop_4liba_5crc32_table, 0, (char *)0, 0},
   {0, 0, 0, 0, 0}
 };
 
-static PyTypeObject __pyx_type_4liba_tf = {
+static PyTypeObject __pyx_type_4liba_crc32 = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.tf", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba_tf), /*tp_basicsize*/
+  "liba.crc32", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba_crc32), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba_tf, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba_crc32, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -20326,38 +24077,38 @@
   0, /*tp_as_async*/
   #endif
   0, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
-  __pyx_pw_4liba_2tf_3__call__, /*tp_call*/
+  __pyx_pw_4liba_5crc32_3__call__, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  "transfer function", /*tp_doc*/
-  __pyx_tp_traverse_4liba_tf, /*tp_traverse*/
-  __pyx_tp_clear_4liba_tf, /*tp_clear*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_4liba_crc32, /*tp_traverse*/
+  __pyx_tp_clear_4liba_crc32, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
-  __pyx_methods_4liba_tf, /*tp_methods*/
+  __pyx_methods_4liba_crc32, /*tp_methods*/
   0, /*tp_members*/
-  __pyx_getsets_4liba_tf, /*tp_getset*/
+  __pyx_getsets_4liba_crc32, /*tp_getset*/
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba_tf, /*tp_new*/
+  __pyx_tp_new_4liba_crc32, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -20373,151 +24124,354 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static PyObject *__pyx_tp_new_4liba_pid(PyTypeObject *t, PyObject *a, PyObject *k) {
+static PyObject *__pyx_tp_new_4liba_crc64(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_4liba_crc64 *p;
   PyObject *o;
   if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
     o = (*t->tp_alloc)(t, 0);
   } else {
     o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
   if (unlikely(!o)) return 0;
-  if (unlikely(__pyx_pw_4liba_3pid_1__cinit__(o, a, k) < 0)) goto bad;
+  p = ((struct __pyx_obj_4liba_crc64 *)o);
+  p->table = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_4liba_5crc64_1__cinit__(o, a, k) < 0)) goto bad;
   return o;
   bad:
   Py_DECREF(o); o = 0;
   return NULL;
 }
 
-static void __pyx_tp_dealloc_4liba_pid(PyObject *o) {
+static void __pyx_tp_dealloc_4liba_crc64(PyObject *o) {
+  struct __pyx_obj_4liba_crc64 *p = (struct __pyx_obj_4liba_crc64 *)o;
   #if CYTHON_USE_TP_FINALIZE
-  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && (!PyType_IS_GC(Py_TYPE(o)) || !_PyGC_FINALIZED(o))) {
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
     if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
   #endif
-  {
-    PyObject *etype, *eval, *etb;
-    PyErr_Fetch(&etype, &eval, &etb);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) + 1);
-    __pyx_pw_4liba_3pid_5__dealloc__(o);
-    __Pyx_SET_REFCNT(o, Py_REFCNT(o) - 1);
-    PyErr_Restore(etype, eval, etb);
-  }
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->table);
   (*Py_TYPE(o)->tp_free)(o);
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_outmin(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_6outmin_1__get__(o);
+static int __pyx_tp_traverse_4liba_crc64(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_4liba_crc64 *p = (struct __pyx_obj_4liba_crc64 *)o;
+  if (p->table) {
+    e = (*v)(((PyObject *)p->table), a); if (e) return e;
+  }
+  return 0;
 }
 
-static int __pyx_setprop_4liba_3pid_outmin(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
-  if (v) {
-    return __pyx_pw_4liba_3pid_6outmin_3__set__(o, v);
-  }
-  else {
-    PyErr_SetString(PyExc_NotImplementedError, "__del__");
-    return -1;
+static int __pyx_tp_clear_4liba_crc64(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_4liba_crc64 *p = (struct __pyx_obj_4liba_crc64 *)o;
+  tmp = ((PyObject*)p->table);
+  p->table = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
+
+static PyObject *__pyx_getprop_4liba_5crc64_table(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_5crc64_5table_1__get__(o);
+}
+
+static PyMethodDef __pyx_methods_4liba_crc64[] = {
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_5crc64_5__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_5crc64_7__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
+
+static struct PyGetSetDef __pyx_getsets_4liba_crc64[] = {
+  {(char *)"table", __pyx_getprop_4liba_5crc64_table, 0, (char *)0, 0},
+  {0, 0, 0, 0, 0}
+};
+
+static PyTypeObject __pyx_type_4liba_crc64 = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "liba.crc64", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba_crc64), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_4liba_crc64, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  __pyx_pw_4liba_5crc64_3__call__, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_4liba_crc64, /*tp_traverse*/
+  __pyx_tp_clear_4liba_crc64, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_4liba_crc64, /*tp_methods*/
+  0, /*tp_members*/
+  __pyx_getsets_4liba_crc64, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  0, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_4liba_crc64, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+
+static PyObject *__pyx_tp_new_4liba_mf(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  PyObject *o;
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
+    o = (*t->tp_alloc)(t, 0);
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
+  if (unlikely(!o)) return 0;
+  return o;
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_outmax(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_6outmax_1__get__(o);
+static void __pyx_tp_dealloc_4liba_mf(PyObject *o) {
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && (!PyType_IS_GC(Py_TYPE(o)) || !_PyGC_FINALIZED(o))) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
+  }
+  #endif
+  (*Py_TYPE(o)->tp_free)(o);
 }
 
-static int __pyx_setprop_4liba_3pid_outmax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
-  if (v) {
-    return __pyx_pw_4liba_3pid_6outmax_3__set__(o, v);
+static PyMethodDef __pyx_methods_4liba_mf[] = {
+  {"gauss", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_3gauss, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_2gauss},
+  {"gbell", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_5gbell, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_4gbell},
+  {"sig", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_7sig, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_6sig},
+  {"trap", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_9trap, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_8trap},
+  {"tri", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_11tri, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_10tri},
+  {"z", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_2mf_13z, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_2mf_12z},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_2mf_15__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_2mf_17__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
+
+static PyTypeObject __pyx_type_4liba_mf = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "liba.mf", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba_mf), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_4liba_mf, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  __pyx_pw_4liba_2mf_1__call__, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
+  "membership function", /*tp_doc*/
+  0, /*tp_traverse*/
+  0, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_4liba_mf, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  0, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_4liba_mf, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+
+static PyObject *__pyx_tp_new_4liba_pid(PyTypeObject *t, PyObject *a, PyObject *k) {
+  PyObject *o;
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
+    o = (*t->tp_alloc)(t, 0);
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
-  else {
-    PyErr_SetString(PyExc_NotImplementedError, "__del__");
-    return -1;
+  if (unlikely(!o)) return 0;
+  if (unlikely(__pyx_pw_4liba_3pid_1__cinit__(o, a, k) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
+}
+
+static void __pyx_tp_dealloc_4liba_pid(PyObject *o) {
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && (!PyType_IS_GC(Py_TYPE(o)) || !_PyGC_FINALIZED(o))) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
+  #endif
+  (*Py_TYPE(o)->tp_free)(o);
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_summax(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_6summax_1__get__(o);
+static PyObject *__pyx_getprop_4liba_3pid_kp(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_3pid_2kp_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_3pid_summax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_3pid_kp(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_3pid_6summax_3__set__(o, v);
+    return __pyx_pw_4liba_3pid_2kp_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_mode(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_4mode_1__get__(o);
+static PyObject *__pyx_getprop_4liba_3pid_ki(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_3pid_2ki_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_3pid_mode(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_3pid_ki(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_3pid_4mode_3__set__(o, v);
+    return __pyx_pw_4liba_3pid_2ki_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_dt(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_2dt_1__get__(o);
+static PyObject *__pyx_getprop_4liba_3pid_kd(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_3pid_2kd_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_3pid_dt(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_3pid_kd(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_3pid_2dt_3__set__(o, v);
+    return __pyx_pw_4liba_3pid_2kd_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_kp(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_2kp_1__get__(o);
+static PyObject *__pyx_getprop_4liba_3pid_summax(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_3pid_6summax_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_3pid_kp(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_3pid_summax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_3pid_2kp_3__set__(o, v);
+    return __pyx_pw_4liba_3pid_6summax_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_ki(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_2ki_1__get__(o);
+static PyObject *__pyx_getprop_4liba_3pid_outmax(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_3pid_6outmax_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_3pid_ki(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_3pid_outmax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_3pid_2ki_3__set__(o, v);
+    return __pyx_pw_4liba_3pid_6outmax_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_kd(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_2kd_1__get__(o);
+static PyObject *__pyx_getprop_4liba_3pid_outmin(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_3pid_6outmin_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_3pid_kd(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_3pid_outmin(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_3pid_2kd_3__set__(o, v);
+    return __pyx_pw_4liba_3pid_6outmin_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
@@ -20525,46 +24479,51 @@
   return __pyx_pw_4liba_3pid_3out_1__get__(o);
 }
 
 static PyObject *__pyx_getprop_4liba_3pid_fdb(PyObject *o, CYTHON_UNUSED void *x) {
   return __pyx_pw_4liba_3pid_3fdb_1__get__(o);
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_ec(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_2ec_1__get__(o);
+static PyObject *__pyx_getprop_4liba_3pid_err(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_3pid_3err_1__get__(o);
+}
+
+static PyObject *__pyx_getprop_4liba_3pid_mode(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_3pid_4mode_1__get__(o);
 }
 
-static PyObject *__pyx_getprop_4liba_3pid_e(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_3pid_1e_1__get__(o);
+static int __pyx_setprop_4liba_3pid_mode(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_3pid_4mode_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
 }
 
 static PyMethodDef __pyx_methods_4liba_pid[] = {
+  {"kpid", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_3pid_3kpid, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_3pid_2kpid},
   {"zero", (PyCFunction)__pyx_pw_4liba_3pid_7zero, METH_NOARGS, __pyx_doc_4liba_3pid_6zero},
-  {"kpid", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_3pid_9kpid, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_3pid_8kpid},
-  {"pos", (PyCFunction)__pyx_pw_4liba_3pid_11pos, METH_O, __pyx_doc_4liba_3pid_10pos},
-  {"inc", (PyCFunction)__pyx_pw_4liba_3pid_13inc, METH_NOARGS, __pyx_doc_4liba_3pid_12inc},
-  {"off", (PyCFunction)__pyx_pw_4liba_3pid_15off, METH_NOARGS, __pyx_doc_4liba_3pid_14off},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_3pid_17__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_3pid_19__setstate_cython__, METH_O, 0},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_3pid_9__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_3pid_11__setstate_cython__, METH_O, 0},
   {0, 0, 0, 0}
 };
 
 static struct PyGetSetDef __pyx_getsets_4liba_pid[] = {
-  {(char *)"outmin", __pyx_getprop_4liba_3pid_outmin, __pyx_setprop_4liba_3pid_outmin, (char *)0, 0},
-  {(char *)"outmax", __pyx_getprop_4liba_3pid_outmax, __pyx_setprop_4liba_3pid_outmax, (char *)0, 0},
-  {(char *)"summax", __pyx_getprop_4liba_3pid_summax, __pyx_setprop_4liba_3pid_summax, (char *)0, 0},
-  {(char *)"mode", __pyx_getprop_4liba_3pid_mode, __pyx_setprop_4liba_3pid_mode, (char *)0, 0},
-  {(char *)"dt", __pyx_getprop_4liba_3pid_dt, __pyx_setprop_4liba_3pid_dt, (char *)0, 0},
   {(char *)"kp", __pyx_getprop_4liba_3pid_kp, __pyx_setprop_4liba_3pid_kp, (char *)0, 0},
   {(char *)"ki", __pyx_getprop_4liba_3pid_ki, __pyx_setprop_4liba_3pid_ki, (char *)0, 0},
   {(char *)"kd", __pyx_getprop_4liba_3pid_kd, __pyx_setprop_4liba_3pid_kd, (char *)0, 0},
+  {(char *)"summax", __pyx_getprop_4liba_3pid_summax, __pyx_setprop_4liba_3pid_summax, (char *)0, 0},
+  {(char *)"outmax", __pyx_getprop_4liba_3pid_outmax, __pyx_setprop_4liba_3pid_outmax, (char *)0, 0},
+  {(char *)"outmin", __pyx_getprop_4liba_3pid_outmin, __pyx_setprop_4liba_3pid_outmin, (char *)0, 0},
   {(char *)"out", __pyx_getprop_4liba_3pid_out, 0, (char *)0, 0},
   {(char *)"fdb", __pyx_getprop_4liba_3pid_fdb, 0, (char *)0, 0},
-  {(char *)"ec", __pyx_getprop_4liba_3pid_ec, 0, (char *)0, 0},
-  {(char *)"e", __pyx_getprop_4liba_3pid_e, 0, (char *)0, 0},
+  {(char *)"err", __pyx_getprop_4liba_3pid_err, 0, (char *)0, 0},
+  {(char *)"mode", __pyx_getprop_4liba_3pid_mode, __pyx_setprop_4liba_3pid_mode, (char *)0, 0},
   {0, 0, 0, 0, 0}
 };
 
 static PyTypeObject __pyx_type_4liba_pid = {
   PyVarObject_HEAD_INIT(0, 0)
   "liba.pid", /*tp_name*/
   sizeof(struct __pyx_obj_4liba_pid), /*tp_basicsize*/
@@ -20585,15 +24544,15 @@
   0, /*tp_as_async*/
   #endif
   0, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
-  __pyx_pw_4liba_3pid_3__call__, /*tp_call*/
+  __pyx_pw_4liba_3pid_5__call__, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
   "proportional integral derivative controller", /*tp_doc*/
   0, /*tp_traverse*/
@@ -20632,63 +24591,63 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static PyObject *__pyx_tp_new_4liba_fpid(PyTypeObject *t, PyObject *a, PyObject *k) {
-  struct __pyx_obj_4liba_fpid *p;
+static PyObject *__pyx_tp_new_4liba_pid_fuzzy(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_4liba_pid_fuzzy *p;
   PyObject *o;
   if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
     o = (*t->tp_alloc)(t, 0);
   } else {
     o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
   if (unlikely(!o)) return 0;
-  p = ((struct __pyx_obj_4liba_fpid *)o);
+  p = ((struct __pyx_obj_4liba_pid_fuzzy *)o);
   p->me = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   p->mec = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   p->mkp = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   p->mki = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   p->mkd = ((arrayobject *)Py_None); Py_INCREF(Py_None);
-  if (unlikely(__pyx_pw_4liba_4fpid_1__cinit__(o, a, k) < 0)) goto bad;
+  if (unlikely(__pyx_pw_4liba_9pid_fuzzy_1__cinit__(o, a, k) < 0)) goto bad;
   return o;
   bad:
   Py_DECREF(o); o = 0;
   return NULL;
 }
 
-static void __pyx_tp_dealloc_4liba_fpid(PyObject *o) {
-  struct __pyx_obj_4liba_fpid *p = (struct __pyx_obj_4liba_fpid *)o;
+static void __pyx_tp_dealloc_4liba_pid_fuzzy(PyObject *o) {
+  struct __pyx_obj_4liba_pid_fuzzy *p = (struct __pyx_obj_4liba_pid_fuzzy *)o;
   #if CYTHON_USE_TP_FINALIZE
   if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
     if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
   #endif
   PyObject_GC_UnTrack(o);
   {
     PyObject *etype, *eval, *etb;
     PyErr_Fetch(&etype, &eval, &etb);
     __Pyx_SET_REFCNT(o, Py_REFCNT(o) + 1);
-    __pyx_pw_4liba_4fpid_5__dealloc__(o);
+    __pyx_pw_4liba_9pid_fuzzy_13__dealloc__(o);
     __Pyx_SET_REFCNT(o, Py_REFCNT(o) - 1);
     PyErr_Restore(etype, eval, etb);
   }
   Py_CLEAR(p->me);
   Py_CLEAR(p->mec);
   Py_CLEAR(p->mkp);
   Py_CLEAR(p->mki);
   Py_CLEAR(p->mkd);
   (*Py_TYPE(o)->tp_free)(o);
 }
 
-static int __pyx_tp_traverse_4liba_fpid(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba_pid_fuzzy(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba_fpid *p = (struct __pyx_obj_4liba_fpid *)o;
+  struct __pyx_obj_4liba_pid_fuzzy *p = (struct __pyx_obj_4liba_pid_fuzzy *)o;
   if (p->me) {
     e = (*v)(((PyObject *)p->me), a); if (e) return e;
   }
   if (p->mec) {
     e = (*v)(((PyObject *)p->mec), a); if (e) return e;
   }
   if (p->mkp) {
@@ -20699,17 +24658,17 @@
   }
   if (p->mkd) {
     e = (*v)(((PyObject *)p->mkd), a); if (e) return e;
   }
   return 0;
 }
 
-static int __pyx_tp_clear_4liba_fpid(PyObject *o) {
+static int __pyx_tp_clear_4liba_pid_fuzzy(PyObject *o) {
   PyObject* tmp;
-  struct __pyx_obj_4liba_fpid *p = (struct __pyx_obj_4liba_fpid *)o;
+  struct __pyx_obj_4liba_pid_fuzzy *p = (struct __pyx_obj_4liba_pid_fuzzy *)o;
   tmp = ((PyObject*)p->me);
   p->me = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->mec);
   p->mec = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->mkp);
@@ -20720,196 +24679,459 @@
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->mkd);
   p->mkd = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   return 0;
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_outmin(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_6outmin_1__get__(o);
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_kp(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_2kp_1__get__(o);
+}
+
+static int __pyx_setprop_4liba_9pid_fuzzy_kp(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_9pid_fuzzy_2kp_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_ki(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_2ki_1__get__(o);
+}
+
+static int __pyx_setprop_4liba_9pid_fuzzy_ki(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_9pid_fuzzy_2ki_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_kd(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_2kd_1__get__(o);
+}
+
+static int __pyx_setprop_4liba_9pid_fuzzy_kd(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_9pid_fuzzy_2kd_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_summax(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_6summax_1__get__(o);
+}
+
+static int __pyx_setprop_4liba_9pid_fuzzy_summax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_9pid_fuzzy_6summax_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_outmax(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_6outmax_1__get__(o);
+}
+
+static int __pyx_setprop_4liba_9pid_fuzzy_outmax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_9pid_fuzzy_6outmax_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_outmin(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_6outmin_1__get__(o);
+}
+
+static int __pyx_setprop_4liba_9pid_fuzzy_outmin(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_9pid_fuzzy_6outmin_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_out(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_3out_1__get__(o);
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_fdb(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_3fdb_1__get__(o);
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_err(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_3err_1__get__(o);
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_mode(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_4mode_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_outmin(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_9pid_fuzzy_mode(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_6outmin_3__set__(o, v);
+    return __pyx_pw_4liba_9pid_fuzzy_4mode_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_outmax(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_6outmax_1__get__(o);
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_col(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_3col_1__get__(o);
+}
+
+static PyObject *__pyx_getprop_4liba_9pid_fuzzy_buf(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_9pid_fuzzy_3buf_1__get__(o);
+}
+
+static PyMethodDef __pyx_methods_4liba_pid_fuzzy[] = {
+  {"rule", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_9pid_fuzzy_3rule, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_9pid_fuzzy_2rule},
+  {"kpid", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_9pid_fuzzy_5kpid, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_9pid_fuzzy_4kpid},
+  {"buff", (PyCFunction)__pyx_pw_4liba_9pid_fuzzy_7buff, METH_O, __pyx_doc_4liba_9pid_fuzzy_6buff},
+  {"op", (PyCFunction)__pyx_pw_4liba_9pid_fuzzy_9op, METH_O, __pyx_doc_4liba_9pid_fuzzy_8op},
+  {"zero", (PyCFunction)__pyx_pw_4liba_9pid_fuzzy_15zero, METH_NOARGS, __pyx_doc_4liba_9pid_fuzzy_14zero},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_9pid_fuzzy_17__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_9pid_fuzzy_19__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
+};
+
+static struct PyGetSetDef __pyx_getsets_4liba_pid_fuzzy[] = {
+  {(char *)"kp", __pyx_getprop_4liba_9pid_fuzzy_kp, __pyx_setprop_4liba_9pid_fuzzy_kp, (char *)0, 0},
+  {(char *)"ki", __pyx_getprop_4liba_9pid_fuzzy_ki, __pyx_setprop_4liba_9pid_fuzzy_ki, (char *)0, 0},
+  {(char *)"kd", __pyx_getprop_4liba_9pid_fuzzy_kd, __pyx_setprop_4liba_9pid_fuzzy_kd, (char *)0, 0},
+  {(char *)"summax", __pyx_getprop_4liba_9pid_fuzzy_summax, __pyx_setprop_4liba_9pid_fuzzy_summax, (char *)0, 0},
+  {(char *)"outmax", __pyx_getprop_4liba_9pid_fuzzy_outmax, __pyx_setprop_4liba_9pid_fuzzy_outmax, (char *)0, 0},
+  {(char *)"outmin", __pyx_getprop_4liba_9pid_fuzzy_outmin, __pyx_setprop_4liba_9pid_fuzzy_outmin, (char *)0, 0},
+  {(char *)"out", __pyx_getprop_4liba_9pid_fuzzy_out, 0, (char *)0, 0},
+  {(char *)"fdb", __pyx_getprop_4liba_9pid_fuzzy_fdb, 0, (char *)0, 0},
+  {(char *)"err", __pyx_getprop_4liba_9pid_fuzzy_err, 0, (char *)0, 0},
+  {(char *)"mode", __pyx_getprop_4liba_9pid_fuzzy_mode, __pyx_setprop_4liba_9pid_fuzzy_mode, (char *)0, 0},
+  {(char *)"col", __pyx_getprop_4liba_9pid_fuzzy_col, 0, (char *)0, 0},
+  {(char *)"buf", __pyx_getprop_4liba_9pid_fuzzy_buf, 0, (char *)0, 0},
+  {0, 0, 0, 0, 0}
+};
+
+static PyTypeObject __pyx_type_4liba_pid_fuzzy = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "liba.pid_fuzzy", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba_pid_fuzzy), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_4liba_pid_fuzzy, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  __pyx_pw_4liba_9pid_fuzzy_11__call__, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  "fuzzy proportional integral derivative controller", /*tp_doc*/
+  __pyx_tp_traverse_4liba_pid_fuzzy, /*tp_traverse*/
+  __pyx_tp_clear_4liba_pid_fuzzy, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  __pyx_methods_4liba_pid_fuzzy, /*tp_methods*/
+  0, /*tp_members*/
+  __pyx_getsets_4liba_pid_fuzzy, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  0, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_4liba_pid_fuzzy, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+
+static PyObject *__pyx_tp_new_4liba_pid_neuron(PyTypeObject *t, PyObject *a, PyObject *k) {
+  PyObject *o;
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
+    o = (*t->tp_alloc)(t, 0);
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
+  }
+  if (unlikely(!o)) return 0;
+  if (unlikely(__pyx_pw_4liba_10pid_neuron_1__cinit__(o, a, k) < 0)) goto bad;
+  return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
+}
+
+static void __pyx_tp_dealloc_4liba_pid_neuron(PyObject *o) {
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && (!PyType_IS_GC(Py_TYPE(o)) || !_PyGC_FINALIZED(o))) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
+  }
+  #endif
+  (*Py_TYPE(o)->tp_free)(o);
+}
+
+static PyObject *__pyx_getprop_4liba_10pid_neuron_kp(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_2kp_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_outmax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_10pid_neuron_kp(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_6outmax_3__set__(o, v);
+    return __pyx_pw_4liba_10pid_neuron_2kp_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_summax(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_6summax_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_ki(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_2ki_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_summax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_10pid_neuron_ki(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_6summax_3__set__(o, v);
+    return __pyx_pw_4liba_10pid_neuron_2ki_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_mode(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_4mode_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_kd(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_2kd_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_mode(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_10pid_neuron_kd(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_4mode_3__set__(o, v);
+    return __pyx_pw_4liba_10pid_neuron_2kd_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_dt(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_2dt_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_summax(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_6summax_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_dt(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_10pid_neuron_summax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_2dt_3__set__(o, v);
+    return __pyx_pw_4liba_10pid_neuron_6summax_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_kp(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_2kp_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_outmax(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_6outmax_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_kp(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_10pid_neuron_outmax(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_2kp_3__set__(o, v);
+    return __pyx_pw_4liba_10pid_neuron_6outmax_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_ki(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_2ki_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_outmin(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_6outmin_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_ki(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_10pid_neuron_outmin(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_2ki_3__set__(o, v);
+    return __pyx_pw_4liba_10pid_neuron_6outmin_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_kd(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_2kd_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_out(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_3out_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_kd(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static PyObject *__pyx_getprop_4liba_10pid_neuron_fdb(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_3fdb_1__get__(o);
+}
+
+static PyObject *__pyx_getprop_4liba_10pid_neuron_err(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_3err_1__get__(o);
+}
+
+static PyObject *__pyx_getprop_4liba_10pid_neuron_mode(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_4mode_1__get__(o);
+}
+
+static int __pyx_setprop_4liba_10pid_neuron_mode(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_2kd_3__set__(o, v);
+    return __pyx_pw_4liba_10pid_neuron_4mode_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_buf(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_3buf_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_ec(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_2ec_1__get__(o);
+}
+
+static PyObject *__pyx_getprop_4liba_10pid_neuron_wp(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_2wp_1__get__(o);
 }
 
-static int __pyx_setprop_4liba_4fpid_buf(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+static int __pyx_setprop_4liba_10pid_neuron_wp(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
-    return __pyx_pw_4liba_4fpid_3buf_3__set__(o, v);
+    return __pyx_pw_4liba_10pid_neuron_2wp_3__set__(o, v);
   }
   else {
     PyErr_SetString(PyExc_NotImplementedError, "__del__");
     return -1;
   }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_col(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_3col_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_wi(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_2wi_1__get__(o);
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_out(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_3out_1__get__(o);
+static int __pyx_setprop_4liba_10pid_neuron_wi(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_10pid_neuron_2wi_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
+}
+
+static PyObject *__pyx_getprop_4liba_10pid_neuron_wd(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_2wd_1__get__(o);
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_fdb(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_3fdb_1__get__(o);
+static int __pyx_setprop_4liba_10pid_neuron_wd(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_10pid_neuron_2wd_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_ec(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_2ec_1__get__(o);
+static PyObject *__pyx_getprop_4liba_10pid_neuron_k(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_10pid_neuron_1k_1__get__(o);
 }
 
-static PyObject *__pyx_getprop_4liba_4fpid_e(PyObject *o, CYTHON_UNUSED void *x) {
-  return __pyx_pw_4liba_4fpid_1e_1__get__(o);
+static int __pyx_setprop_4liba_10pid_neuron_k(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_10pid_neuron_1k_3__set__(o, v);
+  }
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
+  }
 }
 
-static PyMethodDef __pyx_methods_4liba_fpid[] = {
-  {"zero", (PyCFunction)__pyx_pw_4liba_4fpid_7zero, METH_NOARGS, __pyx_doc_4liba_4fpid_6zero},
-  {"base", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_4fpid_9base, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_4fpid_8base},
-  {"kpid", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_4fpid_11kpid, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_4fpid_10kpid},
-  {"pos", (PyCFunction)__pyx_pw_4liba_4fpid_13pos, METH_O, __pyx_doc_4liba_4fpid_12pos},
-  {"inc", (PyCFunction)__pyx_pw_4liba_4fpid_15inc, METH_NOARGS, __pyx_doc_4liba_4fpid_14inc},
-  {"off", (PyCFunction)__pyx_pw_4liba_4fpid_17off, METH_NOARGS, __pyx_doc_4liba_4fpid_16off},
-  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_4fpid_19__reduce_cython__, METH_NOARGS, 0},
-  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_4fpid_21__setstate_cython__, METH_O, 0},
+static PyMethodDef __pyx_methods_4liba_pid_neuron[] = {
+  {"kpid", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_10pid_neuron_3kpid, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_10pid_neuron_2kpid},
+  {"wpid", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_10pid_neuron_5wpid, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_10pid_neuron_4wpid},
+  {"zero", (PyCFunction)__pyx_pw_4liba_10pid_neuron_9zero, METH_NOARGS, __pyx_doc_4liba_10pid_neuron_8zero},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_10pid_neuron_11__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_10pid_neuron_13__setstate_cython__, METH_O, 0},
   {0, 0, 0, 0}
 };
 
-static struct PyGetSetDef __pyx_getsets_4liba_fpid[] = {
-  {(char *)"outmin", __pyx_getprop_4liba_4fpid_outmin, __pyx_setprop_4liba_4fpid_outmin, (char *)0, 0},
-  {(char *)"outmax", __pyx_getprop_4liba_4fpid_outmax, __pyx_setprop_4liba_4fpid_outmax, (char *)0, 0},
-  {(char *)"summax", __pyx_getprop_4liba_4fpid_summax, __pyx_setprop_4liba_4fpid_summax, (char *)0, 0},
-  {(char *)"mode", __pyx_getprop_4liba_4fpid_mode, __pyx_setprop_4liba_4fpid_mode, (char *)0, 0},
-  {(char *)"dt", __pyx_getprop_4liba_4fpid_dt, __pyx_setprop_4liba_4fpid_dt, (char *)0, 0},
-  {(char *)"kp", __pyx_getprop_4liba_4fpid_kp, __pyx_setprop_4liba_4fpid_kp, (char *)0, 0},
-  {(char *)"ki", __pyx_getprop_4liba_4fpid_ki, __pyx_setprop_4liba_4fpid_ki, (char *)0, 0},
-  {(char *)"kd", __pyx_getprop_4liba_4fpid_kd, __pyx_setprop_4liba_4fpid_kd, (char *)0, 0},
-  {(char *)"buf", __pyx_getprop_4liba_4fpid_buf, __pyx_setprop_4liba_4fpid_buf, (char *)0, 0},
-  {(char *)"col", __pyx_getprop_4liba_4fpid_col, 0, (char *)0, 0},
-  {(char *)"out", __pyx_getprop_4liba_4fpid_out, 0, (char *)0, 0},
-  {(char *)"fdb", __pyx_getprop_4liba_4fpid_fdb, 0, (char *)0, 0},
-  {(char *)"ec", __pyx_getprop_4liba_4fpid_ec, 0, (char *)0, 0},
-  {(char *)"e", __pyx_getprop_4liba_4fpid_e, 0, (char *)0, 0},
+static struct PyGetSetDef __pyx_getsets_4liba_pid_neuron[] = {
+  {(char *)"kp", __pyx_getprop_4liba_10pid_neuron_kp, __pyx_setprop_4liba_10pid_neuron_kp, (char *)0, 0},
+  {(char *)"ki", __pyx_getprop_4liba_10pid_neuron_ki, __pyx_setprop_4liba_10pid_neuron_ki, (char *)0, 0},
+  {(char *)"kd", __pyx_getprop_4liba_10pid_neuron_kd, __pyx_setprop_4liba_10pid_neuron_kd, (char *)0, 0},
+  {(char *)"summax", __pyx_getprop_4liba_10pid_neuron_summax, __pyx_setprop_4liba_10pid_neuron_summax, (char *)0, 0},
+  {(char *)"outmax", __pyx_getprop_4liba_10pid_neuron_outmax, __pyx_setprop_4liba_10pid_neuron_outmax, (char *)0, 0},
+  {(char *)"outmin", __pyx_getprop_4liba_10pid_neuron_outmin, __pyx_setprop_4liba_10pid_neuron_outmin, (char *)0, 0},
+  {(char *)"out", __pyx_getprop_4liba_10pid_neuron_out, 0, (char *)0, 0},
+  {(char *)"fdb", __pyx_getprop_4liba_10pid_neuron_fdb, 0, (char *)0, 0},
+  {(char *)"err", __pyx_getprop_4liba_10pid_neuron_err, 0, (char *)0, 0},
+  {(char *)"mode", __pyx_getprop_4liba_10pid_neuron_mode, __pyx_setprop_4liba_10pid_neuron_mode, (char *)0, 0},
+  {(char *)"ec", __pyx_getprop_4liba_10pid_neuron_ec, 0, (char *)0, 0},
+  {(char *)"wp", __pyx_getprop_4liba_10pid_neuron_wp, __pyx_setprop_4liba_10pid_neuron_wp, (char *)0, 0},
+  {(char *)"wi", __pyx_getprop_4liba_10pid_neuron_wi, __pyx_setprop_4liba_10pid_neuron_wi, (char *)0, 0},
+  {(char *)"wd", __pyx_getprop_4liba_10pid_neuron_wd, __pyx_setprop_4liba_10pid_neuron_wd, (char *)0, 0},
+  {(char *)"k", __pyx_getprop_4liba_10pid_neuron_k, __pyx_setprop_4liba_10pid_neuron_k, (char *)0, 0},
   {0, 0, 0, 0, 0}
 };
 
-static PyTypeObject __pyx_type_4liba_fpid = {
+static PyTypeObject __pyx_type_4liba_pid_neuron = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.fpid", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba_fpid), /*tp_basicsize*/
+  "liba.pid_neuron", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba_pid_neuron), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba_fpid, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba_pid_neuron, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -20921,38 +25143,38 @@
   0, /*tp_as_async*/
   #endif
   0, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
-  __pyx_pw_4liba_4fpid_3__call__, /*tp_call*/
+  __pyx_pw_4liba_10pid_neuron_7__call__, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  "fuzzy proportional integral derivative controller", /*tp_doc*/
-  __pyx_tp_traverse_4liba_fpid, /*tp_traverse*/
-  __pyx_tp_clear_4liba_fpid, /*tp_clear*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE, /*tp_flags*/
+  "single neuron proportional integral derivative controller", /*tp_doc*/
+  0, /*tp_traverse*/
+  0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
-  __pyx_methods_4liba_fpid, /*tp_methods*/
+  __pyx_methods_4liba_pid_neuron, /*tp_methods*/
   0, /*tp_members*/
-  __pyx_getsets_4liba_fpid, /*tp_getset*/
+  __pyx_getsets_4liba_pid_neuron, /*tp_getset*/
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba_fpid, /*tp_new*/
+  __pyx_tp_new_4liba_pid_neuron, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -20999,15 +25221,15 @@
 static PyObject *__pyx_getprop_4liba_10polytrack3_k(PyObject *o, CYTHON_UNUSED void *x) {
   return __pyx_pw_4liba_10polytrack3_1k_1__get__(o);
 }
 
 static PyMethodDef __pyx_methods_4liba_polytrack3[] = {
   {"gen", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_10polytrack3_3gen, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_10polytrack3_2gen},
   {"pos", (PyCFunction)__pyx_pw_4liba_10polytrack3_7pos, METH_O, __pyx_doc_4liba_10polytrack3_6pos},
-  {"vec", (PyCFunction)__pyx_pw_4liba_10polytrack3_9vec, METH_O, __pyx_doc_4liba_10polytrack3_8vec},
+  {"vel", (PyCFunction)__pyx_pw_4liba_10polytrack3_9vel, METH_O, __pyx_doc_4liba_10polytrack3_8vel},
   {"acc", (PyCFunction)__pyx_pw_4liba_10polytrack3_11acc, METH_O, __pyx_doc_4liba_10polytrack3_10acc},
   {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_10polytrack3_13__reduce_cython__, METH_NOARGS, 0},
   {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_10polytrack3_15__setstate_cython__, METH_O, 0},
   {0, 0, 0, 0}
 };
 
 static struct PyGetSetDef __pyx_getsets_4liba_polytrack3[] = {
@@ -21114,15 +25336,15 @@
 static PyObject *__pyx_getprop_4liba_10polytrack5_k(PyObject *o, CYTHON_UNUSED void *x) {
   return __pyx_pw_4liba_10polytrack5_1k_1__get__(o);
 }
 
 static PyMethodDef __pyx_methods_4liba_polytrack5[] = {
   {"gen", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_10polytrack5_3gen, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_10polytrack5_2gen},
   {"pos", (PyCFunction)__pyx_pw_4liba_10polytrack5_7pos, METH_O, __pyx_doc_4liba_10polytrack5_6pos},
-  {"vec", (PyCFunction)__pyx_pw_4liba_10polytrack5_9vec, METH_O, __pyx_doc_4liba_10polytrack5_8vec},
+  {"vel", (PyCFunction)__pyx_pw_4liba_10polytrack5_9vel, METH_O, __pyx_doc_4liba_10polytrack5_8vel},
   {"acc", (PyCFunction)__pyx_pw_4liba_10polytrack5_11acc, METH_O, __pyx_doc_4liba_10polytrack5_10acc},
   {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_10polytrack5_13__reduce_cython__, METH_NOARGS, 0},
   {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_10polytrack5_15__setstate_cython__, METH_O, 0},
   {0, 0, 0, 0}
 };
 
 static struct PyGetSetDef __pyx_getsets_4liba_polytrack5[] = {
@@ -21229,15 +25451,15 @@
 static PyObject *__pyx_getprop_4liba_10polytrack7_k(PyObject *o, CYTHON_UNUSED void *x) {
   return __pyx_pw_4liba_10polytrack7_1k_1__get__(o);
 }
 
 static PyMethodDef __pyx_methods_4liba_polytrack7[] = {
   {"gen", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_4liba_10polytrack7_3gen, METH_VARARGS|METH_KEYWORDS, __pyx_doc_4liba_10polytrack7_2gen},
   {"pos", (PyCFunction)__pyx_pw_4liba_10polytrack7_7pos, METH_O, __pyx_doc_4liba_10polytrack7_6pos},
-  {"vec", (PyCFunction)__pyx_pw_4liba_10polytrack7_9vec, METH_O, __pyx_doc_4liba_10polytrack7_8vec},
+  {"vel", (PyCFunction)__pyx_pw_4liba_10polytrack7_9vel, METH_O, __pyx_doc_4liba_10polytrack7_8vel},
   {"acc", (PyCFunction)__pyx_pw_4liba_10polytrack7_11acc, METH_O, __pyx_doc_4liba_10polytrack7_10acc},
   {"jer", (PyCFunction)__pyx_pw_4liba_10polytrack7_13jer, METH_O, __pyx_doc_4liba_10polytrack7_12jer},
   {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_10polytrack7_15__reduce_cython__, METH_NOARGS, 0},
   {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_10polytrack7_17__setstate_cython__, METH_O, 0},
   {0, 0, 0, 0}
 };
 
@@ -21314,719 +25536,143 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *__pyx_freelist_4liba___pyx_scope_struct____cinit__[8];
-static int __pyx_freecount_4liba___pyx_scope_struct____cinit__ = 0;
-
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct____cinit__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_4liba_tf(PyTypeObject *t, PyObject *a, PyObject *k) {
+  struct __pyx_obj_4liba_tf *p;
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct____cinit__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct____cinit__)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct____cinit__[--__pyx_freecount_4liba___pyx_scope_struct____cinit__];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct____cinit__));
-    (void) PyObject_INIT(o, t);
-    PyObject_GC_Track(o);
-  } else {
+  if (likely((t->tp_flags & Py_TPFLAGS_IS_ABSTRACT) == 0)) {
     o = (*t->tp_alloc)(t, 0);
-    if (unlikely(!o)) return 0;
+  } else {
+    o = (PyObject *) PyBaseObject_Type.tp_new(t, __pyx_empty_tuple, 0);
   }
+  if (unlikely(!o)) return 0;
+  p = ((struct __pyx_obj_4liba_tf *)o);
+  p->input = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  p->_num = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  p->output = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  p->_den = ((arrayobject *)Py_None); Py_INCREF(Py_None);
+  if (unlikely(__pyx_pw_4liba_2tf_5__cinit__(o, a, k) < 0)) goto bad;
   return o;
+  bad:
+  Py_DECREF(o); o = 0;
+  return NULL;
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct____cinit__(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *p = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->__pyx_v_me);
-  Py_CLEAR(p->__pyx_v_mec);
-  Py_CLEAR(p->__pyx_v_mkd);
-  Py_CLEAR(p->__pyx_v_mki);
-  Py_CLEAR(p->__pyx_v_mkp);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct____cinit__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct____cinit__)))) {
-    __pyx_freelist_4liba___pyx_scope_struct____cinit__[__pyx_freecount_4liba___pyx_scope_struct____cinit__++] = ((struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *)o);
-  } else {
-    (*Py_TYPE(o)->tp_free)(o);
+static void __pyx_tp_dealloc_4liba_tf(PyObject *o) {
+  struct __pyx_obj_4liba_tf *p = (struct __pyx_obj_4liba_tf *)o;
+  #if CYTHON_USE_TP_FINALIZE
+  if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !_PyGC_FINALIZED(o)) {
+    if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
+  #endif
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->input);
+  Py_CLEAR(p->_num);
+  Py_CLEAR(p->output);
+  Py_CLEAR(p->_den);
+  (*Py_TYPE(o)->tp_free)(o);
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct____cinit__(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba_tf(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *p = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *)o;
-  if (p->__pyx_v_me) {
-    e = (*v)(p->__pyx_v_me, a); if (e) return e;
-  }
-  if (p->__pyx_v_mec) {
-    e = (*v)(p->__pyx_v_mec, a); if (e) return e;
+  struct __pyx_obj_4liba_tf *p = (struct __pyx_obj_4liba_tf *)o;
+  if (p->input) {
+    e = (*v)(((PyObject *)p->input), a); if (e) return e;
   }
-  if (p->__pyx_v_mkd) {
-    e = (*v)(p->__pyx_v_mkd, a); if (e) return e;
+  if (p->_num) {
+    e = (*v)(((PyObject *)p->_num), a); if (e) return e;
   }
-  if (p->__pyx_v_mki) {
-    e = (*v)(p->__pyx_v_mki, a); if (e) return e;
+  if (p->output) {
+    e = (*v)(((PyObject *)p->output), a); if (e) return e;
   }
-  if (p->__pyx_v_mkp) {
-    e = (*v)(p->__pyx_v_mkp, a); if (e) return e;
+  if (p->_den) {
+    e = (*v)(((PyObject *)p->_den), a); if (e) return e;
   }
   return 0;
 }
 
-static int __pyx_tp_clear_4liba___pyx_scope_struct____cinit__(PyObject *o) {
+static int __pyx_tp_clear_4liba_tf(PyObject *o) {
   PyObject* tmp;
-  struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *p = (struct __pyx_obj_4liba___pyx_scope_struct____cinit__ *)o;
-  tmp = ((PyObject*)p->__pyx_v_me);
-  p->__pyx_v_me = Py_None; Py_INCREF(Py_None);
-  Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->__pyx_v_mec);
-  p->__pyx_v_mec = Py_None; Py_INCREF(Py_None);
+  struct __pyx_obj_4liba_tf *p = (struct __pyx_obj_4liba_tf *)o;
+  tmp = ((PyObject*)p->input);
+  p->input = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->__pyx_v_mkd);
-  p->__pyx_v_mkd = Py_None; Py_INCREF(Py_None);
+  tmp = ((PyObject*)p->_num);
+  p->_num = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->__pyx_v_mki);
-  p->__pyx_v_mki = Py_None; Py_INCREF(Py_None);
+  tmp = ((PyObject*)p->output);
+  p->output = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
-  tmp = ((PyObject*)p->__pyx_v_mkp);
-  p->__pyx_v_mkp = Py_None; Py_INCREF(Py_None);
+  tmp = ((PyObject*)p->_den);
+  p->_den = ((arrayobject *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct____cinit__ = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct____cinit__", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct____cinit__), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct____cinit__, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct____cinit__, /*tp_traverse*/
-  __pyx_tp_clear_4liba___pyx_scope_struct____cinit__, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  0, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct____cinit__, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-
-static struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *__pyx_freelist_4liba___pyx_scope_struct_1_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_1_genexpr = 0;
-
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_1_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_1_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_1_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_1_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr));
-    (void) PyObject_INIT(o, t);
-    PyObject_GC_Track(o);
-  } else {
-    o = (*t->tp_alloc)(t, 0);
-    if (unlikely(!o)) return 0;
-  }
-  return o;
-}
-
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_1_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
-  Py_CLEAR(p->__pyx_t_0);
-  Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_1_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_1_genexpr[__pyx_freecount_4liba___pyx_scope_struct_1_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)o);
-  } else {
-    (*Py_TYPE(o)->tp_free)(o);
-  }
-}
-
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_1_genexpr(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)o;
-  if (p->__pyx_outer_scope) {
-    e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
-  }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
-  }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
-  }
-  if (p->__pyx_t_0) {
-    e = (*v)(p->__pyx_t_0, a); if (e) return e;
-  }
-  if (p->__pyx_t_3) {
-    e = (*v)(p->__pyx_t_3, a); if (e) return e;
-  }
-  return 0;
-}
-
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_1_genexpr = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_1_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_1_genexpr, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_1_genexpr, /*tp_traverse*/
-  0, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  0, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_1_genexpr, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-
-static struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *__pyx_freelist_4liba___pyx_scope_struct_2_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_2_genexpr = 0;
-
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_2_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_2_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_2_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_2_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr));
-    (void) PyObject_INIT(o, t);
-    PyObject_GC_Track(o);
-  } else {
-    o = (*t->tp_alloc)(t, 0);
-    if (unlikely(!o)) return 0;
-  }
-  return o;
+static PyObject *__pyx_getprop_4liba_2tf_input(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_2tf_5input_1__get__(o);
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_2_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
-  Py_CLEAR(p->__pyx_t_0);
-  Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_2_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_2_genexpr[__pyx_freecount_4liba___pyx_scope_struct_2_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)o);
-  } else {
-    (*Py_TYPE(o)->tp_free)(o);
-  }
+static PyObject *__pyx_getprop_4liba_2tf_num(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_2tf_3num_1__get__(o);
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_2_genexpr(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)o;
-  if (p->__pyx_outer_scope) {
-    e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
-  }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
-  }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
-  }
-  if (p->__pyx_t_0) {
-    e = (*v)(p->__pyx_t_0, a); if (e) return e;
+static int __pyx_setprop_4liba_2tf_num(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_2tf_3num_3__set__(o, v);
   }
-  if (p->__pyx_t_3) {
-    e = (*v)(p->__pyx_t_3, a); if (e) return e;
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
   }
-  return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_2_genexpr = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_2_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_2_genexpr, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_2_genexpr, /*tp_traverse*/
-  0, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  0, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_2_genexpr, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
-  0, /*tp_pypy_flags*/
-  #endif
-};
-
-static struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *__pyx_freelist_4liba___pyx_scope_struct_3_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_3_genexpr = 0;
-
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_3_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_3_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_3_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_3_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr));
-    (void) PyObject_INIT(o, t);
-    PyObject_GC_Track(o);
-  } else {
-    o = (*t->tp_alloc)(t, 0);
-    if (unlikely(!o)) return 0;
-  }
-  return o;
+static PyObject *__pyx_getprop_4liba_2tf_output(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_2tf_6output_1__get__(o);
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_3_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
-  Py_CLEAR(p->__pyx_t_0);
-  Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_3_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_3_genexpr[__pyx_freecount_4liba___pyx_scope_struct_3_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)o);
-  } else {
-    (*Py_TYPE(o)->tp_free)(o);
-  }
+static PyObject *__pyx_getprop_4liba_2tf_den(PyObject *o, CYTHON_UNUSED void *x) {
+  return __pyx_pw_4liba_2tf_3den_1__get__(o);
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_3_genexpr(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)o;
-  if (p->__pyx_outer_scope) {
-    e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
-  }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
-  }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
-  }
-  if (p->__pyx_t_0) {
-    e = (*v)(p->__pyx_t_0, a); if (e) return e;
+static int __pyx_setprop_4liba_2tf_den(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
+  if (v) {
+    return __pyx_pw_4liba_2tf_3den_3__set__(o, v);
   }
-  if (p->__pyx_t_3) {
-    e = (*v)(p->__pyx_t_3, a); if (e) return e;
+  else {
+    PyErr_SetString(PyExc_NotImplementedError, "__del__");
+    return -1;
   }
-  return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_3_genexpr = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_3_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_3_genexpr, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_3_genexpr, /*tp_traverse*/
-  0, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  0, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_3_genexpr, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
-  0, /*tp_pypy_flags*/
-  #endif
+static PyMethodDef __pyx_methods_4liba_tf[] = {
+  {"zero", (PyCFunction)__pyx_pw_4liba_2tf_3zero, METH_NOARGS, __pyx_doc_4liba_2tf_2zero},
+  {"__reduce_cython__", (PyCFunction)__pyx_pw_4liba_2tf_7__reduce_cython__, METH_NOARGS, 0},
+  {"__setstate_cython__", (PyCFunction)__pyx_pw_4liba_2tf_9__setstate_cython__, METH_O, 0},
+  {0, 0, 0, 0}
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *__pyx_freelist_4liba___pyx_scope_struct_4_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_4_genexpr = 0;
-
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_4_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_4_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_4_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_4_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr));
-    (void) PyObject_INIT(o, t);
-    PyObject_GC_Track(o);
-  } else {
-    o = (*t->tp_alloc)(t, 0);
-    if (unlikely(!o)) return 0;
-  }
-  return o;
-}
-
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_4_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
-  Py_CLEAR(p->__pyx_t_0);
-  Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_4_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_4_genexpr[__pyx_freecount_4liba___pyx_scope_struct_4_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)o);
-  } else {
-    (*Py_TYPE(o)->tp_free)(o);
-  }
-}
-
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_4_genexpr(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)o;
-  if (p->__pyx_outer_scope) {
-    e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
-  }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
-  }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
-  }
-  if (p->__pyx_t_0) {
-    e = (*v)(p->__pyx_t_0, a); if (e) return e;
-  }
-  if (p->__pyx_t_3) {
-    e = (*v)(p->__pyx_t_3, a); if (e) return e;
-  }
-  return 0;
-}
-
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_4_genexpr = {
-  PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_4_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr), /*tp_basicsize*/
-  0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_4_genexpr, /*tp_dealloc*/
-  #if PY_VERSION_HEX < 0x030800b4
-  0, /*tp_print*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4
-  0, /*tp_vectorcall_offset*/
-  #endif
-  0, /*tp_getattr*/
-  0, /*tp_setattr*/
-  #if PY_MAJOR_VERSION < 3
-  0, /*tp_compare*/
-  #endif
-  #if PY_MAJOR_VERSION >= 3
-  0, /*tp_as_async*/
-  #endif
-  0, /*tp_repr*/
-  0, /*tp_as_number*/
-  0, /*tp_as_sequence*/
-  0, /*tp_as_mapping*/
-  0, /*tp_hash*/
-  0, /*tp_call*/
-  0, /*tp_str*/
-  0, /*tp_getattro*/
-  0, /*tp_setattro*/
-  0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_4_genexpr, /*tp_traverse*/
-  0, /*tp_clear*/
-  0, /*tp_richcompare*/
-  0, /*tp_weaklistoffset*/
-  0, /*tp_iter*/
-  0, /*tp_iternext*/
-  0, /*tp_methods*/
-  0, /*tp_members*/
-  0, /*tp_getset*/
-  0, /*tp_base*/
-  0, /*tp_dict*/
-  0, /*tp_descr_get*/
-  0, /*tp_descr_set*/
-  0, /*tp_dictoffset*/
-  0, /*tp_init*/
-  0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_4_genexpr, /*tp_new*/
-  0, /*tp_free*/
-  0, /*tp_is_gc*/
-  0, /*tp_bases*/
-  0, /*tp_mro*/
-  0, /*tp_cache*/
-  0, /*tp_subclasses*/
-  0, /*tp_weaklist*/
-  0, /*tp_del*/
-  0, /*tp_version_tag*/
-  #if PY_VERSION_HEX >= 0x030400a1
-  0, /*tp_finalize*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
-  0, /*tp_vectorcall*/
-  #endif
-  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
-  0, /*tp_print*/
-  #endif
-  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
-  0, /*tp_pypy_flags*/
-  #endif
+static struct PyGetSetDef __pyx_getsets_4liba_tf[] = {
+  {(char *)"input", __pyx_getprop_4liba_2tf_input, 0, (char *)0, 0},
+  {(char *)"num", __pyx_getprop_4liba_2tf_num, __pyx_setprop_4liba_2tf_num, (char *)0, 0},
+  {(char *)"output", __pyx_getprop_4liba_2tf_output, 0, (char *)0, 0},
+  {(char *)"den", __pyx_getprop_4liba_2tf_den, __pyx_setprop_4liba_2tf_den, (char *)0, 0},
+  {0, 0, 0, 0, 0}
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *__pyx_freelist_4liba___pyx_scope_struct_5_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_5_genexpr = 0;
-
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_5_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_5_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_5_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_5_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr));
-    (void) PyObject_INIT(o, t);
-    PyObject_GC_Track(o);
-  } else {
-    o = (*t->tp_alloc)(t, 0);
-    if (unlikely(!o)) return 0;
-  }
-  return o;
-}
-
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_5_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)o;
-  PyObject_GC_UnTrack(o);
-  Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
-  Py_CLEAR(p->__pyx_t_0);
-  Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_5_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_5_genexpr[__pyx_freecount_4liba___pyx_scope_struct_5_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)o);
-  } else {
-    (*Py_TYPE(o)->tp_free)(o);
-  }
-}
-
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_5_genexpr(PyObject *o, visitproc v, void *a) {
-  int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)o;
-  if (p->__pyx_outer_scope) {
-    e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
-  }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
-  }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
-  }
-  if (p->__pyx_t_0) {
-    e = (*v)(p->__pyx_t_0, a); if (e) return e;
-  }
-  if (p->__pyx_t_3) {
-    e = (*v)(p->__pyx_t_3, a); if (e) return e;
-  }
-  return 0;
-}
-
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_5_genexpr = {
+static PyTypeObject __pyx_type_4liba_tf = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_5_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr), /*tp_basicsize*/
+  "liba.tf", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba_tf), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_5_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba_tf, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -22038,38 +25684,38 @@
   0, /*tp_as_async*/
   #endif
   0, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
-  0, /*tp_call*/
+  __pyx_pw_4liba_2tf_1__call__, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
-  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_5_genexpr, /*tp_traverse*/
-  0, /*tp_clear*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  "transfer function", /*tp_doc*/
+  __pyx_tp_traverse_4liba_tf, /*tp_traverse*/
+  __pyx_tp_clear_4liba_tf, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
-  0, /*tp_methods*/
+  __pyx_methods_4liba_tf, /*tp_methods*/
   0, /*tp_members*/
-  0, /*tp_getset*/
+  __pyx_getsets_4liba_tf, /*tp_getset*/
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_5_genexpr, /*tp_new*/
+  __pyx_tp_new_4liba_tf, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -22085,49 +25731,49 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct_6_base *__pyx_freelist_4liba___pyx_scope_struct_6_base[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_6_base = 0;
+static struct __pyx_obj_4liba___pyx_scope_struct__rule *__pyx_freelist_4liba___pyx_scope_struct__rule[8];
+static int __pyx_freecount_4liba___pyx_scope_struct__rule = 0;
 
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_6_base(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_4liba___pyx_scope_struct__rule(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_6_base > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_6_base)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_6_base[--__pyx_freecount_4liba___pyx_scope_struct_6_base];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_6_base));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct__rule > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct__rule)))) {
+    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct__rule[--__pyx_freecount_4liba___pyx_scope_struct__rule];
+    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct__rule));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_6_base(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *p = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *)o;
+static void __pyx_tp_dealloc_4liba___pyx_scope_struct__rule(PyObject *o) {
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *p = (struct __pyx_obj_4liba___pyx_scope_struct__rule *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_me);
   Py_CLEAR(p->__pyx_v_mec);
   Py_CLEAR(p->__pyx_v_mkd);
   Py_CLEAR(p->__pyx_v_mki);
   Py_CLEAR(p->__pyx_v_mkp);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_6_base < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_6_base)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_6_base[__pyx_freecount_4liba___pyx_scope_struct_6_base++] = ((struct __pyx_obj_4liba___pyx_scope_struct_6_base *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct__rule < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct__rule)))) {
+    __pyx_freelist_4liba___pyx_scope_struct__rule[__pyx_freecount_4liba___pyx_scope_struct__rule++] = ((struct __pyx_obj_4liba___pyx_scope_struct__rule *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_6_base(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba___pyx_scope_struct__rule(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *p = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *)o;
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *p = (struct __pyx_obj_4liba___pyx_scope_struct__rule *)o;
   if (p->__pyx_v_me) {
     e = (*v)(p->__pyx_v_me, a); if (e) return e;
   }
   if (p->__pyx_v_mec) {
     e = (*v)(p->__pyx_v_mec, a); if (e) return e;
   }
   if (p->__pyx_v_mkd) {
@@ -22138,17 +25784,17 @@
   }
   if (p->__pyx_v_mkp) {
     e = (*v)(p->__pyx_v_mkp, a); if (e) return e;
   }
   return 0;
 }
 
-static int __pyx_tp_clear_4liba___pyx_scope_struct_6_base(PyObject *o) {
+static int __pyx_tp_clear_4liba___pyx_scope_struct__rule(PyObject *o) {
   PyObject* tmp;
-  struct __pyx_obj_4liba___pyx_scope_struct_6_base *p = (struct __pyx_obj_4liba___pyx_scope_struct_6_base *)o;
+  struct __pyx_obj_4liba___pyx_scope_struct__rule *p = (struct __pyx_obj_4liba___pyx_scope_struct__rule *)o;
   tmp = ((PyObject*)p->__pyx_v_me);
   p->__pyx_v_me = Py_None; Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->__pyx_v_mec);
   p->__pyx_v_mec = Py_None; Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->__pyx_v_mkd);
@@ -22159,20 +25805,20 @@
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->__pyx_v_mkp);
   p->__pyx_v_mkp = Py_None; Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_6_base = {
+static PyTypeObject __pyx_type_4liba___pyx_scope_struct__rule = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_6_base", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_6_base), /*tp_basicsize*/
+  "liba.__pyx_scope_struct__rule", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba___pyx_scope_struct__rule), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_6_base, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba___pyx_scope_struct__rule, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -22191,31 +25837,31 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_6_base, /*tp_traverse*/
-  __pyx_tp_clear_4liba___pyx_scope_struct_6_base, /*tp_clear*/
+  __pyx_tp_traverse_4liba___pyx_scope_struct__rule, /*tp_traverse*/
+  __pyx_tp_clear_4liba___pyx_scope_struct__rule, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
   0, /*tp_getset*/
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_6_base, /*tp_new*/
+  __pyx_tp_new_4liba___pyx_scope_struct__rule, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -22231,73 +25877,73 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *__pyx_freelist_4liba___pyx_scope_struct_7_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_7_genexpr = 0;
+static struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *__pyx_freelist_4liba___pyx_scope_struct_1_genexpr[8];
+static int __pyx_freecount_4liba___pyx_scope_struct_1_genexpr = 0;
 
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_7_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_1_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_7_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_7_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_7_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_1_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_1_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_1_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_7_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *)o;
+static void __pyx_tp_dealloc_4liba___pyx_scope_struct_1_genexpr(PyObject *o) {
+  struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
+  Py_CLEAR(p->__pyx_v_col);
+  Py_CLEAR(p->__pyx_v_row);
   Py_CLEAR(p->__pyx_t_0);
   Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_7_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_7_genexpr[__pyx_freecount_4liba___pyx_scope_struct_7_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_1_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr)))) {
+    __pyx_freelist_4liba___pyx_scope_struct_1_genexpr[__pyx_freecount_4liba___pyx_scope_struct_1_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_7_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba___pyx_scope_struct_1_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr *)o;
+  struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
+  if (p->__pyx_v_col) {
+    e = (*v)(p->__pyx_v_col, a); if (e) return e;
   }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
+  if (p->__pyx_v_row) {
+    e = (*v)(p->__pyx_v_row, a); if (e) return e;
   }
   if (p->__pyx_t_0) {
     e = (*v)(p->__pyx_t_0, a); if (e) return e;
   }
   if (p->__pyx_t_3) {
     e = (*v)(p->__pyx_t_3, a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_7_genexpr = {
+static PyTypeObject __pyx_type_4liba___pyx_scope_struct_1_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_7_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_7_genexpr), /*tp_basicsize*/
+  "liba.__pyx_scope_struct_1_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_1_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_7_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba___pyx_scope_struct_1_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -22316,15 +25962,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_7_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_4liba___pyx_scope_struct_1_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -22332,15 +25978,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_7_genexpr, /*tp_new*/
+  __pyx_tp_new_4liba___pyx_scope_struct_1_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -22356,73 +26002,73 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *__pyx_freelist_4liba___pyx_scope_struct_8_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_8_genexpr = 0;
+static struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *__pyx_freelist_4liba___pyx_scope_struct_2_genexpr[8];
+static int __pyx_freecount_4liba___pyx_scope_struct_2_genexpr = 0;
 
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_8_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_2_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_8_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_8_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_8_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_2_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_2_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_2_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_8_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *)o;
+static void __pyx_tp_dealloc_4liba___pyx_scope_struct_2_genexpr(PyObject *o) {
+  struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
+  Py_CLEAR(p->__pyx_v_col);
+  Py_CLEAR(p->__pyx_v_row);
   Py_CLEAR(p->__pyx_t_0);
   Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_8_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_8_genexpr[__pyx_freecount_4liba___pyx_scope_struct_8_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_2_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr)))) {
+    __pyx_freelist_4liba___pyx_scope_struct_2_genexpr[__pyx_freecount_4liba___pyx_scope_struct_2_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_8_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba___pyx_scope_struct_2_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr *)o;
+  struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
+  if (p->__pyx_v_col) {
+    e = (*v)(p->__pyx_v_col, a); if (e) return e;
   }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
+  if (p->__pyx_v_row) {
+    e = (*v)(p->__pyx_v_row, a); if (e) return e;
   }
   if (p->__pyx_t_0) {
     e = (*v)(p->__pyx_t_0, a); if (e) return e;
   }
   if (p->__pyx_t_3) {
     e = (*v)(p->__pyx_t_3, a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_8_genexpr = {
+static PyTypeObject __pyx_type_4liba___pyx_scope_struct_2_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_8_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_8_genexpr), /*tp_basicsize*/
+  "liba.__pyx_scope_struct_2_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_2_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_8_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba___pyx_scope_struct_2_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -22441,15 +26087,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_8_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_4liba___pyx_scope_struct_2_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -22457,15 +26103,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_8_genexpr, /*tp_new*/
+  __pyx_tp_new_4liba___pyx_scope_struct_2_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -22481,73 +26127,73 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *__pyx_freelist_4liba___pyx_scope_struct_9_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_9_genexpr = 0;
+static struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *__pyx_freelist_4liba___pyx_scope_struct_3_genexpr[8];
+static int __pyx_freecount_4liba___pyx_scope_struct_3_genexpr = 0;
 
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_9_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_3_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_9_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_9_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_9_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_3_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_3_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_3_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_9_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *)o;
+static void __pyx_tp_dealloc_4liba___pyx_scope_struct_3_genexpr(PyObject *o) {
+  struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
+  Py_CLEAR(p->__pyx_v_col);
+  Py_CLEAR(p->__pyx_v_row);
   Py_CLEAR(p->__pyx_t_0);
   Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_9_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_9_genexpr[__pyx_freecount_4liba___pyx_scope_struct_9_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_3_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr)))) {
+    __pyx_freelist_4liba___pyx_scope_struct_3_genexpr[__pyx_freecount_4liba___pyx_scope_struct_3_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_9_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba___pyx_scope_struct_3_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr *)o;
+  struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
+  if (p->__pyx_v_col) {
+    e = (*v)(p->__pyx_v_col, a); if (e) return e;
   }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
+  if (p->__pyx_v_row) {
+    e = (*v)(p->__pyx_v_row, a); if (e) return e;
   }
   if (p->__pyx_t_0) {
     e = (*v)(p->__pyx_t_0, a); if (e) return e;
   }
   if (p->__pyx_t_3) {
     e = (*v)(p->__pyx_t_3, a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_9_genexpr = {
+static PyTypeObject __pyx_type_4liba___pyx_scope_struct_3_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_9_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_9_genexpr), /*tp_basicsize*/
+  "liba.__pyx_scope_struct_3_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_3_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_9_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba___pyx_scope_struct_3_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -22566,15 +26212,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_9_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_4liba___pyx_scope_struct_3_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -22582,15 +26228,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_9_genexpr, /*tp_new*/
+  __pyx_tp_new_4liba___pyx_scope_struct_3_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -22606,73 +26252,73 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *__pyx_freelist_4liba___pyx_scope_struct_10_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_10_genexpr = 0;
+static struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *__pyx_freelist_4liba___pyx_scope_struct_4_genexpr[8];
+static int __pyx_freecount_4liba___pyx_scope_struct_4_genexpr = 0;
 
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_10_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_4_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_10_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_10_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_10_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_4_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_4_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_4_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_10_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *)o;
+static void __pyx_tp_dealloc_4liba___pyx_scope_struct_4_genexpr(PyObject *o) {
+  struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
+  Py_CLEAR(p->__pyx_v_col);
+  Py_CLEAR(p->__pyx_v_row);
   Py_CLEAR(p->__pyx_t_0);
   Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_10_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_10_genexpr[__pyx_freecount_4liba___pyx_scope_struct_10_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_4_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr)))) {
+    __pyx_freelist_4liba___pyx_scope_struct_4_genexpr[__pyx_freecount_4liba___pyx_scope_struct_4_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_10_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba___pyx_scope_struct_4_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr *)o;
+  struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
+  if (p->__pyx_v_col) {
+    e = (*v)(p->__pyx_v_col, a); if (e) return e;
   }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
+  if (p->__pyx_v_row) {
+    e = (*v)(p->__pyx_v_row, a); if (e) return e;
   }
   if (p->__pyx_t_0) {
     e = (*v)(p->__pyx_t_0, a); if (e) return e;
   }
   if (p->__pyx_t_3) {
     e = (*v)(p->__pyx_t_3, a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_10_genexpr = {
+static PyTypeObject __pyx_type_4liba___pyx_scope_struct_4_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_10_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_10_genexpr), /*tp_basicsize*/
+  "liba.__pyx_scope_struct_4_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_4_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_10_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba___pyx_scope_struct_4_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -22691,15 +26337,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_10_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_4liba___pyx_scope_struct_4_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -22707,15 +26353,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_10_genexpr, /*tp_new*/
+  __pyx_tp_new_4liba___pyx_scope_struct_4_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -22731,73 +26377,73 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *__pyx_freelist_4liba___pyx_scope_struct_11_genexpr[8];
-static int __pyx_freecount_4liba___pyx_scope_struct_11_genexpr = 0;
+static struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *__pyx_freelist_4liba___pyx_scope_struct_5_genexpr[8];
+static int __pyx_freecount_4liba___pyx_scope_struct_5_genexpr = 0;
 
-static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_11_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_4liba___pyx_scope_struct_5_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_11_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_11_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_11_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_4liba___pyx_scope_struct_5_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_4liba___pyx_scope_struct_5_genexpr[--__pyx_freecount_4liba___pyx_scope_struct_5_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_4liba___pyx_scope_struct_11_genexpr(PyObject *o) {
-  struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *)o;
+static void __pyx_tp_dealloc_4liba___pyx_scope_struct_5_genexpr(PyObject *o) {
+  struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  Py_CLEAR(p->__pyx_v_i);
-  Py_CLEAR(p->__pyx_v_j);
+  Py_CLEAR(p->__pyx_v_col);
+  Py_CLEAR(p->__pyx_v_row);
   Py_CLEAR(p->__pyx_t_0);
   Py_CLEAR(p->__pyx_t_3);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_11_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr)))) {
-    __pyx_freelist_4liba___pyx_scope_struct_11_genexpr[__pyx_freecount_4liba___pyx_scope_struct_11_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_4liba___pyx_scope_struct_5_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr)))) {
+    __pyx_freelist_4liba___pyx_scope_struct_5_genexpr[__pyx_freecount_4liba___pyx_scope_struct_5_genexpr++] = ((struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_4liba___pyx_scope_struct_11_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_4liba___pyx_scope_struct_5_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr *)o;
+  struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *p = (struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
-  if (p->__pyx_v_i) {
-    e = (*v)(p->__pyx_v_i, a); if (e) return e;
+  if (p->__pyx_v_col) {
+    e = (*v)(p->__pyx_v_col, a); if (e) return e;
   }
-  if (p->__pyx_v_j) {
-    e = (*v)(p->__pyx_v_j, a); if (e) return e;
+  if (p->__pyx_v_row) {
+    e = (*v)(p->__pyx_v_row, a); if (e) return e;
   }
   if (p->__pyx_t_0) {
     e = (*v)(p->__pyx_t_0, a); if (e) return e;
   }
   if (p->__pyx_t_3) {
     e = (*v)(p->__pyx_t_3, a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_4liba___pyx_scope_struct_11_genexpr = {
+static PyTypeObject __pyx_type_4liba___pyx_scope_struct_5_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "liba.__pyx_scope_struct_11_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_11_genexpr), /*tp_basicsize*/
+  "liba.__pyx_scope_struct_5_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_4liba___pyx_scope_struct_5_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_4liba___pyx_scope_struct_11_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_4liba___pyx_scope_struct_5_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -22816,15 +26462,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_4liba___pyx_scope_struct_11_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_4liba___pyx_scope_struct_5_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -22832,15 +26478,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_4liba___pyx_scope_struct_11_genexpr, /*tp_new*/
+  __pyx_tp_new_4liba___pyx_scope_struct_5_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -22902,60 +26548,86 @@
     #define CYTHON_SMALL_CODE __attribute__((cold))
 #else
     #define CYTHON_SMALL_CODE
 #endif
 #endif
 
 static __Pyx_StringTabEntry __pyx_string_tab[] = {
+  {&__pyx_n_s_AND, __pyx_k_AND, sizeof(__pyx_k_AND), 0, 0, 1, 1},
+  {&__pyx_n_s_AND_ALGEBRA, __pyx_k_AND_ALGEBRA, sizeof(__pyx_k_AND_ALGEBRA), 0, 0, 1, 1},
+  {&__pyx_n_s_AND_BOUNDED, __pyx_k_AND_BOUNDED, sizeof(__pyx_k_AND_BOUNDED), 0, 0, 1, 1},
+  {&__pyx_n_s_AND_DEFAULT, __pyx_k_AND_DEFAULT, sizeof(__pyx_k_AND_DEFAULT), 0, 0, 1, 1},
+  {&__pyx_n_u_B, __pyx_k_B, sizeof(__pyx_k_B), 0, 1, 0, 1},
+  {&__pyx_n_s_EQU, __pyx_k_EQU, sizeof(__pyx_k_EQU), 0, 0, 1, 1},
   {&__pyx_n_s_GAUSS, __pyx_k_GAUSS, sizeof(__pyx_k_GAUSS), 0, 0, 1, 1},
   {&__pyx_n_s_GBELL, __pyx_k_GBELL, sizeof(__pyx_k_GBELL), 0, 0, 1, 1},
+  {&__pyx_n_u_H, __pyx_k_H, sizeof(__pyx_k_H), 0, 1, 0, 1},
+  {&__pyx_n_u_I, __pyx_k_I, sizeof(__pyx_k_I), 0, 1, 0, 1},
   {&__pyx_n_s_INC, __pyx_k_INC, sizeof(__pyx_k_INC), 0, 0, 1, 1},
+  {&__pyx_n_s_INIT, __pyx_k_INIT, sizeof(__pyx_k_INIT), 0, 0, 1, 1},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0, __pyx_k_Incompatible_checksums_0x_x_vs_0, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0), 0, 0, 1, 0},
+  {&__pyx_n_u_L, __pyx_k_L, sizeof(__pyx_k_L), 0, 1, 0, 1},
   {&__pyx_n_s_MemoryError, __pyx_k_MemoryError, sizeof(__pyx_k_MemoryError), 0, 0, 1, 1},
   {&__pyx_n_s_NUL, __pyx_k_NUL, sizeof(__pyx_k_NUL), 0, 0, 1, 1},
   {&__pyx_n_s_OFF, __pyx_k_OFF, sizeof(__pyx_k_OFF), 0, 0, 1, 1},
+  {&__pyx_n_s_OR, __pyx_k_OR, sizeof(__pyx_k_OR), 0, 0, 1, 1},
+  {&__pyx_n_s_OR_ALGEBRA, __pyx_k_OR_ALGEBRA, sizeof(__pyx_k_OR_ALGEBRA), 0, 0, 1, 1},
+  {&__pyx_n_s_OR_BOUNDED, __pyx_k_OR_BOUNDED, sizeof(__pyx_k_OR_BOUNDED), 0, 0, 1, 1},
+  {&__pyx_n_s_OR_DEFAULT, __pyx_k_OR_DEFAULT, sizeof(__pyx_k_OR_DEFAULT), 0, 0, 1, 1},
+  {&__pyx_n_s_POLY, __pyx_k_POLY, sizeof(__pyx_k_POLY), 0, 0, 1, 1},
   {&__pyx_n_s_POS, __pyx_k_POS, sizeof(__pyx_k_POS), 0, 0, 1, 1},
   {&__pyx_n_s_PickleError, __pyx_k_PickleError, sizeof(__pyx_k_PickleError), 0, 0, 1, 1},
+  {&__pyx_n_u_Q, __pyx_k_Q, sizeof(__pyx_k_Q), 0, 1, 0, 1},
   {&__pyx_n_s_SIG, __pyx_k_SIG, sizeof(__pyx_k_SIG), 0, 0, 1, 1},
   {&__pyx_n_s_TRAP, __pyx_k_TRAP, sizeof(__pyx_k_TRAP), 0, 0, 1, 1},
   {&__pyx_n_s_TRI, __pyx_k_TRI, sizeof(__pyx_k_TRI), 0, 0, 1, 1},
   {&__pyx_n_s_TypeError, __pyx_k_TypeError, sizeof(__pyx_k_TypeError), 0, 0, 1, 1},
+  {&__pyx_n_s_VERSION, __pyx_k_VERSION, sizeof(__pyx_k_VERSION), 0, 0, 1, 1},
+  {&__pyx_n_s_VERSION_MAJOR, __pyx_k_VERSION_MAJOR, sizeof(__pyx_k_VERSION_MAJOR), 0, 0, 1, 1},
+  {&__pyx_n_s_VERSION_MINOR, __pyx_k_VERSION_MINOR, sizeof(__pyx_k_VERSION_MINOR), 0, 0, 1, 1},
+  {&__pyx_n_s_VERSION_PATCH, __pyx_k_VERSION_PATCH, sizeof(__pyx_k_VERSION_PATCH), 0, 0, 1, 1},
   {&__pyx_n_s_Z, __pyx_k_Z, sizeof(__pyx_k_Z), 0, 0, 1, 1},
   {&__pyx_n_s_a, __pyx_k_a, sizeof(__pyx_k_a), 0, 0, 1, 1},
   {&__pyx_n_s_a0, __pyx_k_a0, sizeof(__pyx_k_a0), 0, 0, 1, 1},
   {&__pyx_n_s_a1, __pyx_k_a1, sizeof(__pyx_k_a1), 0, 0, 1, 1},
   {&__pyx_n_s_args, __pyx_k_args, sizeof(__pyx_k_args), 0, 0, 1, 1},
   {&__pyx_n_s_b, __pyx_k_b, sizeof(__pyx_k_b), 0, 0, 1, 1},
-  {&__pyx_n_s_base_locals_genexpr, __pyx_k_base_locals_genexpr, sizeof(__pyx_k_base_locals_genexpr), 0, 0, 1, 1},
-  {&__pyx_n_s_buf, __pyx_k_buf, sizeof(__pyx_k_buf), 0, 0, 1, 1},
   {&__pyx_n_s_c, __pyx_k_c, sizeof(__pyx_k_c), 0, 0, 1, 1},
   {&__pyx_n_s_call, __pyx_k_call, sizeof(__pyx_k_call), 0, 0, 1, 1},
-  {&__pyx_n_s_cinit___locals_genexpr, __pyx_k_cinit___locals_genexpr, sizeof(__pyx_k_cinit___locals_genexpr), 0, 0, 1, 1},
   {&__pyx_n_s_cline_in_traceback, __pyx_k_cline_in_traceback, sizeof(__pyx_k_cline_in_traceback), 0, 0, 1, 1},
   {&__pyx_n_s_close, __pyx_k_close, sizeof(__pyx_k_close), 0, 0, 1, 1},
+  {&__pyx_n_s_crc16, __pyx_k_crc16, sizeof(__pyx_k_crc16), 0, 0, 1, 1},
+  {&__pyx_n_s_crc32, __pyx_k_crc32, sizeof(__pyx_k_crc32), 0, 0, 1, 1},
+  {&__pyx_n_s_crc64, __pyx_k_crc64, sizeof(__pyx_k_crc64), 0, 0, 1, 1},
+  {&__pyx_n_s_crc8, __pyx_k_crc8, sizeof(__pyx_k_crc8), 0, 0, 1, 1},
   {&__pyx_n_s_d, __pyx_k_d, sizeof(__pyx_k_d), 0, 0, 1, 1},
   {&__pyx_n_u_d, __pyx_k_d, sizeof(__pyx_k_d), 0, 1, 0, 1},
+  {&__pyx_n_s_data, __pyx_k_data, sizeof(__pyx_k_data), 0, 0, 1, 1},
   {&__pyx_n_s_den, __pyx_k_den, sizeof(__pyx_k_den), 0, 0, 1, 1},
   {&__pyx_n_s_dict, __pyx_k_dict, sizeof(__pyx_k_dict), 0, 0, 1, 1},
   {&__pyx_n_s_dt, __pyx_k_dt, sizeof(__pyx_k_dt), 0, 0, 1, 1},
   {&__pyx_n_s_e, __pyx_k_e, sizeof(__pyx_k_e), 0, 0, 1, 1},
   {&__pyx_n_s_enumerate, __pyx_k_enumerate, sizeof(__pyx_k_enumerate), 0, 0, 1, 1},
+  {&__pyx_n_u_f, __pyx_k_f, sizeof(__pyx_k_f), 0, 1, 0, 1},
   {&__pyx_n_s_f32_rsqrt, __pyx_k_f32_rsqrt, sizeof(__pyx_k_f32_rsqrt), 0, 0, 1, 1},
   {&__pyx_n_s_f64_rsqrt, __pyx_k_f64_rsqrt, sizeof(__pyx_k_f64_rsqrt), 0, 0, 1, 1},
   {&__pyx_n_s_fdb, __pyx_k_fdb, sizeof(__pyx_k_fdb), 0, 0, 1, 1},
-  {&__pyx_n_s_fpid, __pyx_k_fpid, sizeof(__pyx_k_fpid), 0, 0, 1, 1},
   {&__pyx_n_s_gauss, __pyx_k_gauss, sizeof(__pyx_k_gauss), 0, 0, 1, 1},
   {&__pyx_n_s_gbell, __pyx_k_gbell, sizeof(__pyx_k_gbell), 0, 0, 1, 1},
   {&__pyx_n_s_genexpr, __pyx_k_genexpr, sizeof(__pyx_k_genexpr), 0, 0, 1, 1},
   {&__pyx_n_s_getstate, __pyx_k_getstate, sizeof(__pyx_k_getstate), 0, 0, 1, 1},
+  {&__pyx_n_s_hash_bkdr, __pyx_k_hash_bkdr, sizeof(__pyx_k_hash_bkdr), 0, 0, 1, 1},
+  {&__pyx_n_s_high, __pyx_k_high, sizeof(__pyx_k_high), 0, 0, 1, 1},
   {&__pyx_n_s_i, __pyx_k_i, sizeof(__pyx_k_i), 0, 0, 1, 1},
   {&__pyx_n_s_import, __pyx_k_import, sizeof(__pyx_k_import), 0, 0, 1, 1},
+  {&__pyx_n_s_init, __pyx_k_init, sizeof(__pyx_k_init), 0, 0, 1, 1},
   {&__pyx_n_s_it, __pyx_k_it, sizeof(__pyx_k_it), 0, 0, 1, 1},
   {&__pyx_n_s_j0, __pyx_k_j0, sizeof(__pyx_k_j0), 0, 0, 1, 1},
   {&__pyx_n_s_j1, __pyx_k_j1, sizeof(__pyx_k_j1), 0, 0, 1, 1},
+  {&__pyx_n_s_k, __pyx_k_k, sizeof(__pyx_k_k), 0, 0, 1, 1},
   {&__pyx_n_s_kd, __pyx_k_kd, sizeof(__pyx_k_kd), 0, 0, 1, 1},
   {&__pyx_n_s_ki, __pyx_k_ki, sizeof(__pyx_k_ki), 0, 0, 1, 1},
   {&__pyx_n_s_kp, __pyx_k_kp, sizeof(__pyx_k_kp), 0, 0, 1, 1},
   {&__pyx_n_s_liba, __pyx_k_liba, sizeof(__pyx_k_liba), 0, 0, 1, 1},
   {&__pyx_n_s_main, __pyx_k_main, sizeof(__pyx_k_main), 0, 0, 1, 1},
   {&__pyx_n_s_max, __pyx_k_max, sizeof(__pyx_k_max), 0, 0, 1, 1},
   {&__pyx_n_s_me, __pyx_k_me, sizeof(__pyx_k_me), 0, 0, 1, 1},
@@ -22966,73 +26638,86 @@
   {&__pyx_n_s_mki, __pyx_k_mki, sizeof(__pyx_k_mki), 0, 0, 1, 1},
   {&__pyx_n_s_mkp, __pyx_k_mkp, sizeof(__pyx_k_mkp), 0, 0, 1, 1},
   {&__pyx_n_s_n, __pyx_k_n, sizeof(__pyx_k_n), 0, 0, 1, 1},
   {&__pyx_n_s_name, __pyx_k_name, sizeof(__pyx_k_name), 0, 0, 1, 1},
   {&__pyx_n_s_new, __pyx_k_new, sizeof(__pyx_k_new), 0, 0, 1, 1},
   {&__pyx_kp_s_no_default___reduce___due_to_non, __pyx_k_no_default___reduce___due_to_non, sizeof(__pyx_k_no_default___reduce___due_to_non), 0, 0, 1, 0},
   {&__pyx_n_s_num, __pyx_k_num, sizeof(__pyx_k_num), 0, 0, 1, 1},
+  {&__pyx_n_s_o, __pyx_k_o, sizeof(__pyx_k_o), 0, 0, 1, 1},
   {&__pyx_n_s_p, __pyx_k_p, sizeof(__pyx_k_p), 0, 0, 1, 1},
   {&__pyx_n_s_pickle, __pyx_k_pickle, sizeof(__pyx_k_pickle), 0, 0, 1, 1},
   {&__pyx_n_s_pid, __pyx_k_pid, sizeof(__pyx_k_pid), 0, 0, 1, 1},
+  {&__pyx_n_s_pid_fuzzy, __pyx_k_pid_fuzzy, sizeof(__pyx_k_pid_fuzzy), 0, 0, 1, 1},
+  {&__pyx_n_s_pid_neuron, __pyx_k_pid_neuron, sizeof(__pyx_k_pid_neuron), 0, 0, 1, 1},
+  {&__pyx_n_s_poly, __pyx_k_poly, sizeof(__pyx_k_poly), 0, 0, 1, 1},
   {&__pyx_n_s_poly_eval, __pyx_k_poly_eval, sizeof(__pyx_k_poly_eval), 0, 0, 1, 1},
   {&__pyx_n_s_poly_evar, __pyx_k_poly_evar, sizeof(__pyx_k_poly_evar), 0, 0, 1, 1},
   {&__pyx_n_s_polytrack3, __pyx_k_polytrack3, sizeof(__pyx_k_polytrack3), 0, 0, 1, 1},
   {&__pyx_n_s_polytrack5, __pyx_k_polytrack5, sizeof(__pyx_k_polytrack5), 0, 0, 1, 1},
   {&__pyx_n_s_polytrack7, __pyx_k_polytrack7, sizeof(__pyx_k_polytrack7), 0, 0, 1, 1},
   {&__pyx_kp_s_python_src_a_math_pxi, __pyx_k_python_src_a_math_pxi, sizeof(__pyx_k_python_src_a_math_pxi), 0, 0, 1, 0},
   {&__pyx_kp_s_python_src_a_mf_pxi, __pyx_k_python_src_a_mf_pxi, sizeof(__pyx_k_python_src_a_mf_pxi), 0, 0, 1, 0},
   {&__pyx_kp_s_python_src_a_poly_pxi, __pyx_k_python_src_a_poly_pxi, sizeof(__pyx_k_python_src_a_poly_pxi), 0, 0, 1, 0},
+  {&__pyx_kp_s_python_src_a_pyx, __pyx_k_python_src_a_pyx, sizeof(__pyx_k_python_src_a_pyx), 0, 0, 1, 0},
   {&__pyx_kp_s_python_src_a_version_pxi, __pyx_k_python_src_a_version_pxi, sizeof(__pyx_k_python_src_a_version_pxi), 0, 0, 1, 0},
   {&__pyx_n_s_pyx_PickleError, __pyx_k_pyx_PickleError, sizeof(__pyx_k_pyx_PickleError), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_checksum, __pyx_k_pyx_checksum, sizeof(__pyx_k_pyx_checksum), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_result, __pyx_k_pyx_result, sizeof(__pyx_k_pyx_result), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_state, __pyx_k_pyx_state, sizeof(__pyx_k_pyx_state), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_type, __pyx_k_pyx_type, sizeof(__pyx_k_pyx_type), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle_mf, __pyx_k_pyx_unpickle_mf, sizeof(__pyx_k_pyx_unpickle_mf), 0, 0, 1, 1},
   {&__pyx_n_s_q0, __pyx_k_q0, sizeof(__pyx_k_q0), 0, 0, 1, 1},
   {&__pyx_n_s_q1, __pyx_k_q1, sizeof(__pyx_k_q1), 0, 0, 1, 1},
   {&__pyx_n_s_range, __pyx_k_range, sizeof(__pyx_k_range), 0, 0, 1, 1},
   {&__pyx_n_s_reduce, __pyx_k_reduce, sizeof(__pyx_k_reduce), 0, 0, 1, 1},
   {&__pyx_n_s_reduce_cython, __pyx_k_reduce_cython, sizeof(__pyx_k_reduce_cython), 0, 0, 1, 1},
   {&__pyx_n_s_reduce_ex, __pyx_k_reduce_ex, sizeof(__pyx_k_reduce_ex), 0, 0, 1, 1},
+  {&__pyx_n_s_rule_locals_genexpr, __pyx_k_rule_locals_genexpr, sizeof(__pyx_k_rule_locals_genexpr), 0, 0, 1, 1},
   {&__pyx_n_s_send, __pyx_k_send, sizeof(__pyx_k_send), 0, 0, 1, 1},
   {&__pyx_n_s_set, __pyx_k_set, sizeof(__pyx_k_set), 0, 0, 1, 1},
   {&__pyx_n_s_setstate, __pyx_k_setstate, sizeof(__pyx_k_setstate), 0, 0, 1, 1},
   {&__pyx_n_s_setstate_cython, __pyx_k_setstate_cython, sizeof(__pyx_k_setstate_cython), 0, 0, 1, 1},
   {&__pyx_n_s_sig, __pyx_k_sig, sizeof(__pyx_k_sig), 0, 0, 1, 1},
   {&__pyx_n_s_sigma, __pyx_k_sigma, sizeof(__pyx_k_sigma), 0, 0, 1, 1},
   {&__pyx_n_s_staticmethod, __pyx_k_staticmethod, sizeof(__pyx_k_staticmethod), 0, 0, 1, 1},
+  {&__pyx_n_s_str, __pyx_k_str, sizeof(__pyx_k_str), 0, 0, 1, 1},
   {&__pyx_kp_s_stringsource, __pyx_k_stringsource, sizeof(__pyx_k_stringsource), 0, 0, 1, 0},
   {&__pyx_n_s_sum, __pyx_k_sum, sizeof(__pyx_k_sum), 0, 0, 1, 1},
   {&__pyx_n_s_t0, __pyx_k_t0, sizeof(__pyx_k_t0), 0, 0, 1, 1},
   {&__pyx_n_s_t1, __pyx_k_t1, sizeof(__pyx_k_t1), 0, 0, 1, 1},
   {&__pyx_n_s_test, __pyx_k_test, sizeof(__pyx_k_test), 0, 0, 1, 1},
   {&__pyx_n_s_tf, __pyx_k_tf, sizeof(__pyx_k_tf), 0, 0, 1, 1},
   {&__pyx_n_s_throw, __pyx_k_throw, sizeof(__pyx_k_throw), 0, 0, 1, 1},
   {&__pyx_n_s_trap, __pyx_k_trap, sizeof(__pyx_k_trap), 0, 0, 1, 1},
   {&__pyx_n_s_tri, __pyx_k_tri, sizeof(__pyx_k_tri), 0, 0, 1, 1},
+  {&__pyx_n_s_u32_sqrt, __pyx_k_u32_sqrt, sizeof(__pyx_k_u32_sqrt), 0, 0, 1, 1},
+  {&__pyx_n_s_u64_sqrt, __pyx_k_u64_sqrt, sizeof(__pyx_k_u64_sqrt), 0, 0, 1, 1},
   {&__pyx_n_s_update, __pyx_k_update, sizeof(__pyx_k_update), 0, 0, 1, 1},
   {&__pyx_n_s_v, __pyx_k_v, sizeof(__pyx_k_v), 0, 0, 1, 1},
   {&__pyx_n_s_v0, __pyx_k_v0, sizeof(__pyx_k_v0), 0, 0, 1, 1},
   {&__pyx_n_s_v1, __pyx_k_v1, sizeof(__pyx_k_v1), 0, 0, 1, 1},
+  {&__pyx_n_s_val, __pyx_k_val, sizeof(__pyx_k_val), 0, 0, 1, 1},
   {&__pyx_n_s_version, __pyx_k_version, sizeof(__pyx_k_version), 0, 0, 1, 1},
   {&__pyx_n_s_version_major, __pyx_k_version_major, sizeof(__pyx_k_version_major), 0, 0, 1, 1},
   {&__pyx_n_s_version_minor, __pyx_k_version_minor, sizeof(__pyx_k_version_minor), 0, 0, 1, 1},
   {&__pyx_n_s_version_patch, __pyx_k_version_patch, sizeof(__pyx_k_version_patch), 0, 0, 1, 1},
+  {&__pyx_n_s_wd, __pyx_k_wd, sizeof(__pyx_k_wd), 0, 0, 1, 1},
+  {&__pyx_n_s_wi, __pyx_k_wi, sizeof(__pyx_k_wi), 0, 0, 1, 1},
+  {&__pyx_n_s_wp, __pyx_k_wp, sizeof(__pyx_k_wp), 0, 0, 1, 1},
   {&__pyx_n_s_x, __pyx_k_x, sizeof(__pyx_k_x), 0, 0, 1, 1},
   {&__pyx_n_s_y, __pyx_k_y, sizeof(__pyx_k_y), 0, 0, 1, 1},
   {&__pyx_n_s_z, __pyx_k_z, sizeof(__pyx_k_z), 0, 0, 1, 1},
   {0, 0, 0, 0, 0, 0, 0}
 };
 static CYTHON_SMALL_CODE int __Pyx_InitCachedBuiltins(void) {
   __pyx_builtin_staticmethod = __Pyx_GetBuiltinName(__pyx_n_s_staticmethod); if (!__pyx_builtin_staticmethod) __PYX_ERR(0, 14, __pyx_L1_error)
-  __pyx_builtin_enumerate = __Pyx_GetBuiltinName(__pyx_n_s_enumerate); if (!__pyx_builtin_enumerate) __PYX_ERR(1, 9, __pyx_L1_error)
-  __pyx_builtin_TypeError = __Pyx_GetBuiltinName(__pyx_n_s_TypeError); if (!__pyx_builtin_TypeError) __PYX_ERR(2, 2, __pyx_L1_error)
-  __pyx_builtin_MemoryError = __Pyx_GetBuiltinName(__pyx_n_s_MemoryError); if (!__pyx_builtin_MemoryError) __PYX_ERR(10, 109, __pyx_L1_error)
-  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(2, 116, __pyx_L1_error)
+  __pyx_builtin_TypeError = __Pyx_GetBuiltinName(__pyx_n_s_TypeError); if (!__pyx_builtin_TypeError) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_builtin_enumerate = __Pyx_GetBuiltinName(__pyx_n_s_enumerate); if (!__pyx_builtin_enumerate) __PYX_ERR(2, 9, __pyx_L1_error)
+  __pyx_builtin_MemoryError = __Pyx_GetBuiltinName(__pyx_n_s_MemoryError); if (!__pyx_builtin_MemoryError) __PYX_ERR(12, 109, __pyx_L1_error)
+  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(1, 116, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
   return -1;
 }
 
 static CYTHON_SMALL_CODE int __Pyx_InitCachedConstants(void) {
   __Pyx_RefNannyDeclarations
@@ -23040,311 +26725,442 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple_ = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple_)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple_);
-  __Pyx_GIVEREF(__pyx_tuple_);
+  __pyx_tuple__3 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__3)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__3);
+  __Pyx_GIVEREF(__pyx_tuple__3);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__2 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__2)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__2);
-  __Pyx_GIVEREF(__pyx_tuple__2);
+  __pyx_tuple__4 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__4)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__4);
+  __Pyx_GIVEREF(__pyx_tuple__4);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple__3 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__3)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__3);
-  __Pyx_GIVEREF(__pyx_tuple__3);
+  __pyx_tuple__7 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__7);
+  __Pyx_GIVEREF(__pyx_tuple__7);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__4 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__4)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__4);
-  __Pyx_GIVEREF(__pyx_tuple__4);
+  __pyx_tuple__8 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__8)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__8);
+  __Pyx_GIVEREF(__pyx_tuple__8);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple__5 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__5)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__5);
-  __Pyx_GIVEREF(__pyx_tuple__5);
+  __pyx_tuple__11 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__11)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__11);
+  __Pyx_GIVEREF(__pyx_tuple__11);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__6 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__6)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__6);
-  __Pyx_GIVEREF(__pyx_tuple__6);
+  __pyx_tuple__12 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__12)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__12);
+  __Pyx_GIVEREF(__pyx_tuple__12);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple__7 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__7);
-  __Pyx_GIVEREF(__pyx_tuple__7);
+  __pyx_tuple__15 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__15)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__15);
+  __Pyx_GIVEREF(__pyx_tuple__15);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__8 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__8)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__8);
-  __Pyx_GIVEREF(__pyx_tuple__8);
+  __pyx_tuple__16 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__16)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__16);
+  __Pyx_GIVEREF(__pyx_tuple__16);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple__9 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__9)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__9);
-  __Pyx_GIVEREF(__pyx_tuple__9);
+  __pyx_tuple__19 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__19)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__19);
+  __Pyx_GIVEREF(__pyx_tuple__19);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__10 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__10)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__10);
-  __Pyx_GIVEREF(__pyx_tuple__10);
+  __pyx_tuple__20 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__20)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__20);
+  __Pyx_GIVEREF(__pyx_tuple__20);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple__11 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__11)) __PYX_ERR(2, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__11);
-  __Pyx_GIVEREF(__pyx_tuple__11);
+  __pyx_tuple__23 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__23)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__23);
+  __Pyx_GIVEREF(__pyx_tuple__23);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__12 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__12)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__12);
-  __Pyx_GIVEREF(__pyx_tuple__12);
-  __pyx_tuple__13 = PyTuple_Pack(3, __pyx_int_222419149, __pyx_int_238750788, __pyx_int_228825662); if (unlikely(!__pyx_tuple__13)) __PYX_ERR(2, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__13);
-  __Pyx_GIVEREF(__pyx_tuple__13);
+  __pyx_tuple__24 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__24)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__24);
+  __Pyx_GIVEREF(__pyx_tuple__24);
 
-  /* "python/src/a/version.pxi":3
- * from a.version cimport *
- * 
- * def version():             # <<<<<<<<<<<<<<
- *     '''algorithm library version'''
- *     if PY_MAJOR_VERSION >= 3:
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_codeobj__14 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_version_pxi, __pyx_n_s_version, 3, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__14)) __PYX_ERR(4, 3, __pyx_L1_error)
+  __pyx_tuple__27 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__27)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__27);
+  __Pyx_GIVEREF(__pyx_tuple__27);
 
-  /* "python/src/a/version.pxi":9
- *     return a_version()
- * 
- * def version_major() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version major'''
- *     return a_version_major()
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_codeobj__15 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_version_pxi, __pyx_n_s_version_major, 9, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__15)) __PYX_ERR(4, 9, __pyx_L1_error)
+  __pyx_tuple__28 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__28)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__28);
+  __Pyx_GIVEREF(__pyx_tuple__28);
 
-  /* "python/src/a/version.pxi":13
- *     return a_version_major()
- * 
- * def version_minor() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version minor'''
- *     return a_version_minor()
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_codeobj__16 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_version_pxi, __pyx_n_s_version_minor, 13, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__16)) __PYX_ERR(4, 13, __pyx_L1_error)
+  __pyx_tuple__29 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__29)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__29);
+  __Pyx_GIVEREF(__pyx_tuple__29);
 
-  /* "python/src/a/version.pxi":17
- *     return a_version_minor()
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_tuple__30 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__30)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__30);
+  __Pyx_GIVEREF(__pyx_tuple__30);
+
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+  __pyx_tuple__31 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__31)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__31);
+  __Pyx_GIVEREF(__pyx_tuple__31);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_tuple__32 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__32)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__32);
+  __Pyx_GIVEREF(__pyx_tuple__32);
+
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+  __pyx_tuple__33 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__33)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__33);
+  __Pyx_GIVEREF(__pyx_tuple__33);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_tuple__34 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__34)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__34);
+  __Pyx_GIVEREF(__pyx_tuple__34);
+
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ */
+  __pyx_tuple__35 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__35)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__35);
+  __Pyx_GIVEREF(__pyx_tuple__35);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
+ */
+  __pyx_tuple__36 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__36)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__36);
+  __Pyx_GIVEREF(__pyx_tuple__36);
+  __pyx_tuple__37 = PyTuple_Pack(3, __pyx_int_222419149, __pyx_int_238750788, __pyx_int_228825662); if (unlikely(!__pyx_tuple__37)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__37);
+  __Pyx_GIVEREF(__pyx_tuple__37);
+
+  /* "python/src/a.pyx":35
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def hash_bkdr(str: bytes, val: a_umax_t) -> a_umax_t:             # <<<<<<<<<<<<<<
+ *     return a_hash_bkdr(str, val)
  * 
- * def version_patch() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version patch'''
- *     return a_version_patch()
  */
-  __pyx_codeobj__17 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_version_pxi, __pyx_n_s_version_patch, 17, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__17)) __PYX_ERR(4, 17, __pyx_L1_error)
+  __pyx_tuple__38 = PyTuple_Pack(2, __pyx_n_s_str, __pyx_n_s_val); if (unlikely(!__pyx_tuple__38)) __PYX_ERR(3, 35, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__38);
+  __Pyx_GIVEREF(__pyx_tuple__38);
+  __pyx_codeobj__39 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__38, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_pyx, __pyx_n_s_hash_bkdr, 35, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__39)) __PYX_ERR(3, 35, __pyx_L1_error)
 
   /* "python/src/a/math.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def f32_rsqrt(x):             # <<<<<<<<<<<<<<
  *     '''fast inverse square-root'''
  *     if iterable(x):
  */
-  __pyx_tuple__18 = PyTuple_Pack(4, __pyx_n_s_x, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__18)) __PYX_ERR(1, 5, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__18);
-  __Pyx_GIVEREF(__pyx_tuple__18);
-  __pyx_codeobj__19 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__18, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_math_pxi, __pyx_n_s_f32_rsqrt, 5, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__19)) __PYX_ERR(1, 5, __pyx_L1_error)
+  __pyx_tuple__40 = PyTuple_Pack(4, __pyx_n_s_x, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__40)) __PYX_ERR(2, 5, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__40);
+  __Pyx_GIVEREF(__pyx_tuple__40);
+  __pyx_codeobj__41 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__40, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_math_pxi, __pyx_n_s_f32_rsqrt, 5, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__41)) __PYX_ERR(2, 5, __pyx_L1_error)
 
   /* "python/src/a/math.pxi":16
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def f64_rsqrt(x):             # <<<<<<<<<<<<<<
  *     '''fast inverse square-root'''
  *     if iterable(x):
  */
-  __pyx_tuple__20 = PyTuple_Pack(4, __pyx_n_s_x, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__20)) __PYX_ERR(1, 16, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__20);
-  __Pyx_GIVEREF(__pyx_tuple__20);
-  __pyx_codeobj__21 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__20, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_math_pxi, __pyx_n_s_f64_rsqrt, 16, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__21)) __PYX_ERR(1, 16, __pyx_L1_error)
+  __pyx_tuple__42 = PyTuple_Pack(4, __pyx_n_s_x, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__42)) __PYX_ERR(2, 16, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__42);
+  __Pyx_GIVEREF(__pyx_tuple__42);
+  __pyx_codeobj__43 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__42, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_math_pxi, __pyx_n_s_f64_rsqrt, 16, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__43)) __PYX_ERR(2, 16, __pyx_L1_error)
+
+  /* "python/src/a/math.pxi":27
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def u32_sqrt(x):             # <<<<<<<<<<<<<<
+ *     cdef a_u32_t o
+ *     if iterable(x):
+ */
+  __pyx_tuple__44 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_o, __pyx_n_s_y, __pyx_n_s_z, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__44)) __PYX_ERR(2, 27, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__44);
+  __Pyx_GIVEREF(__pyx_tuple__44);
+  __pyx_codeobj__45 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__44, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_math_pxi, __pyx_n_s_u32_sqrt, 27, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__45)) __PYX_ERR(2, 27, __pyx_L1_error)
+
+  /* "python/src/a/math.pxi":39
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def u64_sqrt(x):             # <<<<<<<<<<<<<<
+ *     cdef a_u64_t o
+ *     if iterable(x):
+ */
+  __pyx_tuple__46 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_o, __pyx_n_s_y, __pyx_n_s_z, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__46)) __PYX_ERR(2, 39, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__46);
+  __Pyx_GIVEREF(__pyx_tuple__46);
+  __pyx_codeobj__47 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__46, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_math_pxi, __pyx_n_s_u64_sqrt, 39, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__47)) __PYX_ERR(2, 39, __pyx_L1_error)
 
   /* "python/src/a/mf.pxi":15
  *     Z     = A_MF_Z
  *     @staticmethod
  *     def __call__(e: a_mf_e, x, a):             # <<<<<<<<<<<<<<
- *         cdef array d = reals(a)
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr
+ *         cdef array d = floats(a)
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr
  */
-  __pyx_tuple__22 = PyTuple_Pack(8, __pyx_n_s_e, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_d, __pyx_n_s_v, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__22)) __PYX_ERR(0, 15, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__22);
-  __Pyx_GIVEREF(__pyx_tuple__22);
-  __pyx_codeobj__23 = (PyObject*)__Pyx_PyCode_New(3, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__22, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_call, 15, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__23)) __PYX_ERR(0, 15, __pyx_L1_error)
+  __pyx_tuple__48 = PyTuple_Pack(8, __pyx_n_s_e, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_d, __pyx_n_s_v, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__48)) __PYX_ERR(0, 15, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__48);
+  __Pyx_GIVEREF(__pyx_tuple__48);
+  __pyx_codeobj__49 = (PyObject*)__Pyx_PyCode_New(3, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__48, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_call, 15, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__49)) __PYX_ERR(0, 15, __pyx_L1_error)
 
   /* "python/src/a/mf.pxi":25
  *         return a_mf(e, x, v)
  *     @staticmethod
- *     def gauss(x, sigma: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def gauss(x, sigma: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Gaussian membership function'''
  *         if iterable(x):
  */
-  __pyx_tuple__24 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_sigma, __pyx_n_s_c, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__24)) __PYX_ERR(0, 25, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__24);
-  __Pyx_GIVEREF(__pyx_tuple__24);
-  __pyx_codeobj__25 = (PyObject*)__Pyx_PyCode_New(3, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__24, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_gauss, 25, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__25)) __PYX_ERR(0, 25, __pyx_L1_error)
+  __pyx_tuple__50 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_sigma, __pyx_n_s_c, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__50)) __PYX_ERR(0, 25, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__50);
+  __Pyx_GIVEREF(__pyx_tuple__50);
+  __pyx_codeobj__51 = (PyObject*)__Pyx_PyCode_New(3, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__50, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_gauss, 25, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__51)) __PYX_ERR(0, 25, __pyx_L1_error)
 
   /* "python/src/a/mf.pxi":34
  *         return a_mf_gauss(x, sigma, c)
  *     @staticmethod
- *     def gbell(x, a: a_real_t, b: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def gbell(x, a: a_float_t, b: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Generalized bell-shaped membership function'''
  *         if iterable(x):
  */
-  __pyx_tuple__26 = PyTuple_Pack(7, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_b, __pyx_n_s_c, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__26)) __PYX_ERR(0, 34, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__26);
-  __Pyx_GIVEREF(__pyx_tuple__26);
-  __pyx_codeobj__27 = (PyObject*)__Pyx_PyCode_New(4, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__26, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_gbell, 34, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__27)) __PYX_ERR(0, 34, __pyx_L1_error)
+  __pyx_tuple__52 = PyTuple_Pack(7, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_b, __pyx_n_s_c, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__52)) __PYX_ERR(0, 34, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__52);
+  __Pyx_GIVEREF(__pyx_tuple__52);
+  __pyx_codeobj__53 = (PyObject*)__Pyx_PyCode_New(4, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__52, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_gbell, 34, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__53)) __PYX_ERR(0, 34, __pyx_L1_error)
 
   /* "python/src/a/mf.pxi":43
  *         return a_mf_gbell(x, a, b, c)
  *     @staticmethod
- *     def sig(x, a: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def sig(x, a: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Sigmoidal membership function'''
  *         if iterable(x):
  */
-  __pyx_tuple__28 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_c, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__28)) __PYX_ERR(0, 43, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__28);
-  __Pyx_GIVEREF(__pyx_tuple__28);
-  __pyx_codeobj__29 = (PyObject*)__Pyx_PyCode_New(3, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__28, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_sig, 43, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__29)) __PYX_ERR(0, 43, __pyx_L1_error)
+  __pyx_tuple__54 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_c, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__54)) __PYX_ERR(0, 43, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__54);
+  __Pyx_GIVEREF(__pyx_tuple__54);
+  __pyx_codeobj__55 = (PyObject*)__Pyx_PyCode_New(3, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__54, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_sig, 43, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__55)) __PYX_ERR(0, 43, __pyx_L1_error)
 
   /* "python/src/a/mf.pxi":52
  *         return a_mf_sig(x, a, c)
  *     @staticmethod
- *     def trap(x, a: a_real_t, b: a_real_t, c: a_real_t, d: a_real_t):             # <<<<<<<<<<<<<<
+ *     def trap(x, a: a_float_t, b: a_float_t, c: a_float_t, d: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Trapezoidal membership function'''
  *         if iterable(x):
  */
-  __pyx_tuple__30 = PyTuple_Pack(8, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_b, __pyx_n_s_c, __pyx_n_s_d, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__30)) __PYX_ERR(0, 52, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__30);
-  __Pyx_GIVEREF(__pyx_tuple__30);
-  __pyx_codeobj__31 = (PyObject*)__Pyx_PyCode_New(5, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__30, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_trap, 52, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__31)) __PYX_ERR(0, 52, __pyx_L1_error)
+  __pyx_tuple__56 = PyTuple_Pack(8, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_b, __pyx_n_s_c, __pyx_n_s_d, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__56)) __PYX_ERR(0, 52, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__56);
+  __Pyx_GIVEREF(__pyx_tuple__56);
+  __pyx_codeobj__57 = (PyObject*)__Pyx_PyCode_New(5, 0, 8, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__56, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_trap, 52, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__57)) __PYX_ERR(0, 52, __pyx_L1_error)
 
   /* "python/src/a/mf.pxi":61
  *         return a_mf_trap(x, a, b, c, d)
  *     @staticmethod
- *     def tri(x, a: a_real_t, b: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def tri(x, a: a_float_t, b: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Triangular membership function'''
  *         if iterable(x):
  */
-  __pyx_tuple__32 = PyTuple_Pack(7, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_b, __pyx_n_s_c, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__32)) __PYX_ERR(0, 61, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__32);
-  __Pyx_GIVEREF(__pyx_tuple__32);
-  __pyx_codeobj__33 = (PyObject*)__Pyx_PyCode_New(4, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__32, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_tri, 61, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__33)) __PYX_ERR(0, 61, __pyx_L1_error)
+  __pyx_tuple__58 = PyTuple_Pack(7, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_b, __pyx_n_s_c, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__58)) __PYX_ERR(0, 61, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__58);
+  __Pyx_GIVEREF(__pyx_tuple__58);
+  __pyx_codeobj__59 = (PyObject*)__Pyx_PyCode_New(4, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__58, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_tri, 61, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__59)) __PYX_ERR(0, 61, __pyx_L1_error)
 
   /* "python/src/a/mf.pxi":70
  *         return a_mf_tri(x, a, b, c)
  *     @staticmethod
- *     def z(x, a: a_real_t, b: a_real_t):             # <<<<<<<<<<<<<<
+ *     def z(x, a: a_float_t, b: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Z-shaped membership function'''
  *         if iterable(x):
  */
-  __pyx_tuple__34 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_b, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__34)) __PYX_ERR(0, 70, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__34);
-  __Pyx_GIVEREF(__pyx_tuple__34);
-  __pyx_codeobj__35 = (PyObject*)__Pyx_PyCode_New(3, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__34, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_z, 70, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__35)) __PYX_ERR(0, 70, __pyx_L1_error)
+  __pyx_tuple__60 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_b, __pyx_n_s_y, __pyx_n_s_i, __pyx_n_s_it); if (unlikely(!__pyx_tuple__60)) __PYX_ERR(0, 70, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__60);
+  __Pyx_GIVEREF(__pyx_tuple__60);
+  __pyx_codeobj__61 = (PyObject*)__Pyx_PyCode_New(3, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__60, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_mf_pxi, __pyx_n_s_z, 70, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__61)) __PYX_ERR(0, 70, __pyx_L1_error)
 
   /* "python/src/a/poly.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def poly_eval(x, *a):             # <<<<<<<<<<<<<<
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  */
-  __pyx_tuple__36 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_d, __pyx_n_s_n, __pyx_n_s_p, __pyx_n_s_y); if (unlikely(!__pyx_tuple__36)) __PYX_ERR(8, 5, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__36);
-  __Pyx_GIVEREF(__pyx_tuple__36);
-  __pyx_codeobj__37 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__36, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_poly_pxi, __pyx_n_s_poly_eval, 5, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__37)) __PYX_ERR(8, 5, __pyx_L1_error)
+  __pyx_tuple__62 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_d, __pyx_n_s_n, __pyx_n_s_p, __pyx_n_s_y); if (unlikely(!__pyx_tuple__62)) __PYX_ERR(8, 5, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__62);
+  __Pyx_GIVEREF(__pyx_tuple__62);
+  __pyx_codeobj__63 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__62, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_poly_pxi, __pyx_n_s_poly_eval, 5, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__63)) __PYX_ERR(8, 5, __pyx_L1_error)
 
   /* "python/src/a/poly.pxi":16
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def poly_evar(x, *a):             # <<<<<<<<<<<<<<
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  */
-  __pyx_tuple__38 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_d, __pyx_n_s_n, __pyx_n_s_p, __pyx_n_s_y); if (unlikely(!__pyx_tuple__38)) __PYX_ERR(8, 16, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__38);
-  __Pyx_GIVEREF(__pyx_tuple__38);
-  __pyx_codeobj__39 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__38, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_poly_pxi, __pyx_n_s_poly_evar, 16, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__39)) __PYX_ERR(8, 16, __pyx_L1_error)
+  __pyx_tuple__64 = PyTuple_Pack(6, __pyx_n_s_x, __pyx_n_s_a, __pyx_n_s_d, __pyx_n_s_n, __pyx_n_s_p, __pyx_n_s_y); if (unlikely(!__pyx_tuple__64)) __PYX_ERR(8, 16, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__64);
+  __Pyx_GIVEREF(__pyx_tuple__64);
+  __pyx_codeobj__65 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__64, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_poly_pxi, __pyx_n_s_poly_evar, 16, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__65)) __PYX_ERR(8, 16, __pyx_L1_error)
+
+  /* "python/src/a/version.pxi":4
+ * 
+ * VERSION = A_VERSION.decode()
+ * def version():             # <<<<<<<<<<<<<<
+ *     '''algorithm library version'''
+ *     if PY_MAJOR_VERSION >= 3:
+ */
+  __pyx_codeobj__66 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_version_pxi, __pyx_n_s_version, 4, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__66)) __PYX_ERR(11, 4, __pyx_L1_error)
+
+  /* "python/src/a/version.pxi":11
+ * 
+ * VERSION_MAJOR = A_VERSION_MAJOR
+ * def version_major() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version major'''
+ *     return a_version_major()
+ */
+  __pyx_codeobj__67 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_version_pxi, __pyx_n_s_version_major, 11, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__67)) __PYX_ERR(11, 11, __pyx_L1_error)
+
+  /* "python/src/a/version.pxi":16
+ * 
+ * VERSION_MINOR = A_VERSION_MINOR
+ * def version_minor() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version minor'''
+ *     return a_version_minor()
+ */
+  __pyx_codeobj__68 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_version_pxi, __pyx_n_s_version_minor, 16, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__68)) __PYX_ERR(11, 16, __pyx_L1_error)
+
+  /* "python/src/a/version.pxi":21
+ * 
+ * VERSION_PATCH = A_VERSION_PATCH
+ * def version_patch() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version patch'''
+ *     return a_version_patch()
+ */
+  __pyx_codeobj__69 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_python_src_a_version_pxi, __pyx_n_s_version_patch, 21, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__69)) __PYX_ERR(11, 21, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __pyx_unpickle_mf(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_tuple__40 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__40)) __PYX_ERR(2, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__40);
-  __Pyx_GIVEREF(__pyx_tuple__40);
-  __pyx_codeobj__41 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__40, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_mf, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__41)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __pyx_tuple__70 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__70)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__70);
+  __Pyx_GIVEREF(__pyx_tuple__70);
+  __pyx_codeobj__71 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__70, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_mf, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__71)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 
 static CYTHON_SMALL_CODE int __Pyx_InitGlobals(void) {
-  if (__Pyx_InitStrings(__pyx_string_tab) < 0) __PYX_ERR(3, 1, __pyx_L1_error)
+  if (__Pyx_InitStrings(__pyx_string_tab) < 0) __PYX_ERR(3, 1, __pyx_L1_error);
   __pyx_int_0 = PyInt_FromLong(0); if (unlikely(!__pyx_int_0)) __PYX_ERR(3, 1, __pyx_L1_error)
   __pyx_int_1 = PyInt_FromLong(1); if (unlikely(!__pyx_int_1)) __PYX_ERR(3, 1, __pyx_L1_error)
   __pyx_int_222419149 = PyInt_FromLong(222419149L); if (unlikely(!__pyx_int_222419149)) __PYX_ERR(3, 1, __pyx_L1_error)
   __pyx_int_228825662 = PyInt_FromLong(228825662L); if (unlikely(!__pyx_int_228825662)) __PYX_ERR(3, 1, __pyx_L1_error)
   __pyx_int_238750788 = PyInt_FromLong(238750788L); if (unlikely(!__pyx_int_238750788)) __PYX_ERR(3, 1, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
@@ -23386,84 +27202,124 @@
 static int __Pyx_modinit_type_init_code(void) {
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
+  if (PyType_Ready(&__pyx_type_4liba_crc8) < 0) __PYX_ERR(4, 5, __pyx_L1_error)
+  #if PY_VERSION_HEX < 0x030800B1
+  __pyx_type_4liba_crc8.tp_print = 0;
+  #endif
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_crc8.tp_dictoffset && __pyx_type_4liba_crc8.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba_crc8.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  }
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_crc8, (PyObject *)&__pyx_type_4liba_crc8) < 0) __PYX_ERR(4, 5, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_crc8) < 0) __PYX_ERR(4, 5, __pyx_L1_error)
+  __pyx_ptype_4liba_crc8 = &__pyx_type_4liba_crc8;
+  if (PyType_Ready(&__pyx_type_4liba_crc16) < 0) __PYX_ERR(4, 23, __pyx_L1_error)
+  #if PY_VERSION_HEX < 0x030800B1
+  __pyx_type_4liba_crc16.tp_print = 0;
+  #endif
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_crc16.tp_dictoffset && __pyx_type_4liba_crc16.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba_crc16.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  }
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_crc16, (PyObject *)&__pyx_type_4liba_crc16) < 0) __PYX_ERR(4, 23, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_crc16) < 0) __PYX_ERR(4, 23, __pyx_L1_error)
+  __pyx_ptype_4liba_crc16 = &__pyx_type_4liba_crc16;
+  if (PyType_Ready(&__pyx_type_4liba_crc32) < 0) __PYX_ERR(4, 44, __pyx_L1_error)
+  #if PY_VERSION_HEX < 0x030800B1
+  __pyx_type_4liba_crc32.tp_print = 0;
+  #endif
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_crc32.tp_dictoffset && __pyx_type_4liba_crc32.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba_crc32.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  }
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_crc32, (PyObject *)&__pyx_type_4liba_crc32) < 0) __PYX_ERR(4, 44, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_crc32) < 0) __PYX_ERR(4, 44, __pyx_L1_error)
+  __pyx_ptype_4liba_crc32 = &__pyx_type_4liba_crc32;
+  if (PyType_Ready(&__pyx_type_4liba_crc64) < 0) __PYX_ERR(4, 65, __pyx_L1_error)
+  #if PY_VERSION_HEX < 0x030800B1
+  __pyx_type_4liba_crc64.tp_print = 0;
+  #endif
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_crc64.tp_dictoffset && __pyx_type_4liba_crc64.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba_crc64.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  }
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_crc64, (PyObject *)&__pyx_type_4liba_crc64) < 0) __PYX_ERR(4, 65, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_crc64) < 0) __PYX_ERR(4, 65, __pyx_L1_error)
+  __pyx_ptype_4liba_crc64 = &__pyx_type_4liba_crc64;
   if (PyType_Ready(&__pyx_type_4liba_mf) < 0) __PYX_ERR(0, 5, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba_mf.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_mf.tp_dictoffset && __pyx_type_4liba_mf.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba_mf.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   if (PyObject_SetAttr(__pyx_m, __pyx_n_s_mf, (PyObject *)&__pyx_type_4liba_mf) < 0) __PYX_ERR(0, 5, __pyx_L1_error)
   if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_mf) < 0) __PYX_ERR(0, 5, __pyx_L1_error)
   __pyx_ptype_4liba_mf = &__pyx_type_4liba_mf;
-  if (PyType_Ready(&__pyx_type_4liba_tf) < 0) __PYX_ERR(5, 5, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_4liba_pid) < 0) __PYX_ERR(5, 5, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba_tf.tp_print = 0;
+  __pyx_type_4liba_pid.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_tf.tp_dictoffset && __pyx_type_4liba_tf.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba_tf.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_pid.tp_dictoffset && __pyx_type_4liba_pid.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba_pid.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   #if CYTHON_UPDATE_DESCRIPTOR_DOC
   {
-    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_tf, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(5, 5, __pyx_L1_error)
+    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_pid, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(5, 5, __pyx_L1_error)
     if (Py_TYPE(wrapper) == &PyWrapperDescr_Type) {
-      __pyx_wrapperbase_4liba_2tf_2__call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
-      __pyx_wrapperbase_4liba_2tf_2__call__.doc = __pyx_doc_4liba_2tf_2__call__;
-      ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_2tf_2__call__;
+      __pyx_wrapperbase_4liba_3pid_4__call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
+      __pyx_wrapperbase_4liba_3pid_4__call__.doc = __pyx_doc_4liba_3pid_4__call__;
+      ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_3pid_4__call__;
     }
   }
   #endif
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_tf, (PyObject *)&__pyx_type_4liba_tf) < 0) __PYX_ERR(5, 5, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_tf) < 0) __PYX_ERR(5, 5, __pyx_L1_error)
-  __pyx_ptype_4liba_tf = &__pyx_type_4liba_tf;
-  if (PyType_Ready(&__pyx_type_4liba_pid) < 0) __PYX_ERR(6, 5, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_pid, (PyObject *)&__pyx_type_4liba_pid) < 0) __PYX_ERR(5, 5, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_pid) < 0) __PYX_ERR(5, 5, __pyx_L1_error)
+  __pyx_ptype_4liba_pid = &__pyx_type_4liba_pid;
+  if (PyType_Ready(&__pyx_type_4liba_pid_fuzzy) < 0) __PYX_ERR(6, 6, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba_pid.tp_print = 0;
+  __pyx_type_4liba_pid_fuzzy.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_pid.tp_dictoffset && __pyx_type_4liba_pid.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba_pid.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_pid_fuzzy.tp_dictoffset && __pyx_type_4liba_pid_fuzzy.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba_pid_fuzzy.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   #if CYTHON_UPDATE_DESCRIPTOR_DOC
   {
-    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_pid, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(6, 5, __pyx_L1_error)
+    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_pid_fuzzy, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(6, 6, __pyx_L1_error)
     if (Py_TYPE(wrapper) == &PyWrapperDescr_Type) {
-      __pyx_wrapperbase_4liba_3pid_2__call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
-      __pyx_wrapperbase_4liba_3pid_2__call__.doc = __pyx_doc_4liba_3pid_2__call__;
-      ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_3pid_2__call__;
+      __pyx_wrapperbase_4liba_9pid_fuzzy_10__call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
+      __pyx_wrapperbase_4liba_9pid_fuzzy_10__call__.doc = __pyx_doc_4liba_9pid_fuzzy_10__call__;
+      ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_9pid_fuzzy_10__call__;
     }
   }
   #endif
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_pid, (PyObject *)&__pyx_type_4liba_pid) < 0) __PYX_ERR(6, 5, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_pid) < 0) __PYX_ERR(6, 5, __pyx_L1_error)
-  __pyx_ptype_4liba_pid = &__pyx_type_4liba_pid;
-  if (PyType_Ready(&__pyx_type_4liba_fpid) < 0) __PYX_ERR(7, 6, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_pid_fuzzy, (PyObject *)&__pyx_type_4liba_pid_fuzzy) < 0) __PYX_ERR(6, 6, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_pid_fuzzy) < 0) __PYX_ERR(6, 6, __pyx_L1_error)
+  __pyx_ptype_4liba_pid_fuzzy = &__pyx_type_4liba_pid_fuzzy;
+  if (PyType_Ready(&__pyx_type_4liba_pid_neuron) < 0) __PYX_ERR(7, 6, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba_fpid.tp_print = 0;
+  __pyx_type_4liba_pid_neuron.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_fpid.tp_dictoffset && __pyx_type_4liba_fpid.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba_fpid.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_pid_neuron.tp_dictoffset && __pyx_type_4liba_pid_neuron.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba_pid_neuron.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   #if CYTHON_UPDATE_DESCRIPTOR_DOC
   {
-    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_fpid, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(7, 6, __pyx_L1_error)
+    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_pid_neuron, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(7, 6, __pyx_L1_error)
     if (Py_TYPE(wrapper) == &PyWrapperDescr_Type) {
-      __pyx_wrapperbase_4liba_4fpid_2__call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
-      __pyx_wrapperbase_4liba_4fpid_2__call__.doc = __pyx_doc_4liba_4fpid_2__call__;
-      ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_4fpid_2__call__;
+      __pyx_wrapperbase_4liba_10pid_neuron_6__call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
+      __pyx_wrapperbase_4liba_10pid_neuron_6__call__.doc = __pyx_doc_4liba_10pid_neuron_6__call__;
+      ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_10pid_neuron_6__call__;
     }
   }
   #endif
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_fpid, (PyObject *)&__pyx_type_4liba_fpid) < 0) __PYX_ERR(7, 6, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_fpid) < 0) __PYX_ERR(7, 6, __pyx_L1_error)
-  __pyx_ptype_4liba_fpid = &__pyx_type_4liba_fpid;
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_pid_neuron, (PyObject *)&__pyx_type_4liba_pid_neuron) < 0) __PYX_ERR(7, 6, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_pid_neuron) < 0) __PYX_ERR(7, 6, __pyx_L1_error)
+  __pyx_ptype_4liba_pid_neuron = &__pyx_type_4liba_pid_neuron;
   if (PyType_Ready(&__pyx_type_4liba_polytrack3) < 0) __PYX_ERR(9, 5, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba_polytrack3.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_polytrack3.tp_dictoffset && __pyx_type_4liba_polytrack3.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba_polytrack3.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
@@ -23476,150 +27332,122 @@
       ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_10polytrack3_4__call__;
     }
   }
   #endif
   if (PyObject_SetAttr(__pyx_m, __pyx_n_s_polytrack3, (PyObject *)&__pyx_type_4liba_polytrack3) < 0) __PYX_ERR(9, 5, __pyx_L1_error)
   if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_polytrack3) < 0) __PYX_ERR(9, 5, __pyx_L1_error)
   __pyx_ptype_4liba_polytrack3 = &__pyx_type_4liba_polytrack3;
-  if (PyType_Ready(&__pyx_type_4liba_polytrack5) < 0) __PYX_ERR(9, 59, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_4liba_polytrack5) < 0) __PYX_ERR(9, 58, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba_polytrack5.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_polytrack5.tp_dictoffset && __pyx_type_4liba_polytrack5.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba_polytrack5.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   #if CYTHON_UPDATE_DESCRIPTOR_DOC
   {
-    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_polytrack5, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(9, 59, __pyx_L1_error)
+    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_polytrack5, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(9, 58, __pyx_L1_error)
     if (Py_TYPE(wrapper) == &PyWrapperDescr_Type) {
       __pyx_wrapperbase_4liba_10polytrack5_4__call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
       __pyx_wrapperbase_4liba_10polytrack5_4__call__.doc = __pyx_doc_4liba_10polytrack5_4__call__;
       ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_10polytrack5_4__call__;
     }
   }
   #endif
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_polytrack5, (PyObject *)&__pyx_type_4liba_polytrack5) < 0) __PYX_ERR(9, 59, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_polytrack5) < 0) __PYX_ERR(9, 59, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_polytrack5, (PyObject *)&__pyx_type_4liba_polytrack5) < 0) __PYX_ERR(9, 58, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_polytrack5) < 0) __PYX_ERR(9, 58, __pyx_L1_error)
   __pyx_ptype_4liba_polytrack5 = &__pyx_type_4liba_polytrack5;
-  if (PyType_Ready(&__pyx_type_4liba_polytrack7) < 0) __PYX_ERR(9, 113, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_4liba_polytrack7) < 0) __PYX_ERR(9, 111, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba_polytrack7.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_polytrack7.tp_dictoffset && __pyx_type_4liba_polytrack7.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba_polytrack7.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   #if CYTHON_UPDATE_DESCRIPTOR_DOC
   {
-    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_polytrack7, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(9, 113, __pyx_L1_error)
+    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_polytrack7, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(9, 111, __pyx_L1_error)
     if (Py_TYPE(wrapper) == &PyWrapperDescr_Type) {
       __pyx_wrapperbase_4liba_10polytrack7_4__call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
       __pyx_wrapperbase_4liba_10polytrack7_4__call__.doc = __pyx_doc_4liba_10polytrack7_4__call__;
       ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_10polytrack7_4__call__;
     }
   }
   #endif
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_polytrack7, (PyObject *)&__pyx_type_4liba_polytrack7) < 0) __PYX_ERR(9, 113, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_polytrack7) < 0) __PYX_ERR(9, 113, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_polytrack7, (PyObject *)&__pyx_type_4liba_polytrack7) < 0) __PYX_ERR(9, 111, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_polytrack7) < 0) __PYX_ERR(9, 111, __pyx_L1_error)
   __pyx_ptype_4liba_polytrack7 = &__pyx_type_4liba_polytrack7;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct____cinit__) < 0) __PYX_ERR(7, 15, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_4liba_tf) < 0) __PYX_ERR(10, 5, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba___pyx_scope_struct____cinit__.tp_print = 0;
+  __pyx_type_4liba_tf.tp_print = 0;
+  #endif
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba_tf.tp_dictoffset && __pyx_type_4liba_tf.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba_tf.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  }
+  #if CYTHON_UPDATE_DESCRIPTOR_DOC
+  {
+    PyObject *wrapper = PyObject_GetAttrString((PyObject *)&__pyx_type_4liba_tf, "__call__"); if (unlikely(!wrapper)) __PYX_ERR(10, 5, __pyx_L1_error)
+    if (Py_TYPE(wrapper) == &PyWrapperDescr_Type) {
+      __pyx_wrapperbase_4liba_2tf___call__ = *((PyWrapperDescrObject *)wrapper)->d_base;
+      __pyx_wrapperbase_4liba_2tf___call__.doc = __pyx_doc_4liba_2tf___call__;
+      ((PyWrapperDescrObject *)wrapper)->d_base = &__pyx_wrapperbase_4liba_2tf___call__;
+    }
+  }
+  #endif
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_tf, (PyObject *)&__pyx_type_4liba_tf) < 0) __PYX_ERR(10, 5, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_4liba_tf) < 0) __PYX_ERR(10, 5, __pyx_L1_error)
+  __pyx_ptype_4liba_tf = &__pyx_type_4liba_tf;
+  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct__rule) < 0) __PYX_ERR(6, 34, __pyx_L1_error)
+  #if PY_VERSION_HEX < 0x030800B1
+  __pyx_type_4liba___pyx_scope_struct__rule.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct____cinit__.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct____cinit__.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba___pyx_scope_struct____cinit__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct__rule.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct__rule.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_4liba___pyx_scope_struct__rule.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_4liba___pyx_scope_struct____cinit__ = &__pyx_type_4liba___pyx_scope_struct____cinit__;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_1_genexpr) < 0) __PYX_ERR(7, 16, __pyx_L1_error)
+  __pyx_ptype_4liba___pyx_scope_struct__rule = &__pyx_type_4liba___pyx_scope_struct__rule;
+  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_1_genexpr) < 0) __PYX_ERR(6, 36, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba___pyx_scope_struct_1_genexpr.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_1_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_1_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba___pyx_scope_struct_1_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_4liba___pyx_scope_struct_1_genexpr = &__pyx_type_4liba___pyx_scope_struct_1_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_2_genexpr) < 0) __PYX_ERR(7, 17, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_2_genexpr) < 0) __PYX_ERR(6, 37, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba___pyx_scope_struct_2_genexpr.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_2_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_2_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba___pyx_scope_struct_2_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_4liba___pyx_scope_struct_2_genexpr = &__pyx_type_4liba___pyx_scope_struct_2_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_3_genexpr) < 0) __PYX_ERR(7, 18, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_3_genexpr) < 0) __PYX_ERR(6, 38, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba___pyx_scope_struct_3_genexpr.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_3_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_3_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba___pyx_scope_struct_3_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_4liba___pyx_scope_struct_3_genexpr = &__pyx_type_4liba___pyx_scope_struct_3_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_4_genexpr) < 0) __PYX_ERR(7, 19, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_4_genexpr) < 0) __PYX_ERR(6, 39, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba___pyx_scope_struct_4_genexpr.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_4_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_4_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba___pyx_scope_struct_4_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_4liba___pyx_scope_struct_4_genexpr = &__pyx_type_4liba___pyx_scope_struct_4_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_5_genexpr) < 0) __PYX_ERR(7, 20, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_5_genexpr) < 0) __PYX_ERR(6, 40, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_4liba___pyx_scope_struct_5_genexpr.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_5_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_5_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_4liba___pyx_scope_struct_5_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_4liba___pyx_scope_struct_5_genexpr = &__pyx_type_4liba___pyx_scope_struct_5_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_6_base) < 0) __PYX_ERR(7, 43, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba___pyx_scope_struct_6_base.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_6_base.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_6_base.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba___pyx_scope_struct_6_base.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
-  }
-  __pyx_ptype_4liba___pyx_scope_struct_6_base = &__pyx_type_4liba___pyx_scope_struct_6_base;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_7_genexpr) < 0) __PYX_ERR(7, 45, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba___pyx_scope_struct_7_genexpr.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_7_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_7_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba___pyx_scope_struct_7_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
-  }
-  __pyx_ptype_4liba___pyx_scope_struct_7_genexpr = &__pyx_type_4liba___pyx_scope_struct_7_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_8_genexpr) < 0) __PYX_ERR(7, 46, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba___pyx_scope_struct_8_genexpr.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_8_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_8_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba___pyx_scope_struct_8_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
-  }
-  __pyx_ptype_4liba___pyx_scope_struct_8_genexpr = &__pyx_type_4liba___pyx_scope_struct_8_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_9_genexpr) < 0) __PYX_ERR(7, 47, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba___pyx_scope_struct_9_genexpr.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_9_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_9_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba___pyx_scope_struct_9_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
-  }
-  __pyx_ptype_4liba___pyx_scope_struct_9_genexpr = &__pyx_type_4liba___pyx_scope_struct_9_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_10_genexpr) < 0) __PYX_ERR(7, 48, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba___pyx_scope_struct_10_genexpr.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_10_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_10_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba___pyx_scope_struct_10_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
-  }
-  __pyx_ptype_4liba___pyx_scope_struct_10_genexpr = &__pyx_type_4liba___pyx_scope_struct_10_genexpr;
-  if (PyType_Ready(&__pyx_type_4liba___pyx_scope_struct_11_genexpr) < 0) __PYX_ERR(7, 49, __pyx_L1_error)
-  #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_4liba___pyx_scope_struct_11_genexpr.tp_print = 0;
-  #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_4liba___pyx_scope_struct_11_genexpr.tp_dictoffset && __pyx_type_4liba___pyx_scope_struct_11_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_4liba___pyx_scope_struct_11_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
-  }
-  __pyx_ptype_4liba___pyx_scope_struct_11_genexpr = &__pyx_type_4liba___pyx_scope_struct_11_genexpr;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 
@@ -23627,39 +27455,39 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
-  __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 9, __pyx_L1_error)
+  __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_ptype_7cpython_4type_type = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
   #if defined(PYPY_VERSION_NUM) && PYPY_VERSION_NUM < 0x050B0000
   sizeof(PyTypeObject),
   #else
   sizeof(PyHeapTypeObject),
   #endif
   __Pyx_ImportType_CheckSize_Warn);
-   if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(11, 9, __pyx_L1_error)
+   if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 8, __pyx_L1_error)
+  __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __Pyx_ImportType_CheckSize_Warn);
-   if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(12, 8, __pyx_L1_error)
+   if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(14, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 15, __pyx_L1_error)
+  __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __Pyx_ImportType_CheckSize_Warn);
-   if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(13, 15, __pyx_L1_error)
+   if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(15, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PyImport_ImportModule("array"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 58, __pyx_L1_error)
+  __pyx_t_1 = PyImport_ImportModule("array"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 58, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_ptype_7cpython_5array_array = __Pyx_ImportType(__pyx_t_1, "array", "array", sizeof(arrayobject), __Pyx_ImportType_CheckSize_Warn);
-   if (!__pyx_ptype_7cpython_5array_array) __PYX_ERR(10, 58, __pyx_L1_error)
+   if (!__pyx_ptype_7cpython_5array_array) __PYX_ERR(12, 58, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -23844,15 +27672,15 @@
   #endif
   __pyx_d = PyModule_GetDict(__pyx_m); if (unlikely(!__pyx_d)) __PYX_ERR(3, 1, __pyx_L1_error)
   Py_INCREF(__pyx_d);
   __pyx_b = PyImport_AddModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_b)) __PYX_ERR(3, 1, __pyx_L1_error)
   Py_INCREF(__pyx_b);
   __pyx_cython_runtime = PyImport_AddModule((char *) "cython_runtime"); if (unlikely(!__pyx_cython_runtime)) __PYX_ERR(3, 1, __pyx_L1_error)
   Py_INCREF(__pyx_cython_runtime);
-  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) __PYX_ERR(3, 1, __pyx_L1_error)
+  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) __PYX_ERR(3, 1, __pyx_L1_error);
   /*--- Initialize various global constants etc. ---*/
   if (__Pyx_InitGlobals() < 0) __PYX_ERR(3, 1, __pyx_L1_error)
   #if PY_MAJOR_VERSION < 3 && (__PYX_DEFAULT_STRING_ENCODING_IS_ASCII || __PYX_DEFAULT_STRING_ENCODING_IS_DEFAULT)
   if (__Pyx_init_sys_getdefaultencoding_params() < 0) __PYX_ERR(3, 1, __pyx_L1_error)
   #endif
   if (__pyx_module_is_main_liba) {
     if (PyObject_SetAttr(__pyx_m, __pyx_n_s_name, __pyx_n_s_main) < 0) __PYX_ERR(3, 1, __pyx_L1_error)
@@ -23878,84 +27706,247 @@
   (void)__Pyx_modinit_variable_import_code();
   (void)__Pyx_modinit_function_import_code();
   /*--- Execution code ---*/
   #if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
   if (__Pyx_patch_abc() < 0) __PYX_ERR(3, 1, __pyx_L1_error)
   #endif
 
-  /* "python/src/a/version.pxi":3
- * from a.version cimport *
+  /* "python/src/a.pyx":35
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def hash_bkdr(str: bytes, val: a_umax_t) -> a_umax_t:             # <<<<<<<<<<<<<<
+ *     return a_hash_bkdr(str, val)
  * 
- * def version():             # <<<<<<<<<<<<<<
- *     '''algorithm library version'''
- *     if PY_MAJOR_VERSION >= 3:
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_1version, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 3, __pyx_L1_error)
+  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_1hash_bkdr, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 35, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_version, __pyx_t_1) < 0) __PYX_ERR(4, 3, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_hash_bkdr, __pyx_t_1) < 0) __PYX_ERR(3, 35, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "python/src/a/version.pxi":9
- *     return a_version()
+  /* "python/src/a/crc.pxi":6
+ * @cython.boundscheck(False)
+ * cdef class crc8:
+ *     POLY = A_CRC8_POLY             # <<<<<<<<<<<<<<
+ *     INIT = A_CRC8_INIT
+ *     cdef array table
+ */
+  __pyx_t_1 = __Pyx_PyInt_From_uint8_t(A_CRC8_POLY); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 6, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_crc8->tp_dict, __pyx_n_s_POLY, __pyx_t_1) < 0) __PYX_ERR(4, 6, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  PyType_Modified(__pyx_ptype_4liba_crc8);
+
+  /* "python/src/a/crc.pxi":7
+ * cdef class crc8:
+ *     POLY = A_CRC8_POLY
+ *     INIT = A_CRC8_INIT             # <<<<<<<<<<<<<<
+ *     cdef array table
+ *     @property
+ */
+  __pyx_t_1 = __Pyx_PyInt_From_uint8_t(A_CRC8_INIT); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 7, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_crc8->tp_dict, __pyx_n_s_INIT, __pyx_t_1) < 0) __PYX_ERR(4, 7, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  PyType_Modified(__pyx_ptype_4liba_crc8);
+
+  /* "python/src/a/crc.pxi":12
+ *     def table(self):
+ *         return self.table
+ *     def __cinit__(self, poly: a_u8_t = A_CRC8_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u8s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+  __pyx_k_ = A_CRC8_POLY;
+
+  /* "python/src/a/crc.pxi":18
+ *         else:
+ *             a_crc8l_init(<a_u8_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u8_t = A_CRC8_INIT) -> a_u8_t:             # <<<<<<<<<<<<<<
+ *         return a_crc8(<a_u8_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
  * 
- * def version_major() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version major'''
- *     return a_version_major()
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_3version_major, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 9, __pyx_L1_error)
+  __pyx_k__2 = A_CRC8_INIT;
+
+  /* "python/src/a/crc.pxi":24
+ * @cython.boundscheck(False)
+ * cdef class crc16:
+ *     POLY = A_CRC16_POLY             # <<<<<<<<<<<<<<
+ *     INIT = A_CRC16_INIT
+ *     cdef array table
+ */
+  __pyx_t_1 = __Pyx_PyInt_From_uint16_t(A_CRC16_POLY); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_version_major, __pyx_t_1) < 0) __PYX_ERR(4, 9, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_crc16->tp_dict, __pyx_n_s_POLY, __pyx_t_1) < 0) __PYX_ERR(4, 24, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  PyType_Modified(__pyx_ptype_4liba_crc16);
 
-  /* "python/src/a/version.pxi":13
- *     return a_version_major()
+  /* "python/src/a/crc.pxi":25
+ * cdef class crc16:
+ *     POLY = A_CRC16_POLY
+ *     INIT = A_CRC16_INIT             # <<<<<<<<<<<<<<
+ *     cdef array table
+ *     @property
+ */
+  __pyx_t_1 = __Pyx_PyInt_From_uint16_t(A_CRC16_INIT); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 25, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_crc16->tp_dict, __pyx_n_s_INIT, __pyx_t_1) < 0) __PYX_ERR(4, 25, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  PyType_Modified(__pyx_ptype_4liba_crc16);
+
+  /* "python/src/a/crc.pxi":31
+ *         return self.table
+ *     cdef a_u16_t (*f)(const a_u16_t *, const void *, a_size_t, a_u16_t)
+ *     def __cinit__(self, poly: a_u16_t = A_CRC16_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u16s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+  __pyx_k__5 = A_CRC16_POLY;
+
+  /* "python/src/a/crc.pxi":39
+ *             self.f = a_crc16l
+ *             a_crc16l_init(<a_u16_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u16_t = A_CRC16_INIT) -> a_u16_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u16_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
  * 
- * def version_minor() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version minor'''
- *     return a_version_minor()
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_5version_minor, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 13, __pyx_L1_error)
+  __pyx_k__6 = A_CRC16_INIT;
+
+  /* "python/src/a/crc.pxi":45
+ * @cython.boundscheck(False)
+ * cdef class crc32:
+ *     POLY = A_CRC32_POLY             # <<<<<<<<<<<<<<
+ *     INIT = A_CRC32_INIT
+ *     cdef array table
+ */
+  __pyx_t_1 = __Pyx_PyInt_From_uint32_t(A_CRC32_POLY); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 45, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_version_minor, __pyx_t_1) < 0) __PYX_ERR(4, 13, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_crc32->tp_dict, __pyx_n_s_POLY, __pyx_t_1) < 0) __PYX_ERR(4, 45, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  PyType_Modified(__pyx_ptype_4liba_crc32);
 
-  /* "python/src/a/version.pxi":17
- *     return a_version_minor()
+  /* "python/src/a/crc.pxi":46
+ * cdef class crc32:
+ *     POLY = A_CRC32_POLY
+ *     INIT = A_CRC32_INIT             # <<<<<<<<<<<<<<
+ *     cdef array table
+ *     @property
+ */
+  __pyx_t_1 = __Pyx_PyInt_From_uint32_t(A_CRC32_INIT); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 46, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_crc32->tp_dict, __pyx_n_s_INIT, __pyx_t_1) < 0) __PYX_ERR(4, 46, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  PyType_Modified(__pyx_ptype_4liba_crc32);
+
+  /* "python/src/a/crc.pxi":52
+ *         return self.table
+ *     cdef a_u32_t (*f)(const a_u32_t *, const void *, a_size_t, a_u32_t)
+ *     def __cinit__(self, poly: a_u32_t = A_CRC32_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u32s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+  __pyx_k__9 = A_CRC32_POLY;
+
+  /* "python/src/a/crc.pxi":60
+ *             self.f = a_crc32l
+ *             a_crc32l_init(<a_u32_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u32_t = A_CRC32_INIT) -> a_u32_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u32_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
  * 
- * def version_patch() -> a_uint_t:             # <<<<<<<<<<<<<<
- *     '''algorithm library version patch'''
- *     return a_version_patch()
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_7version_patch, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 17, __pyx_L1_error)
+  __pyx_k__10 = A_CRC32_INIT;
+
+  /* "python/src/a/crc.pxi":66
+ * @cython.boundscheck(False)
+ * cdef class crc64:
+ *     POLY = A_CRC64_POLY             # <<<<<<<<<<<<<<
+ *     INIT = A_CRC64_INIT
+ *     cdef array table
+ */
+  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(A_CRC64_POLY); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 66, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_crc64->tp_dict, __pyx_n_s_POLY, __pyx_t_1) < 0) __PYX_ERR(4, 66, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  PyType_Modified(__pyx_ptype_4liba_crc64);
+
+  /* "python/src/a/crc.pxi":67
+ * cdef class crc64:
+ *     POLY = A_CRC64_POLY
+ *     INIT = A_CRC64_INIT             # <<<<<<<<<<<<<<
+ *     cdef array table
+ *     @property
+ */
+  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(A_CRC64_INIT); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 67, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_version_patch, __pyx_t_1) < 0) __PYX_ERR(4, 17, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_crc64->tp_dict, __pyx_n_s_INIT, __pyx_t_1) < 0) __PYX_ERR(4, 67, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  PyType_Modified(__pyx_ptype_4liba_crc64);
+
+  /* "python/src/a/crc.pxi":73
+ *         return self.table
+ *     cdef a_u64_t (*f)(const a_u64_t *, const void *, a_size_t, a_u64_t)
+ *     def __cinit__(self, poly: a_u64_t = A_CRC64_POLY, high = False):             # <<<<<<<<<<<<<<
+ *         self.table = u64s([0] * A_CRC_SIZ)
+ *         if high:
+ */
+  __pyx_k__13 = A_CRC64_POLY;
+
+  /* "python/src/a/crc.pxi":81
+ *             self.f = a_crc64l
+ *             a_crc64l_init(<a_u64_t *>self.table.data.as_voidptr, poly)
+ *     def __call__(self, data: bytes, init: a_u64_t = A_CRC64_INIT) -> a_u64_t:             # <<<<<<<<<<<<<<
+ *         return self.f(<a_u64_t *>self.table.data.as_voidptr, <const void *>data, len(data), init)
+ */
+  __pyx_k__14 = A_CRC64_INIT;
 
   /* "python/src/a/math.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def f32_rsqrt(x):             # <<<<<<<<<<<<<<
  *     '''fast inverse square-root'''
  *     if iterable(x):
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_9f32_rsqrt, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 5, __pyx_L1_error)
+  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_3f32_rsqrt, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 5, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_f32_rsqrt, __pyx_t_1) < 0) __PYX_ERR(1, 5, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_f32_rsqrt, __pyx_t_1) < 0) __PYX_ERR(2, 5, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "python/src/a/math.pxi":16
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def f64_rsqrt(x):             # <<<<<<<<<<<<<<
  *     '''fast inverse square-root'''
  *     if iterable(x):
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_11f64_rsqrt, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 16, __pyx_L1_error)
+  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_5f64_rsqrt, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 16, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_f64_rsqrt, __pyx_t_1) < 0) __PYX_ERR(2, 16, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+
+  /* "python/src/a/math.pxi":27
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def u32_sqrt(x):             # <<<<<<<<<<<<<<
+ *     cdef a_u32_t o
+ *     if iterable(x):
+ */
+  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_7u32_sqrt, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 27, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_u32_sqrt, __pyx_t_1) < 0) __PYX_ERR(2, 27, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+
+  /* "python/src/a/math.pxi":39
+ * @cython.wraparound(False)
+ * @cython.boundscheck(False)
+ * def u64_sqrt(x):             # <<<<<<<<<<<<<<
+ *     cdef a_u64_t o
+ *     if iterable(x):
+ */
+  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_9u64_sqrt, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 39, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_f64_rsqrt, __pyx_t_1) < 0) __PYX_ERR(1, 16, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_u64_sqrt, __pyx_t_1) < 0) __PYX_ERR(2, 39, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "python/src/a/mf.pxi":7
  * cdef class mf:
  *     '''membership function'''
  *     NUL   = A_MF_NUL             # <<<<<<<<<<<<<<
  *     GAUSS = A_MF_GAUSS
@@ -24045,202 +28036,202 @@
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":15
  *     Z     = A_MF_Z
  *     @staticmethod
  *     def __call__(e: a_mf_e, x, a):             # <<<<<<<<<<<<<<
- *         cdef array d = reals(a)
- *         cdef a_real_t *v = <a_real_t *>d.data.as_voidptr
+ *         cdef array d = floats(a)
+ *         cdef a_float_t *v = <a_float_t *>d.data.as_voidptr
  */
   __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_2mf_1__call__, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_call, __pyx_t_1) < 0) __PYX_ERR(0, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":14
  *     TRI   = A_MF_TRI
  *     Z     = A_MF_Z
  *     @staticmethod             # <<<<<<<<<<<<<<
  *     def __call__(e: a_mf_e, x, a):
- *         cdef array d = reals(a)
+ *         cdef array d = floats(a)
  */
   __Pyx_GetNameInClass(__pyx_t_1, (PyObject *)__pyx_ptype_4liba_mf, __pyx_n_s_call); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 14, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_call, __pyx_t_2) < 0) __PYX_ERR(0, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":25
  *         return a_mf(e, x, v)
  *     @staticmethod
- *     def gauss(x, sigma: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def gauss(x, sigma: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Gaussian membership function'''
  *         if iterable(x):
  */
   __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_2mf_3gauss, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 25, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_gauss, __pyx_t_2) < 0) __PYX_ERR(0, 25, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":24
  *             return y
  *         return a_mf(e, x, v)
  *     @staticmethod             # <<<<<<<<<<<<<<
- *     def gauss(x, sigma: a_real_t, c: a_real_t):
+ *     def gauss(x, sigma: a_float_t, c: a_float_t):
  *         '''Gaussian membership function'''
  */
   __Pyx_GetNameInClass(__pyx_t_2, (PyObject *)__pyx_ptype_4liba_mf, __pyx_n_s_gauss); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 25, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 24, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_gauss, __pyx_t_1) < 0) __PYX_ERR(0, 25, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":34
  *         return a_mf_gauss(x, sigma, c)
  *     @staticmethod
- *     def gbell(x, a: a_real_t, b: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def gbell(x, a: a_float_t, b: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Generalized bell-shaped membership function'''
  *         if iterable(x):
  */
   __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_2mf_5gbell, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 34, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_gbell, __pyx_t_1) < 0) __PYX_ERR(0, 34, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":33
  *             return y
  *         return a_mf_gauss(x, sigma, c)
  *     @staticmethod             # <<<<<<<<<<<<<<
- *     def gbell(x, a: a_real_t, b: a_real_t, c: a_real_t):
+ *     def gbell(x, a: a_float_t, b: a_float_t, c: a_float_t):
  *         '''Generalized bell-shaped membership function'''
  */
   __Pyx_GetNameInClass(__pyx_t_1, (PyObject *)__pyx_ptype_4liba_mf, __pyx_n_s_gbell); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 34, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 33, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_gbell, __pyx_t_2) < 0) __PYX_ERR(0, 34, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":43
  *         return a_mf_gbell(x, a, b, c)
  *     @staticmethod
- *     def sig(x, a: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def sig(x, a: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Sigmoidal membership function'''
  *         if iterable(x):
  */
   __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_2mf_7sig, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 43, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_sig, __pyx_t_2) < 0) __PYX_ERR(0, 43, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":42
  *             return y
  *         return a_mf_gbell(x, a, b, c)
  *     @staticmethod             # <<<<<<<<<<<<<<
- *     def sig(x, a: a_real_t, c: a_real_t):
+ *     def sig(x, a: a_float_t, c: a_float_t):
  *         '''Sigmoidal membership function'''
  */
   __Pyx_GetNameInClass(__pyx_t_2, (PyObject *)__pyx_ptype_4liba_mf, __pyx_n_s_sig); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 43, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 42, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_sig, __pyx_t_1) < 0) __PYX_ERR(0, 43, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":52
  *         return a_mf_sig(x, a, c)
  *     @staticmethod
- *     def trap(x, a: a_real_t, b: a_real_t, c: a_real_t, d: a_real_t):             # <<<<<<<<<<<<<<
+ *     def trap(x, a: a_float_t, b: a_float_t, c: a_float_t, d: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Trapezoidal membership function'''
  *         if iterable(x):
  */
   __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_2mf_9trap, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 52, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_trap, __pyx_t_1) < 0) __PYX_ERR(0, 52, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":51
  *             return y
  *         return a_mf_sig(x, a, c)
  *     @staticmethod             # <<<<<<<<<<<<<<
- *     def trap(x, a: a_real_t, b: a_real_t, c: a_real_t, d: a_real_t):
+ *     def trap(x, a: a_float_t, b: a_float_t, c: a_float_t, d: a_float_t):
  *         '''Trapezoidal membership function'''
  */
   __Pyx_GetNameInClass(__pyx_t_1, (PyObject *)__pyx_ptype_4liba_mf, __pyx_n_s_trap); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 52, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 51, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_trap, __pyx_t_2) < 0) __PYX_ERR(0, 52, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":61
  *         return a_mf_trap(x, a, b, c, d)
  *     @staticmethod
- *     def tri(x, a: a_real_t, b: a_real_t, c: a_real_t):             # <<<<<<<<<<<<<<
+ *     def tri(x, a: a_float_t, b: a_float_t, c: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Triangular membership function'''
  *         if iterable(x):
  */
   __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_2mf_11tri, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 61, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_tri, __pyx_t_2) < 0) __PYX_ERR(0, 61, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":60
  *             return y
  *         return a_mf_trap(x, a, b, c, d)
  *     @staticmethod             # <<<<<<<<<<<<<<
- *     def tri(x, a: a_real_t, b: a_real_t, c: a_real_t):
+ *     def tri(x, a: a_float_t, b: a_float_t, c: a_float_t):
  *         '''Triangular membership function'''
  */
   __Pyx_GetNameInClass(__pyx_t_2, (PyObject *)__pyx_ptype_4liba_mf, __pyx_n_s_tri); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 61, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 60, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_tri, __pyx_t_1) < 0) __PYX_ERR(0, 61, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":70
  *         return a_mf_tri(x, a, b, c)
  *     @staticmethod
- *     def z(x, a: a_real_t, b: a_real_t):             # <<<<<<<<<<<<<<
+ *     def z(x, a: a_float_t, b: a_float_t):             # <<<<<<<<<<<<<<
  *         '''Z-shaped membership function'''
  *         if iterable(x):
  */
   __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_4liba_2mf_13z, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 70, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_mf->tp_dict, __pyx_n_s_z, __pyx_t_1) < 0) __PYX_ERR(0, 70, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_4liba_mf);
 
   /* "python/src/a/mf.pxi":69
  *             return y
  *         return a_mf_tri(x, a, b, c)
  *     @staticmethod             # <<<<<<<<<<<<<<
- *     def z(x, a: a_real_t, b: a_real_t):
+ *     def z(x, a: a_float_t, b: a_float_t):
  *         '''Z-shaped membership function'''
  */
   __Pyx_GetNameInClass(__pyx_t_1, (PyObject *)__pyx_ptype_4liba_mf, __pyx_n_s_z); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 70, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 69, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -24251,94 +28242,337 @@
   /* "python/src/a/pid.pxi":7
  * cdef class pid:
  *     '''proportional integral derivative controller'''
  *     OFF = A_PID_OFF             # <<<<<<<<<<<<<<
  *     POS = A_PID_POS
  *     INC = A_PID_INC
  */
-  __pyx_t_2 = __Pyx_PyInt_From_a_pid_e(A_PID_OFF); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 7, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_e(A_PID_OFF); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid->tp_dict, __pyx_n_s_OFF, __pyx_t_2) < 0) __PYX_ERR(6, 7, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid->tp_dict, __pyx_n_s_OFF, __pyx_t_2) < 0) __PYX_ERR(5, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_pid);
 
   /* "python/src/a/pid.pxi":8
  *     '''proportional integral derivative controller'''
  *     OFF = A_PID_OFF
  *     POS = A_PID_POS             # <<<<<<<<<<<<<<
  *     INC = A_PID_INC
  *     cdef a_pid_s ctx
  */
-  __pyx_t_2 = __Pyx_PyInt_From_a_pid_e(A_PID_POS); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 8, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_e(A_PID_POS); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid->tp_dict, __pyx_n_s_POS, __pyx_t_2) < 0) __PYX_ERR(6, 8, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid->tp_dict, __pyx_n_s_POS, __pyx_t_2) < 0) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_pid);
 
   /* "python/src/a/pid.pxi":9
  *     OFF = A_PID_OFF
  *     POS = A_PID_POS
  *     INC = A_PID_INC             # <<<<<<<<<<<<<<
  *     cdef a_pid_s ctx
- *     def __cinit__(self, a_real_t dt, a_real_t min, a_real_t max, a_real_t sum = 0):
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):
  */
-  __pyx_t_2 = __Pyx_PyInt_From_a_pid_e(A_PID_INC); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 9, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_e(A_PID_INC); if (unlikely(!__pyx_t_2)) __PYX_ERR(5, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid->tp_dict, __pyx_n_s_INC, __pyx_t_2) < 0) __PYX_ERR(6, 9, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid->tp_dict, __pyx_n_s_INC, __pyx_t_2) < 0) __PYX_ERR(5, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_4liba_pid);
 
+  /* "python/src/a/pid.pxi":11
+ *     INC = A_PID_INC
+ *     cdef a_pid_s ctx
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.summax = sum
+ *         self.ctx.outmax = max
+ */
+  __pyx_k__17 = (-A_FLOAT_INF);
+  __pyx_k__18 = A_FLOAT_INF;
+
+  /* "python/src/a/pid/fuzzy.pxi":8
+ * cdef class pid_fuzzy:
+ *     '''fuzzy proportional integral derivative controller'''
+ *     AND_DEFAULT = A_PID_FUZZY_AND_DEFAULT             # <<<<<<<<<<<<<<
+ *     AND_ALGEBRA = A_PID_FUZZY_AND_ALGEBRA
+ *     AND_BOUNDED = A_PID_FUZZY_AND_BOUNDED
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_AND_DEFAULT); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 8, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_AND_DEFAULT, __pyx_t_2) < 0) __PYX_ERR(6, 8, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":9
+ *     '''fuzzy proportional integral derivative controller'''
+ *     AND_DEFAULT = A_PID_FUZZY_AND_DEFAULT
+ *     AND_ALGEBRA = A_PID_FUZZY_AND_ALGEBRA             # <<<<<<<<<<<<<<
+ *     AND_BOUNDED = A_PID_FUZZY_AND_BOUNDED
+ *     OR_DEFAULT = A_PID_FUZZY_OR_DEFAULT
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_AND_ALGEBRA); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 9, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_AND_ALGEBRA, __pyx_t_2) < 0) __PYX_ERR(6, 9, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":10
+ *     AND_DEFAULT = A_PID_FUZZY_AND_DEFAULT
+ *     AND_ALGEBRA = A_PID_FUZZY_AND_ALGEBRA
+ *     AND_BOUNDED = A_PID_FUZZY_AND_BOUNDED             # <<<<<<<<<<<<<<
+ *     OR_DEFAULT = A_PID_FUZZY_OR_DEFAULT
+ *     OR_ALGEBRA = A_PID_FUZZY_OR_ALGEBRA
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_AND_BOUNDED); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 10, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_AND_BOUNDED, __pyx_t_2) < 0) __PYX_ERR(6, 10, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":11
+ *     AND_ALGEBRA = A_PID_FUZZY_AND_ALGEBRA
+ *     AND_BOUNDED = A_PID_FUZZY_AND_BOUNDED
+ *     OR_DEFAULT = A_PID_FUZZY_OR_DEFAULT             # <<<<<<<<<<<<<<
+ *     OR_ALGEBRA = A_PID_FUZZY_OR_ALGEBRA
+ *     OR_BOUNDED = A_PID_FUZZY_OR_BOUNDED
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_OR_DEFAULT); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 11, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_OR_DEFAULT, __pyx_t_2) < 0) __PYX_ERR(6, 11, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":12
+ *     AND_BOUNDED = A_PID_FUZZY_AND_BOUNDED
+ *     OR_DEFAULT = A_PID_FUZZY_OR_DEFAULT
+ *     OR_ALGEBRA = A_PID_FUZZY_OR_ALGEBRA             # <<<<<<<<<<<<<<
+ *     OR_BOUNDED = A_PID_FUZZY_OR_BOUNDED
+ *     EQU = A_PID_FUZZY_EQU
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_OR_ALGEBRA); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 12, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_OR_ALGEBRA, __pyx_t_2) < 0) __PYX_ERR(6, 12, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":13
+ *     OR_DEFAULT = A_PID_FUZZY_OR_DEFAULT
+ *     OR_ALGEBRA = A_PID_FUZZY_OR_ALGEBRA
+ *     OR_BOUNDED = A_PID_FUZZY_OR_BOUNDED             # <<<<<<<<<<<<<<
+ *     EQU = A_PID_FUZZY_EQU
+ *     AND = A_PID_FUZZY_AND
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_OR_BOUNDED); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 13, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_OR_BOUNDED, __pyx_t_2) < 0) __PYX_ERR(6, 13, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":14
+ *     OR_ALGEBRA = A_PID_FUZZY_OR_ALGEBRA
+ *     OR_BOUNDED = A_PID_FUZZY_OR_BOUNDED
+ *     EQU = A_PID_FUZZY_EQU             # <<<<<<<<<<<<<<
+ *     AND = A_PID_FUZZY_AND
+ *     OR = A_PID_FUZZY_OR
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_EQU); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 14, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_EQU, __pyx_t_2) < 0) __PYX_ERR(6, 14, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":15
+ *     OR_BOUNDED = A_PID_FUZZY_OR_BOUNDED
+ *     EQU = A_PID_FUZZY_EQU
+ *     AND = A_PID_FUZZY_AND             # <<<<<<<<<<<<<<
+ *     OR = A_PID_FUZZY_OR
+ *     cdef a_pid_fuzzy_s ctx
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_AND); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 15, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_AND, __pyx_t_2) < 0) __PYX_ERR(6, 15, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":16
+ *     EQU = A_PID_FUZZY_EQU
+ *     AND = A_PID_FUZZY_AND
+ *     OR = A_PID_FUZZY_OR             # <<<<<<<<<<<<<<
+ *     cdef a_pid_fuzzy_s ctx
+ *     cdef array me
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_a_pid_fuzzy_e(A_PID_FUZZY_OR); if (unlikely(!__pyx_t_2)) __PYX_ERR(6, 16, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_4liba_pid_fuzzy->tp_dict, __pyx_n_s_OR, __pyx_t_2) < 0) __PYX_ERR(6, 16, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  PyType_Modified(__pyx_ptype_4liba_pid_fuzzy);
+
+  /* "python/src/a/pid/fuzzy.pxi":24
+ *     cdef array mkd
+ *     cdef void *ptr
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max
+ */
+  __pyx_k__21 = (-A_FLOAT_INF);
+  __pyx_k__22 = A_FLOAT_INF;
+
+  /* "python/src/a/pid/neuron.pxi":9
+ *     '''single neuron proportional integral derivative controller'''
+ *     cdef a_pid_neuron_s ctx
+ *     def __cinit__(self, a_float_t min = -A_FLOAT_INF, a_float_t max = +A_FLOAT_INF, a_float_t sum = 0):             # <<<<<<<<<<<<<<
+ *         self.ctx.pid.summax = sum
+ *         self.ctx.pid.outmax = max
+ */
+  __pyx_k__25 = (-A_FLOAT_INF);
+  __pyx_k__26 = A_FLOAT_INF;
+
   /* "python/src/a/poly.pxi":5
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def poly_eval(x, *a):             # <<<<<<<<<<<<<<
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  */
-  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_13poly_eval, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(8, 5, __pyx_L1_error)
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_11poly_eval, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(8, 5, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_poly_eval, __pyx_t_2) < 0) __PYX_ERR(8, 5, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "python/src/a/poly.pxi":16
  * @cython.wraparound(False)
  * @cython.boundscheck(False)
  * def poly_evar(x, *a):             # <<<<<<<<<<<<<<
- *     d, n = reals(a), len(a)
- *     cdef a_real_t *p = <a_real_t *>d.data.as_voidptr
+ *     d, n = floats(a), len(a)
+ *     cdef a_float_t *p = <a_float_t *>d.data.as_voidptr
  */
-  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_15poly_evar, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(8, 16, __pyx_L1_error)
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_13poly_evar, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(8, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_poly_evar, __pyx_t_2) < 0) __PYX_ERR(8, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
+  /* "python/src/a/version.pxi":3
+ * from a.version cimport *
+ * 
+ * VERSION = A_VERSION.decode()             # <<<<<<<<<<<<<<
+ * def version():
+ *     '''algorithm library version'''
+ */
+  __pyx_t_2 = __Pyx_decode_c_string(A_VERSION, 0, strlen(A_VERSION), NULL, NULL, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(11, 3, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_VERSION, __pyx_t_2) < 0) __PYX_ERR(11, 3, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+  /* "python/src/a/version.pxi":4
+ * 
+ * VERSION = A_VERSION.decode()
+ * def version():             # <<<<<<<<<<<<<<
+ *     '''algorithm library version'''
+ *     if PY_MAJOR_VERSION >= 3:
+ */
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_15version, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(11, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_version, __pyx_t_2) < 0) __PYX_ERR(11, 4, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+  /* "python/src/a/version.pxi":10
+ *     return a_version()
+ * 
+ * VERSION_MAJOR = A_VERSION_MAJOR             # <<<<<<<<<<<<<<
+ * def version_major() -> int:
+ *     '''algorithm library version major'''
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_unsigned_int(A_VERSION_MAJOR); if (unlikely(!__pyx_t_2)) __PYX_ERR(11, 10, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_VERSION_MAJOR, __pyx_t_2) < 0) __PYX_ERR(11, 10, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+  /* "python/src/a/version.pxi":11
+ * 
+ * VERSION_MAJOR = A_VERSION_MAJOR
+ * def version_major() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version major'''
+ *     return a_version_major()
+ */
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_17version_major, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(11, 11, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_version_major, __pyx_t_2) < 0) __PYX_ERR(11, 11, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+  /* "python/src/a/version.pxi":15
+ *     return a_version_major()
+ * 
+ * VERSION_MINOR = A_VERSION_MINOR             # <<<<<<<<<<<<<<
+ * def version_minor() -> int:
+ *     '''algorithm library version minor'''
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_unsigned_int(A_VERSION_MINOR); if (unlikely(!__pyx_t_2)) __PYX_ERR(11, 15, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_VERSION_MINOR, __pyx_t_2) < 0) __PYX_ERR(11, 15, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+  /* "python/src/a/version.pxi":16
+ * 
+ * VERSION_MINOR = A_VERSION_MINOR
+ * def version_minor() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version minor'''
+ *     return a_version_minor()
+ */
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_19version_minor, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(11, 16, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_version_minor, __pyx_t_2) < 0) __PYX_ERR(11, 16, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+  /* "python/src/a/version.pxi":20
+ *     return a_version_minor()
+ * 
+ * VERSION_PATCH = A_VERSION_PATCH             # <<<<<<<<<<<<<<
+ * def version_patch() -> int:
+ *     '''algorithm library version patch'''
+ */
+  __pyx_t_2 = __Pyx_PyInt_From_unsigned_int(A_VERSION_PATCH); if (unlikely(!__pyx_t_2)) __PYX_ERR(11, 20, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_VERSION_PATCH, __pyx_t_2) < 0) __PYX_ERR(11, 20, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+  /* "python/src/a/version.pxi":21
+ * 
+ * VERSION_PATCH = A_VERSION_PATCH
+ * def version_patch() -> int:             # <<<<<<<<<<<<<<
+ *     '''algorithm library version patch'''
+ *     return a_version_patch()
+ */
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_21version_patch, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(11, 21, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_version_patch, __pyx_t_2) < 0) __PYX_ERR(11, 21, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
   /* "(tree fragment)":1
  * def __pyx_unpickle_mf(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_17__pyx_unpickle_mf, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(2, 1, __pyx_L1_error)
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_4liba_23__pyx_unpickle_mf, NULL, __pyx_n_s_liba); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_mf, __pyx_t_2) < 0) __PYX_ERR(2, 1, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_mf, __pyx_t_2) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "python/src/a.pyx":1
- * include "a/__init__.pxi"             # <<<<<<<<<<<<<<
- * 
+ * cimport cython             # <<<<<<<<<<<<<<
+ * from a cimport *
  * from cpython cimport *
  */
   __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(3, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_2) < 0) __PYX_ERR(3, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "carray.to_py":124
  * 
- * @cname("__Pyx_carray_to_tuple_a_real_t")
- * cdef inline tuple __Pyx_carray_to_tuple_a_real_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
+ * @cname("__Pyx_carray_to_tuple_a_float_t")
+ * cdef inline tuple __Pyx_carray_to_tuple_a_float_t(base_type *v, Py_ssize_t length):             # <<<<<<<<<<<<<<
  *     cdef size_t i
  *     cdef object value
  */
 
   /*--- Wrapped vars code ---*/
 
   goto __pyx_L0;
@@ -24426,171 +28660,14 @@
             PyExc_SystemError,
             "NULL result without error in PyObject_Call");
     }
     return result;
 }
 #endif
 
-/* decode_c_string */
-static CYTHON_INLINE PyObject* __Pyx_decode_c_string(
-         const char* cstring, Py_ssize_t start, Py_ssize_t stop,
-         const char* encoding, const char* errors,
-         PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors)) {
-    Py_ssize_t length;
-    if (unlikely((start < 0) | (stop < 0))) {
-        size_t slen = strlen(cstring);
-        if (unlikely(slen > (size_t) PY_SSIZE_T_MAX)) {
-            PyErr_SetString(PyExc_OverflowError,
-                            "c-string too long to convert to Python");
-            return NULL;
-        }
-        length = (Py_ssize_t) slen;
-        if (start < 0) {
-            start += length;
-            if (start < 0)
-                start = 0;
-        }
-        if (stop < 0)
-            stop += length;
-    }
-    if (unlikely(stop <= start))
-        return __Pyx_NewRef(__pyx_empty_unicode);
-    length = stop - start;
-    cstring += start;
-    if (decode_func) {
-        return decode_func(cstring, length, errors);
-    } else {
-        return PyUnicode_Decode(cstring, length, encoding, errors);
-    }
-}
-
-/* PyIntBinop */
-#if !CYTHON_COMPILING_IN_PYPY
-static PyObject* __Pyx_PyInt_AddObjC(PyObject *op1, PyObject *op2, CYTHON_UNUSED long intval, int inplace, int zerodivision_check) {
-    (void)inplace;
-    (void)zerodivision_check;
-    #if PY_MAJOR_VERSION < 3
-    if (likely(PyInt_CheckExact(op1))) {
-        const long b = intval;
-        long x;
-        long a = PyInt_AS_LONG(op1);
-            x = (long)((unsigned long)a + b);
-            if (likely((x^a) >= 0 || (x^b) >= 0))
-                return PyInt_FromLong(x);
-            return PyLong_Type.tp_as_number->nb_add(op1, op2);
-    }
-    #endif
-    #if CYTHON_USE_PYLONG_INTERNALS
-    if (likely(PyLong_CheckExact(op1))) {
-        const long b = intval;
-        long a, x;
-#ifdef HAVE_LONG_LONG
-        const PY_LONG_LONG llb = intval;
-        PY_LONG_LONG lla, llx;
-#endif
-        const digit* digits = ((PyLongObject*)op1)->ob_digit;
-        const Py_ssize_t size = Py_SIZE(op1);
-        if (likely(__Pyx_sst_abs(size) <= 1)) {
-            a = likely(size) ? digits[0] : 0;
-            if (size == -1) a = -a;
-        } else {
-            switch (size) {
-                case -2:
-                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
-                        a = -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
-                        break;
-#ifdef HAVE_LONG_LONG
-                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
-                        lla = -(PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
-                        goto long_long;
-#endif
-                    }
-                    CYTHON_FALLTHROUGH;
-                case 2:
-                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
-                        a = (long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
-                        break;
-#ifdef HAVE_LONG_LONG
-                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
-                        lla = (PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
-                        goto long_long;
-#endif
-                    }
-                    CYTHON_FALLTHROUGH;
-                case -3:
-                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
-                        a = -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
-                        break;
-#ifdef HAVE_LONG_LONG
-                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
-                        lla = -(PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
-                        goto long_long;
-#endif
-                    }
-                    CYTHON_FALLTHROUGH;
-                case 3:
-                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
-                        a = (long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
-                        break;
-#ifdef HAVE_LONG_LONG
-                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
-                        lla = (PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
-                        goto long_long;
-#endif
-                    }
-                    CYTHON_FALLTHROUGH;
-                case -4:
-                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
-                        a = -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
-                        break;
-#ifdef HAVE_LONG_LONG
-                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
-                        lla = -(PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
-                        goto long_long;
-#endif
-                    }
-                    CYTHON_FALLTHROUGH;
-                case 4:
-                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
-                        a = (long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
-                        break;
-#ifdef HAVE_LONG_LONG
-                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
-                        lla = (PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
-                        goto long_long;
-#endif
-                    }
-                    CYTHON_FALLTHROUGH;
-                default: return PyLong_Type.tp_as_number->nb_add(op1, op2);
-            }
-        }
-                x = a + b;
-            return PyLong_FromLong(x);
-#ifdef HAVE_LONG_LONG
-        long_long:
-                llx = lla + llb;
-            return PyLong_FromLongLong(llx);
-#endif
-        
-        
-    }
-    #endif
-    if (PyFloat_CheckExact(op1)) {
-        const long b = intval;
-        double a = PyFloat_AS_DOUBLE(op1);
-            double result;
-            PyFPE_START_PROTECT("add", return NULL)
-            result = ((double)a) + (double)b;
-            PyFPE_END_PROTECT(result)
-            return PyFloat_FromDouble(result);
-    }
-    return (inplace ? PyNumber_InPlaceAdd : PyNumber_Add)(op1, op2);
-}
-#endif
-
 /* RaiseArgTupleInvalid */
 static void __Pyx_RaiseArgtupleInvalid(
     const char* func_name,
     int exact,
     Py_ssize_t num_min,
     Py_ssize_t num_max,
     Py_ssize_t num_found)
@@ -24725,38 +28802,34 @@
         "%s() got an unexpected keyword argument '%U'",
         function_name, key);
     #endif
 bad:
     return -1;
 }
 
-/* PyErrExceptionMatches */
-#if CYTHON_FAST_THREAD_STATE
-static int __Pyx_PyErr_ExceptionMatchesTuple(PyObject *exc_type, PyObject *tuple) {
-    Py_ssize_t i, n;
-    n = PyTuple_GET_SIZE(tuple);
-#if PY_MAJOR_VERSION >= 3
-    for (i=0; i<n; i++) {
-        if (exc_type == PyTuple_GET_ITEM(tuple, i)) return 1;
+/* ArgTypeTest */
+static int __Pyx__ArgTypeTest(PyObject *obj, PyTypeObject *type, const char *name, int exact)
+{
+    if (unlikely(!type)) {
+        PyErr_SetString(PyExc_SystemError, "Missing type object");
+        return 0;
     }
-#endif
-    for (i=0; i<n; i++) {
-        if (__Pyx_PyErr_GivenExceptionMatches(exc_type, PyTuple_GET_ITEM(tuple, i))) return 1;
+    else if (exact) {
+        #if PY_MAJOR_VERSION == 2
+        if ((type == &PyBaseString_Type) && likely(__Pyx_PyBaseString_CheckExact(obj))) return 1;
+        #endif
     }
+    else {
+        if (likely(__Pyx_TypeCheck(obj, type))) return 1;
+    }
+    PyErr_Format(PyExc_TypeError,
+        "Argument '%.200s' has incorrect type (expected %.200s, got %.200s)",
+        name, type->tp_name, Py_TYPE(obj)->tp_name);
     return 0;
 }
-static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err) {
-    PyObject *exc_type = tstate->curexc_type;
-    if (exc_type == err) return 1;
-    if (unlikely(!exc_type)) return 0;
-    if (unlikely(PyTuple_Check(err)))
-        return __Pyx_PyErr_ExceptionMatchesTuple(exc_type, err);
-    return __Pyx_PyErr_GivenExceptionMatches(exc_type, err);
-}
-#endif
 
 /* PyErrFetchRestore */
 #if CYTHON_FAST_THREAD_STATE
 static CYTHON_INLINE void __Pyx_ErrRestoreInState(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb) {
     PyObject *tmp_type, *tmp_value, *tmp_tb;
     tmp_type = tstate->curexc_type;
     tmp_value = tstate->curexc_value;
@@ -24774,14 +28847,322 @@
     *tb = tstate->curexc_traceback;
     tstate->curexc_type = 0;
     tstate->curexc_value = 0;
     tstate->curexc_traceback = 0;
 }
 #endif
 
+/* RaiseException */
+#if PY_MAJOR_VERSION < 3
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb,
+                        CYTHON_UNUSED PyObject *cause) {
+    __Pyx_PyThreadState_declare
+    Py_XINCREF(type);
+    if (!value || value == Py_None)
+        value = NULL;
+    else
+        Py_INCREF(value);
+    if (!tb || tb == Py_None)
+        tb = NULL;
+    else {
+        Py_INCREF(tb);
+        if (!PyTraceBack_Check(tb)) {
+            PyErr_SetString(PyExc_TypeError,
+                "raise: arg 3 must be a traceback or None");
+            goto raise_error;
+        }
+    }
+    if (PyType_Check(type)) {
+#if CYTHON_COMPILING_IN_PYPY
+        if (!value) {
+            Py_INCREF(Py_None);
+            value = Py_None;
+        }
+#endif
+        PyErr_NormalizeException(&type, &value, &tb);
+    } else {
+        if (value) {
+            PyErr_SetString(PyExc_TypeError,
+                "instance exception may not have a separate value");
+            goto raise_error;
+        }
+        value = type;
+        type = (PyObject*) Py_TYPE(type);
+        Py_INCREF(type);
+        if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
+            PyErr_SetString(PyExc_TypeError,
+                "raise: exception class must be a subclass of BaseException");
+            goto raise_error;
+        }
+    }
+    __Pyx_PyThreadState_assign
+    __Pyx_ErrRestore(type, value, tb);
+    return;
+raise_error:
+    Py_XDECREF(value);
+    Py_XDECREF(type);
+    Py_XDECREF(tb);
+    return;
+}
+#else
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
+    PyObject* owned_instance = NULL;
+    if (tb == Py_None) {
+        tb = 0;
+    } else if (tb && !PyTraceBack_Check(tb)) {
+        PyErr_SetString(PyExc_TypeError,
+            "raise: arg 3 must be a traceback or None");
+        goto bad;
+    }
+    if (value == Py_None)
+        value = 0;
+    if (PyExceptionInstance_Check(type)) {
+        if (value) {
+            PyErr_SetString(PyExc_TypeError,
+                "instance exception may not have a separate value");
+            goto bad;
+        }
+        value = type;
+        type = (PyObject*) Py_TYPE(value);
+    } else if (PyExceptionClass_Check(type)) {
+        PyObject *instance_class = NULL;
+        if (value && PyExceptionInstance_Check(value)) {
+            instance_class = (PyObject*) Py_TYPE(value);
+            if (instance_class != type) {
+                int is_subclass = PyObject_IsSubclass(instance_class, type);
+                if (!is_subclass) {
+                    instance_class = NULL;
+                } else if (unlikely(is_subclass == -1)) {
+                    goto bad;
+                } else {
+                    type = instance_class;
+                }
+            }
+        }
+        if (!instance_class) {
+            PyObject *args;
+            if (!value)
+                args = PyTuple_New(0);
+            else if (PyTuple_Check(value)) {
+                Py_INCREF(value);
+                args = value;
+            } else
+                args = PyTuple_Pack(1, value);
+            if (!args)
+                goto bad;
+            owned_instance = PyObject_Call(type, args, NULL);
+            Py_DECREF(args);
+            if (!owned_instance)
+                goto bad;
+            value = owned_instance;
+            if (!PyExceptionInstance_Check(value)) {
+                PyErr_Format(PyExc_TypeError,
+                             "calling %R should have returned an instance of "
+                             "BaseException, not %R",
+                             type, Py_TYPE(value));
+                goto bad;
+            }
+        }
+    } else {
+        PyErr_SetString(PyExc_TypeError,
+            "raise: exception class must be a subclass of BaseException");
+        goto bad;
+    }
+    if (cause) {
+        PyObject *fixed_cause;
+        if (cause == Py_None) {
+            fixed_cause = NULL;
+        } else if (PyExceptionClass_Check(cause)) {
+            fixed_cause = PyObject_CallObject(cause, NULL);
+            if (fixed_cause == NULL)
+                goto bad;
+        } else if (PyExceptionInstance_Check(cause)) {
+            fixed_cause = cause;
+            Py_INCREF(fixed_cause);
+        } else {
+            PyErr_SetString(PyExc_TypeError,
+                            "exception causes must derive from "
+                            "BaseException");
+            goto bad;
+        }
+        PyException_SetCause(value, fixed_cause);
+    }
+    PyErr_SetObject(type, value);
+    if (tb) {
+#if CYTHON_COMPILING_IN_PYPY
+        PyObject *tmp_type, *tmp_value, *tmp_tb;
+        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
+        Py_INCREF(tb);
+        PyErr_Restore(tmp_type, tmp_value, tb);
+        Py_XDECREF(tmp_tb);
+#else
+        PyThreadState *tstate = __Pyx_PyThreadState_Current;
+        PyObject* tmp_tb = tstate->curexc_traceback;
+        if (tb != tmp_tb) {
+            Py_INCREF(tb);
+            tstate->curexc_traceback = tb;
+            Py_XDECREF(tmp_tb);
+        }
+#endif
+    }
+bad:
+    Py_XDECREF(owned_instance);
+    return;
+}
+#endif
+
+/* PyIntBinop */
+#if !CYTHON_COMPILING_IN_PYPY
+static PyObject* __Pyx_PyInt_AddObjC(PyObject *op1, PyObject *op2, CYTHON_UNUSED long intval, int inplace, int zerodivision_check) {
+    (void)inplace;
+    (void)zerodivision_check;
+    #if PY_MAJOR_VERSION < 3
+    if (likely(PyInt_CheckExact(op1))) {
+        const long b = intval;
+        long x;
+        long a = PyInt_AS_LONG(op1);
+            x = (long)((unsigned long)a + b);
+            if (likely((x^a) >= 0 || (x^b) >= 0))
+                return PyInt_FromLong(x);
+            return PyLong_Type.tp_as_number->nb_add(op1, op2);
+    }
+    #endif
+    #if CYTHON_USE_PYLONG_INTERNALS
+    if (likely(PyLong_CheckExact(op1))) {
+        const long b = intval;
+        long a, x;
+#ifdef HAVE_LONG_LONG
+        const PY_LONG_LONG llb = intval;
+        PY_LONG_LONG lla, llx;
+#endif
+        const digit* digits = ((PyLongObject*)op1)->ob_digit;
+        const Py_ssize_t size = Py_SIZE(op1);
+        if (likely(__Pyx_sst_abs(size) <= 1)) {
+            a = likely(size) ? digits[0] : 0;
+            if (size == -1) a = -a;
+        } else {
+            switch (size) {
+                case -2:
+                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
+                        a = -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
+                        break;
+#ifdef HAVE_LONG_LONG
+                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
+                        lla = -(PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
+                        goto long_long;
+#endif
+                    }
+                    CYTHON_FALLTHROUGH;
+                case 2:
+                    if (8 * sizeof(long) - 1 > 2 * PyLong_SHIFT) {
+                        a = (long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
+                        break;
+#ifdef HAVE_LONG_LONG
+                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 2 * PyLong_SHIFT) {
+                        lla = (PY_LONG_LONG) (((((unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
+                        goto long_long;
+#endif
+                    }
+                    CYTHON_FALLTHROUGH;
+                case -3:
+                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
+                        a = -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
+                        break;
+#ifdef HAVE_LONG_LONG
+                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
+                        lla = -(PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
+                        goto long_long;
+#endif
+                    }
+                    CYTHON_FALLTHROUGH;
+                case 3:
+                    if (8 * sizeof(long) - 1 > 3 * PyLong_SHIFT) {
+                        a = (long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
+                        break;
+#ifdef HAVE_LONG_LONG
+                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 3 * PyLong_SHIFT) {
+                        lla = (PY_LONG_LONG) (((((((unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
+                        goto long_long;
+#endif
+                    }
+                    CYTHON_FALLTHROUGH;
+                case -4:
+                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
+                        a = -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
+                        break;
+#ifdef HAVE_LONG_LONG
+                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
+                        lla = -(PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
+                        goto long_long;
+#endif
+                    }
+                    CYTHON_FALLTHROUGH;
+                case 4:
+                    if (8 * sizeof(long) - 1 > 4 * PyLong_SHIFT) {
+                        a = (long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0]));
+                        break;
+#ifdef HAVE_LONG_LONG
+                    } else if (8 * sizeof(PY_LONG_LONG) - 1 > 4 * PyLong_SHIFT) {
+                        lla = (PY_LONG_LONG) (((((((((unsigned PY_LONG_LONG)digits[3]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[2]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[1]) << PyLong_SHIFT) | (unsigned PY_LONG_LONG)digits[0]));
+                        goto long_long;
+#endif
+                    }
+                    CYTHON_FALLTHROUGH;
+                default: return PyLong_Type.tp_as_number->nb_add(op1, op2);
+            }
+        }
+                x = a + b;
+            return PyLong_FromLong(x);
+#ifdef HAVE_LONG_LONG
+        long_long:
+                llx = lla + llb;
+            return PyLong_FromLongLong(llx);
+#endif
+        
+        
+    }
+    #endif
+    if (PyFloat_CheckExact(op1)) {
+        const long b = intval;
+        double a = PyFloat_AS_DOUBLE(op1);
+            double result;
+            PyFPE_START_PROTECT("add", return NULL)
+            result = ((double)a) + (double)b;
+            PyFPE_END_PROTECT(result)
+            return PyFloat_FromDouble(result);
+    }
+    return (inplace ? PyNumber_InPlaceAdd : PyNumber_Add)(op1, op2);
+}
+#endif
+
+/* PyErrExceptionMatches */
+#if CYTHON_FAST_THREAD_STATE
+static int __Pyx_PyErr_ExceptionMatchesTuple(PyObject *exc_type, PyObject *tuple) {
+    Py_ssize_t i, n;
+    n = PyTuple_GET_SIZE(tuple);
+#if PY_MAJOR_VERSION >= 3
+    for (i=0; i<n; i++) {
+        if (exc_type == PyTuple_GET_ITEM(tuple, i)) return 1;
+    }
+#endif
+    for (i=0; i<n; i++) {
+        if (__Pyx_PyErr_GivenExceptionMatches(exc_type, PyTuple_GET_ITEM(tuple, i))) return 1;
+    }
+    return 0;
+}
+static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err) {
+    PyObject *exc_type = tstate->curexc_type;
+    if (exc_type == err) return 1;
+    if (unlikely(!exc_type)) return 0;
+    if (unlikely(PyTuple_Check(err)))
+        return __Pyx_PyErr_ExceptionMatchesTuple(exc_type, err);
+    return __Pyx_PyErr_GivenExceptionMatches(exc_type, err);
+}
+#endif
+
 /* GetAttr */
 static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
 #if CYTHON_USE_TYPE_SLOTS
 #if PY_MAJOR_VERSION >= 3
     if (likely(PyUnicode_Check(n)))
 #else
     if (likely(PyString_Check(n)))
@@ -25065,190 +29446,64 @@
     if (unlikely(!args)) return NULL;
     result = __Pyx_PyObject_Call(func, args, NULL);
     Py_DECREF(args);
     return result;
 }
 #endif
 
+/* None */
+static CYTHON_INLINE void __Pyx_RaiseClosureNameError(const char *varname) {
+    PyErr_Format(PyExc_NameError, "free variable '%s' referenced before assignment in enclosing scope", varname);
+}
+
 /* PyObjectSetAttrStr */
 #if CYTHON_USE_TYPE_SLOTS
 static CYTHON_INLINE int __Pyx_PyObject_SetAttrStr(PyObject* obj, PyObject* attr_name, PyObject* value) {
     PyTypeObject* tp = Py_TYPE(obj);
     if (likely(tp->tp_setattro))
         return tp->tp_setattro(obj, attr_name, value);
 #if PY_MAJOR_VERSION < 3
     if (likely(tp->tp_setattr))
         return tp->tp_setattr(obj, PyString_AS_STRING(attr_name), value);
 #endif
     return PyObject_SetAttr(obj, attr_name, value);
 }
 #endif
 
-/* RaiseException */
-#if PY_MAJOR_VERSION < 3
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb,
-                        CYTHON_UNUSED PyObject *cause) {
-    __Pyx_PyThreadState_declare
-    Py_XINCREF(type);
-    if (!value || value == Py_None)
-        value = NULL;
-    else
-        Py_INCREF(value);
-    if (!tb || tb == Py_None)
-        tb = NULL;
-    else {
-        Py_INCREF(tb);
-        if (!PyTraceBack_Check(tb)) {
-            PyErr_SetString(PyExc_TypeError,
-                "raise: arg 3 must be a traceback or None");
-            goto raise_error;
-        }
-    }
-    if (PyType_Check(type)) {
-#if CYTHON_COMPILING_IN_PYPY
-        if (!value) {
-            Py_INCREF(Py_None);
-            value = Py_None;
-        }
-#endif
-        PyErr_NormalizeException(&type, &value, &tb);
-    } else {
-        if (value) {
-            PyErr_SetString(PyExc_TypeError,
-                "instance exception may not have a separate value");
-            goto raise_error;
+/* decode_c_string */
+static CYTHON_INLINE PyObject* __Pyx_decode_c_string(
+         const char* cstring, Py_ssize_t start, Py_ssize_t stop,
+         const char* encoding, const char* errors,
+         PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors)) {
+    Py_ssize_t length;
+    if (unlikely((start < 0) | (stop < 0))) {
+        size_t slen = strlen(cstring);
+        if (unlikely(slen > (size_t) PY_SSIZE_T_MAX)) {
+            PyErr_SetString(PyExc_OverflowError,
+                            "c-string too long to convert to Python");
+            return NULL;
         }
-        value = type;
-        type = (PyObject*) Py_TYPE(type);
-        Py_INCREF(type);
-        if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
-            PyErr_SetString(PyExc_TypeError,
-                "raise: exception class must be a subclass of BaseException");
-            goto raise_error;
+        length = (Py_ssize_t) slen;
+        if (start < 0) {
+            start += length;
+            if (start < 0)
+                start = 0;
         }
+        if (stop < 0)
+            stop += length;
     }
-    __Pyx_PyThreadState_assign
-    __Pyx_ErrRestore(type, value, tb);
-    return;
-raise_error:
-    Py_XDECREF(value);
-    Py_XDECREF(type);
-    Py_XDECREF(tb);
-    return;
-}
-#else
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
-    PyObject* owned_instance = NULL;
-    if (tb == Py_None) {
-        tb = 0;
-    } else if (tb && !PyTraceBack_Check(tb)) {
-        PyErr_SetString(PyExc_TypeError,
-            "raise: arg 3 must be a traceback or None");
-        goto bad;
-    }
-    if (value == Py_None)
-        value = 0;
-    if (PyExceptionInstance_Check(type)) {
-        if (value) {
-            PyErr_SetString(PyExc_TypeError,
-                "instance exception may not have a separate value");
-            goto bad;
-        }
-        value = type;
-        type = (PyObject*) Py_TYPE(value);
-    } else if (PyExceptionClass_Check(type)) {
-        PyObject *instance_class = NULL;
-        if (value && PyExceptionInstance_Check(value)) {
-            instance_class = (PyObject*) Py_TYPE(value);
-            if (instance_class != type) {
-                int is_subclass = PyObject_IsSubclass(instance_class, type);
-                if (!is_subclass) {
-                    instance_class = NULL;
-                } else if (unlikely(is_subclass == -1)) {
-                    goto bad;
-                } else {
-                    type = instance_class;
-                }
-            }
-        }
-        if (!instance_class) {
-            PyObject *args;
-            if (!value)
-                args = PyTuple_New(0);
-            else if (PyTuple_Check(value)) {
-                Py_INCREF(value);
-                args = value;
-            } else
-                args = PyTuple_Pack(1, value);
-            if (!args)
-                goto bad;
-            owned_instance = PyObject_Call(type, args, NULL);
-            Py_DECREF(args);
-            if (!owned_instance)
-                goto bad;
-            value = owned_instance;
-            if (!PyExceptionInstance_Check(value)) {
-                PyErr_Format(PyExc_TypeError,
-                             "calling %R should have returned an instance of "
-                             "BaseException, not %R",
-                             type, Py_TYPE(value));
-                goto bad;
-            }
-        }
+    if (unlikely(stop <= start))
+        return __Pyx_NewRef(__pyx_empty_unicode);
+    length = stop - start;
+    cstring += start;
+    if (decode_func) {
+        return decode_func(cstring, length, errors);
     } else {
-        PyErr_SetString(PyExc_TypeError,
-            "raise: exception class must be a subclass of BaseException");
-        goto bad;
-    }
-    if (cause) {
-        PyObject *fixed_cause;
-        if (cause == Py_None) {
-            fixed_cause = NULL;
-        } else if (PyExceptionClass_Check(cause)) {
-            fixed_cause = PyObject_CallObject(cause, NULL);
-            if (fixed_cause == NULL)
-                goto bad;
-        } else if (PyExceptionInstance_Check(cause)) {
-            fixed_cause = cause;
-            Py_INCREF(fixed_cause);
-        } else {
-            PyErr_SetString(PyExc_TypeError,
-                            "exception causes must derive from "
-                            "BaseException");
-            goto bad;
-        }
-        PyException_SetCause(value, fixed_cause);
-    }
-    PyErr_SetObject(type, value);
-    if (tb) {
-#if CYTHON_COMPILING_IN_PYPY
-        PyObject *tmp_type, *tmp_value, *tmp_tb;
-        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
-        Py_INCREF(tb);
-        PyErr_Restore(tmp_type, tmp_value, tb);
-        Py_XDECREF(tmp_tb);
-#else
-        PyThreadState *tstate = __Pyx_PyThreadState_Current;
-        PyObject* tmp_tb = tstate->curexc_traceback;
-        if (tb != tmp_tb) {
-            Py_INCREF(tb);
-            tstate->curexc_traceback = tb;
-            Py_XDECREF(tmp_tb);
-        }
-#endif
+        return PyUnicode_Decode(cstring, length, encoding, errors);
     }
-bad:
-    Py_XDECREF(owned_instance);
-    return;
-}
-#endif
-
-/* None */
-static CYTHON_INLINE void __Pyx_RaiseClosureNameError(const char *varname) {
-    PyErr_Format(PyExc_NameError, "free variable '%s' referenced before assignment in enclosing scope", varname);
 }
 
 /* Import */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
     PyObject *empty_list = 0;
     PyObject *module = 0;
     PyObject *global_dict = 0;
@@ -25715,15 +29970,15 @@
         result = __Pyx_GetGlobalNameAfterAttributeLookup(name);
     }
     return result;
 }
 
 /* CLineInTraceback */
 #ifndef CYTHON_CLINE_IN_TRACEBACK
-static int __Pyx_CLineForTraceback(CYTHON_UNUSED PyThreadState *tstate, int c_line) {
+static int __Pyx_CLineForTraceback(CYTHON_NCP_UNUSED PyThreadState *tstate, int c_line) {
     PyObject *use_cline;
     PyObject *ptype, *pvalue, *ptraceback;
 #if CYTHON_COMPILING_IN_CPYTHON
     PyObject **cython_runtime_dict;
 #endif
     if (unlikely(!__pyx_cython_runtime)) {
         return c_line;
@@ -25964,209 +30219,405 @@
                 else\
                     goto raise_overflow;\
             }\
         }\
         return (target_type) value;\
     }
 
+/* CIntFromPy */
+static CYTHON_INLINE uintmax_t __Pyx_PyInt_As_uintmax_t(PyObject *x) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const uintmax_t neg_one = (uintmax_t) -1, const_zero = (uintmax_t) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+#if PY_MAJOR_VERSION < 3
+    if (likely(PyInt_Check(x))) {
+        if (sizeof(uintmax_t) < sizeof(long)) {
+            __PYX_VERIFY_RETURN_INT(uintmax_t, long, PyInt_AS_LONG(x))
+        } else {
+            long val = PyInt_AS_LONG(x);
+            if (is_unsigned && unlikely(val < 0)) {
+                goto raise_neg_overflow;
+            }
+            return (uintmax_t) val;
+        }
+    } else
+#endif
+    if (likely(PyLong_Check(x))) {
+        if (is_unsigned) {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (uintmax_t) 0;
+                case  1: __PYX_VERIFY_RETURN_INT(uintmax_t, digit, digits[0])
+                case 2:
+                    if (8 * sizeof(uintmax_t) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) >= 2 * PyLong_SHIFT) {
+                            return (uintmax_t) (((((uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0]));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(uintmax_t) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) >= 3 * PyLong_SHIFT) {
+                            return (uintmax_t) (((((((uintmax_t)digits[2]) << PyLong_SHIFT) | (uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0]));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(uintmax_t) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) >= 4 * PyLong_SHIFT) {
+                            return (uintmax_t) (((((((((uintmax_t)digits[3]) << PyLong_SHIFT) | (uintmax_t)digits[2]) << PyLong_SHIFT) | (uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0]));
+                        }
+                    }
+                    break;
+            }
+#endif
+#if CYTHON_COMPILING_IN_CPYTHON
+            if (unlikely(Py_SIZE(x) < 0)) {
+                goto raise_neg_overflow;
+            }
+#else
+            {
+                int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
+                if (unlikely(result < 0))
+                    return (uintmax_t) -1;
+                if (unlikely(result == 1))
+                    goto raise_neg_overflow;
+            }
+#endif
+            if (sizeof(uintmax_t) <= sizeof(unsigned long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uintmax_t, unsigned long, PyLong_AsUnsignedLong(x))
+#ifdef HAVE_LONG_LONG
+            } else if (sizeof(uintmax_t) <= sizeof(unsigned PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uintmax_t, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
+#endif
+            }
+        } else {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (uintmax_t) 0;
+                case -1: __PYX_VERIFY_RETURN_INT(uintmax_t, sdigit, (sdigit) (-(sdigit)digits[0]))
+                case  1: __PYX_VERIFY_RETURN_INT(uintmax_t,  digit, +digits[0])
+                case -2:
+                    if (8 * sizeof(uintmax_t) - 1 > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uintmax_t) (((uintmax_t)-1)*(((((uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 2:
+                    if (8 * sizeof(uintmax_t) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uintmax_t) ((((((uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0])));
+                        }
+                    }
+                    break;
+                case -3:
+                    if (8 * sizeof(uintmax_t) - 1 > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uintmax_t) (((uintmax_t)-1)*(((((((uintmax_t)digits[2]) << PyLong_SHIFT) | (uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(uintmax_t) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uintmax_t) ((((((((uintmax_t)digits[2]) << PyLong_SHIFT) | (uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0])));
+                        }
+                    }
+                    break;
+                case -4:
+                    if (8 * sizeof(uintmax_t) - 1 > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uintmax_t) (((uintmax_t)-1)*(((((((((uintmax_t)digits[3]) << PyLong_SHIFT) | (uintmax_t)digits[2]) << PyLong_SHIFT) | (uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(uintmax_t) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uintmax_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uintmax_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uintmax_t) ((((((((((uintmax_t)digits[3]) << PyLong_SHIFT) | (uintmax_t)digits[2]) << PyLong_SHIFT) | (uintmax_t)digits[1]) << PyLong_SHIFT) | (uintmax_t)digits[0])));
+                        }
+                    }
+                    break;
+            }
+#endif
+            if (sizeof(uintmax_t) <= sizeof(long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uintmax_t, long, PyLong_AsLong(x))
+#ifdef HAVE_LONG_LONG
+            } else if (sizeof(uintmax_t) <= sizeof(PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uintmax_t, PY_LONG_LONG, PyLong_AsLongLong(x))
+#endif
+            }
+        }
+        {
+#if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
+            PyErr_SetString(PyExc_RuntimeError,
+                            "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
+#else
+            uintmax_t val;
+            PyObject *v = __Pyx_PyNumber_IntOrLong(x);
+ #if PY_MAJOR_VERSION < 3
+            if (likely(v) && !PyLong_Check(v)) {
+                PyObject *tmp = v;
+                v = PyNumber_Long(tmp);
+                Py_DECREF(tmp);
+            }
+ #endif
+            if (likely(v)) {
+                int one = 1; int is_little = (int)*(unsigned char *)&one;
+                unsigned char *bytes = (unsigned char *)&val;
+                int ret = _PyLong_AsByteArray((PyLongObject *)v,
+                                              bytes, sizeof(val),
+                                              is_little, !is_unsigned);
+                Py_DECREF(v);
+                if (likely(!ret))
+                    return val;
+            }
+#endif
+            return (uintmax_t) -1;
+        }
+    } else {
+        uintmax_t val;
+        PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
+        if (!tmp) return (uintmax_t) -1;
+        val = __Pyx_PyInt_As_uintmax_t(tmp);
+        Py_DECREF(tmp);
+        return val;
+    }
+raise_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "value too large to convert to uintmax_t");
+    return (uintmax_t) -1;
+raise_neg_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "can't convert negative value to uintmax_t");
+    return (uintmax_t) -1;
+}
+
 /* CIntToPy */
-static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_mf_e(a_mf_e value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint8_t(uint8_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
-    const a_mf_e neg_one = (a_mf_e) -1, const_zero = (a_mf_e) 0;
+    const uint8_t neg_one = (uint8_t) -1, const_zero = (uint8_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
 #endif
     const int is_unsigned = neg_one > const_zero;
     if (is_unsigned) {
-        if (sizeof(a_mf_e) < sizeof(long)) {
+        if (sizeof(uint8_t) < sizeof(long)) {
             return PyInt_FromLong((long) value);
-        } else if (sizeof(a_mf_e) <= sizeof(unsigned long)) {
+        } else if (sizeof(uint8_t) <= sizeof(unsigned long)) {
             return PyLong_FromUnsignedLong((unsigned long) value);
 #ifdef HAVE_LONG_LONG
-        } else if (sizeof(a_mf_e) <= sizeof(unsigned PY_LONG_LONG)) {
+        } else if (sizeof(uint8_t) <= sizeof(unsigned PY_LONG_LONG)) {
             return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
 #endif
         }
     } else {
-        if (sizeof(a_mf_e) <= sizeof(long)) {
+        if (sizeof(uint8_t) <= sizeof(long)) {
             return PyInt_FromLong((long) value);
 #ifdef HAVE_LONG_LONG
-        } else if (sizeof(a_mf_e) <= sizeof(PY_LONG_LONG)) {
+        } else if (sizeof(uint8_t) <= sizeof(PY_LONG_LONG)) {
             return PyLong_FromLongLong((PY_LONG_LONG) value);
 #endif
         }
     }
     {
         int one = 1; int little = (int)*(unsigned char *)&one;
         unsigned char *bytes = (unsigned char *)&value;
-        return _PyLong_FromByteArray(bytes, sizeof(a_mf_e),
+        return _PyLong_FromByteArray(bytes, sizeof(uint8_t),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-static CYTHON_INLINE a_mf_e __Pyx_PyInt_As_a_mf_e(PyObject *x) {
+static CYTHON_INLINE uint8_t __Pyx_PyInt_As_uint8_t(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
-    const a_mf_e neg_one = (a_mf_e) -1, const_zero = (a_mf_e) 0;
+    const uint8_t neg_one = (uint8_t) -1, const_zero = (uint8_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
 #endif
     const int is_unsigned = neg_one > const_zero;
 #if PY_MAJOR_VERSION < 3
     if (likely(PyInt_Check(x))) {
-        if (sizeof(a_mf_e) < sizeof(long)) {
-            __PYX_VERIFY_RETURN_INT(a_mf_e, long, PyInt_AS_LONG(x))
+        if (sizeof(uint8_t) < sizeof(long)) {
+            __PYX_VERIFY_RETURN_INT(uint8_t, long, PyInt_AS_LONG(x))
         } else {
             long val = PyInt_AS_LONG(x);
             if (is_unsigned && unlikely(val < 0)) {
                 goto raise_neg_overflow;
             }
-            return (a_mf_e) val;
+            return (uint8_t) val;
         }
     } else
 #endif
     if (likely(PyLong_Check(x))) {
         if (is_unsigned) {
 #if CYTHON_USE_PYLONG_INTERNALS
             const digit* digits = ((PyLongObject*)x)->ob_digit;
             switch (Py_SIZE(x)) {
-                case  0: return (a_mf_e) 0;
-                case  1: __PYX_VERIFY_RETURN_INT(a_mf_e, digit, digits[0])
+                case  0: return (uint8_t) 0;
+                case  1: __PYX_VERIFY_RETURN_INT(uint8_t, digit, digits[0])
                 case 2:
-                    if (8 * sizeof(a_mf_e) > 1 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) > 1 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) >= 2 * PyLong_SHIFT) {
-                            return (a_mf_e) (((((a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0]));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) >= 2 * PyLong_SHIFT) {
+                            return (uint8_t) (((((uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0]));
                         }
                     }
                     break;
                 case 3:
-                    if (8 * sizeof(a_mf_e) > 2 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) > 2 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) >= 3 * PyLong_SHIFT) {
-                            return (a_mf_e) (((((((a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0]));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) >= 3 * PyLong_SHIFT) {
+                            return (uint8_t) (((((((uint8_t)digits[2]) << PyLong_SHIFT) | (uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0]));
                         }
                     }
                     break;
                 case 4:
-                    if (8 * sizeof(a_mf_e) > 3 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) > 3 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) >= 4 * PyLong_SHIFT) {
-                            return (a_mf_e) (((((((((a_mf_e)digits[3]) << PyLong_SHIFT) | (a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0]));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) >= 4 * PyLong_SHIFT) {
+                            return (uint8_t) (((((((((uint8_t)digits[3]) << PyLong_SHIFT) | (uint8_t)digits[2]) << PyLong_SHIFT) | (uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0]));
                         }
                     }
                     break;
             }
 #endif
 #if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
-                    return (a_mf_e) -1;
+                    return (uint8_t) -1;
                 if (unlikely(result == 1))
                     goto raise_neg_overflow;
             }
 #endif
-            if (sizeof(a_mf_e) <= sizeof(unsigned long)) {
-                __PYX_VERIFY_RETURN_INT_EXC(a_mf_e, unsigned long, PyLong_AsUnsignedLong(x))
+            if (sizeof(uint8_t) <= sizeof(unsigned long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint8_t, unsigned long, PyLong_AsUnsignedLong(x))
 #ifdef HAVE_LONG_LONG
-            } else if (sizeof(a_mf_e) <= sizeof(unsigned PY_LONG_LONG)) {
-                __PYX_VERIFY_RETURN_INT_EXC(a_mf_e, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
+            } else if (sizeof(uint8_t) <= sizeof(unsigned PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint8_t, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
 #endif
             }
         } else {
 #if CYTHON_USE_PYLONG_INTERNALS
             const digit* digits = ((PyLongObject*)x)->ob_digit;
             switch (Py_SIZE(x)) {
-                case  0: return (a_mf_e) 0;
-                case -1: __PYX_VERIFY_RETURN_INT(a_mf_e, sdigit, (sdigit) (-(sdigit)digits[0]))
-                case  1: __PYX_VERIFY_RETURN_INT(a_mf_e,  digit, +digits[0])
+                case  0: return (uint8_t) 0;
+                case -1: __PYX_VERIFY_RETURN_INT(uint8_t, sdigit, (sdigit) (-(sdigit)digits[0]))
+                case  1: __PYX_VERIFY_RETURN_INT(uint8_t,  digit, +digits[0])
                 case -2:
-                    if (8 * sizeof(a_mf_e) - 1 > 1 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) - 1 > 1 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) - 1 > 2 * PyLong_SHIFT) {
-                            return (a_mf_e) (((a_mf_e)-1)*(((((a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uint8_t) (((uint8_t)-1)*(((((uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0])));
                         }
                     }
                     break;
                 case 2:
-                    if (8 * sizeof(a_mf_e) > 1 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) > 1 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) - 1 > 2 * PyLong_SHIFT) {
-                            return (a_mf_e) ((((((a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uint8_t) ((((((uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0])));
                         }
                     }
                     break;
                 case -3:
-                    if (8 * sizeof(a_mf_e) - 1 > 2 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) - 1 > 2 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) - 1 > 3 * PyLong_SHIFT) {
-                            return (a_mf_e) (((a_mf_e)-1)*(((((((a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uint8_t) (((uint8_t)-1)*(((((((uint8_t)digits[2]) << PyLong_SHIFT) | (uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0])));
                         }
                     }
                     break;
                 case 3:
-                    if (8 * sizeof(a_mf_e) > 2 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) > 2 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) - 1 > 3 * PyLong_SHIFT) {
-                            return (a_mf_e) ((((((((a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uint8_t) ((((((((uint8_t)digits[2]) << PyLong_SHIFT) | (uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0])));
                         }
                     }
                     break;
                 case -4:
-                    if (8 * sizeof(a_mf_e) - 1 > 3 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) - 1 > 3 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) - 1 > 4 * PyLong_SHIFT) {
-                            return (a_mf_e) (((a_mf_e)-1)*(((((((((a_mf_e)digits[3]) << PyLong_SHIFT) | (a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uint8_t) (((uint8_t)-1)*(((((((((uint8_t)digits[3]) << PyLong_SHIFT) | (uint8_t)digits[2]) << PyLong_SHIFT) | (uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0])));
                         }
                     }
                     break;
                 case 4:
-                    if (8 * sizeof(a_mf_e) > 3 * PyLong_SHIFT) {
+                    if (8 * sizeof(uint8_t) > 3 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_mf_e) - 1 > 4 * PyLong_SHIFT) {
-                            return (a_mf_e) ((((((((((a_mf_e)digits[3]) << PyLong_SHIFT) | (a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(uint8_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint8_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uint8_t) ((((((((((uint8_t)digits[3]) << PyLong_SHIFT) | (uint8_t)digits[2]) << PyLong_SHIFT) | (uint8_t)digits[1]) << PyLong_SHIFT) | (uint8_t)digits[0])));
                         }
                     }
                     break;
             }
 #endif
-            if (sizeof(a_mf_e) <= sizeof(long)) {
-                __PYX_VERIFY_RETURN_INT_EXC(a_mf_e, long, PyLong_AsLong(x))
+            if (sizeof(uint8_t) <= sizeof(long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint8_t, long, PyLong_AsLong(x))
 #ifdef HAVE_LONG_LONG
-            } else if (sizeof(a_mf_e) <= sizeof(PY_LONG_LONG)) {
-                __PYX_VERIFY_RETURN_INT_EXC(a_mf_e, PY_LONG_LONG, PyLong_AsLongLong(x))
+            } else if (sizeof(uint8_t) <= sizeof(PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint8_t, PY_LONG_LONG, PyLong_AsLongLong(x))
 #endif
             }
         }
         {
 #if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
             PyErr_SetString(PyExc_RuntimeError,
                             "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
 #else
-            a_mf_e val;
+            uint8_t val;
             PyObject *v = __Pyx_PyNumber_IntOrLong(x);
  #if PY_MAJOR_VERSION < 3
             if (likely(v) && !PyLong_Check(v)) {
                 PyObject *tmp = v;
                 v = PyNumber_Long(tmp);
                 Py_DECREF(tmp);
             }
@@ -26178,229 +30629,931 @@
                                               bytes, sizeof(val),
                                               is_little, !is_unsigned);
                 Py_DECREF(v);
                 if (likely(!ret))
                     return val;
             }
 #endif
-            return (a_mf_e) -1;
+            return (uint8_t) -1;
         }
     } else {
-        a_mf_e val;
+        uint8_t val;
         PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
-        if (!tmp) return (a_mf_e) -1;
-        val = __Pyx_PyInt_As_a_mf_e(tmp);
+        if (!tmp) return (uint8_t) -1;
+        val = __Pyx_PyInt_As_uint8_t(tmp);
         Py_DECREF(tmp);
         return val;
     }
 raise_overflow:
     PyErr_SetString(PyExc_OverflowError,
-        "value too large to convert to a_mf_e");
-    return (a_mf_e) -1;
+        "value too large to convert to uint8_t");
+    return (uint8_t) -1;
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
-        "can't convert negative value to a_mf_e");
-    return (a_mf_e) -1;
+        "can't convert negative value to uint8_t");
+    return (uint8_t) -1;
 }
 
 /* CIntToPy */
-static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_pid_e(a_pid_e value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint16_t(uint16_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
-    const a_pid_e neg_one = (a_pid_e) -1, const_zero = (a_pid_e) 0;
+    const uint16_t neg_one = (uint16_t) -1, const_zero = (uint16_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
 #endif
     const int is_unsigned = neg_one > const_zero;
     if (is_unsigned) {
-        if (sizeof(a_pid_e) < sizeof(long)) {
+        if (sizeof(uint16_t) < sizeof(long)) {
             return PyInt_FromLong((long) value);
-        } else if (sizeof(a_pid_e) <= sizeof(unsigned long)) {
+        } else if (sizeof(uint16_t) <= sizeof(unsigned long)) {
             return PyLong_FromUnsignedLong((unsigned long) value);
 #ifdef HAVE_LONG_LONG
-        } else if (sizeof(a_pid_e) <= sizeof(unsigned PY_LONG_LONG)) {
+        } else if (sizeof(uint16_t) <= sizeof(unsigned PY_LONG_LONG)) {
             return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
 #endif
         }
     } else {
-        if (sizeof(a_pid_e) <= sizeof(long)) {
+        if (sizeof(uint16_t) <= sizeof(long)) {
             return PyInt_FromLong((long) value);
 #ifdef HAVE_LONG_LONG
-        } else if (sizeof(a_pid_e) <= sizeof(PY_LONG_LONG)) {
+        } else if (sizeof(uint16_t) <= sizeof(PY_LONG_LONG)) {
             return PyLong_FromLongLong((PY_LONG_LONG) value);
 #endif
         }
     }
     {
         int one = 1; int little = (int)*(unsigned char *)&one;
         unsigned char *bytes = (unsigned char *)&value;
-        return _PyLong_FromByteArray(bytes, sizeof(a_pid_e),
+        return _PyLong_FromByteArray(bytes, sizeof(uint16_t),
+                                     little, !is_unsigned);
+    }
+}
+
+/* CIntFromPy */
+static CYTHON_INLINE uint16_t __Pyx_PyInt_As_uint16_t(PyObject *x) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const uint16_t neg_one = (uint16_t) -1, const_zero = (uint16_t) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+#if PY_MAJOR_VERSION < 3
+    if (likely(PyInt_Check(x))) {
+        if (sizeof(uint16_t) < sizeof(long)) {
+            __PYX_VERIFY_RETURN_INT(uint16_t, long, PyInt_AS_LONG(x))
+        } else {
+            long val = PyInt_AS_LONG(x);
+            if (is_unsigned && unlikely(val < 0)) {
+                goto raise_neg_overflow;
+            }
+            return (uint16_t) val;
+        }
+    } else
+#endif
+    if (likely(PyLong_Check(x))) {
+        if (is_unsigned) {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (uint16_t) 0;
+                case  1: __PYX_VERIFY_RETURN_INT(uint16_t, digit, digits[0])
+                case 2:
+                    if (8 * sizeof(uint16_t) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) >= 2 * PyLong_SHIFT) {
+                            return (uint16_t) (((((uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0]));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(uint16_t) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) >= 3 * PyLong_SHIFT) {
+                            return (uint16_t) (((((((uint16_t)digits[2]) << PyLong_SHIFT) | (uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0]));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(uint16_t) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) >= 4 * PyLong_SHIFT) {
+                            return (uint16_t) (((((((((uint16_t)digits[3]) << PyLong_SHIFT) | (uint16_t)digits[2]) << PyLong_SHIFT) | (uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0]));
+                        }
+                    }
+                    break;
+            }
+#endif
+#if CYTHON_COMPILING_IN_CPYTHON
+            if (unlikely(Py_SIZE(x) < 0)) {
+                goto raise_neg_overflow;
+            }
+#else
+            {
+                int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
+                if (unlikely(result < 0))
+                    return (uint16_t) -1;
+                if (unlikely(result == 1))
+                    goto raise_neg_overflow;
+            }
+#endif
+            if (sizeof(uint16_t) <= sizeof(unsigned long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint16_t, unsigned long, PyLong_AsUnsignedLong(x))
+#ifdef HAVE_LONG_LONG
+            } else if (sizeof(uint16_t) <= sizeof(unsigned PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint16_t, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
+#endif
+            }
+        } else {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (uint16_t) 0;
+                case -1: __PYX_VERIFY_RETURN_INT(uint16_t, sdigit, (sdigit) (-(sdigit)digits[0]))
+                case  1: __PYX_VERIFY_RETURN_INT(uint16_t,  digit, +digits[0])
+                case -2:
+                    if (8 * sizeof(uint16_t) - 1 > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uint16_t) (((uint16_t)-1)*(((((uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 2:
+                    if (8 * sizeof(uint16_t) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uint16_t) ((((((uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0])));
+                        }
+                    }
+                    break;
+                case -3:
+                    if (8 * sizeof(uint16_t) - 1 > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uint16_t) (((uint16_t)-1)*(((((((uint16_t)digits[2]) << PyLong_SHIFT) | (uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(uint16_t) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uint16_t) ((((((((uint16_t)digits[2]) << PyLong_SHIFT) | (uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0])));
+                        }
+                    }
+                    break;
+                case -4:
+                    if (8 * sizeof(uint16_t) - 1 > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uint16_t) (((uint16_t)-1)*(((((((((uint16_t)digits[3]) << PyLong_SHIFT) | (uint16_t)digits[2]) << PyLong_SHIFT) | (uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(uint16_t) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint16_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint16_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uint16_t) ((((((((((uint16_t)digits[3]) << PyLong_SHIFT) | (uint16_t)digits[2]) << PyLong_SHIFT) | (uint16_t)digits[1]) << PyLong_SHIFT) | (uint16_t)digits[0])));
+                        }
+                    }
+                    break;
+            }
+#endif
+            if (sizeof(uint16_t) <= sizeof(long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint16_t, long, PyLong_AsLong(x))
+#ifdef HAVE_LONG_LONG
+            } else if (sizeof(uint16_t) <= sizeof(PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint16_t, PY_LONG_LONG, PyLong_AsLongLong(x))
+#endif
+            }
+        }
+        {
+#if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
+            PyErr_SetString(PyExc_RuntimeError,
+                            "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
+#else
+            uint16_t val;
+            PyObject *v = __Pyx_PyNumber_IntOrLong(x);
+ #if PY_MAJOR_VERSION < 3
+            if (likely(v) && !PyLong_Check(v)) {
+                PyObject *tmp = v;
+                v = PyNumber_Long(tmp);
+                Py_DECREF(tmp);
+            }
+ #endif
+            if (likely(v)) {
+                int one = 1; int is_little = (int)*(unsigned char *)&one;
+                unsigned char *bytes = (unsigned char *)&val;
+                int ret = _PyLong_AsByteArray((PyLongObject *)v,
+                                              bytes, sizeof(val),
+                                              is_little, !is_unsigned);
+                Py_DECREF(v);
+                if (likely(!ret))
+                    return val;
+            }
+#endif
+            return (uint16_t) -1;
+        }
+    } else {
+        uint16_t val;
+        PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
+        if (!tmp) return (uint16_t) -1;
+        val = __Pyx_PyInt_As_uint16_t(tmp);
+        Py_DECREF(tmp);
+        return val;
+    }
+raise_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "value too large to convert to uint16_t");
+    return (uint16_t) -1;
+raise_neg_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "can't convert negative value to uint16_t");
+    return (uint16_t) -1;
+}
+
+/* CIntToPy */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint32_t(uint32_t value) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const uint32_t neg_one = (uint32_t) -1, const_zero = (uint32_t) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+    if (is_unsigned) {
+        if (sizeof(uint32_t) < sizeof(long)) {
+            return PyInt_FromLong((long) value);
+        } else if (sizeof(uint32_t) <= sizeof(unsigned long)) {
+            return PyLong_FromUnsignedLong((unsigned long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(uint32_t) <= sizeof(unsigned PY_LONG_LONG)) {
+            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
+#endif
+        }
+    } else {
+        if (sizeof(uint32_t) <= sizeof(long)) {
+            return PyInt_FromLong((long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(uint32_t) <= sizeof(PY_LONG_LONG)) {
+            return PyLong_FromLongLong((PY_LONG_LONG) value);
+#endif
+        }
+    }
+    {
+        int one = 1; int little = (int)*(unsigned char *)&one;
+        unsigned char *bytes = (unsigned char *)&value;
+        return _PyLong_FromByteArray(bytes, sizeof(uint32_t),
+                                     little, !is_unsigned);
+    }
+}
+
+/* CIntFromPy */
+static CYTHON_INLINE uint32_t __Pyx_PyInt_As_uint32_t(PyObject *x) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const uint32_t neg_one = (uint32_t) -1, const_zero = (uint32_t) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+#if PY_MAJOR_VERSION < 3
+    if (likely(PyInt_Check(x))) {
+        if (sizeof(uint32_t) < sizeof(long)) {
+            __PYX_VERIFY_RETURN_INT(uint32_t, long, PyInt_AS_LONG(x))
+        } else {
+            long val = PyInt_AS_LONG(x);
+            if (is_unsigned && unlikely(val < 0)) {
+                goto raise_neg_overflow;
+            }
+            return (uint32_t) val;
+        }
+    } else
+#endif
+    if (likely(PyLong_Check(x))) {
+        if (is_unsigned) {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (uint32_t) 0;
+                case  1: __PYX_VERIFY_RETURN_INT(uint32_t, digit, digits[0])
+                case 2:
+                    if (8 * sizeof(uint32_t) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) >= 2 * PyLong_SHIFT) {
+                            return (uint32_t) (((((uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0]));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(uint32_t) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) >= 3 * PyLong_SHIFT) {
+                            return (uint32_t) (((((((uint32_t)digits[2]) << PyLong_SHIFT) | (uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0]));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(uint32_t) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) >= 4 * PyLong_SHIFT) {
+                            return (uint32_t) (((((((((uint32_t)digits[3]) << PyLong_SHIFT) | (uint32_t)digits[2]) << PyLong_SHIFT) | (uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0]));
+                        }
+                    }
+                    break;
+            }
+#endif
+#if CYTHON_COMPILING_IN_CPYTHON
+            if (unlikely(Py_SIZE(x) < 0)) {
+                goto raise_neg_overflow;
+            }
+#else
+            {
+                int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
+                if (unlikely(result < 0))
+                    return (uint32_t) -1;
+                if (unlikely(result == 1))
+                    goto raise_neg_overflow;
+            }
+#endif
+            if (sizeof(uint32_t) <= sizeof(unsigned long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint32_t, unsigned long, PyLong_AsUnsignedLong(x))
+#ifdef HAVE_LONG_LONG
+            } else if (sizeof(uint32_t) <= sizeof(unsigned PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint32_t, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
+#endif
+            }
+        } else {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (uint32_t) 0;
+                case -1: __PYX_VERIFY_RETURN_INT(uint32_t, sdigit, (sdigit) (-(sdigit)digits[0]))
+                case  1: __PYX_VERIFY_RETURN_INT(uint32_t,  digit, +digits[0])
+                case -2:
+                    if (8 * sizeof(uint32_t) - 1 > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uint32_t) (((uint32_t)-1)*(((((uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 2:
+                    if (8 * sizeof(uint32_t) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uint32_t) ((((((uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0])));
+                        }
+                    }
+                    break;
+                case -3:
+                    if (8 * sizeof(uint32_t) - 1 > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uint32_t) (((uint32_t)-1)*(((((((uint32_t)digits[2]) << PyLong_SHIFT) | (uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(uint32_t) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uint32_t) ((((((((uint32_t)digits[2]) << PyLong_SHIFT) | (uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0])));
+                        }
+                    }
+                    break;
+                case -4:
+                    if (8 * sizeof(uint32_t) - 1 > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uint32_t) (((uint32_t)-1)*(((((((((uint32_t)digits[3]) << PyLong_SHIFT) | (uint32_t)digits[2]) << PyLong_SHIFT) | (uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(uint32_t) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint32_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint32_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uint32_t) ((((((((((uint32_t)digits[3]) << PyLong_SHIFT) | (uint32_t)digits[2]) << PyLong_SHIFT) | (uint32_t)digits[1]) << PyLong_SHIFT) | (uint32_t)digits[0])));
+                        }
+                    }
+                    break;
+            }
+#endif
+            if (sizeof(uint32_t) <= sizeof(long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint32_t, long, PyLong_AsLong(x))
+#ifdef HAVE_LONG_LONG
+            } else if (sizeof(uint32_t) <= sizeof(PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint32_t, PY_LONG_LONG, PyLong_AsLongLong(x))
+#endif
+            }
+        }
+        {
+#if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
+            PyErr_SetString(PyExc_RuntimeError,
+                            "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
+#else
+            uint32_t val;
+            PyObject *v = __Pyx_PyNumber_IntOrLong(x);
+ #if PY_MAJOR_VERSION < 3
+            if (likely(v) && !PyLong_Check(v)) {
+                PyObject *tmp = v;
+                v = PyNumber_Long(tmp);
+                Py_DECREF(tmp);
+            }
+ #endif
+            if (likely(v)) {
+                int one = 1; int is_little = (int)*(unsigned char *)&one;
+                unsigned char *bytes = (unsigned char *)&val;
+                int ret = _PyLong_AsByteArray((PyLongObject *)v,
+                                              bytes, sizeof(val),
+                                              is_little, !is_unsigned);
+                Py_DECREF(v);
+                if (likely(!ret))
+                    return val;
+            }
+#endif
+            return (uint32_t) -1;
+        }
+    } else {
+        uint32_t val;
+        PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
+        if (!tmp) return (uint32_t) -1;
+        val = __Pyx_PyInt_As_uint32_t(tmp);
+        Py_DECREF(tmp);
+        return val;
+    }
+raise_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "value too large to convert to uint32_t");
+    return (uint32_t) -1;
+raise_neg_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "can't convert negative value to uint32_t");
+    return (uint32_t) -1;
+}
+
+/* CIntToPy */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uint64_t(uint64_t value) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const uint64_t neg_one = (uint64_t) -1, const_zero = (uint64_t) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+    if (is_unsigned) {
+        if (sizeof(uint64_t) < sizeof(long)) {
+            return PyInt_FromLong((long) value);
+        } else if (sizeof(uint64_t) <= sizeof(unsigned long)) {
+            return PyLong_FromUnsignedLong((unsigned long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(uint64_t) <= sizeof(unsigned PY_LONG_LONG)) {
+            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
+#endif
+        }
+    } else {
+        if (sizeof(uint64_t) <= sizeof(long)) {
+            return PyInt_FromLong((long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(uint64_t) <= sizeof(PY_LONG_LONG)) {
+            return PyLong_FromLongLong((PY_LONG_LONG) value);
+#endif
+        }
+    }
+    {
+        int one = 1; int little = (int)*(unsigned char *)&one;
+        unsigned char *bytes = (unsigned char *)&value;
+        return _PyLong_FromByteArray(bytes, sizeof(uint64_t),
+                                     little, !is_unsigned);
+    }
+}
+
+/* CIntFromPy */
+static CYTHON_INLINE uint64_t __Pyx_PyInt_As_uint64_t(PyObject *x) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const uint64_t neg_one = (uint64_t) -1, const_zero = (uint64_t) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+#if PY_MAJOR_VERSION < 3
+    if (likely(PyInt_Check(x))) {
+        if (sizeof(uint64_t) < sizeof(long)) {
+            __PYX_VERIFY_RETURN_INT(uint64_t, long, PyInt_AS_LONG(x))
+        } else {
+            long val = PyInt_AS_LONG(x);
+            if (is_unsigned && unlikely(val < 0)) {
+                goto raise_neg_overflow;
+            }
+            return (uint64_t) val;
+        }
+    } else
+#endif
+    if (likely(PyLong_Check(x))) {
+        if (is_unsigned) {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (uint64_t) 0;
+                case  1: __PYX_VERIFY_RETURN_INT(uint64_t, digit, digits[0])
+                case 2:
+                    if (8 * sizeof(uint64_t) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) >= 2 * PyLong_SHIFT) {
+                            return (uint64_t) (((((uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0]));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(uint64_t) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) >= 3 * PyLong_SHIFT) {
+                            return (uint64_t) (((((((uint64_t)digits[2]) << PyLong_SHIFT) | (uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0]));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(uint64_t) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) >= 4 * PyLong_SHIFT) {
+                            return (uint64_t) (((((((((uint64_t)digits[3]) << PyLong_SHIFT) | (uint64_t)digits[2]) << PyLong_SHIFT) | (uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0]));
+                        }
+                    }
+                    break;
+            }
+#endif
+#if CYTHON_COMPILING_IN_CPYTHON
+            if (unlikely(Py_SIZE(x) < 0)) {
+                goto raise_neg_overflow;
+            }
+#else
+            {
+                int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
+                if (unlikely(result < 0))
+                    return (uint64_t) -1;
+                if (unlikely(result == 1))
+                    goto raise_neg_overflow;
+            }
+#endif
+            if (sizeof(uint64_t) <= sizeof(unsigned long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint64_t, unsigned long, PyLong_AsUnsignedLong(x))
+#ifdef HAVE_LONG_LONG
+            } else if (sizeof(uint64_t) <= sizeof(unsigned PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint64_t, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
+#endif
+            }
+        } else {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (uint64_t) 0;
+                case -1: __PYX_VERIFY_RETURN_INT(uint64_t, sdigit, (sdigit) (-(sdigit)digits[0]))
+                case  1: __PYX_VERIFY_RETURN_INT(uint64_t,  digit, +digits[0])
+                case -2:
+                    if (8 * sizeof(uint64_t) - 1 > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uint64_t) (((uint64_t)-1)*(((((uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 2:
+                    if (8 * sizeof(uint64_t) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) - 1 > 2 * PyLong_SHIFT) {
+                            return (uint64_t) ((((((uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0])));
+                        }
+                    }
+                    break;
+                case -3:
+                    if (8 * sizeof(uint64_t) - 1 > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uint64_t) (((uint64_t)-1)*(((((((uint64_t)digits[2]) << PyLong_SHIFT) | (uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(uint64_t) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) - 1 > 3 * PyLong_SHIFT) {
+                            return (uint64_t) ((((((((uint64_t)digits[2]) << PyLong_SHIFT) | (uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0])));
+                        }
+                    }
+                    break;
+                case -4:
+                    if (8 * sizeof(uint64_t) - 1 > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uint64_t) (((uint64_t)-1)*(((((((((uint64_t)digits[3]) << PyLong_SHIFT) | (uint64_t)digits[2]) << PyLong_SHIFT) | (uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0])));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(uint64_t) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(uint64_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(uint64_t) - 1 > 4 * PyLong_SHIFT) {
+                            return (uint64_t) ((((((((((uint64_t)digits[3]) << PyLong_SHIFT) | (uint64_t)digits[2]) << PyLong_SHIFT) | (uint64_t)digits[1]) << PyLong_SHIFT) | (uint64_t)digits[0])));
+                        }
+                    }
+                    break;
+            }
+#endif
+            if (sizeof(uint64_t) <= sizeof(long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint64_t, long, PyLong_AsLong(x))
+#ifdef HAVE_LONG_LONG
+            } else if (sizeof(uint64_t) <= sizeof(PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(uint64_t, PY_LONG_LONG, PyLong_AsLongLong(x))
+#endif
+            }
+        }
+        {
+#if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
+            PyErr_SetString(PyExc_RuntimeError,
+                            "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
+#else
+            uint64_t val;
+            PyObject *v = __Pyx_PyNumber_IntOrLong(x);
+ #if PY_MAJOR_VERSION < 3
+            if (likely(v) && !PyLong_Check(v)) {
+                PyObject *tmp = v;
+                v = PyNumber_Long(tmp);
+                Py_DECREF(tmp);
+            }
+ #endif
+            if (likely(v)) {
+                int one = 1; int is_little = (int)*(unsigned char *)&one;
+                unsigned char *bytes = (unsigned char *)&val;
+                int ret = _PyLong_AsByteArray((PyLongObject *)v,
+                                              bytes, sizeof(val),
+                                              is_little, !is_unsigned);
+                Py_DECREF(v);
+                if (likely(!ret))
+                    return val;
+            }
+#endif
+            return (uint64_t) -1;
+        }
+    } else {
+        uint64_t val;
+        PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
+        if (!tmp) return (uint64_t) -1;
+        val = __Pyx_PyInt_As_uint64_t(tmp);
+        Py_DECREF(tmp);
+        return val;
+    }
+raise_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "value too large to convert to uint64_t");
+    return (uint64_t) -1;
+raise_neg_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "can't convert negative value to uint64_t");
+    return (uint64_t) -1;
+}
+
+/* CIntToPy */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_mf_e(a_mf_e value) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const a_mf_e neg_one = (a_mf_e) -1, const_zero = (a_mf_e) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+    if (is_unsigned) {
+        if (sizeof(a_mf_e) < sizeof(long)) {
+            return PyInt_FromLong((long) value);
+        } else if (sizeof(a_mf_e) <= sizeof(unsigned long)) {
+            return PyLong_FromUnsignedLong((unsigned long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(a_mf_e) <= sizeof(unsigned PY_LONG_LONG)) {
+            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
+#endif
+        }
+    } else {
+        if (sizeof(a_mf_e) <= sizeof(long)) {
+            return PyInt_FromLong((long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(a_mf_e) <= sizeof(PY_LONG_LONG)) {
+            return PyLong_FromLongLong((PY_LONG_LONG) value);
+#endif
+        }
+    }
+    {
+        int one = 1; int little = (int)*(unsigned char *)&one;
+        unsigned char *bytes = (unsigned char *)&value;
+        return _PyLong_FromByteArray(bytes, sizeof(a_mf_e),
                                      little, !is_unsigned);
     }
 }
 
 /* CIntFromPy */
-static CYTHON_INLINE a_uint_t __Pyx_PyInt_As_a_uint_t(PyObject *x) {
+static CYTHON_INLINE a_mf_e __Pyx_PyInt_As_a_mf_e(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
-    const a_uint_t neg_one = (a_uint_t) -1, const_zero = (a_uint_t) 0;
+    const a_mf_e neg_one = (a_mf_e) -1, const_zero = (a_mf_e) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
 #endif
     const int is_unsigned = neg_one > const_zero;
 #if PY_MAJOR_VERSION < 3
     if (likely(PyInt_Check(x))) {
-        if (sizeof(a_uint_t) < sizeof(long)) {
-            __PYX_VERIFY_RETURN_INT(a_uint_t, long, PyInt_AS_LONG(x))
+        if (sizeof(a_mf_e) < sizeof(long)) {
+            __PYX_VERIFY_RETURN_INT(a_mf_e, long, PyInt_AS_LONG(x))
         } else {
             long val = PyInt_AS_LONG(x);
             if (is_unsigned && unlikely(val < 0)) {
                 goto raise_neg_overflow;
             }
-            return (a_uint_t) val;
+            return (a_mf_e) val;
         }
     } else
 #endif
     if (likely(PyLong_Check(x))) {
         if (is_unsigned) {
 #if CYTHON_USE_PYLONG_INTERNALS
             const digit* digits = ((PyLongObject*)x)->ob_digit;
             switch (Py_SIZE(x)) {
-                case  0: return (a_uint_t) 0;
-                case  1: __PYX_VERIFY_RETURN_INT(a_uint_t, digit, digits[0])
+                case  0: return (a_mf_e) 0;
+                case  1: __PYX_VERIFY_RETURN_INT(a_mf_e, digit, digits[0])
                 case 2:
-                    if (8 * sizeof(a_uint_t) > 1 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) > 1 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) >= 2 * PyLong_SHIFT) {
-                            return (a_uint_t) (((((a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0]));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) >= 2 * PyLong_SHIFT) {
+                            return (a_mf_e) (((((a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0]));
                         }
                     }
                     break;
                 case 3:
-                    if (8 * sizeof(a_uint_t) > 2 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) > 2 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) >= 3 * PyLong_SHIFT) {
-                            return (a_uint_t) (((((((a_uint_t)digits[2]) << PyLong_SHIFT) | (a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0]));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) >= 3 * PyLong_SHIFT) {
+                            return (a_mf_e) (((((((a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0]));
                         }
                     }
                     break;
                 case 4:
-                    if (8 * sizeof(a_uint_t) > 3 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) > 3 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) >= 4 * PyLong_SHIFT) {
-                            return (a_uint_t) (((((((((a_uint_t)digits[3]) << PyLong_SHIFT) | (a_uint_t)digits[2]) << PyLong_SHIFT) | (a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0]));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) >= 4 * PyLong_SHIFT) {
+                            return (a_mf_e) (((((((((a_mf_e)digits[3]) << PyLong_SHIFT) | (a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0]));
                         }
                     }
                     break;
             }
 #endif
 #if CYTHON_COMPILING_IN_CPYTHON
             if (unlikely(Py_SIZE(x) < 0)) {
                 goto raise_neg_overflow;
             }
 #else
             {
                 int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
                 if (unlikely(result < 0))
-                    return (a_uint_t) -1;
+                    return (a_mf_e) -1;
                 if (unlikely(result == 1))
                     goto raise_neg_overflow;
             }
 #endif
-            if (sizeof(a_uint_t) <= sizeof(unsigned long)) {
-                __PYX_VERIFY_RETURN_INT_EXC(a_uint_t, unsigned long, PyLong_AsUnsignedLong(x))
+            if (sizeof(a_mf_e) <= sizeof(unsigned long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(a_mf_e, unsigned long, PyLong_AsUnsignedLong(x))
 #ifdef HAVE_LONG_LONG
-            } else if (sizeof(a_uint_t) <= sizeof(unsigned PY_LONG_LONG)) {
-                __PYX_VERIFY_RETURN_INT_EXC(a_uint_t, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
+            } else if (sizeof(a_mf_e) <= sizeof(unsigned PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(a_mf_e, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
 #endif
             }
         } else {
 #if CYTHON_USE_PYLONG_INTERNALS
             const digit* digits = ((PyLongObject*)x)->ob_digit;
             switch (Py_SIZE(x)) {
-                case  0: return (a_uint_t) 0;
-                case -1: __PYX_VERIFY_RETURN_INT(a_uint_t, sdigit, (sdigit) (-(sdigit)digits[0]))
-                case  1: __PYX_VERIFY_RETURN_INT(a_uint_t,  digit, +digits[0])
+                case  0: return (a_mf_e) 0;
+                case -1: __PYX_VERIFY_RETURN_INT(a_mf_e, sdigit, (sdigit) (-(sdigit)digits[0]))
+                case  1: __PYX_VERIFY_RETURN_INT(a_mf_e,  digit, +digits[0])
                 case -2:
-                    if (8 * sizeof(a_uint_t) - 1 > 1 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) - 1 > 1 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) - 1 > 2 * PyLong_SHIFT) {
-                            return (a_uint_t) (((a_uint_t)-1)*(((((a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) - 1 > 2 * PyLong_SHIFT) {
+                            return (a_mf_e) (((a_mf_e)-1)*(((((a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
                         }
                     }
                     break;
                 case 2:
-                    if (8 * sizeof(a_uint_t) > 1 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) > 1 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) - 1 > 2 * PyLong_SHIFT) {
-                            return (a_uint_t) ((((((a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) - 1 > 2 * PyLong_SHIFT) {
+                            return (a_mf_e) ((((((a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
                         }
                     }
                     break;
                 case -3:
-                    if (8 * sizeof(a_uint_t) - 1 > 2 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) - 1 > 2 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) - 1 > 3 * PyLong_SHIFT) {
-                            return (a_uint_t) (((a_uint_t)-1)*(((((((a_uint_t)digits[2]) << PyLong_SHIFT) | (a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) - 1 > 3 * PyLong_SHIFT) {
+                            return (a_mf_e) (((a_mf_e)-1)*(((((((a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
                         }
                     }
                     break;
                 case 3:
-                    if (8 * sizeof(a_uint_t) > 2 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) > 2 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) - 1 > 3 * PyLong_SHIFT) {
-                            return (a_uint_t) ((((((((a_uint_t)digits[2]) << PyLong_SHIFT) | (a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) - 1 > 3 * PyLong_SHIFT) {
+                            return (a_mf_e) ((((((((a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
                         }
                     }
                     break;
                 case -4:
-                    if (8 * sizeof(a_uint_t) - 1 > 3 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) - 1 > 3 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) - 1 > 4 * PyLong_SHIFT) {
-                            return (a_uint_t) (((a_uint_t)-1)*(((((((((a_uint_t)digits[3]) << PyLong_SHIFT) | (a_uint_t)digits[2]) << PyLong_SHIFT) | (a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) - 1 > 4 * PyLong_SHIFT) {
+                            return (a_mf_e) (((a_mf_e)-1)*(((((((((a_mf_e)digits[3]) << PyLong_SHIFT) | (a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
                         }
                     }
                     break;
                 case 4:
-                    if (8 * sizeof(a_uint_t) > 3 * PyLong_SHIFT) {
+                    if (8 * sizeof(a_mf_e) > 3 * PyLong_SHIFT) {
                         if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
-                            __PYX_VERIFY_RETURN_INT(a_uint_t, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
-                        } else if (8 * sizeof(a_uint_t) - 1 > 4 * PyLong_SHIFT) {
-                            return (a_uint_t) ((((((((((a_uint_t)digits[3]) << PyLong_SHIFT) | (a_uint_t)digits[2]) << PyLong_SHIFT) | (a_uint_t)digits[1]) << PyLong_SHIFT) | (a_uint_t)digits[0])));
+                            __PYX_VERIFY_RETURN_INT(a_mf_e, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(a_mf_e) - 1 > 4 * PyLong_SHIFT) {
+                            return (a_mf_e) ((((((((((a_mf_e)digits[3]) << PyLong_SHIFT) | (a_mf_e)digits[2]) << PyLong_SHIFT) | (a_mf_e)digits[1]) << PyLong_SHIFT) | (a_mf_e)digits[0])));
                         }
                     }
                     break;
             }
 #endif
-            if (sizeof(a_uint_t) <= sizeof(long)) {
-                __PYX_VERIFY_RETURN_INT_EXC(a_uint_t, long, PyLong_AsLong(x))
+            if (sizeof(a_mf_e) <= sizeof(long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(a_mf_e, long, PyLong_AsLong(x))
 #ifdef HAVE_LONG_LONG
-            } else if (sizeof(a_uint_t) <= sizeof(PY_LONG_LONG)) {
-                __PYX_VERIFY_RETURN_INT_EXC(a_uint_t, PY_LONG_LONG, PyLong_AsLongLong(x))
+            } else if (sizeof(a_mf_e) <= sizeof(PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(a_mf_e, PY_LONG_LONG, PyLong_AsLongLong(x))
 #endif
             }
         }
         {
 #if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
             PyErr_SetString(PyExc_RuntimeError,
                             "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
 #else
-            a_uint_t val;
+            a_mf_e val;
             PyObject *v = __Pyx_PyNumber_IntOrLong(x);
  #if PY_MAJOR_VERSION < 3
             if (likely(v) && !PyLong_Check(v)) {
                 PyObject *tmp = v;
                 v = PyNumber_Long(tmp);
                 Py_DECREF(tmp);
             }
@@ -26412,32 +31565,146 @@
                                               bytes, sizeof(val),
                                               is_little, !is_unsigned);
                 Py_DECREF(v);
                 if (likely(!ret))
                     return val;
             }
 #endif
-            return (a_uint_t) -1;
+            return (a_mf_e) -1;
         }
     } else {
-        a_uint_t val;
+        a_mf_e val;
         PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
-        if (!tmp) return (a_uint_t) -1;
-        val = __Pyx_PyInt_As_a_uint_t(tmp);
+        if (!tmp) return (a_mf_e) -1;
+        val = __Pyx_PyInt_As_a_mf_e(tmp);
         Py_DECREF(tmp);
         return val;
     }
 raise_overflow:
     PyErr_SetString(PyExc_OverflowError,
-        "value too large to convert to a_uint_t");
-    return (a_uint_t) -1;
+        "value too large to convert to a_mf_e");
+    return (a_mf_e) -1;
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
-        "can't convert negative value to a_uint_t");
-    return (a_uint_t) -1;
+        "can't convert negative value to a_mf_e");
+    return (a_mf_e) -1;
+}
+
+/* CIntToPy */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_pid_e(a_pid_e value) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const a_pid_e neg_one = (a_pid_e) -1, const_zero = (a_pid_e) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+    if (is_unsigned) {
+        if (sizeof(a_pid_e) < sizeof(long)) {
+            return PyInt_FromLong((long) value);
+        } else if (sizeof(a_pid_e) <= sizeof(unsigned long)) {
+            return PyLong_FromUnsignedLong((unsigned long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(a_pid_e) <= sizeof(unsigned PY_LONG_LONG)) {
+            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
+#endif
+        }
+    } else {
+        if (sizeof(a_pid_e) <= sizeof(long)) {
+            return PyInt_FromLong((long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(a_pid_e) <= sizeof(PY_LONG_LONG)) {
+            return PyLong_FromLongLong((PY_LONG_LONG) value);
+#endif
+        }
+    }
+    {
+        int one = 1; int little = (int)*(unsigned char *)&one;
+        unsigned char *bytes = (unsigned char *)&value;
+        return _PyLong_FromByteArray(bytes, sizeof(a_pid_e),
+                                     little, !is_unsigned);
+    }
+}
+
+/* CIntToPy */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_pid_fuzzy_e(a_pid_fuzzy_e value) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const a_pid_fuzzy_e neg_one = (a_pid_fuzzy_e) -1, const_zero = (a_pid_fuzzy_e) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+    if (is_unsigned) {
+        if (sizeof(a_pid_fuzzy_e) < sizeof(long)) {
+            return PyInt_FromLong((long) value);
+        } else if (sizeof(a_pid_fuzzy_e) <= sizeof(unsigned long)) {
+            return PyLong_FromUnsignedLong((unsigned long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(a_pid_fuzzy_e) <= sizeof(unsigned PY_LONG_LONG)) {
+            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
+#endif
+        }
+    } else {
+        if (sizeof(a_pid_fuzzy_e) <= sizeof(long)) {
+            return PyInt_FromLong((long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(a_pid_fuzzy_e) <= sizeof(PY_LONG_LONG)) {
+            return PyLong_FromLongLong((PY_LONG_LONG) value);
+#endif
+        }
+    }
+    {
+        int one = 1; int little = (int)*(unsigned char *)&one;
+        unsigned char *bytes = (unsigned char *)&value;
+        return _PyLong_FromByteArray(bytes, sizeof(a_pid_fuzzy_e),
+                                     little, !is_unsigned);
+    }
+}
+
+/* CIntToPy */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_unsigned_int(unsigned int value) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const unsigned int neg_one = (unsigned int) -1, const_zero = (unsigned int) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+    if (is_unsigned) {
+        if (sizeof(unsigned int) < sizeof(long)) {
+            return PyInt_FromLong((long) value);
+        } else if (sizeof(unsigned int) <= sizeof(unsigned long)) {
+            return PyLong_FromUnsignedLong((unsigned long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(unsigned int) <= sizeof(unsigned PY_LONG_LONG)) {
+            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
+#endif
+        }
+    } else {
+        if (sizeof(unsigned int) <= sizeof(long)) {
+            return PyInt_FromLong((long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(unsigned int) <= sizeof(PY_LONG_LONG)) {
+            return PyLong_FromLongLong((PY_LONG_LONG) value);
+#endif
+        }
+    }
+    {
+        int one = 1; int little = (int)*(unsigned char *)&one;
+        unsigned char *bytes = (unsigned char *)&value;
+        return _PyLong_FromByteArray(bytes, sizeof(unsigned int),
+                                     little, !is_unsigned);
+    }
 }
 
 /* CIntFromPy */
 static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
@@ -26629,87 +31896,245 @@
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to long");
     return (long) -1;
 }
 
 /* CIntToPy */
-static CYTHON_INLINE PyObject* __Pyx_PyInt_From_a_uint_t(a_uint_t value) {
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_uintmax_t(uintmax_t value) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
-    const a_uint_t neg_one = (a_uint_t) -1, const_zero = (a_uint_t) 0;
+    const uintmax_t neg_one = (uintmax_t) -1, const_zero = (uintmax_t) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
 #endif
     const int is_unsigned = neg_one > const_zero;
     if (is_unsigned) {
-        if (sizeof(a_uint_t) < sizeof(long)) {
+        if (sizeof(uintmax_t) < sizeof(long)) {
             return PyInt_FromLong((long) value);
-        } else if (sizeof(a_uint_t) <= sizeof(unsigned long)) {
+        } else if (sizeof(uintmax_t) <= sizeof(unsigned long)) {
             return PyLong_FromUnsignedLong((unsigned long) value);
 #ifdef HAVE_LONG_LONG
-        } else if (sizeof(a_uint_t) <= sizeof(unsigned PY_LONG_LONG)) {
+        } else if (sizeof(uintmax_t) <= sizeof(unsigned PY_LONG_LONG)) {
             return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
 #endif
         }
     } else {
-        if (sizeof(a_uint_t) <= sizeof(long)) {
+        if (sizeof(uintmax_t) <= sizeof(long)) {
             return PyInt_FromLong((long) value);
 #ifdef HAVE_LONG_LONG
-        } else if (sizeof(a_uint_t) <= sizeof(PY_LONG_LONG)) {
+        } else if (sizeof(uintmax_t) <= sizeof(PY_LONG_LONG)) {
             return PyLong_FromLongLong((PY_LONG_LONG) value);
 #endif
         }
     }
     {
         int one = 1; int little = (int)*(unsigned char *)&one;
         unsigned char *bytes = (unsigned char *)&value;
-        return _PyLong_FromByteArray(bytes, sizeof(a_uint_t),
+        return _PyLong_FromByteArray(bytes, sizeof(uintmax_t),
                                      little, !is_unsigned);
     }
 }
 
-/* CIntToPy */
-static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
+/* CIntFromPy */
+static CYTHON_INLINE unsigned int __Pyx_PyInt_As_unsigned_int(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
-    const long neg_one = (long) -1, const_zero = (long) 0;
+    const unsigned int neg_one = (unsigned int) -1, const_zero = (unsigned int) 0;
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic pop
 #endif
     const int is_unsigned = neg_one > const_zero;
-    if (is_unsigned) {
-        if (sizeof(long) < sizeof(long)) {
-            return PyInt_FromLong((long) value);
-        } else if (sizeof(long) <= sizeof(unsigned long)) {
-            return PyLong_FromUnsignedLong((unsigned long) value);
+#if PY_MAJOR_VERSION < 3
+    if (likely(PyInt_Check(x))) {
+        if (sizeof(unsigned int) < sizeof(long)) {
+            __PYX_VERIFY_RETURN_INT(unsigned int, long, PyInt_AS_LONG(x))
+        } else {
+            long val = PyInt_AS_LONG(x);
+            if (is_unsigned && unlikely(val < 0)) {
+                goto raise_neg_overflow;
+            }
+            return (unsigned int) val;
+        }
+    } else
+#endif
+    if (likely(PyLong_Check(x))) {
+        if (is_unsigned) {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (unsigned int) 0;
+                case  1: __PYX_VERIFY_RETURN_INT(unsigned int, digit, digits[0])
+                case 2:
+                    if (8 * sizeof(unsigned int) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) >= 2 * PyLong_SHIFT) {
+                            return (unsigned int) (((((unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0]));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(unsigned int) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) >= 3 * PyLong_SHIFT) {
+                            return (unsigned int) (((((((unsigned int)digits[2]) << PyLong_SHIFT) | (unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0]));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(unsigned int) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) >= 4 * PyLong_SHIFT) {
+                            return (unsigned int) (((((((((unsigned int)digits[3]) << PyLong_SHIFT) | (unsigned int)digits[2]) << PyLong_SHIFT) | (unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0]));
+                        }
+                    }
+                    break;
+            }
+#endif
+#if CYTHON_COMPILING_IN_CPYTHON
+            if (unlikely(Py_SIZE(x) < 0)) {
+                goto raise_neg_overflow;
+            }
+#else
+            {
+                int result = PyObject_RichCompareBool(x, Py_False, Py_LT);
+                if (unlikely(result < 0))
+                    return (unsigned int) -1;
+                if (unlikely(result == 1))
+                    goto raise_neg_overflow;
+            }
+#endif
+            if (sizeof(unsigned int) <= sizeof(unsigned long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(unsigned int, unsigned long, PyLong_AsUnsignedLong(x))
 #ifdef HAVE_LONG_LONG
-        } else if (sizeof(long) <= sizeof(unsigned PY_LONG_LONG)) {
-            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
+            } else if (sizeof(unsigned int) <= sizeof(unsigned PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(unsigned int, unsigned PY_LONG_LONG, PyLong_AsUnsignedLongLong(x))
 #endif
-        }
-    } else {
-        if (sizeof(long) <= sizeof(long)) {
-            return PyInt_FromLong((long) value);
+            }
+        } else {
+#if CYTHON_USE_PYLONG_INTERNALS
+            const digit* digits = ((PyLongObject*)x)->ob_digit;
+            switch (Py_SIZE(x)) {
+                case  0: return (unsigned int) 0;
+                case -1: __PYX_VERIFY_RETURN_INT(unsigned int, sdigit, (sdigit) (-(sdigit)digits[0]))
+                case  1: __PYX_VERIFY_RETURN_INT(unsigned int,  digit, +digits[0])
+                case -2:
+                    if (8 * sizeof(unsigned int) - 1 > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, long, -(long) (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) - 1 > 2 * PyLong_SHIFT) {
+                            return (unsigned int) (((unsigned int)-1)*(((((unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0])));
+                        }
+                    }
+                    break;
+                case 2:
+                    if (8 * sizeof(unsigned int) > 1 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 2 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, unsigned long, (((((unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) - 1 > 2 * PyLong_SHIFT) {
+                            return (unsigned int) ((((((unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0])));
+                        }
+                    }
+                    break;
+                case -3:
+                    if (8 * sizeof(unsigned int) - 1 > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, long, -(long) (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) - 1 > 3 * PyLong_SHIFT) {
+                            return (unsigned int) (((unsigned int)-1)*(((((((unsigned int)digits[2]) << PyLong_SHIFT) | (unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0])));
+                        }
+                    }
+                    break;
+                case 3:
+                    if (8 * sizeof(unsigned int) > 2 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 3 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, unsigned long, (((((((unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) - 1 > 3 * PyLong_SHIFT) {
+                            return (unsigned int) ((((((((unsigned int)digits[2]) << PyLong_SHIFT) | (unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0])));
+                        }
+                    }
+                    break;
+                case -4:
+                    if (8 * sizeof(unsigned int) - 1 > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, long, -(long) (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) - 1 > 4 * PyLong_SHIFT) {
+                            return (unsigned int) (((unsigned int)-1)*(((((((((unsigned int)digits[3]) << PyLong_SHIFT) | (unsigned int)digits[2]) << PyLong_SHIFT) | (unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0])));
+                        }
+                    }
+                    break;
+                case 4:
+                    if (8 * sizeof(unsigned int) > 3 * PyLong_SHIFT) {
+                        if (8 * sizeof(unsigned long) > 4 * PyLong_SHIFT) {
+                            __PYX_VERIFY_RETURN_INT(unsigned int, unsigned long, (((((((((unsigned long)digits[3]) << PyLong_SHIFT) | (unsigned long)digits[2]) << PyLong_SHIFT) | (unsigned long)digits[1]) << PyLong_SHIFT) | (unsigned long)digits[0])))
+                        } else if (8 * sizeof(unsigned int) - 1 > 4 * PyLong_SHIFT) {
+                            return (unsigned int) ((((((((((unsigned int)digits[3]) << PyLong_SHIFT) | (unsigned int)digits[2]) << PyLong_SHIFT) | (unsigned int)digits[1]) << PyLong_SHIFT) | (unsigned int)digits[0])));
+                        }
+                    }
+                    break;
+            }
+#endif
+            if (sizeof(unsigned int) <= sizeof(long)) {
+                __PYX_VERIFY_RETURN_INT_EXC(unsigned int, long, PyLong_AsLong(x))
 #ifdef HAVE_LONG_LONG
-        } else if (sizeof(long) <= sizeof(PY_LONG_LONG)) {
-            return PyLong_FromLongLong((PY_LONG_LONG) value);
+            } else if (sizeof(unsigned int) <= sizeof(PY_LONG_LONG)) {
+                __PYX_VERIFY_RETURN_INT_EXC(unsigned int, PY_LONG_LONG, PyLong_AsLongLong(x))
 #endif
+            }
         }
+        {
+#if CYTHON_COMPILING_IN_PYPY && !defined(_PyLong_AsByteArray)
+            PyErr_SetString(PyExc_RuntimeError,
+                            "_PyLong_AsByteArray() not available in PyPy, cannot convert large numbers");
+#else
+            unsigned int val;
+            PyObject *v = __Pyx_PyNumber_IntOrLong(x);
+ #if PY_MAJOR_VERSION < 3
+            if (likely(v) && !PyLong_Check(v)) {
+                PyObject *tmp = v;
+                v = PyNumber_Long(tmp);
+                Py_DECREF(tmp);
+            }
+ #endif
+            if (likely(v)) {
+                int one = 1; int is_little = (int)*(unsigned char *)&one;
+                unsigned char *bytes = (unsigned char *)&val;
+                int ret = _PyLong_AsByteArray((PyLongObject *)v,
+                                              bytes, sizeof(val),
+                                              is_little, !is_unsigned);
+                Py_DECREF(v);
+                if (likely(!ret))
+                    return val;
+            }
+#endif
+            return (unsigned int) -1;
+        }
+    } else {
+        unsigned int val;
+        PyObject *tmp = __Pyx_PyNumber_IntOrLong(x);
+        if (!tmp) return (unsigned int) -1;
+        val = __Pyx_PyInt_As_unsigned_int(tmp);
+        Py_DECREF(tmp);
+        return val;
     }
-    {
-        int one = 1; int little = (int)*(unsigned char *)&one;
-        unsigned char *bytes = (unsigned char *)&value;
-        return _PyLong_FromByteArray(bytes, sizeof(long),
-                                     little, !is_unsigned);
-    }
+raise_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "value too large to convert to unsigned int");
+    return (unsigned int) -1;
+raise_neg_overflow:
+    PyErr_SetString(PyExc_OverflowError,
+        "can't convert negative value to unsigned int");
+    return (unsigned int) -1;
 }
 
 /* CIntFromPy */
 static CYTHON_INLINE size_t __Pyx_PyInt_As_size_t(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
@@ -26900,14 +32325,52 @@
     return (size_t) -1;
 raise_neg_overflow:
     PyErr_SetString(PyExc_OverflowError,
         "can't convert negative value to size_t");
     return (size_t) -1;
 }
 
+/* CIntToPy */
+static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wconversion"
+#endif
+    const long neg_one = (long) -1, const_zero = (long) 0;
+#ifdef __Pyx_HAS_GCC_DIAGNOSTIC
+#pragma GCC diagnostic pop
+#endif
+    const int is_unsigned = neg_one > const_zero;
+    if (is_unsigned) {
+        if (sizeof(long) < sizeof(long)) {
+            return PyInt_FromLong((long) value);
+        } else if (sizeof(long) <= sizeof(unsigned long)) {
+            return PyLong_FromUnsignedLong((unsigned long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(long) <= sizeof(unsigned PY_LONG_LONG)) {
+            return PyLong_FromUnsignedLongLong((unsigned PY_LONG_LONG) value);
+#endif
+        }
+    } else {
+        if (sizeof(long) <= sizeof(long)) {
+            return PyInt_FromLong((long) value);
+#ifdef HAVE_LONG_LONG
+        } else if (sizeof(long) <= sizeof(PY_LONG_LONG)) {
+            return PyLong_FromLongLong((PY_LONG_LONG) value);
+#endif
+        }
+    }
+    {
+        int one = 1; int little = (int)*(unsigned char *)&one;
+        unsigned char *bytes = (unsigned char *)&value;
+        return _PyLong_FromByteArray(bytes, sizeof(long),
+                                     little, !is_unsigned);
+    }
+}
+
 /* CIntFromPy */
 static CYTHON_INLINE int __Pyx_PyInt_As_int(PyObject *x) {
 #ifdef __Pyx_HAS_GCC_DIAGNOSTIC
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wconversion"
 #endif
     const int neg_one = (int) -1, const_zero = (int) 0;
```

### Comparing `liba-0.1.1rc6/src/avl.c` & `liba-0.1.1rc7/src/avl.c`

 * *Files 4% similar despite different names*

```diff
@@ -1,78 +1,78 @@
 #include "a/avl.h"
 
 /* Sets the parent and balance factor of the specified AVL tree node. */
-static A_INLINE a_void_t a_avl_set_parent_factor(a_avl_s *const node, a_avl_s *const parent, a_int_t const factor)
+static A_INLINE void a_avl_set_parent_factor(a_avl_s *const node, a_avl_s *const parent, int const factor)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 3)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 3)
     node->_parent = (a_uptr_t)parent | (a_uptr_t)(factor + 1);
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     node->parent = parent;
     node->factor = factor;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
 /* Sets the parent of the specified AVL tree node. */
-static A_INLINE a_void_t a_avl_set_parent(a_avl_s *const node, a_avl_s *const parent)
+static A_INLINE void a_avl_set_parent(a_avl_s *const node, a_avl_s *const parent)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 3)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 3)
     node->_parent = (a_uptr_t)parent | (node->_parent & 3);
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     node->parent = parent;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
 /*
 Returns the balance factor of the specified AVL tree node --- that is,
 the height of its right subtree minus the height of its left subtree.
 */
-static A_INLINE a_int_t a_avl_factor(a_avl_s const *const node)
+static A_INLINE int a_avl_factor(a_avl_s const *const node)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 3)
-    return (a_int_t)(node->_parent & 3) - 1;
-#else /* !A_SIZE_VPTR */
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 3)
+    return (int)(node->_parent & 3) - 1;
+#else /* !A_SIZE_POINTER */
     return node->factor;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
 /*
 Adds %amount to the balance factor of the specified AVL tree node.
 The caller must ensure this still results in a valid balance factor (-1, 0, or 1).
 */
-static A_INLINE a_void_t a_avl_set_factor(a_avl_s *const node, a_int_t const amount)
+static A_INLINE void a_avl_set_factor(a_avl_s *const node, int const amount)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 3)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 3)
     node->_parent += (a_uptr_t)amount;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     node->factor += amount;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
-static A_INLINE a_avl_s *a_avl_child(a_avl_s const *const node, a_int_t const sign)
+static A_INLINE a_avl_s *a_avl_child(a_avl_s const *const node, int const sign)
 {
     if (sign < 0)
     {
         return node->left;
     }
     return node->right;
 }
 
-static A_INLINE a_void_t a_avl_set_child(a_avl_s *const node, a_avl_s *const child, a_int_t const sign)
+static A_INLINE void a_avl_set_child(a_avl_s *const node, a_avl_s *const child, int const sign)
 {
     if (sign < 0)
     {
         node->left = child;
     }
     else
     {
         node->right = child;
     }
 }
 
-static A_INLINE a_void_t a_avl_mod_child(a_avl_u *const root, a_avl_s *const parent, a_avl_s *const oldnode, a_avl_s *const newnode)
+static A_INLINE void a_avl_mod_child(a_avl_u *const root, a_avl_s *const parent, a_avl_s *const oldnode, a_avl_s *const newnode)
 {
     if (parent)
     {
         if (parent->left == oldnode)
         {
             parent->left = newnode;
         }
@@ -108,15 +108,15 @@
        / \           / \
       C?  B   =>    A   D?
          / \       / \
         E?  D?    C?  E?
 
 This updates pointers but not balance factors!
 */
-static a_void_t a_avl_rotate(a_avl_u *const root, a_avl_s *const A, a_int_t const sign)
+static void a_avl_rotate(a_avl_u *const root, a_avl_s *const A, int const sign)
 {
     a_avl_s *const P = a_avl_parent(A);
     a_avl_s *const B = a_avl_child(A, -sign);
     a_avl_s *const E = a_avl_child(B, +sign);
 
     a_avl_set_child(A, E, -sign);
     a_avl_set_parent(A, B);
@@ -160,21 +160,21 @@
        G?  F?          F?  D?
 
 Returns a pointer to E and updates balance factors. Except for those two things, this function is equivalent to:
 
     a_avl_rotate(root, B, -sign);
     a_avl_rotate(root, A, +sign);
 */
-static a_avl_s *a_avl_rotate2(a_avl_u *const root, a_avl_s *const B, a_avl_s *const A, a_int_t const sign)
+static a_avl_s *a_avl_rotate2(a_avl_u *const root, a_avl_s *const B, a_avl_s *const A, int const sign)
 {
     a_avl_s *const P = a_avl_parent(A);
     a_avl_s *const E = a_avl_child(B, +sign);
     a_avl_s *const F = a_avl_child(E, -sign);
     a_avl_s *const G = a_avl_child(E, +sign);
-    a_int_t const e = a_avl_factor(E);
+    int const e = a_avl_factor(E);
 
     a_avl_set_child(A, G, -sign);
     a_avl_set_parent_factor(A, E, (sign * e >= 0) ? 0 : -e);
 
     a_avl_set_child(B, F, +sign);
     a_avl_set_parent_factor(B, E, (sign * e <= 0) ? 0 : -e);
 
@@ -216,25 +216,25 @@
 The return value will be %true if the full AVL tree is now adequately balanced,
 or %false if the subtree rooted at parent is now adequately balanced but has increased in height by 1,
 so the caller should continue up the tree.
 
 Note that if %false is returned, no rotation will have been done.
 Indeed, a single node insertion cannot require that more than one (single or double) rotation be done.
 */
-static a_bool_t a_avl_handle_growth(a_avl_u *const root, a_avl_s *const parent, a_avl_s *const node, a_int_t const sign)
+static a_bool_t a_avl_handle_growth(a_avl_u *const root, a_avl_s *const parent, a_avl_s *const node, int const sign)
 {
-    a_int_t const old_factor = a_avl_factor(parent);
+    int const old_factor = a_avl_factor(parent);
     if (old_factor == 0)
     {
         /* %parent is still sufficiently balanced (-1 or +1 balance factor), but must have increased in height. Continue up the tree. */
         a_avl_set_factor(parent, sign);
         return A_FALSE;
     }
 
-    a_int_t const new_factor = old_factor + sign;
+    int const new_factor = old_factor + sign;
     if (new_factor == 0)
     {
         /* %parent is now perfectly balanced (0 balance factor). It cannot have increased in height, so there is nothing more to do. */
         a_avl_set_factor(parent, sign);
         return A_TRUE;
     }
 
@@ -323,15 +323,15 @@
         a_avl_rotate2(root, node, parent, -sign);
     }
 
     /* Height after rotation is unchanged; nothing more to do. */
     return A_TRUE;
 }
 
-a_void_t a_avl_insert_adjust(a_avl_u *const root, a_avl_s *node)
+void a_avl_insert_adjust(a_avl_u *const root, a_avl_s *node)
 {
     /* Adjust balance factor of new node's parent. No rotation will need to be done at this level. */
 
     a_avl_s *parent = a_avl_parent(node);
     if (!parent)
     {
         return;
@@ -395,29 +395,29 @@
     %false if the right subtree of the returned node has decreased in height by 1.
 
 This function will adjust parent's balance factor, then do a (single or double) rotation if necessary.
 The return value will be NULL if the full AVL tree is now adequately balanced,
 or a pointer to the parent of parent if parent is now adequately balanced but has decreased in height by 1.
 Also in the latter case, *left will be set.
 */
-static a_avl_s *a_avl_handle_shrink(a_avl_u *const root, a_avl_s *parent, a_int_t const sign, a_bool_t *const left)
+static a_avl_s *a_avl_handle_shrink(a_avl_u *const root, a_avl_s *parent, int const sign, a_bool_t *const left)
 {
-    a_int_t const old_factor = a_avl_factor(parent);
+    int const old_factor = a_avl_factor(parent);
     if (old_factor == 0)
     {
         /*
         Prior to the deletion, the subtree rooted at %parent was perfectly balanced.
         It's now unbalanced by 1, but that's okay and its height hasn't changed. Nothing more to do.
         */
         a_avl_set_factor(parent, sign);
         return A_NULL;
     }
 
     a_avl_s *node;
-    a_int_t const new_factor = old_factor + sign;
+    int const new_factor = old_factor + sign;
     if (new_factor == 0)
     {
         /*
         The subtree rooted at %parent is now perfectly balanced, whereas before the deletion it was unbalanced by 1.
         Its height must have decreased by 1. No rotation is needed at this location, but continue up the tree.
         */
         a_avl_set_factor(parent, sign);
@@ -554,26 +554,26 @@
         *left = A_TRUE;
         node = Q;
     }
 
     Y->left = X->left;
     a_avl_set_parent(X->left, Y);
 
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 3)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 3)
     Y->_parent = X->_parent;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     Y->parent = X->parent;
     Y->factor = X->factor;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
     a_avl_mod_child(root, a_avl_parent(X), X, Y);
 
     return node;
 }
 
-a_void_t a_avl_remove(a_avl_u *const root, a_avl_s *const node)
+void a_avl_remove(a_avl_u *const root, a_avl_s *const node)
 {
     a_avl_s *parent;
     a_bool_t left = A_FALSE;
     if (node->left && node->right)
     {
         /*
         %node is fully internal, with two children. Swap it with its in-order successor
@@ -633,22 +633,22 @@
         else
         {
             parent = a_avl_handle_shrink(root, parent, -1, &left);
         }
     } while (parent);
 }
 
-a_avl_s *a_avl_insert(a_avl_u *const root, a_avl_s *const node, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+a_avl_s *a_avl_insert(a_avl_u *const root, a_avl_s *const node, int (*const cmp)(void const *, void const *))
 {
     a_avl_s *parent = root->node;
     a_avl_s **link = &root->node;
     while (*link)
     {
         parent = *link;
-        a_int_t const res = cmp(node, parent);
+        int const res = cmp(node, parent);
         if (res < 0)
         {
             link = &parent->left;
         }
         else if (res > 0)
         {
             link = &parent->right;
@@ -659,19 +659,19 @@
         }
     }
     *link = a_avl_init(node, parent);
     a_avl_insert_adjust(root, node);
     return A_NULL;
 }
 
-a_avl_s *a_avl_search(a_avl_u const *const root, a_cptr_t const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+a_avl_s *a_avl_search(a_avl_u const *const root, void const *const ctx, int (*const cmp)(void const *, void const *))
 {
     for (a_avl_s *cur = root->node; cur;)
     {
-        a_int_t const res = cmp(ctx, cur);
+        int const res = cmp(ctx, cur);
         if (res < 0)
         {
             cur = cur->left;
         }
         else if (res > 0)
         {
             cur = cur->right;
@@ -822,14 +822,16 @@
             break;
         }
         last = node;
     }
     return node;
 }
 
+a_avl_s *a_avl_post_head(a_avl_u const *const root)
+{
 #define A_AVL_POST_NEXT(node)       \
     do                              \
     {                               \
         if ((node)->left)           \
         {                           \
             (node) = (node)->left;  \
         }                           \
@@ -837,26 +839,25 @@
         {                           \
             (node) = (node)->right; \
         }                           \
         else                        \
         {                           \
             break;                  \
         }                           \
-    } while (A_TRUE)
-
-a_avl_s *a_avl_post_head(a_avl_u const *const root)
-{
+    } while (!0)
     a_avl_s *node = root->node;
     if (node)
     {
         A_AVL_POST_NEXT(node);
     }
     return node;
 }
 
+a_avl_s *a_avl_post_tail(a_avl_u const *const root)
+{
 #define A_AVL_POST_PREV(node)       \
     do                              \
     {                               \
         if ((node)->right)          \
         {                           \
             (node) = (node)->right; \
         }                           \
@@ -864,18 +865,15 @@
         {                           \
             (node) = (node)->left;  \
         }                           \
         else                        \
         {                           \
             break;                  \
         }                           \
-    } while (A_TRUE)
-
-a_avl_s *a_avl_post_tail(a_avl_u const *const root)
-{
+    } while (!0)
     a_avl_s *node = root->node;
     if (node)
     {
         A_AVL_POST_PREV(node);
     }
     return node;
 }
```

### Comparing `liba-0.1.1rc6/src/buf.c` & `liba-0.1.1rc7/src/buf.c`

 * *Files 20% similar despite different names*

```diff
@@ -14,45 +14,45 @@
 #undef a_buf_insert
 #undef a_buf_remove
 #undef a_buf_push_fore
 #undef a_buf_push_back
 #undef a_buf_pull_fore
 #undef a_buf_pull_back
 
-static A_INLINE a_vptr_t a_buf_inc_(a_buf_s *const ctx)
+static A_INLINE void *a_buf_inc_(a_buf_s *const ctx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num++;
+    return (a_byte_t *)ctx->_ptr + ctx->_siz * ctx->_num++;
 }
 
-static A_INLINE a_vptr_t a_buf_dec_(a_buf_s *const ctx)
+static A_INLINE void *a_buf_dec_(a_buf_s *const ctx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * --ctx->_num;
+    return (a_byte_t *)ctx->_ptr + ctx->_siz * --ctx->_num;
 }
 
-static a_void_t a_buf_drop_(a_buf_s *const ctx, a_size_t const bot, a_void_t (*const dtor)(a_vptr_t))
+static void a_buf_drop_(a_buf_s *const ctx, a_size_t const bot, void (*const dtor)(void *))
 {
     if (dtor)
     {
         while (ctx->_num > bot)
         {
             dtor(a_buf_dec_(ctx));
         }
     }
     ctx->_num = bot;
 }
 
-a_void_t a_buf_ctor(a_buf_s *const ctx, a_vptr_t const ptr, a_size_t const siz, a_size_t const num)
+void a_buf_ctor(a_buf_s *const ctx, void *const ptr, a_size_t const siz, a_size_t const num)
 {
     ctx->_ptr = ptr;
     ctx->_siz = siz;
     ctx->_mem = num;
     ctx->_num = 0;
 }
 
-a_void_t a_buf_dtor(a_buf_s *const ctx, a_void_t (*const dtor)(a_vptr_t))
+void a_buf_dtor(a_buf_s *const ctx, void (*const dtor)(void *))
 {
     if (ctx->_ptr)
     {
         a_buf_drop_(ctx, 0, dtor);
         ctx->_ptr = A_NULL;
     }
     ctx->_mem = 0;
@@ -62,43 +62,43 @@
 a_buf_s *a_buf_move(a_buf_s *const ctx, a_buf_s *const obj)
 {
     a_copy(ctx, obj, sizeof(*obj));
     a_zero(obj, sizeof(*obj));
     return ctx;
 }
 
-a_void_t a_buf_drop(a_buf_s *const ctx, a_void_t (*const dtor)(a_vptr_t))
+void a_buf_drop(a_buf_s *const ctx, void (*const dtor)(void *))
 {
     a_buf_drop_(ctx, 0, dtor);
 }
 
-a_void_t a_buf_swap(a_buf_s const *const ctx, a_size_t lhs, a_size_t rhs)
+void a_buf_swap(a_buf_s const *const ctx, a_size_t lhs, a_size_t rhs)
 {
     a_size_t const num = ctx->_num - 1;
     lhs = lhs < ctx->_num ? lhs : num;
     rhs = rhs < ctx->_num ? rhs : num;
     if (lhs != rhs)
     {
-        a_vptr_t const lobj = a_byte_p(ctx->_ptr) + lhs * ctx->_siz;
-        a_vptr_t const robj = a_byte_p(ctx->_ptr) + rhs * ctx->_siz;
+        void *const lobj = (a_byte_t *)ctx->_ptr + lhs * ctx->_siz;
+        void *const robj = (a_byte_t *)ctx->_ptr + rhs * ctx->_siz;
         a_swap(lobj, robj, ctx->_siz);
     }
 }
 
-a_void_t a_buf_sort(a_buf_s const *const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void a_buf_sort(a_buf_s const *const ctx, int (*const cmp)(void const *, void const *))
 {
     qsort(ctx->_ptr, ctx->_num, ctx->_siz, cmp);
 }
 
-a_void_t a_buf_sort_fore(a_buf_s const *const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void a_buf_sort_fore(a_buf_s const *const ctx, int (*const cmp)(void const *, void const *))
 {
     if (ctx->_num > 1)
     {
-        a_byte_t *ptr = a_byte_p(ctx->_ptr);
-        a_byte_t *const end = a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num - ctx->_siz;
+        a_byte_t *ptr = (a_byte_t *)ctx->_ptr;
+        a_byte_t *const end = (a_byte_t *)ctx->_ptr + ctx->_siz * ctx->_num - ctx->_siz;
         do
         {
             a_byte_t *const cur = ptr + ctx->_siz;
             if (cmp(ptr, cur) > 0)
             {
                 a_swap(cur, ptr, ctx->_siz);
             }
@@ -107,19 +107,19 @@
                 break;
             }
             ptr = cur;
         } while (ptr != end);
     }
 }
 
-a_void_t a_buf_sort_back(a_buf_s const *const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void a_buf_sort_back(a_buf_s const *const ctx, int (*const cmp)(void const *, void const *))
 {
     if (ctx->_num > 1)
     {
-        a_byte_t *ptr = a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num - ctx->_siz;
+        a_byte_t *ptr = (a_byte_t *)ctx->_ptr + ctx->_siz * ctx->_num - ctx->_siz;
         do
         {
             a_byte_t *const cur = ptr - ctx->_siz;
             if (cmp(cur, ptr) > 0)
             {
                 a_swap(cur, ptr, ctx->_siz);
             }
@@ -128,57 +128,57 @@
                 break;
             }
             ptr = cur;
         } while (ptr != ctx->_ptr);
     }
 }
 
-a_vptr_t a_buf_search(a_buf_s const *const ctx, a_cptr_t const obj, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void *a_buf_search(a_buf_s const *const ctx, void const *const obj, int (*const cmp)(void const *, void const *))
 {
     return bsearch(obj, ctx->_ptr, ctx->_num, ctx->_siz, cmp);
 }
 
-a_vptr_t a_buf_insert(a_buf_s *const ctx, a_size_t const idx)
+void *a_buf_insert(a_buf_s *const ctx, a_size_t const idx)
 {
     if (a_likely(ctx->_num < ctx->_mem))
     {
         if (idx < ctx->_num)
         {
-            a_byte_t *const src = a_byte_p(ctx->_ptr) + ctx->_siz * (idx + 0);
-            a_byte_t *const dst = a_byte_p(ctx->_ptr) + ctx->_siz * (idx + 1);
+            a_byte_t *const src = (a_byte_t *)ctx->_ptr + ctx->_siz * (idx + 0);
+            a_byte_t *const dst = (a_byte_t *)ctx->_ptr + ctx->_siz * (idx + 1);
             a_move(dst, src, (ctx->_num - idx) * ctx->_siz);
             ++ctx->_num;
             return src;
         }
         return a_buf_inc_(ctx);
     }
     return A_NULL;
 }
 
-a_vptr_t a_buf_push_fore(a_buf_s *const ctx) { return a_buf_insert(ctx, 0); }
+void *a_buf_push_fore(a_buf_s *const ctx) { return a_buf_insert(ctx, 0); }
 
-a_vptr_t a_buf_push_back(a_buf_s *const ctx)
+void *a_buf_push_back(a_buf_s *const ctx)
 {
     return a_likely(ctx->_num < ctx->_mem) ? a_buf_inc_(ctx) : A_NULL;
 }
 
-a_vptr_t a_buf_remove(a_buf_s *const ctx, a_size_t const idx)
+void *a_buf_remove(a_buf_s *const ctx, a_size_t const idx)
 {
     a_size_t const num = ctx->_num - 1;
     if (ctx->_num && idx < num)
     {
-        a_byte_t *const ptr = a_byte_p(ctx->_ptr) + ctx->_siz * num;
-        a_byte_t *const dst = a_byte_p(ctx->_ptr) + ctx->_siz * (idx + 0);
-        a_byte_t *const src = a_byte_p(ctx->_ptr) + ctx->_siz * (idx + 1);
-        a_swap(dst, src, a_size_c(ptr - dst));
+        a_byte_t *const ptr = (a_byte_t *)ctx->_ptr + ctx->_siz * num;
+        a_byte_t *const dst = (a_byte_t *)ctx->_ptr + ctx->_siz * (idx + 0);
+        a_byte_t *const src = (a_byte_t *)ctx->_ptr + ctx->_siz * (idx + 1);
+        a_swap(dst, src, (a_size_t)(ptr - dst));
         --ctx->_num;
         return ptr;
     }
     return a_likely(ctx->_num) ? a_buf_dec_(ctx) : A_NULL;
 }
 
-a_vptr_t a_buf_pull_fore(a_buf_s *const ctx) { return a_buf_remove(ctx, 0); }
+void *a_buf_pull_fore(a_buf_s *const ctx) { return a_buf_remove(ctx, 0); }
 
-a_vptr_t a_buf_pull_back(a_buf_s *const ctx)
+void *a_buf_pull_back(a_buf_s *const ctx)
 {
     return a_likely(ctx->_num) ? a_buf_dec_(ctx) : A_NULL;
 }
```

### Comparing `liba-0.1.1rc6/src/complex.c` & `liba-0.1.1rc7/src/complex.c`

 * *Files 15% similar despite different names*

```diff
@@ -1,152 +1,152 @@
 #define LIBA_COMPLEX_C
-#include "a/real.h"
+#include "a/math.h"
 #if A_PREREQ_GNUC(2, 95) || __has_warning("-Waggregate-return")
 #pragma GCC diagnostic ignored "-Waggregate-return"
 #endif /* -Waggregate-return */
 #if A_PREREQ_GNUC(3, 0) || __has_warning("-Wfloat-equal")
 #pragma GCC diagnostic ignored "-Wfloat-equal"
 #endif /* -Wfloat-equal */
 #include "complex.h"
 
-a_complex_s a_complex_polar(a_real_t const r, a_real_t const theta)
+a_complex_s a_complex_polar(a_float_t const r, a_float_t const theta)
 {
     a_complex_s z;
-    z.real = r * a_real_cos(theta);
-    z.imag = r * a_real_sin(theta);
+    z.real = r * a_float_cos(theta);
+    z.imag = r * a_float_sin(theta);
     return z;
 }
 
-a_real_t a_complex_logabs(a_complex_s const z)
+a_float_t a_complex_logabs(a_complex_s const z)
 {
-    a_real_t xabs = a_real_abs(z.real);
-    a_real_t yabs = a_real_abs(z.imag);
-    a_real_t max, u;
+    a_float_t const xabs = a_float_abs(z.real);
+    a_float_t const yabs = a_float_abs(z.imag);
+    a_float_t max, u;
     if (xabs >= yabs)
     {
         max = xabs;
         u = yabs / xabs;
     }
     else
     {
         max = yabs;
         u = xabs / yabs;
     }
-    return a_real_log(max) + a_real_log1p(u * u) * A_REAL_C(0.5);
+    return a_float_log(max) + a_float_log1p(u * u) * A_FLOAT_C(0.5);
 }
 
-a_real_t a_complex_abs2(a_complex_s const z)
+a_float_t a_complex_abs2(a_complex_s const z)
 {
     return z.real * z.real + z.imag * z.imag;
 }
 
-a_real_t a_complex_abs(a_complex_s const z)
+a_float_t a_complex_abs(a_complex_s const z)
 {
-    return a_real_hypot(z.real, z.imag);
+    return a_float_hypot(z.real, z.imag);
 }
 
-a_real_t a_complex_arg(a_complex_s const z)
+a_float_t a_complex_arg(a_complex_s const z)
 {
     if (z.real == 0 && z.imag == 0)
     {
         return 0;
     }
-    return a_real_atan2(z.imag, z.real);
+    return a_float_atan2(z.imag, z.real);
 }
 
 a_complex_s a_complex_add(a_complex_s x, a_complex_s const y)
 {
     x.real += y.real;
     x.imag += y.imag;
     return x;
 }
 
-a_complex_s a_complex_add_real(a_complex_s x, a_real_t const y)
+a_complex_s a_complex_add_real(a_complex_s x, a_float_t const y)
 {
     x.real += y;
     return x;
 }
 
-a_complex_s a_complex_add_imag(a_complex_s x, a_real_t const y)
+a_complex_s a_complex_add_imag(a_complex_s x, a_float_t const y)
 {
     x.imag += y;
     return x;
 }
 
 a_complex_s a_complex_sub(a_complex_s x, a_complex_s const y)
 {
     x.real -= y.real;
     x.imag -= y.imag;
     return x;
 }
 
-a_complex_s a_complex_sub_real(a_complex_s x, a_real_t const y)
+a_complex_s a_complex_sub_real(a_complex_s x, a_float_t const y)
 {
     x.real -= y;
     return x;
 }
 
-a_complex_s a_complex_sub_imag(a_complex_s x, a_real_t const y)
+a_complex_s a_complex_sub_imag(a_complex_s x, a_float_t const y)
 {
     x.imag -= y;
     return x;
 }
 
 a_complex_s a_complex_mul(a_complex_s x, a_complex_s const y)
 {
     a_complex_s z;
     z.real = x.real * y.real - x.imag * y.imag;
     z.imag = x.real * y.imag + x.imag * y.real;
     return z;
 }
 
-a_complex_s a_complex_mul_real(a_complex_s x, a_real_t const y)
+a_complex_s a_complex_mul_real(a_complex_s x, a_float_t const y)
 {
     x.real *= y;
     x.imag *= y;
     return x;
 }
 
-a_complex_s a_complex_mul_imag(a_complex_s x, a_real_t const y)
+a_complex_s a_complex_mul_imag(a_complex_s x, a_float_t const y)
 {
     a_complex_s z;
     z.real = -x.imag * y;
     z.imag = x.real * y;
     return z;
 }
 
 a_complex_s a_complex_div(a_complex_s x, a_complex_s y)
 {
     a_complex_s z;
-    a_real_t inv = 1 / a_complex_abs(y);
+    a_float_t const inv = 1 / a_complex_abs(y);
     y.real *= inv;
     y.imag *= inv;
     z.real = (x.real * y.real + x.imag * y.imag) * inv;
     z.imag = (x.imag * y.real - x.real * y.imag) * inv;
     return z;
 }
 
-a_complex_s a_complex_div_real(a_complex_s x, a_real_t const y)
+a_complex_s a_complex_div_real(a_complex_s x, a_float_t const y)
 {
     x.real /= y;
     x.imag /= y;
     return x;
 }
 
-a_complex_s a_complex_div_imag(a_complex_s x, a_real_t const y)
+a_complex_s a_complex_div_imag(a_complex_s x, a_float_t const y)
 {
     a_complex_s z;
     z.real = x.imag / y;
     z.imag = -x.real / y;
     return z;
 }
 
 a_complex_s a_complex_inv(a_complex_s z)
 {
-    a_real_t inv = 1 / a_complex_abs(z);
+    a_float_t const inv = 1 / a_complex_abs(z);
     z.real *= inv;
     z.imag *= inv;
     z.real *= inv;
     z.imag *= -inv;
     return z;
 }
 
@@ -160,46 +160,46 @@
 #pragma GCC diagnostic ignored "-Wbuiltin-declaration-mismatch"
 #endif /* gcc 10.1+ */
 
 #if defined(A_HAVE_CSQRT) && (A_HAVE_CSQRT + 0 < 1)
 #undef A_HAVE_CSQRT
 #endif /* A_HAVE_CSQRT */
 #if defined(A_HAVE_CSQRT) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(csqrt, a_complex_t);
+a_complex_t A_FLOAT_F1(csqrt, a_complex_t);
 #endif /* A_HAVE_CSQRT */
 a_complex_s a_complex_sqrt(a_complex_s z)
 {
 #if defined(A_HAVE_CSQRT) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(csqrt, u.z);
+    u.z = A_FLOAT_F1(csqrt, u.z);
     return u.s;
 #elif defined(A_HAVE_CSQRT)
-    return A_REAL_F1(csqrt, z);
+    return A_FLOAT_F1(csqrt, z);
 #else /* !A_HAVE_CSQRT */
     if (z.real == 0 && z.imag == 0)
     {
         return z;
     }
-    a_real_t x = a_real_abs(z.real);
-    a_real_t y = a_real_abs(z.imag);
-    a_real_t w;
+    a_float_t const x = a_float_abs(z.real);
+    a_float_t const y = a_float_abs(z.imag);
+    a_float_t w;
     if (x >= y)
     {
-        a_real_t t = y / x;
-        w = a_real_sqrt(x) * a_real_sqrt((a_real_sqrt(t * t + 1) + 1) * A_REAL_C(0.5));
+        a_float_t t = y / x;
+        w = a_float_sqrt(x) * a_float_sqrt((a_float_sqrt(t * t + 1) + 1) * A_FLOAT_C(0.5));
     }
     else
     {
-        a_real_t t = x / y;
-        w = a_real_sqrt(y) * a_real_sqrt((a_real_sqrt(t * t + 1) + t) * A_REAL_C(0.5));
+        a_float_t t = x / y;
+        w = a_float_sqrt(y) * a_float_sqrt((a_float_sqrt(t * t + 1) + t) * A_FLOAT_C(0.5));
     }
     if (z.real >= 0)
     {
         z.real = w;
         z.imag = z.imag / (w * 2);
         return z;
     }
@@ -209,241 +209,241 @@
     }
     z.real = z.imag / (w * 2);
     z.imag = w;
     return z;
 #endif /* A_HAVE_CSQRT */
 }
 
-a_complex_s a_complex_sqrt_real(a_real_t const x)
+a_complex_s a_complex_sqrt_real(a_float_t const x)
 {
     a_complex_s z = A_COMPLEX_C(0.0, 0.0);
     if (x >= 0)
     {
-        z.real = a_real_sqrt(x);
+        z.real = a_float_sqrt(x);
         return z;
     }
-    z.imag = a_real_sqrt(-x);
+    z.imag = a_float_sqrt(-x);
     return z;
 }
 
 #if defined(A_HAVE_CPOW) && (A_HAVE_CPOW + 0 < 1)
 #undef A_HAVE_CPOW
 #endif /* A_HAVE_CPOW */
 #if defined(A_HAVE_CPOW) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F2(cpow, a_complex_t, a_complex_t);
+a_complex_t A_FLOAT_F2(cpow, a_complex_t, a_complex_t);
 #endif /* A_HAVE_CPOW */
 a_complex_s a_complex_pow(a_complex_s z, a_complex_s const a)
 {
 #if defined(A_HAVE_CPOW) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u, v;
     u.s = z;
     v.s = a;
-    u.z = A_REAL_F2(cpow, u.z, v.z);
+    u.z = A_FLOAT_F2(cpow, u.z, v.z);
     return u.s;
 #elif defined(A_HAVE_CPOW)
-    return A_REAL_F2(cpow, z, a);
+    return A_FLOAT_F2(cpow, z, a);
 #else /* !A_HAVE_CPOW */
     if (z.real == 0 && z.imag == 0)
     {
         if (a.real == 0 && a.imag == 0)
         {
-            z.real = A_REAL_C(1.0);
+            z.real = A_FLOAT_C(1.0);
         }
         return z;
     }
-    a_real_t logr = a_complex_logabs(z);
-    a_real_t theta = a_complex_arg(z);
-    a_real_t rho = a_real_exp(logr * a.real - theta * a.imag);
-    a_real_t beta = theta * a.real + logr * a.imag;
+    a_float_t const logr = a_complex_logabs(z);
+    a_float_t const theta = a_complex_arg(z);
+    a_float_t const rho = a_float_exp(logr * a.real - theta * a.imag);
+    a_float_t const beta = theta * a.real + logr * a.imag;
     return a_complex_polar(rho, beta);
 #endif /* A_HAVE_CPOW */
 }
 
-a_complex_s a_complex_pow_real(a_complex_s z, a_real_t const a)
+a_complex_s a_complex_pow_real(a_complex_s z, a_float_t const a)
 {
     if (z.real == 0 && z.imag == 0)
     {
         if (a == 0)
         {
-            z.real = A_REAL_C(1.0);
+            z.real = A_FLOAT_C(1.0);
         }
         return z;
     }
-    a_real_t logr = a_complex_logabs(z);
-    a_real_t theta = a_complex_arg(z);
-    a_real_t rho = a_real_exp(logr * a);
-    a_real_t beta = theta * a;
+    a_float_t const logr = a_complex_logabs(z);
+    a_float_t const theta = a_complex_arg(z);
+    a_float_t const rho = a_float_exp(logr * a);
+    a_float_t const beta = theta * a;
     return a_complex_polar(rho, beta);
 }
 
 #if defined(A_HAVE_CEXP) && (A_HAVE_CEXP + 0 < 1)
 #undef A_HAVE_CEXP
 #endif /* A_HAVE_CEXP */
 #if defined(A_HAVE_CEXP) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(cexp, a_complex_t);
+a_complex_t A_FLOAT_F1(cexp, a_complex_t);
 #endif /* A_HAVE_CEXP */
 a_complex_s a_complex_exp(a_complex_s z)
 {
 #if defined(A_HAVE_CEXP) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(cexp, u.z);
+    u.z = A_FLOAT_F1(cexp, u.z);
     return u.s;
 #elif defined(A_HAVE_CEXP)
-    return A_REAL_F1(cexp, z);
+    return A_FLOAT_F1(cexp, z);
 #else /* !A_HAVE_CEXP */
-    a_real_t rho = a_real_exp(z.real);
+    a_float_t const rho = a_float_exp(z.real);
     return a_complex_polar(rho, z.imag);
 #endif /* A_HAVE_CEXP */
 }
 
 #if defined(A_HAVE_CLOG) && (A_HAVE_CLOG + 0 < 1)
 #undef A_HAVE_CLOG
 #endif /* A_HAVE_CLOG */
 #if defined(A_HAVE_CLOG) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(clog, a_complex_t);
+a_complex_t A_FLOAT_F1(clog, a_complex_t);
 #endif /* A_HAVE_CLOG */
 a_complex_s a_complex_log(a_complex_s z)
 {
 #if defined(A_HAVE_CLOG) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(clog, u.z);
+    u.z = A_FLOAT_F1(clog, u.z);
     return u.s;
 #elif defined(A_HAVE_CLOG)
-    return A_REAL_F1(clog, z);
+    return A_FLOAT_F1(clog, z);
 #else /* !A_HAVE_CLOG */
-    a_real_t logr = a_complex_logabs(z);
-    a_real_t theta = a_complex_arg(z);
+    a_float_t const logr = a_complex_logabs(z);
+    a_float_t const theta = a_complex_arg(z);
     z.real = logr;
     z.imag = theta;
     return z;
 #endif /* A_HAVE_CLOG */
 }
 
 a_complex_s a_complex_log2(a_complex_s const z)
 {
-    return a_complex_mul_real(a_complex_log(z), 1 / A_REAL_LN2);
+    return a_complex_mul_real(a_complex_log(z), 1 / A_FLOAT_LN2);
 }
 
 a_complex_s a_complex_log10(a_complex_s const z)
 {
-    return a_complex_mul_real(a_complex_log(z), 1 / A_REAL_LN10);
+    return a_complex_mul_real(a_complex_log(z), 1 / A_FLOAT_LN10);
 }
 
 a_complex_s a_complex_logb(a_complex_s const z, a_complex_s const b)
 {
     return a_complex_div(a_complex_log(z), a_complex_log(b));
 }
 
 #if defined(A_HAVE_CSIN) && (A_HAVE_CSIN + 0 < 1)
 #undef A_HAVE_CSIN
 #endif /* A_HAVE_CSIN */
 #if defined(A_HAVE_CSIN) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(csin, a_complex_t);
+a_complex_t A_FLOAT_F1(csin, a_complex_t);
 #endif /* A_HAVE_CSIN */
 a_complex_s a_complex_sin(a_complex_s z)
 {
 #if defined(A_HAVE_CSIN) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(csin, u.z);
+    u.z = A_FLOAT_F1(csin, u.z);
     return u.s;
 #elif defined(A_HAVE_CSIN)
-    return A_REAL_F1(csin, z);
+    return A_FLOAT_F1(csin, z);
 #else /* !A_HAVE_CSIN */
     if (z.imag == 0)
     {
-        z.real = a_real_sin(z.real);
+        z.real = a_float_sin(z.real);
         return z;
     }
-    z.real = a_real_sin(z.real) * a_real_cosh(z.imag);
-    z.imag = a_real_cos(z.real) * a_real_sinh(z.imag);
+    z.real = a_float_sin(z.real) * a_float_cosh(z.imag);
+    z.imag = a_float_cos(z.real) * a_float_sinh(z.imag);
     return z;
 #endif /* A_HAVE_CSIN */
 }
 
 #if defined(A_HAVE_CCOS) && (A_HAVE_CCOS + 0 < 1)
 #undef A_HAVE_CCOS
 #endif /* A_HAVE_CCOS */
 #if defined(A_HAVE_CCOS) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(ccos, a_complex_t);
+a_complex_t A_FLOAT_F1(ccos, a_complex_t);
 #endif /* A_HAVE_CCOS */
 a_complex_s a_complex_cos(a_complex_s z)
 {
 #if defined(A_HAVE_CCOS) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(ccos, u.z);
+    u.z = A_FLOAT_F1(ccos, u.z);
     return u.s;
 #elif defined(A_HAVE_CCOS)
-    return A_REAL_F1(ccos, z);
+    return A_FLOAT_F1(ccos, z);
 #else /* !A_HAVE_CCOS */
     if (z.imag == 0)
     {
-        z.real = a_real_cos(z.real);
+        z.real = a_float_cos(z.real);
         return z;
     }
-    z.real = a_real_cos(z.real) * a_real_cosh(z.imag);
-    z.imag = a_real_sin(z.real) * a_real_sinh(-z.imag);
+    z.real = a_float_cos(z.real) * a_float_cosh(z.imag);
+    z.imag = a_float_sin(z.real) * a_float_sinh(-z.imag);
     return z;
 #endif /* A_HAVE_CCOS */
 }
 
 #if defined(A_HAVE_CTAN) && (A_HAVE_CTAN + 0 < 1)
 #undef A_HAVE_CTAN
 #endif /* A_HAVE_CTAN */
 #if defined(A_HAVE_CTAN) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(ctan, a_complex_t);
+a_complex_t A_FLOAT_F1(ctan, a_complex_t);
 #endif /* A_HAVE_CTAN */
 a_complex_s a_complex_tan(a_complex_s z)
 {
 #if defined(A_HAVE_CTAN) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(ctan, u.z);
+    u.z = A_FLOAT_F1(ctan, u.z);
     return u.s;
 #elif defined(A_HAVE_CTAN)
-    return A_REAL_F1(ctan, z);
+    return A_FLOAT_F1(ctan, z);
 #else /* !A_HAVE_CTAN */
-    a_real_t cr = a_real_cos(z.real);
-    a_real_t si = a_real_sinh(z.imag);
-    a_real_t inv = A_REAL_C(0.5) / (cr * cr + si * si);
-    z.real = a_real_sin(z.real * 2) * inv;
-    if (a_real_abs(z.imag) < 1)
+    a_float_t const cr = a_float_cos(z.real);
+    a_float_t const si = a_float_sinh(z.imag);
+    a_float_t const inv = A_FLOAT_C(0.5) / (cr * cr + si * si);
+    z.real = a_float_sin(z.real * 2) * inv;
+    if (a_float_abs(z.imag) < 1)
     {
-        z.imag = a_real_sinh(z.imag * 2) * inv;
+        z.imag = a_float_sinh(z.imag * 2) * inv;
         return z;
     }
-    a_real_t den = a_real_pow(cr / si, 2) + 1;
-    z.imag = 1 / (a_real_tanh(z.imag) * den);
+    a_float_t const den = a_float_pow(cr / si, 2) + 1;
+    z.imag = 1 / (a_float_tanh(z.imag) * den);
     return z;
 #endif /* A_HAVE_CTAN */
 }
 
 a_complex_s a_complex_sec(a_complex_s const z)
 {
     return a_complex_inv(a_complex_cos(z));
@@ -459,404 +459,404 @@
     return a_complex_inv(a_complex_tan(z));
 }
 
 #if defined(A_HAVE_CASIN) && (A_HAVE_CASIN + 0 < 1)
 #undef A_HAVE_CASIN
 #endif /* A_HAVE_CASIN */
 #if defined(A_HAVE_CASIN) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(casin, a_complex_t);
+a_complex_t A_FLOAT_F1(casin, a_complex_t);
 #endif /* A_HAVE_CASIN */
 a_complex_s a_complex_asin(a_complex_s z)
 {
 #if defined(A_HAVE_CASIN) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(casin, u.z);
+    u.z = A_FLOAT_F1(casin, u.z);
     return u.s;
 #elif defined(A_HAVE_CASIN)
-    return A_REAL_F1(casin, z);
+    return A_FLOAT_F1(casin, z);
 #else /* !A_HAVE_CASIN */
     if (z.imag == 0)
     {
         return a_complex_asin_real(z.real);
     }
-    const a_real_t a_crossover = A_REAL_C(1.5);
-    const a_real_t b_crossover = A_REAL_C(0.6417);
-    a_real_t x = a_real_abs(z.real);
-    a_real_t y = a_real_abs(z.imag);
-    a_real_t r = a_real_hypot(x + 1, y);
-    a_real_t s = a_real_hypot(x - 1, y);
-    a_real_t a = A_REAL_C(0.5) * (r + s);
-    a_real_t b = x / a;
-    a_real_t y2 = y * y;
-    a_real_t real = z.real;
+    a_float_t const a_crossover = A_FLOAT_C(1.5);
+    a_float_t const b_crossover = A_FLOAT_C(0.6417);
+    a_float_t const x = a_float_abs(z.real);
+    a_float_t const y = a_float_abs(z.imag);
+    a_float_t const r = a_float_hypot(x + 1, y);
+    a_float_t const s = a_float_hypot(x - 1, y);
+    a_float_t const a = A_FLOAT_C(0.5) * (r + s);
+    a_float_t const b = x / a;
+    a_float_t const y2 = y * y;
+    a_float_t const real = z.real;
     if (b <= b_crossover)
     {
-        z.real = a_real_asin(b);
+        z.real = a_float_asin(b);
     }
     else if (x <= 1)
     {
-        a_real_t den = A_REAL_C(0.5) * (a + x) * (y2 / (r + x + 1) + (s + 1 - x));
-        z.real = a_real_atan(x / a_real_sqrt(den));
+        a_float_t const den = A_FLOAT_C(0.5) * (a + x) * (y2 / (r + x + 1) + (s + 1 - x));
+        z.real = a_float_atan(x / a_float_sqrt(den));
     }
     else
     {
-        a_real_t ax = a + x;
-        a_real_t den = A_REAL_C(0.5) * (ax / (r + x + 1) + ax / (s + x - 1));
-        z.real = a_real_atan(x / (a_real_sqrt(den) * y));
+        a_float_t const ax = a + x;
+        a_float_t const den = A_FLOAT_C(0.5) * (ax / (r + x + 1) + ax / (s + x - 1));
+        z.real = a_float_atan(x / (a_float_sqrt(den) * y));
     }
     if (real < 0)
     {
         z.real = -z.real;
     }
-    a_real_t imag = z.imag;
+    a_float_t const imag = z.imag;
     if (a <= a_crossover)
     {
-        a_real_t a1;
+        a_float_t a1;
         if (x < 1)
         {
-            a1 = A_REAL_C(0.5) * (y2 / (r + x + 1) + y2 / (s + 1 - x));
+            a1 = A_FLOAT_C(0.5) * (y2 / (r + x + 1) + y2 / (s + 1 - x));
         }
         else
         {
-            a1 = A_REAL_C(0.5) * (y2 / (r + x + 1) + (s + x - 1));
+            a1 = A_FLOAT_C(0.5) * (y2 / (r + x + 1) + (s + x - 1));
         }
-        z.imag = a_real_log1p(a1 + a_real_sqrt((a + 1) * a1));
+        z.imag = a_float_log1p(a1 + a_float_sqrt((a + 1) * a1));
     }
     else
     {
-        z.imag = a_real_log(a + a_real_sqrt(a * a - 1));
+        z.imag = a_float_log(a + a_float_sqrt(a * a - 1));
     }
     if (imag < 0)
     {
         z.imag = -z.imag;
     }
     return z;
 #endif /* A_HAVE_CASIN */
 }
 
-a_complex_s a_complex_asin_real(a_real_t const x)
+a_complex_s a_complex_asin_real(a_float_t const x)
 {
     a_complex_s z = A_COMPLEX_C(0.0, 0.0);
-    if (a_real_abs(x) <= 1)
+    if (a_float_abs(x) <= 1)
     {
-        z.real = a_real_asin(0);
+        z.real = a_float_asin(0);
         return z;
     }
     if (x < 0)
     {
-        z.imag = a_real_acosh(-x);
-        z.real = -A_REAL_PI_2;
+        z.imag = a_float_acosh(-x);
+        z.real = -A_FLOAT_PI_2;
         return z;
     }
-    z.imag = -a_real_acosh(x);
-    z.real = A_REAL_PI_2;
+    z.imag = -a_float_acosh(x);
+    z.real = A_FLOAT_PI_2;
     return z;
 }
 
 #if defined(A_HAVE_CACOS) && (A_HAVE_CACOS + 0 < 1)
 #undef A_HAVE_CACOS
 #endif /* A_HAVE_CACOS */
 #if defined(A_HAVE_CACOS) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(cacos, a_complex_t);
+a_complex_t A_FLOAT_F1(cacos, a_complex_t);
 #endif /* A_HAVE_CACOS */
 a_complex_s a_complex_acos(a_complex_s z)
 {
 #if defined(A_HAVE_CACOS) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(cacos, u.z);
+    u.z = A_FLOAT_F1(cacos, u.z);
     return u.s;
 #elif defined(A_HAVE_CACOS)
-    return A_REAL_F1(cacos, z);
+    return A_FLOAT_F1(cacos, z);
 #else /* !A_HAVE_CACOS */
     if (z.imag == 0)
     {
         return a_complex_acos_real(z.real);
     }
-    const a_real_t a_crossover = A_REAL_C(1.5);
-    const a_real_t b_crossover = A_REAL_C(0.6417);
-    a_real_t x = a_real_abs(z.real);
-    a_real_t y = a_real_abs(z.imag);
-    a_real_t r = a_real_hypot(x + 1, y);
-    a_real_t s = a_real_hypot(x - 1, y);
-    a_real_t a = A_REAL_C(0.5) * (r + s);
-    a_real_t b = x / a;
-    a_real_t y2 = y * y;
-    a_real_t real = z.real;
+    a_float_t const a_crossover = A_FLOAT_C(1.5);
+    a_float_t const b_crossover = A_FLOAT_C(0.6417);
+    a_float_t const x = a_float_abs(z.real);
+    a_float_t const y = a_float_abs(z.imag);
+    a_float_t const r = a_float_hypot(x + 1, y);
+    a_float_t const s = a_float_hypot(x - 1, y);
+    a_float_t const a = A_FLOAT_C(0.5) * (r + s);
+    a_float_t const b = x / a;
+    a_float_t const y2 = y * y;
+    a_float_t const real = z.real;
     if (b <= b_crossover)
     {
-        z.real = a_real_acos(b);
+        z.real = a_float_acos(b);
     }
     else if (x <= 1)
     {
-        a_real_t den = A_REAL_C(0.5) * (a + x) * (y2 / (r + x + 1) + (s + 1 - x));
-        z.real = a_real_atan(a_real_sqrt(den) / x);
+        a_float_t const den = A_FLOAT_C(0.5) * (a + x) * (y2 / (r + x + 1) + (s + 1 - x));
+        z.real = a_float_atan(a_float_sqrt(den) / x);
     }
     else
     {
-        a_real_t ax = a + x;
-        a_real_t den = A_REAL_C(0.5) * (ax / (r + x + 1) + ax / (s + x - 1));
-        z.real = a_real_atan(a_real_sqrt(den) * y / x);
+        a_float_t const ax = a + x;
+        a_float_t const den = A_FLOAT_C(0.5) * (ax / (r + x + 1) + ax / (s + x - 1));
+        z.real = a_float_atan(a_float_sqrt(den) * y / x);
     }
     if (real < 0)
     {
-        z.real = A_REAL_PI - z.real;
+        z.real = A_FLOAT_PI - z.real;
     }
-    a_real_t imag = z.imag;
+    a_float_t const imag = z.imag;
     if (a <= a_crossover)
     {
-        a_real_t a1;
+        a_float_t a1;
         if (x < 1)
         {
-            a1 = A_REAL_C(0.5) * (y2 / (r + x + 1) + y2 / (s + 1 - x));
+            a1 = A_FLOAT_C(0.5) * (y2 / (r + x + 1) + y2 / (s + 1 - x));
         }
         else
         {
-            a1 = A_REAL_C(0.5) * (y2 / (r + x + 1) + (s + x - 1));
+            a1 = A_FLOAT_C(0.5) * (y2 / (r + x + 1) + (s + x - 1));
         }
-        z.imag = a_real_log1p(a1 + a_real_sqrt((a + 1) * a1));
+        z.imag = a_float_log1p(a1 + a_float_sqrt((a + 1) * a1));
     }
     else
     {
-        z.imag = a_real_log(a + a_real_sqrt(a * a - 1));
+        z.imag = a_float_log(a + a_float_sqrt(a * a - 1));
     }
     if (imag >= 0)
     {
         z.imag = -z.imag;
     }
     return z;
 #endif /* A_HAVE_CACOS */
 }
 
-a_complex_s a_complex_acos_real(a_real_t const x)
+a_complex_s a_complex_acos_real(a_float_t const x)
 {
     a_complex_s z = A_COMPLEX_C(0.0, 0.0);
-    if (a_real_abs(x) <= 1)
+    if (a_float_abs(x) <= 1)
     {
-        z.real = a_real_acos(0);
+        z.real = a_float_acos(0);
         return z;
     }
     if (x < 0)
     {
-        z.imag = -a_real_acosh(-x);
-        z.real = A_REAL_PI;
+        z.imag = -a_float_acosh(-x);
+        z.real = A_FLOAT_PI;
         return z;
     }
-    z.imag = a_real_acosh(x);
+    z.imag = a_float_acosh(x);
     return z;
 }
 
 #if defined(A_HAVE_CATAN) && (A_HAVE_CATAN + 0 < 1)
 #undef A_HAVE_CATAN
 #endif /* A_HAVE_CATAN */
 #if defined(A_HAVE_CATAN) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(catan, a_complex_t);
+a_complex_t A_FLOAT_F1(catan, a_complex_t);
 #endif /* A_HAVE_CATAN */
 a_complex_s a_complex_atan(a_complex_s z)
 {
 #if defined(A_HAVE_CATAN) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(catan, u.z);
+    u.z = A_FLOAT_F1(catan, u.z);
     return u.s;
 #elif defined(A_HAVE_CATAN)
-    return A_REAL_F1(catan, z);
+    return A_FLOAT_F1(catan, z);
 #else /* !A_HAVE_CATAN */
     if (z.imag == 0)
     {
-        z.real = a_real_atan(z.real);
+        z.real = a_float_atan(z.real);
         return z;
     }
-    a_real_t r = a_real_hypot(z.real, z.imag);
-    a_real_t u = 2 * z.imag / (r * r + 1);
-    a_real_t imag = z.imag;
-    if (a_real_abs(u) < 0.1)
+    a_float_t const r = a_float_hypot(z.real, z.imag);
+    a_float_t const u = 2 * z.imag / (r * r + 1);
+    a_float_t const imag = z.imag;
+    if (a_float_abs(u) < 0.1)
     {
-        z.imag = A_REAL_C(0.25) * (a_real_log1p(u) - a_real_log1p(-u));
+        z.imag = A_FLOAT_C(0.25) * (a_float_log1p(u) - a_float_log1p(-u));
     }
     else
     {
-        a_real_t a = a_real_hypot(z.real, z.imag + 1);
-        a_real_t b = a_real_hypot(z.real, z.imag - 1);
-        z.imag = A_REAL_C(0.5) * a_real_log(a / b);
+        a_float_t const a = a_float_hypot(z.real, z.imag + 1);
+        a_float_t const b = a_float_hypot(z.real, z.imag - 1);
+        z.imag = A_FLOAT_C(0.5) * a_float_log(a / b);
     }
     if (z.real == 0)
     {
         if (imag > 1)
         {
-            z.real = A_REAL_PI;
+            z.real = A_FLOAT_PI;
         }
         else if (imag < -1)
         {
-            z.real = -A_REAL_PI;
+            z.real = -A_FLOAT_PI;
         }
         return z;
     }
-    z.real = A_REAL_C(0.5) * a_real_atan2(z.real * 2, (1 + r) * (1 - r));
+    z.real = A_FLOAT_C(0.5) * a_float_atan2(z.real * 2, (1 + r) * (1 - r));
     return z;
 #endif /* A_HAVE_CATAN */
 }
 
 a_complex_s a_complex_asec(a_complex_s const z)
 {
     return a_complex_acos(a_complex_inv(z));
 }
 
-a_complex_s a_complex_asec_real(a_real_t const x)
+a_complex_s a_complex_asec_real(a_float_t const x)
 {
     a_complex_s z = A_COMPLEX_C(0.0, 0.0);
     if (x <= -1 || x >= 1)
     {
-        z.real = a_real_acos(1 / x);
+        z.real = a_float_acos(1 / x);
         return z;
     }
     if (x >= 0)
     {
-        z.imag = a_real_acosh(1 / x);
+        z.imag = a_float_acosh(1 / x);
         return z;
     }
-    z.imag = -a_real_acosh(-1 / x);
-    z.real = A_REAL_PI;
+    z.imag = -a_float_acosh(-1 / x);
+    z.real = A_FLOAT_PI;
     return z;
 }
 
 a_complex_s a_complex_acsc(a_complex_s const z)
 {
     return a_complex_asin(a_complex_inv(z));
 }
 
-a_complex_s a_complex_acsc_real(a_real_t const x)
+a_complex_s a_complex_acsc_real(a_float_t const x)
 {
     a_complex_s z = A_COMPLEX_C(0.0, 0.0);
     if (x <= -1 || x >= 1)
     {
-        z.real = a_real_asin(1 / x);
+        z.real = a_float_asin(1 / x);
         return z;
     }
     if (x >= 0)
     {
-        z.imag = -a_real_acosh(1 / x);
-        z.real = A_REAL_PI_2;
+        z.imag = -a_float_acosh(1 / x);
+        z.real = A_FLOAT_PI_2;
         return z;
     }
-    z.imag = a_real_acosh(-1 / x);
-    z.real = -A_REAL_PI_2;
+    z.imag = a_float_acosh(-1 / x);
+    z.real = -A_FLOAT_PI_2;
     return z;
 }
 
 a_complex_s a_complex_acot(a_complex_s z)
 {
     if (z.real == 0 && z.imag == 0)
     {
-        z.real = A_REAL_PI_2;
+        z.real = A_FLOAT_PI_2;
         return z;
     }
     return a_complex_atan(a_complex_inv(z));
 }
 
 #if defined(A_HAVE_CSINH) && (A_HAVE_CSINH + 0 < 1)
 #undef A_HAVE_CSINH
 #endif /* A_HAVE_CSINH */
 #if defined(A_HAVE_CSINH) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(csinh, a_complex_t);
+a_complex_t A_FLOAT_F1(csinh, a_complex_t);
 #endif /* A_HAVE_CSINH */
 a_complex_s a_complex_sinh(a_complex_s z)
 {
 #if defined(A_HAVE_CSINH) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(csinh, u.z);
+    u.z = A_FLOAT_F1(csinh, u.z);
     return u.s;
 #elif defined(A_HAVE_CSINH)
-    return A_REAL_F1(csinh, z);
+    return A_FLOAT_F1(csinh, z);
 #else /* !A_HAVE_CSINH */
-    a_real_t real = z.real;
-    a_real_t imag = z.imag;
-    z.real = a_real_sinh(real) * a_real_cos(imag);
-    z.imag = a_real_cosh(real) * a_real_sin(imag);
+    a_float_t const real = z.real;
+    a_float_t const imag = z.imag;
+    z.real = a_float_sinh(real) * a_float_cos(imag);
+    z.imag = a_float_cosh(real) * a_float_sin(imag);
     return z;
 #endif /* A_HAVE_CSINH */
 }
 
 #if defined(A_HAVE_CCOSH) && (A_HAVE_CCOSH + 0 < 1)
 #undef A_HAVE_CCOSH
 #endif /* A_HAVE_CCOSH */
 #if defined(A_HAVE_CCOSH) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(ccosh, a_complex_t);
+a_complex_t A_FLOAT_F1(ccosh, a_complex_t);
 #endif /* A_HAVE_CCOSH */
 a_complex_s a_complex_cosh(a_complex_s z)
 {
 #if defined(A_HAVE_CCOSH) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(ccosh, u.z);
+    u.z = A_FLOAT_F1(ccosh, u.z);
     return u.s;
 #elif defined(A_HAVE_CCOSH)
-    return A_REAL_F1(ccosh, z);
+    return A_FLOAT_F1(ccosh, z);
 #else /* !A_HAVE_CCOSH */
-    a_real_t real = z.real;
-    a_real_t imag = z.imag;
-    z.real = a_real_cosh(real) * a_real_cos(imag);
-    z.imag = a_real_sinh(real) * a_real_sin(imag);
+    a_float_t const real = z.real;
+    a_float_t const imag = z.imag;
+    z.real = a_float_cosh(real) * a_float_cos(imag);
+    z.imag = a_float_sinh(real) * a_float_sin(imag);
     return z;
 #endif /* A_HAVE_CCOSH */
 }
 
 #if defined(A_HAVE_CTANH) && (A_HAVE_CTANH + 0 < 1)
 #undef A_HAVE_CTANH
 #endif /* A_HAVE_CTANH */
 #if defined(A_HAVE_CTANH) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(ctanh, a_complex_t);
+a_complex_t A_FLOAT_F1(ctanh, a_complex_t);
 #endif /* A_HAVE_CTANH */
 a_complex_s a_complex_tanh(a_complex_s z)
 {
 #if defined(A_HAVE_CTANH) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(ctanh, u.z);
+    u.z = A_FLOAT_F1(ctanh, u.z);
     return u.s;
 #elif defined(A_HAVE_CTANH)
-    return A_REAL_F1(ctanh, z);
+    return A_FLOAT_F1(ctanh, z);
 #else /* !A_HAVE_CTANH */
-    a_real_t ci = a_real_cos(z.imag);
-    a_real_t sr = a_real_sinh(z.real);
-    a_real_t inv = 1 / (ci * ci + sr * sr);
-    z.imag = a_real_sin(z.imag * 2) * inv * A_REAL_C(0.5);
-    if (a_real_abs(z.real) < 1)
+    a_float_t const ci = a_float_cos(z.imag);
+    a_float_t const sr = a_float_sinh(z.real);
+    a_float_t const inv = 1 / (ci * ci + sr * sr);
+    z.imag = a_float_sin(z.imag * 2) * inv * A_FLOAT_C(0.5);
+    if (a_float_abs(z.real) < 1)
     {
-        z.real = a_real_sinh(z.real) * a_real_cosh(z.real) * inv;
+        z.real = a_float_sinh(z.real) * a_float_cosh(z.real) * inv;
         return z;
     }
-    a_real_t den = a_real_pow(ci / sr, 2) + 1;
-    z.real = 1 / (a_real_tanh(z.real) * den);
+    a_float_t const den = a_float_pow(ci / sr, 2) + 1;
+    z.real = 1 / (a_float_tanh(z.real) * den);
     return z;
 #endif /* A_HAVE_CTANH */
 }
 
 a_complex_s a_complex_sech(a_complex_s const z)
 {
     return a_complex_inv(a_complex_cosh(z));
@@ -872,124 +872,124 @@
     return a_complex_inv(a_complex_tanh(z));
 }
 
 #if defined(A_HAVE_CASINH) && (A_HAVE_CASINH + 0 < 1)
 #undef A_HAVE_CASINH
 #endif /* A_HAVE_CASINH */
 #if defined(A_HAVE_CASINH) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(casinh, a_complex_t);
+a_complex_t A_FLOAT_F1(casinh, a_complex_t);
 #endif /* A_HAVE_CASINH */
 a_complex_s a_complex_asinh(a_complex_s z)
 {
 #if defined(A_HAVE_CASINH) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(casinh, u.z);
+    u.z = A_FLOAT_F1(casinh, u.z);
     return u.s;
 #elif defined(A_HAVE_CASINH)
-    return A_REAL_F1(casinh, z);
+    return A_FLOAT_F1(casinh, z);
 #else /* !A_HAVE_CASINH */
     z = a_complex_mul_imag(z, 1);
     z = a_complex_asin(z);
     return a_complex_mul_imag(z, -1);
 #endif /* A_HAVE_CASINH */
 }
 
 #if defined(A_HAVE_CACOSH) && (A_HAVE_CACOSH + 0 < 1)
 #undef A_HAVE_CACOSH
 #endif /* A_HAVE_CACOSH */
 #if defined(A_HAVE_CACOSH) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(cacosh, a_complex_t);
+a_complex_t A_FLOAT_F1(cacosh, a_complex_t);
 #endif /* A_HAVE_CACOSH */
 a_complex_s a_complex_acosh(a_complex_s z)
 {
 #if defined(A_HAVE_CACOSH) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(cacosh, u.z);
+    u.z = A_FLOAT_F1(cacosh, u.z);
     return u.s;
 #elif defined(A_HAVE_CACOSH)
-    return A_REAL_F1(cacosh, z);
+    return A_FLOAT_F1(cacosh, z);
 #else /* !A_HAVE_CACOSH */
     z = a_complex_acsc(z);
     return a_complex_mul_imag(z, z.imag > 0 ? -1 : 1);
 #endif /* A_HAVE_CACOSH */
 }
 
-a_complex_s a_complex_acosh_real(a_real_t const x)
+a_complex_s a_complex_acosh_real(a_float_t const x)
 {
     a_complex_s z = A_COMPLEX_C(0.0, 0.0);
     if (x >= 1)
     {
-        z.real = a_real_acosh(x);
+        z.real = a_float_acosh(x);
         return z;
     }
     if (x >= -1)
     {
-        z.imag = a_real_acos(x);
+        z.imag = a_float_acos(x);
         return z;
     }
-    z.real = a_real_acos(-x);
-    z.imag = A_REAL_PI;
+    z.real = a_float_acos(-x);
+    z.imag = A_FLOAT_PI;
     return z;
 }
 
 #if defined(A_HAVE_CATANH) && (A_HAVE_CATANH + 0 < 1)
 #undef A_HAVE_CATANH
 #endif /* A_HAVE_CATANH */
 #if defined(A_HAVE_CATANH) && !defined A_COMPLEX_T
-a_complex_t A_REAL_F1(catanh, a_complex_t);
+a_complex_t A_FLOAT_F1(catanh, a_complex_t);
 #endif /* A_HAVE_CATANH */
 a_complex_s a_complex_atanh(a_complex_s z)
 {
 #if defined(A_HAVE_CATANH) && defined(A_COMPLEX_T)
     union
     {
         a_complex_s s;
         A_COMPLEX_T z;
     } u;
     u.s = z;
-    u.z = A_REAL_F1(catanh, u.z);
+    u.z = A_FLOAT_F1(catanh, u.z);
     return u.s;
 #elif defined(A_HAVE_CATANH)
-    return A_REAL_F1(catanh, z);
+    return A_FLOAT_F1(catanh, z);
 #else /* !A_HAVE_CATANH */
     if (z.imag == 0)
     {
         return a_complex_atanh_real(z.real);
     }
     z = a_complex_mul_imag(z, 1);
     z = a_complex_atan(z);
     return a_complex_mul_imag(z, -1);
 #endif /* A_HAVE_CATANH */
 }
 
-a_complex_s a_complex_atanh_real(a_real_t const x)
+a_complex_s a_complex_atanh_real(a_float_t const x)
 {
     a_complex_s z = A_COMPLEX_C(0.0, 0.0);
     if (x > -1 && x < 1)
     {
-        z.real = a_real_atanh(x);
+        z.real = a_float_atanh(x);
         return z;
     }
-    z.real = a_real_atanh(1 / x);
+    z.real = a_float_atanh(1 / x);
     if (x < 0)
     {
-        z.imag = A_REAL_PI_2;
+        z.imag = A_FLOAT_PI_2;
         return z;
     }
-    z.imag = -A_REAL_PI_2;
+    z.imag = -A_FLOAT_PI_2;
     return z;
 }
 
 a_complex_s a_complex_asech(a_complex_s const z)
 {
     return a_complex_acosh(a_complex_inv(z));
 }
```

### Comparing `liba-0.1.1rc6/src/fuzzy.c` & `liba-0.1.1rc7/src/fuzzy.c`

 * *Files 26% similar despite different names*

```diff
@@ -1,35 +1,35 @@
 #include "a/fuzzy.h"
-#include "a/real.h"
+#include "a/math.h"
 
-a_real_t a_fuzzy_or(a_uint_t const e, a_real_t const l, a_real_t const r)
+a_float_t a_fuzzy_or(unsigned int const e, a_float_t const l, a_float_t const r)
 {
     switch (e)
     {
     case A_FUZZY_ALGEBRA:
         return l + r - l * r;
     case A_FUZZY_BOUNDED:
-        return a_real_min(1, l + r);
+        return a_float_min(1, l + r);
     case A_FUZZY_DEFAULT:
     default:
-        return a_real_max(l, r);
+        return a_float_max(l, r);
     }
 }
 
-a_real_t a_fuzzy_and(a_uint_t const e, a_real_t const l, a_real_t const r)
+a_float_t a_fuzzy_and(unsigned int const e, a_float_t const l, a_float_t const r)
 {
     switch (e)
     {
     case A_FUZZY_ALGEBRA:
         return l * r;
     case A_FUZZY_BOUNDED:
-        return a_real_max(0, l + r - 1);
+        return a_float_max(0, l + r - 1);
     case A_FUZZY_DEFAULT:
     default:
-        return a_real_min(l, r);
+        return a_float_min(l, r);
     }
 }
 
-a_real_t a_fuzzy_equ(a_real_t const gamma, a_real_t const l, a_real_t const r)
+a_float_t a_fuzzy_equ(a_float_t const gamma, a_float_t const l, a_float_t const r)
 {
-    return a_real_pow(l * r, 1 - gamma) * a_real_pow(1 - (1 - l) * (1 - r), gamma);
+    return a_float_pow(l * r, 1 - gamma) * a_float_pow(1 - (1 - l) * (1 - r), gamma);
 }
```

### Comparing `liba-0.1.1rc6/src/host/que.c` & `liba-0.1.1rc7/src/host/que.c`

 * *Files 8% similar despite different names*

```diff
@@ -46,73 +46,73 @@
     if (obj == A_NULL)
     {
         return A_INVALID;
     }
     if (ctx->_mem <= ctx->_cur)
     {
         a_size_t const mem = ctx->_mem + (ctx->_mem >> 1) + 1;
-        a_que_node_s **const ptr = (a_que_node_s **)a_alloc(ctx->_ptr, sizeof(a_vptr_t) * mem);
+        a_que_node_s **const ptr = (a_que_node_s **)a_alloc(ctx->_ptr, sizeof(void *) * mem);
         if (a_unlikely(ptr == A_NULL))
         {
             return A_FAILURE;
         }
         ctx->_ptr = ptr;
         ctx->_mem = mem;
     }
     ctx->_ptr[ctx->_cur++] = obj;
     --ctx->_num;
     return A_SUCCESS;
 }
 
-static a_void_t a_que_drop_(a_que_s *const ctx)
+static void a_que_drop_(a_que_s *const ctx)
 {
     while (a_list_used(&ctx->_head))
     {
         a_que_node_s *const node = a_que_from(ctx->_head.prev);
         if (a_unlikely(a_que_node_die(ctx, node)))
         {
             break;
         }
         a_list_del_node(&node->_node);
         a_list_dtor(&node->_node);
     }
 }
 
-static A_INLINE a_void_t a_que_dtor_nop(a_vptr_t const vptr) { (void)(vptr); }
+static A_INLINE void a_que_dtor_nop(void *const ptr) { (void)(ptr); }
 
 a_que_s *a_que_new(a_size_t const size)
 {
     a_que_s *const ctx = (a_que_s *)a_alloc(A_NULL, sizeof(a_que_s));
     if (ctx)
     {
         a_que_ctor(ctx, size);
     }
     return ctx;
 }
 
-a_void_t a_que_die(a_que_s *const ctx, a_void_t (*const dtor)(a_vptr_t))
+void a_que_die(a_que_s *const ctx, void (*const dtor)(void *))
 {
     if (ctx)
     {
         a_que_dtor(ctx, dtor);
         a_alloc(ctx, 0);
     }
 }
 
-a_void_t a_que_ctor(a_que_s *const ctx, a_size_t const size)
+void a_que_ctor(a_que_s *const ctx, a_size_t const size)
 {
     a_list_ctor(&ctx->_head);
     ctx->_size = size ? size : sizeof(a_cast_u);
     ctx->_ptr = A_NULL;
     ctx->_num = 0;
     ctx->_cur = 0;
     ctx->_mem = 0;
 }
 
-a_void_t a_que_dtor(a_que_s *const ctx, a_void_t (*dtor)(a_vptr_t))
+void a_que_dtor(a_que_s *const ctx, void (*dtor)(void *))
 {
     a_que_drop_(ctx);
     dtor = dtor ? dtor : a_que_dtor_nop;
     while (ctx->_cur)
     {
         --ctx->_cur;
         dtor(ctx->_ptr[ctx->_cur]->_data);
@@ -128,135 +128,143 @@
 a_que_s *a_que_move(a_que_s *const ctx, a_que_s *const obj)
 {
     a_copy(ctx, obj, sizeof(*obj));
     a_zero(obj, sizeof(*obj));
     return ctx;
 }
 
-a_vptr_t a_que_at(a_que_s const *const ctx, a_imax_t const idx)
+void *a_que_at(a_que_s const *const ctx, a_imax_t const idx)
 {
     a_imax_t cur = 0;
-    a_vptr_t vptr = A_NULL;
+    void *ptr = A_NULL;
     if (idx < 0)
     {
         a_list_foreach_prev(it, &ctx->_head)
         {
             if (--cur == idx)
             {
-                vptr = a_que_from(it)->_data;
+                ptr = a_que_from(it)->_data;
                 break;
             }
         }
     }
     else
     {
         a_list_foreach_next(it, &ctx->_head)
         {
             if (cur++ == idx)
             {
-                vptr = a_que_from(it)->_data;
+                ptr = a_que_from(it)->_data;
                 break;
             }
         }
     }
-    return vptr;
+    return ptr;
 }
 
-a_void_t a_que_set(a_que_s *const ctx, a_size_t size, a_void_t (*const dtor)(a_vptr_t))
+void a_que_set(a_que_s *const ctx, a_size_t size, void (*const dtor)(void *))
 {
     size = size ? size : sizeof(a_cast_u);
     a_que_drop(ctx, dtor);
     ctx->_size = size;
 }
 
-a_void_t a_que_drop(a_que_s *const ctx, a_void_t (*dtor)(a_vptr_t))
+void a_que_drop(a_que_s *const ctx, void (*dtor)(void *))
 {
     a_que_drop_(ctx);
     dtor = dtor ? dtor : a_que_dtor_nop;
     for (a_size_t cur = ctx->_cur; cur--; ctx->_ptr[cur]->_data = A_NULL)
     {
         dtor(ctx->_ptr[cur]->_data);
         a_alloc(ctx->_ptr[cur]->_data, 0);
     }
 }
 
-a_int_t a_que_swap_(a_que_s const *const ctx, a_vptr_t const lhs, a_vptr_t const rhs)
+int a_que_swap_(a_que_s const *const ctx, void *const lhs, void *const rhs)
 {
     if (lhs == rhs)
     {
         return A_SUCCESS;
     }
     int ok = A_FAILURE;
     a_que_node_s *l = A_NULL;
     a_que_node_s *r = A_NULL;
     a_list_foreach_next(it, &ctx->_head)
     {
         a_que_node_s *const node = a_que_from(it);
-        if (node->_data == lhs)
+        if (node->_data == lhs || node->_data == rhs)
         {
-            l = node;
-        }
-        else if (node->_data == rhs)
-        {
-            r = node;
+            if (!l)
+            {
+                l = node;
+            }
+            else
+            {
+                r = node;
+            }
         }
-        if (l && r)
+        if (r)
         {
             a_list_swap_node(&l->_node, &r->_node);
             ok = A_SUCCESS;
             break;
         }
     }
     return ok;
 }
 
-a_void_t a_que_swap(a_que_s const *const ctx, a_size_t lhs, a_size_t rhs)
+void a_que_swap(a_que_s const *const ctx, a_size_t lhs, a_size_t rhs)
 {
     a_size_t cur = 0;
     a_size_t const num = ctx->_num - 1;
     lhs = lhs < ctx->_num ? lhs : num;
     rhs = rhs < ctx->_num ? rhs : num;
     if (lhs != rhs)
     {
         a_que_node_s *l = A_NULL;
         a_que_node_s *r = A_NULL;
         a_list_foreach_next(it, &ctx->_head)
         {
-            if (cur == lhs)
+            if (cur == lhs || cur == rhs)
             {
                 // because lhs less than num
                 // it's never a null pointer
-                l = a_que_from(it);
-            }
-            else if (cur == rhs)
-            {
-                // because rhs less than num
-                // it's never a null pointer
-                r = a_que_from(it);
+                if (!l)
+                {
+                    l = a_que_from(it);
+                }
+                else
+                {
+                    r = a_que_from(it);
+                }
+                if (!it)
+                {
+                    break;
+                }
             }
-            if (l && r)
+            if (r)
             {
                 a_list_swap_node(&l->_node, &r->_node);
                 break;
             }
             ++cur;
         }
     }
 }
 
-a_void_t a_que_sort_fore(a_que_s const *const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void a_que_sort_fore(a_que_s const *const ctx, int (*const cmp)(void const *, void const *))
 {
     if (ctx->_num > 1)
     {
         a_list_s *pt = A_NULL;
         a_list_s *const it = ctx->_head.next;
         for (a_list_s *at = it->next; at != &ctx->_head; at = at->next)
         {
-            a_vptr_t const lhs = a_que_from(it)->_data;
-            a_vptr_t const rhs = a_que_from(at)->_data;
+            void *const lhs = a_que_from(it)->_data;
+            void *const rhs = a_que_from(at)->_data;
             if (cmp(lhs, rhs) > 0)
             {
                 pt = at;
             }
             else
             {
                 break;
@@ -266,24 +274,24 @@
         {
             a_list_del_(it, it);
             a_list_add_(pt->next, pt, it, it);
         }
     }
 }
 
-a_void_t a_que_sort_back(a_que_s const *const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void a_que_sort_back(a_que_s const *const ctx, int (*const cmp)(void const *, void const *))
 {
     if (ctx->_num > 1)
     {
         a_list_s *pt = A_NULL;
         a_list_s *const it = ctx->_head.prev;
         for (a_list_s *at = it->prev; at != &ctx->_head; at = at->prev)
         {
-            a_vptr_t const lhs = a_que_from(at)->_data;
-            a_vptr_t const rhs = a_que_from(it)->_data;
+            void *const lhs = a_que_from(at)->_data;
+            void *const rhs = a_que_from(it)->_data;
             if (cmp(lhs, rhs) > 0)
             {
                 pt = at;
             }
             else
             {
                 break;
@@ -293,71 +301,71 @@
         {
             a_list_del_(it, it);
             a_list_add_(pt, pt->prev, it, it);
         }
     }
 }
 
-a_vptr_t a_que_push_fore(a_que_s *const ctx)
+void *a_que_push_fore(a_que_s *const ctx)
 {
     a_que_node_s *const node = a_que_node_new(ctx);
     if (a_unlikely(node == A_NULL))
     {
         return node;
     }
     a_list_add_next(&ctx->_head, &node->_node);
     return node->_data;
 }
 
-a_vptr_t a_que_push_back(a_que_s *const ctx)
+void *a_que_push_back(a_que_s *const ctx)
 {
     a_que_node_s *const node = a_que_node_new(ctx);
     if (a_unlikely(node == A_NULL))
     {
         return node;
     }
     a_list_add_prev(&ctx->_head, &node->_node);
     return node->_data;
 }
 
-a_vptr_t a_que_pull_fore(a_que_s *const ctx)
+void *a_que_pull_fore(a_que_s *const ctx)
 {
-    a_vptr_t data = A_NULL;
+    void *data = A_NULL;
     if (a_list_used(&ctx->_head))
     {
         a_que_node_s *const node = a_que_from(ctx->_head.next);
         if (a_unlikely(a_que_node_die(ctx, node)))
         {
             return data;
         }
         a_list_del_node(&node->_node);
         a_list_dtor(&node->_node);
         data = node->_data;
     }
     return data;
 }
 
-a_vptr_t a_que_pull_back(a_que_s *const ctx)
+void *a_que_pull_back(a_que_s *const ctx)
 {
-    a_vptr_t data = A_NULL;
+    void *data = A_NULL;
     if (a_list_used(&ctx->_head))
     {
         a_que_node_s *const node = a_que_from(ctx->_head.prev);
         if (a_unlikely(a_que_node_die(ctx, node)))
         {
             return data;
         }
         a_list_del_node(&node->_node);
         a_list_dtor(&node->_node);
         data = node->_data;
     }
     return data;
 }
 
-a_vptr_t a_que_insert(a_que_s *const ctx, a_size_t const idx)
+void *a_que_insert(a_que_s *const ctx, a_size_t const idx)
 {
     if (idx < ctx->_num)
     {
         a_size_t cur = 0;
         a_que_node_s *const node = a_que_node_new(ctx);
         if (a_unlikely(node == A_NULL))
         {
@@ -372,15 +380,15 @@
             }
         }
         return node->_data;
     }
     return a_que_push_back(ctx);
 }
 
-a_vptr_t a_que_remove(a_que_s *const ctx, a_size_t const idx)
+void *a_que_remove(a_que_s *const ctx, a_size_t const idx)
 {
     if (idx < ctx->_num)
     {
         a_size_t cur = 0;
         a_que_node_s *node = A_NULL;
         a_list_foreach_next(it, &ctx->_head)
         {
```

### Comparing `liba-0.1.1rc6/src/host/str.c` & `liba-0.1.1rc7/src/host/str.c`

 * *Files 8% similar despite different names*

```diff
@@ -1,97 +1,97 @@
 #if defined(_MSC_VER)
 #if !defined _CRT_SECURE_NO_WARNINGS
-#define _CRT_SECURE_NO_WARNINGS
+#define _CRT_SECURE_NO_WARNINGS // NOLINT
 #endif /* _CRT_SECURE_NO_WARNINGS */
 #endif /* _MSC_VER */
 #include "a/host/str.h"
 
 a_str_s *a_str_new(void)
 {
     a_str_s *const ctx = (a_str_s *)a_alloc(A_NULL, sizeof(a_str_s));
     if (ctx)
     {
         a_str_ctor(ctx);
     }
     return ctx;
 }
 
-a_void_t a_str_die(a_str_s *const ctx)
+void a_str_die(a_str_s *const ctx)
 {
     if (ctx)
     {
         a_str_dtor(ctx);
         a_alloc(ctx, 0);
     }
 }
 
-a_void_t a_str_ctor(a_str_s *const ctx)
+void a_str_ctor(a_str_s *const ctx)
 {
     ctx->_ptr = A_NULL;
     ctx->_num = 0;
     ctx->_mem = 0;
 }
 
-a_void_t a_str_dtor(a_str_s *const ctx)
+void a_str_dtor(a_str_s *const ctx)
 {
     if (ctx->_ptr)
     {
         a_alloc(ctx->_ptr, 0);
         ctx->_ptr = NULL;
     }
     ctx->_num = 0;
     ctx->_mem = 0;
 }
 
-a_int_t a_str_init(a_str_s *const ctx, a_cptr_t const pdata, a_size_t const nbyte)
+int a_str_init(a_str_s *const ctx, void const *const pdata, a_size_t const nbyte)
 {
     ctx->_num = nbyte;
     ctx->_mem = nbyte + 1;
-    ctx->_mem = a_align(sizeof(a_vptr_t), ctx->_mem);
-    ctx->_ptr = a_str_c(a_alloc(A_NULL, ctx->_mem));
+    ctx->_mem = a_align(sizeof(void *), ctx->_mem);
+    ctx->_ptr = (char *)a_alloc(A_NULL, ctx->_mem);
     if (a_unlikely(ctx->_ptr == A_NULL))
     {
         return A_FAILURE;
     }
     if (pdata && nbyte)
     {
         a_copy(ctx->_ptr, pdata, nbyte);
     }
     ctx->_ptr[ctx->_num] = 0;
     return A_SUCCESS;
 }
 
-a_int_t a_str_copy(a_str_s *const ctx, a_str_s const *const obj)
+int a_str_copy(a_str_s *const ctx, a_str_s const *const obj)
 {
     return a_str_init(ctx, obj->_ptr, obj->_num);
 }
 
 a_str_s *a_str_move(a_str_s *const ctx, a_str_s *const obj)
 {
     a_copy(ctx, obj, sizeof(*obj));
     a_zero(obj, sizeof(*obj));
     return ctx;
 }
 
-a_str_t a_str_exit(a_str_s *const ctx)
+char *a_str_exit(a_str_s *const ctx)
 {
-    a_str_t const str = ctx->_ptr;
+    char *const str = ctx->_ptr;
     if (ctx->_ptr)
     {
         ctx->_ptr[ctx->_num] = 0;
         ctx->_ptr = A_NULL;
     }
     ctx->_mem = 0;
     ctx->_num = 0;
     return str;
 }
 
-a_int_t a_str_cmp(a_str_s const *const lhs, a_str_s const *const rhs)
+int a_str_cmp(a_str_s const *const lhs, a_str_s const *const rhs)
 {
-    a_int_t ok = 0;
+    int ok = 0;
     if (lhs->_ptr && rhs->_ptr)
     {
         a_size_t const num = lhs->_num < rhs->_num ? lhs->_num : rhs->_num;
         ok = memcmp(lhs->_ptr, rhs->_ptr, num);
     }
     if (ok)
     {
@@ -100,92 +100,92 @@
     if (lhs->_num == rhs->_num)
     {
         return 0;
     }
     return lhs->_num < rhs->_num ? -1 : +1;
 }
 
-a_int_t a_str_alloc_(a_str_s *const ctx, a_size_t mem)
+int a_str_alloc_(a_str_s *const ctx, a_size_t mem)
 {
-    a_str_t str;
-    mem = a_align(sizeof(a_vptr_t), mem);
-    str = a_str_c(a_alloc(ctx->_ptr, mem));
+    char *str;
+    mem = a_align(sizeof(void *), mem);
+    str = (char *)a_alloc(ctx->_ptr, mem);
     if (a_unlikely(!str && mem))
     {
         return A_FAILURE;
     }
     ctx->_ptr = str;
     ctx->_mem = mem;
     return A_SUCCESS;
 }
 
-a_int_t a_str_alloc(a_str_s *const ctx, a_size_t const mem)
+int a_str_alloc(a_str_s *const ctx, a_size_t const mem)
 {
     return ctx->_mem < mem ? a_str_alloc_(ctx, mem) : A_SUCCESS;
 }
 
 #include <stdio.h>
 
-a_int_t a_str_getc_(a_str_s *const ctx)
+int a_str_getc_(a_str_s *const ctx)
 {
-    a_int_t c = EOF;
+    int c = EOF;
     if (ctx->_num)
     {
-        c = a_int_c(ctx->_ptr[--ctx->_num]);
+        c = (int)ctx->_ptr[--ctx->_num];
     }
     return c;
 }
 
-a_int_t a_str_getc(a_str_s *const ctx)
+int a_str_getc(a_str_s *const ctx)
 {
-    a_int_t c = EOF;
+    int c = EOF;
     if (ctx->_num)
     {
-        c = a_int_c(ctx->_ptr[--ctx->_num]);
+        c = (int)ctx->_ptr[--ctx->_num];
         ctx->_ptr[ctx->_num] = 0;
     }
     return c;
 }
 
-a_int_t a_str_putc_(a_str_s *const ctx, a_int_t const c)
+int a_str_putc_(a_str_s *const ctx, int const c)
 {
     if (a_unlikely(a_str_alloc(ctx, ctx->_num + 1)))
     {
         return EOF;
     }
-    ctx->_ptr[ctx->_num++] = a_char_c(c);
+    ctx->_ptr[ctx->_num++] = (char)c;
     return c;
 }
 
-a_int_t a_str_putc(a_str_s *const ctx, a_int_t const c)
+int a_str_putc(a_str_s *const ctx, int const c)
 {
     if (a_unlikely(a_str_alloc(ctx, ctx->_num + 2)))
     {
         return EOF;
     }
-    ctx->_ptr[ctx->_num++] = a_char_c(c);
+    ctx->_ptr[ctx->_num++] = (char)c;
     ctx->_ptr[ctx->_num] = 0;
     return c;
 }
 
-a_int_t a_str_putn_(a_str_s *const ctx, a_cptr_t const pdata, a_size_t const nbyte)
+int a_str_putn_(a_str_s *const ctx, void const *const pdata, a_size_t const nbyte)
 {
     if (pdata && nbyte)
     {
         if (a_unlikely(a_str_alloc(ctx, ctx->_num + nbyte)))
         {
             return A_FAILURE;
         }
         a_copy(ctx->_ptr + ctx->_num, pdata, nbyte);
         ctx->_num += nbyte;
     }
     return A_SUCCESS;
 }
 
-a_int_t a_str_putn(a_str_s *const ctx, a_cptr_t const pdata, a_size_t const nbyte)
+int a_str_putn(a_str_s *const ctx, void const *const pdata, a_size_t const nbyte)
 {
     if (pdata)
     {
         if (a_unlikely(a_str_alloc(ctx, ctx->_num + nbyte + 1)))
         {
             return A_FAILURE;
         }
@@ -195,72 +195,72 @@
             ctx->_num += nbyte;
         }
         ctx->_ptr[ctx->_num] = 0;
     }
     return A_SUCCESS;
 }
 
-a_int_t a_str_puts(a_str_s *const ctx, a_cptr_t const str)
+int a_str_puts(a_str_s *const ctx, void const *const str)
 {
-    return a_str_putn(ctx, str, strlen(A_CHAR_P(str)));
+    return a_str_putn(ctx, str, strlen((char const *)str));
 }
 
-a_int_t a_str_cat(a_str_s *const ctx, a_str_s const *const obj)
+int a_str_cat(a_str_s *const ctx, a_str_s const *const obj)
 {
     return a_str_putn(ctx, obj->_ptr, obj->_num);
 }
 
-a_int_t a_str_vprintf(a_str_s *const ctx, a_cstr_t const fmt, va_list va)
+int a_str_vprintf(a_str_s *const ctx, char const *const fmt, va_list va)
 {
     a_size_t siz;
     a_size_t mem;
-    a_str_t str;
-    a_int_t num;
+    char *str;
+    int num;
     va_list ap;
     va_copy(ap, va);
     mem = ctx->_mem - ctx->_num;
     str = ctx->_ptr ? ctx->_ptr + ctx->_num : A_NULL;
     num = vsnprintf(str, mem, fmt, ap);
     va_end(ap);
-    siz = a_size_c(num) + 1;
+    siz = (a_size_t)num + 1;
     if (siz > mem)
     {
         if (a_unlikely(a_str_alloc_(ctx, ctx->_num + siz)))
         {
             return EOF;
         }
         va_copy(ap, va);
         mem = ctx->_mem - ctx->_num;
         str = ctx->_ptr + ctx->_num;
         num = vsnprintf(str, mem, fmt, ap);
         va_end(ap);
     }
-    ctx->_num += a_size_c(num);
+    ctx->_num += (a_size_t)num;
     return num;
 }
 
-a_int_t a_str_printf(a_str_s *const ctx, a_cstr_t const fmt, ...)
+int a_str_printf(a_str_s *const ctx, char const *const fmt, ...)
 {
     va_list va;
     va_start(va, fmt);
-    a_int_t num = a_str_vprintf(ctx, fmt, va);
+    int num = a_str_vprintf(ctx, fmt, va);
     va_end(va);
     return num;
 }
 
 #include "a/utf.h"
 
 a_size_t a_str_utflen(a_str_s const *const ctx)
 {
     a_size_t length = 0;
     if (ctx->_num)
     {
-        a_uint_t offset;
-        a_cstr_t head = ctx->_ptr;
-        a_cstr_t const tail = head + ctx->_num;
+        unsigned int offset;
+        char const *head = ctx->_ptr;
+        char const *const tail = head + ctx->_num;
         while ((void)(offset = a_utf_decode(head, A_NULL)), offset)
         {
             ++length;
             head += offset;
             if (head >= tail)
             {
                 break;
```

### Comparing `liba-0.1.1rc6/src/host/vec.c` & `liba-0.1.1rc7/src/host/vector.c`

 * *Files 23% similar despite different names*

```diff
@@ -1,191 +1,217 @@
-#include "a/host/vec.h"
+#include "a/host/vector.h"
 
-#undef a_vec_at
-#undef a_vec_at_
-#undef a_vec_idx
-#undef a_vec_ptr
-#undef a_vec_end
-#undef a_vec_top
-#undef a_vec_end_
-#undef a_vec_top_
-#undef a_vec_push
-#undef a_vec_pull
-#undef a_vec_search
-#undef a_vec_insert
-#undef a_vec_remove
-#undef a_vec_push_fore
-#undef a_vec_push_back
-#undef a_vec_pull_fore
-#undef a_vec_pull_back
+#undef a_vector_at
+#undef a_vector_at_
+#undef a_vector_idx
+#undef a_vector_ptr
+#undef a_vector_end
+#undef a_vector_top
+#undef a_vector_top_
+#undef a_vector_push
+#undef a_vector_pull
+#undef a_vector_search
+#undef a_vector_insert
+#undef a_vector_remove
+#undef a_vector_push_fore
+#undef a_vector_push_back
+#undef a_vector_pull_fore
+#undef a_vector_pull_back
 
-static A_INLINE a_vptr_t a_vec_inc_(a_vec_s *const ctx)
+static A_INLINE void *a_vector_inc_(a_vector_s *const ctx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num++;
+    void *const last = ctx->_tail;
+    ctx->_tail = (a_byte_t *)ctx->_tail + ctx->_siz;
+    return (void)(++ctx->_num), last;
 }
 
-static A_INLINE a_vptr_t a_vec_dec_(a_vec_s *const ctx)
+static A_INLINE void *a_vector_dec_(a_vector_s *const ctx)
 {
-    return a_byte_p(ctx->_ptr) + ctx->_siz * --ctx->_num;
+    ctx->_tail = (a_byte_t *)ctx->_tail - ctx->_siz;
+    return (void)(--ctx->_num), ctx->_tail;
 }
 
-static a_void_t a_vec_drop_(a_vec_s *const ctx, a_size_t const bot, a_void_t (*const dtor)(a_vptr_t))
+static void a_vector_drop_(a_vector_s *const ctx, a_size_t const bot)
 {
-    if (dtor)
+    if (ctx->dtor)
     {
         while (ctx->_num > bot)
         {
-            dtor(a_vec_dec_(ctx));
+            ctx->dtor(a_vector_dec_(ctx));
         }
     }
+    ctx->_tail = (a_byte_t *)ctx->_head + ctx->_siz * bot;
     ctx->_num = bot;
 }
 
-static a_int_t a_vec_alloc(a_vec_s *const ctx, a_size_t const num)
+static int a_vector_alloc(a_vector_s *const ctx, a_size_t const num)
 {
     if (ctx->_mem <= num)
     {
         a_size_t mem = ctx->_mem;
         do
         {
             mem += (mem >> 1) + 1;
         } while (mem < num);
-        a_size_t const siz = a_align(sizeof(a_vptr_t), ctx->_siz * mem);
-        a_vptr_t ptr = a_alloc(ctx->_ptr, siz);
-        if (a_unlikely(ptr == A_NULL))
+        a_size_t const mem_ = mem * ctx->_siz;
+        a_size_t const num_ = ctx->_num * ctx->_siz;
+        a_size_t const size = a_align(sizeof(void *), mem_);
+        void *const head = a_alloc(ctx->_head, size);
+        if (a_unlikely(head == A_NULL))
         {
             return A_FAILURE;
         }
         ctx->_mem = mem;
-        ctx->_ptr = ptr;
+        ctx->_head = head;
+        ctx->_tail = (a_byte_t *)head + num_;
+        ctx->_last = (a_byte_t *)head + mem_;
     }
     return A_SUCCESS;
 }
 
-a_vec_s *a_vec_new(a_size_t const size)
+a_vector_s *a_vector_new(a_size_t const size,
+                         void (*const ctor)(void *),
+                         void (*const dtor)(void *))
 {
-    a_vec_s *const ctx = (a_vec_s *)a_alloc(A_NULL, sizeof(a_vec_s));
+    a_vector_s *const ctx = (a_vector_s *)a_alloc(A_NULL, sizeof(a_vector_s));
     if (ctx)
     {
-        a_vec_ctor(ctx, size);
+        a_vector_ctor(ctx, size, ctor, dtor);
     }
     return ctx;
 }
 
-a_void_t a_vec_die(a_vec_s *const ctx, a_void_t (*const dtor)(a_vptr_t))
+void a_vector_die(a_vector_s *const ctx)
 {
     if (ctx)
     {
-        a_vec_dtor(ctx, dtor);
+        a_vector_dtor(ctx);
         a_alloc(ctx, 0);
     }
 }
 
-a_void_t a_vec_ctor(a_vec_s *const ctx, a_size_t const size)
+void a_vector_ctor(a_vector_s *const ctx, a_size_t const size,
+                   void (*const ctor)(void *),
+                   void (*const dtor)(void *))
 {
     ctx->_siz = size ? size : sizeof(a_cast_u);
-    ctx->_ptr = A_NULL;
-    ctx->_mem = 0;
+    ctx->ctor = ctor;
+    ctx->dtor = dtor;
+    ctx->_last = A_NULL;
+    ctx->_tail = A_NULL;
+    ctx->_head = A_NULL;
     ctx->_num = 0;
+    ctx->_mem = 0;
 }
 
-a_void_t a_vec_dtor(a_vec_s *const ctx, a_void_t (*const dtor)(a_vptr_t))
+void a_vector_dtor(a_vector_s *const ctx)
 {
-    if (ctx->_ptr)
+    if (ctx->_head)
     {
-        a_vec_drop_(ctx, 0, dtor);
-        ctx->_ptr = a_alloc(ctx->_ptr, 0);
+        a_vector_drop_(ctx, 0);
+        ctx->_head = a_alloc(ctx->_head, 0);
     }
-    ctx->_mem = 0;
+    ctx->_tail = A_NULL;
+    ctx->_last = A_NULL;
     ctx->_siz = 0;
+    ctx->_mem = 0;
 }
 
-a_int_t a_vec_copy(a_vec_s *const ctx, a_vec_s const *const obj, a_int_t (*const dup)(a_vptr_t, a_cptr_t))
+int a_vector_copy(a_vector_s *const ctx, a_vector_s const *const obj, int (*const dup)(void *, void const *))
 {
-    ctx->_ptr = a_alloc(A_NULL, obj->_mem * obj->_siz);
-    if (a_unlikely(ctx->_ptr == A_NULL))
+    a_size_t const num_ = obj->_num * obj->_siz;
+    a_size_t const mem_ = obj->_mem * obj->_siz;
+    ctx->_head = a_alloc(A_NULL, mem_);
+    if (a_unlikely(ctx->_head == A_NULL))
     {
         return A_FAILURE;
     }
-    ctx->_siz = obj->_siz;
+    ctx->ctor = obj->ctor;
+    ctx->dtor = obj->dtor;
     ctx->_num = obj->_num;
     ctx->_mem = obj->_mem;
-    a_size_t const size = obj->_num * obj->_siz;
+    ctx->_siz = obj->_siz;
+    ctx->_tail = (a_byte_t *)ctx->_head + num_;
+    ctx->_last = (a_byte_t *)ctx->_head + mem_;
     if (dup)
     {
-        a_byte_t *dst = a_byte_p(ctx->_ptr);
-        a_byte_t *src = a_byte_p(obj->_ptr);
-        for (a_byte_t *const end = src + size; src != end;)
+        a_byte_t *dst = (a_byte_t *)ctx->_head;
+        a_byte_t *src = (a_byte_t *)obj->_head;
+        while (src != obj->_tail)
         {
             dup(dst, src);
-            dst += ctx->_siz;
-            src += ctx->_siz;
+            dst += obj->_siz;
+            src += obj->_siz;
         }
     }
     else
     {
-        a_copy(ctx->_ptr, obj->_ptr, size);
+        a_copy(ctx->_head, obj->_head, num_);
     }
     return A_SUCCESS;
 }
 
-a_vec_s *a_vec_move(a_vec_s *const ctx, a_vec_s *const obj)
+a_vector_s *a_vector_move(a_vector_s *const ctx, a_vector_s *const obj)
 {
     a_copy(ctx, obj, sizeof(*obj));
     a_zero(obj, sizeof(*obj));
     return ctx;
 }
 
-a_void_t a_vec_set(a_vec_s *const ctx, a_size_t size, a_void_t (*const dtor)(a_vptr_t))
+void a_vector_set(a_vector_s *const ctx, a_size_t size,
+                  void (*const ctor)(void *),
+                  void (*const dtor)(void *))
 {
     size = size ? size : sizeof(a_cast_u);
-    a_vec_drop_(ctx, 0, dtor);
+    a_vector_drop_(ctx, 0);
     ctx->_mem = ctx->_mem * ctx->_siz / size;
     ctx->_siz = size;
+    ctx->ctor = ctor;
+    ctx->dtor = dtor;
 }
 
-a_int_t a_vec_make(a_vec_s *const ctx, a_size_t const num, a_void_t (*const dtor)(a_vptr_t))
+int a_vector_make(a_vector_s *const ctx, a_size_t const num)
 {
-    if (a_unlikely(a_vec_alloc(ctx, num)))
+    if (a_unlikely(a_vector_alloc(ctx, num)))
     {
         return A_FAILURE;
     }
-    a_vec_drop_(ctx, num, dtor);
+    a_vector_drop_(ctx, num);
     return A_SUCCESS;
 }
 
-a_void_t a_vec_drop(a_vec_s *const ctx, a_void_t (*const dtor)(a_vptr_t))
+void a_vector_drop(a_vector_s *const ctx)
 {
-    a_vec_drop_(ctx, 0, dtor);
+    a_vector_drop_(ctx, 0);
 }
 
-a_void_t a_vec_swap(a_vec_s const *const ctx, a_size_t lhs, a_size_t rhs)
+void a_vector_swap(a_vector_s const *const ctx, a_size_t lhs, a_size_t rhs)
 {
     a_size_t const num = ctx->_num - 1;
     lhs = lhs < ctx->_num ? lhs : num;
     rhs = rhs < ctx->_num ? rhs : num;
     if (lhs != rhs)
     {
-        a_vptr_t const lobj = a_byte_p(ctx->_ptr) + lhs * ctx->_siz;
-        a_vptr_t const robj = a_byte_p(ctx->_ptr) + rhs * ctx->_siz;
+        void *const lobj = (a_byte_t *)ctx->_head + lhs * ctx->_siz;
+        void *const robj = (a_byte_t *)ctx->_head + rhs * ctx->_siz;
         a_swap(lobj, robj, ctx->_siz);
     }
 }
 
-a_void_t a_vec_sort(a_vec_s const *const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void a_vector_sort(a_vector_s const *const ctx, int (*const cmp)(void const *, void const *))
 {
-    qsort(ctx->_ptr, ctx->_num, ctx->_siz, cmp);
+    qsort(ctx->_head, ctx->_num, ctx->_siz, cmp);
 }
 
-a_void_t a_vec_sort_fore(a_vec_s const *const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void a_vector_sort_fore(a_vector_s const *const ctx, int (*const cmp)(void const *, void const *))
 {
     if (ctx->_num > 1)
     {
-        a_byte_t *ptr = a_byte_p(ctx->_ptr);
-        a_byte_t *const end = a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num - ctx->_siz;
+        a_byte_t *ptr = (a_byte_t *)ctx->_head;
+        a_byte_t *const end = (a_byte_t *)ctx->_tail - ctx->_siz;
         do
         {
             a_byte_t *const cur = ptr + ctx->_siz;
             if (cmp(ptr, cur) > 0)
             {
                 a_swap(cur, ptr, ctx->_siz);
             }
@@ -194,86 +220,101 @@
                 break;
             }
             ptr = cur;
         } while (ptr != end);
     }
 }
 
-a_void_t a_vec_sort_back(a_vec_s const *const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void a_vector_sort_back(a_vector_s const *const ctx, int (*const cmp)(void const *, void const *))
 {
     if (ctx->_num > 1)
     {
-        a_byte_t *ptr = a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num - ctx->_siz;
+        a_byte_t *ptr = (a_byte_t *)ctx->_tail - ctx->_siz;
         do
         {
             a_byte_t *const cur = ptr - ctx->_siz;
             if (cmp(cur, ptr) > 0)
             {
                 a_swap(cur, ptr, ctx->_siz);
             }
             else
             {
                 break;
             }
             ptr = cur;
-        } while (ptr != ctx->_ptr);
+        } while (ptr != ctx->_head);
     }
 }
 
-a_vptr_t a_vec_search(a_vec_s const *const ctx, a_cptr_t const obj, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+void *a_vector_search(a_vector_s const *const ctx, void const *const obj, int (*const cmp)(void const *, void const *))
 {
-    return bsearch(obj, ctx->_ptr, ctx->_num, ctx->_siz, cmp);
+    return bsearch(obj, ctx->_head, ctx->_num, ctx->_siz, cmp);
 }
 
-a_vptr_t a_vec_insert(a_vec_s *const ctx, a_size_t const idx)
+void *a_vector_insert(a_vector_s *const ctx, a_size_t const idx)
 {
-    if (a_unlikely(a_vec_alloc(ctx, ctx->_num)))
+    if (a_unlikely(a_vector_alloc(ctx, ctx->_num)))
     {
         return A_NULL;
     }
     if (idx < ctx->_num)
     {
-        a_byte_t *const src = a_byte_p(ctx->_ptr) + ctx->_siz * (idx + 0);
-        a_byte_t *const dst = a_byte_p(ctx->_ptr) + ctx->_siz * (idx + 1);
-        a_move(dst, src, (ctx->_num - idx) * ctx->_siz);
-        ++ctx->_num;
+        a_byte_t *const ptr = (a_byte_t *)ctx->_tail;
+        a_byte_t *const src = (a_byte_t *)ctx->_head + ctx->_siz * (idx + 0);
+        a_byte_t *const dst = (a_byte_t *)ctx->_head + ctx->_siz * (idx + 1);
+        a_move(dst, src, (a_size_t)(ptr - src));
+        a_vector_inc_(ctx);
+        if (ctx->ctor)
+        {
+            ctx->ctor(src);
+        }
         return src;
     }
-    return a_vec_inc_(ctx);
+    void *const obj = a_vector_inc_(ctx);
+    if (ctx->ctor)
+    {
+        ctx->ctor(obj);
+    }
+    return obj;
 }
 
-a_vptr_t a_vec_push_fore(a_vec_s *const ctx) { return a_vec_insert(ctx, 0); }
+void *a_vector_push_fore(a_vector_s *const ctx) { return a_vector_insert(ctx, 0); }
 
-a_vptr_t a_vec_push_back(a_vec_s *const ctx)
+void *a_vector_push_back(a_vector_s *const ctx)
 {
-    if (a_unlikely(a_vec_alloc(ctx, ctx->_num)))
+    if (a_unlikely(a_vector_alloc(ctx, ctx->_num)))
     {
         return A_NULL;
     }
-    return a_vec_inc_(ctx);
+    void *const obj = a_vector_inc_(ctx);
+    if (ctx->ctor)
+    {
+        ctx->ctor(obj);
+    }
+    return obj;
 }
 
-a_vptr_t a_vec_remove(a_vec_s *const ctx, a_size_t const idx)
+void *a_vector_remove(a_vector_s *const ctx, a_size_t const idx)
 {
     if (ctx->_num && idx < ctx->_num - 1)
     {
-        if (a_unlikely(a_vec_alloc(ctx, ctx->_num)))
+        if (a_unlikely(a_vector_alloc(ctx, ctx->_num)))
         {
             return A_NULL;
         }
-        a_byte_t *const ptr = a_byte_p(ctx->_ptr) + ctx->_siz * ctx->_num;
-        a_byte_t *const dst = a_byte_p(ctx->_ptr) + ctx->_siz * (idx + 0);
-        a_byte_t *const src = a_byte_p(ctx->_ptr) + ctx->_siz * (idx + 1);
+        a_byte_t *const ptr = (a_byte_t *)ctx->_tail;
+        a_byte_t *const dst = (a_byte_t *)ctx->_head + ctx->_siz * (idx + 0);
+        a_byte_t *const src = (a_byte_t *)ctx->_head + ctx->_siz * (idx + 1);
         a_copy(ptr, dst, ctx->_siz);
-        a_move(dst, src, a_size_c(ptr - src));
-        --ctx->_num;
+        a_move(dst, src, (a_size_t)(ptr - src));
+        a_vector_dec_(ctx);
         return ptr;
     }
-    return a_likely(ctx->_num) ? a_vec_dec_(ctx) : A_NULL;
+    return a_likely(ctx->_head != ctx->_tail) ? a_vector_dec_(ctx) : A_NULL;
 }
 
-a_vptr_t a_vec_pull_fore(a_vec_s *const ctx) { return a_vec_remove(ctx, 0); }
+void *a_vector_pull_fore(a_vector_s *const ctx) { return a_vector_remove(ctx, 0); }
 
-a_vptr_t a_vec_pull_back(a_vec_s *const ctx)
+void *a_vector_pull_back(a_vector_s *const ctx)
 {
-    return a_likely(ctx->_num) ? a_vec_dec_(ctx) : A_NULL;
+    return a_likely(ctx->_head != ctx->_tail) ? a_vector_dec_(ctx) : A_NULL;
 }
```

### Comparing `liba-0.1.1rc6/src/math.c` & `liba-0.1.1rc7/src/math.c`

 * *Files 14% similar despite different names*

```diff
@@ -79,15 +79,15 @@
     }
     else if (uy.u < (0x7F - 60) << 23)
     {
         z = MIN;
         x *= MAX;
         y *= MAX;
     }
-    return z * a_f32_sqrt(a_f32_c(a_f64_c(x) * a_f64_c(x) + a_f64_c(y) * a_f64_c(y)));
+    return z * a_f32_sqrt((a_f32_t)((a_f64_t)x * (a_f64_t)x + (a_f64_t)y * (a_f64_t)y));
 #undef MIN
 #undef MAX
 }
 
 #undef a_f64_hypot
 a_f64_t a_f64_hypot(a_f64_t x, a_f64_t y)
 {
@@ -107,15 +107,15 @@
 #define MIN A_F64_C(0x1P-700)
 #endif
     union
     {
         a_f64_t x;
         a_u64_t u;
     } ux, uy;
-    a_int_t ex, ey;
+    unsigned int ex, ey;
     a_f64_t hx, lx, hy, ly, z;
 
     ux.x = x;
     uy.x = y;
     ux.u &= A_U64_C(~0) >> 1;
     uy.u &= A_U64_C(~0) >> 1;
     if (ux.u < uy.u)
@@ -123,16 +123,16 @@
         ux.u ^= uy.u;
         uy.u ^= ux.u;
         ux.u ^= uy.u;
     }
 
     x = ux.x;
     y = uy.x;
-    ex = a_int_c(ux.u >> 52);
-    ey = a_int_c(uy.u >> 52);
+    ex = (unsigned int)(ux.u >> 52);
+    ey = (unsigned int)(uy.u >> 52);
     /* hypot(inf,nan) == inf */
     if (ey == 0x7FF)
     {
         return y;
     }
     if (ex == 0x7FF || uy.u == 0)
     {
@@ -228,15 +228,15 @@
 #undef U
 #endif
 }
 
 a_u32_t a_u32_sqrt(a_u32_t x, a_u32_t *const o)
 {
     a_u32_t y = 0;
-    for (a_uint_t i = 0; i < 32; i += 2)
+    for (unsigned int i = 0; i < 32; i += 2)
     {
         a_u32_t k = A_U32_C(0x40000000) >> i;
         a_u32_t j = y + k;
         if (x >= j)
         {
             x -= j;
             y = (y >> 1) | k;
@@ -252,15 +252,15 @@
     }
     return y;
 }
 
 a_u64_t a_u64_sqrt(a_u64_t x, a_u64_t *const o)
 {
     a_u64_t y = 0;
-    for (a_uint_t i = 0; i < 64; i += 2)
+    for (unsigned int i = 0; i < 64; i += 2)
     {
         a_u64_t k = A_U64_C(0x4000000000000000) >> i;
         a_u64_t j = y + k;
         if (x >= j)
         {
             x -= j;
             y = (y >> 1) | k;
@@ -272,7 +272,51 @@
     }
     if (o)
     {
         *o = x;
     }
     return y;
 }
+
+#undef a_float_log1p
+a_float_t a_float_log1p(a_float_t const x)
+{
+    return A_FLOAT_F1(log, x + 1);
+}
+
+#undef a_float_hypot
+a_float_t a_float_hypot(a_float_t const x, a_float_t const y)
+{
+#if A_FLOAT_TYPE + 0 == A_FLOAT_SINGLE
+    return a_f32_hypot(x, y);
+#elif A_FLOAT_TYPE + 0 == A_FLOAT_DOUBLE
+    return a_f64_hypot(x, y);
+#elif A_FLOAT_TYPE + 0 == A_FLOAT_EXTEND
+    return A_FLOAT_F1(sqrt, x * x + y * y);
+#endif /* A_FLOAT_TYPE */
+}
+
+#undef a_float_atan2
+a_float_t a_float_atan2(a_float_t const x, a_float_t const y)
+{
+    if (x > 0)
+    {
+        return A_FLOAT_F1(atan, y / x);
+    }
+    if (x < 0)
+    {
+        if (y >= 0)
+        {
+            return A_FLOAT_F1(atan, y / x) + A_FLOAT_PI;
+        }
+        return A_FLOAT_F1(atan, y / x) - A_FLOAT_PI;
+    }
+    if (y > 0)
+    {
+        return +A_FLOAT_PI;
+    }
+    if (y < 0)
+    {
+        return -A_FLOAT_PI;
+    }
+    return 0;
+}
```

### Comparing `liba-0.1.1rc6/src/pid.c` & `liba-0.1.1rc7/src/pid.c`

 * *Files 24% similar despite different names*

```diff
@@ -1,198 +1,109 @@
-#define LIBA_PID_C
 #include "pid.h"
 
-a_void_t a_pid_set_dt(a_pid_s *const ctx, a_real_t const dt)
+void a_pid_init(a_pid_s *const ctx, unsigned int const num)
 {
-    a_real_t const t = dt / ctx->dt;
-    ctx->ki *= t;
-    ctx->kd /= t;
-    ctx->dt = dt;
+    ctx->chan = num;
+    a_pid_zero(ctx);
 }
 
-a_pid_s *a_pid_off(a_pid_s *const ctx)
+void a_pid_chan(a_pid_s *const ctx, unsigned int const num, a_float_t *const out, a_float_t *const fdb, a_float_t *const tmp, a_float_t *const err)
 {
-    a_pid_set_mode(ctx, A_PID_OFF);
-    return ctx;
-}
-
-a_pid_s *a_pid_inc(a_pid_s *const ctx)
-{
-    a_pid_set_mode(ctx, A_PID_INC);
-    return ctx;
-}
-
-a_pid_s *a_pid_pos(a_pid_s *const ctx, a_real_t const max)
-{
-    ctx->summax = (max > 0) ? max : -max;
-    if (ctx->outmax < ctx->summax)
+    ctx->chan = num;
+    if (ctx->chan)
     {
-        ctx->summax = ctx->outmax;
+        A_PID_CHAN(ctx);
     }
-    a_pid_set_mode(ctx, A_PID_POS);
-    return ctx;
+    a_pid_zero(ctx);
 }
 
-a_pid_s *a_pid_kpid(a_pid_s *const ctx, a_real_t const kp, a_real_t const ki, a_real_t const kd)
+void a_pid_kpid(a_pid_s *const ctx, a_float_t const kp, a_float_t const ki, a_float_t const kd)
 {
     ctx->kp = kp;
-    ctx->ki = ki * ctx->dt;
-    ctx->kd = kd / ctx->dt;
-    return ctx;
+    ctx->ki = ki;
+    ctx->kd = kd;
 }
 
-a_pid_s *a_pid_chan(a_pid_s *const ctx, a_uint_t const num, a_real_t *const out, a_real_t *const fdb, a_real_t *const sum, a_real_t *const ec, a_real_t *const e)
+void a_pid_zero(a_pid_s *const ctx)
 {
-    if (num > 1)
+    if (ctx->chan)
     {
-        a_pid_set_num(ctx, num);
-        ctx->out.p = out;
-        ctx->fdb.p = fdb;
-        ctx->sum.p = sum;
-        ctx->ec.p = ec;
-        ctx->e.p = e;
+        for (unsigned int i = 0; i != ctx->chan; ++i)
+        {
+            A_PID_ZERO(ctx, .p[i]);
+        }
     }
     else
     {
-        a_pid_set_num(ctx, 0);
+        A_PID_ZERO(ctx, .f);
     }
-    return a_pid_zero(ctx);
 }
 
-a_pid_s *a_pid_init(a_pid_s *const ctx, a_real_t const dt, a_real_t const min, a_real_t const max)
+void a_pid_outf_(a_pid_s *const ctx, a_float_t const set, a_float_t const fdb, a_float_t const ec, a_float_t const e)
 {
-    ctx->reg = A_PID_OFF;
-    ctx->outmin = min;
-    ctx->outmax = max;
-    ctx->summax = 0;
-    ctx->num = 0;
-    ctx->dt = dt;
-    ctx->kp = 0;
-    ctx->ki = 0;
-    ctx->kd = 0;
-    return a_pid_zero(ctx);
-}
-
-a_pid_s *a_pid_exit(a_pid_s *const ctx) { return a_pid_zero(ctx); }
-
-a_pid_s *a_pid_zero(a_pid_s *const ctx)
+#define A_PID_OUT_(_)                                                                        \
+    /* calculation */                                                                        \
+    switch (ctx->mode)                                                                       \
+    {                                                                                        \
+    case A_PID_INC:                                                                          \
+    {                                                                                        \
+        a_float_t tmp = ctx->fdb _ - fdb;                                                    \
+        ctx->out _ += ctx->kp * ec + ctx->ki * e + ctx->kd * (tmp - ctx->tmp _);             \
+        ctx->tmp _ = tmp;                                                                    \
+        break;                                                                               \
+    }                                                                                        \
+    case A_PID_POS:                                                                          \
+    {                                                                                        \
+        a_float_t const sum = ctx->ki * e;                                                   \
+        /* when the limit of integration is exceeded or */                                   \
+        /* the direction of integration is the same, the integration stops. */               \
+        if ((-ctx->summax < ctx->tmp _ && ctx->tmp _ < ctx->summax) || ctx->tmp _ * sum < 0) \
+        {                                                                                    \
+            ctx->tmp _ += sum; /* sum = K_i[\sum^k_{i=0}e(i)] */                             \
+        }                                                                                    \
+        /* avoid derivative kick, fdb[k-1]-fdb[k] */                                         \
+        /* out = K_p[e(k)]+sum+K_d[fdb(k-1)-fdb(k)] */                                       \
+        ctx->out _ = ctx->kp * e + ctx->tmp _ + ctx->kd * (ctx->fdb _ - fdb);                \
+        break;                                                                               \
+    }                                                                                        \
+    case A_PID_OFF:                                                                          \
+    default:                                                                                 \
+        ctx->out _ = set;                                                                    \
+        ctx->tmp _ = 0;                                                                      \
+    }                                                                                        \
+    ctx->out _ = A_SAT(ctx->out _, ctx->outmin, ctx->outmax);                                \
+    ctx->fdb _ = fdb;                                                                        \
+    ctx->err _ = e
+    A_PID_OUT_(.f);
+}
+
+void a_pid_outp_(a_pid_s const *const ctx, a_float_t const set, a_float_t const fdb, a_float_t const ec, a_float_t const e, unsigned int const i)
 {
-    a_uint_t const num = a_pid_num(ctx);
-    if (num > 1)
-    {
-        for (a_uint_t i = 0; i != num; ++i)
-        {
-            ctx->sum.p[i] = 0;
-            ctx->out.p[i] = 0;
-            ctx->fdb.p[i] = 0;
-            ctx->ec.p[i] = 0;
-            ctx->e.p[i] = 0;
-        }
-    }
-    else
-    {
-        ctx->out.f = 0;
-        ctx->sum.f = 0;
-        ctx->fdb.f = 0;
-        ctx->ec.f = 0;
-        ctx->e.f = 0;
-    }
-    return ctx;
+    A_PID_OUT_(.p[i]);
 }
 
-a_real_t a_pid_outf_(a_pid_s *const ctx, a_uint_t const mode, a_real_t const set, a_real_t const fdb, a_real_t const ec, a_real_t const e)
+a_float_t a_pid_outf(a_pid_s *const ctx, a_float_t const set, a_float_t const fdb)
 {
-    /* calculation */
-    switch (mode)
-    {
-    case A_PID_INC:
-    {
-        /* K_p[e(k)-e(k-1)]+K_i[e(k)]+K_d[ec(k)-ec(k-1)] */
-        ctx->sum.f += ctx->kp * ec + ctx->ki * e + ctx->kd * (ec - ctx->ec.f);
-        ctx->out.f = ctx->sum.f;
-        break;
-    }
-    case A_PID_POS:
-    {
-        a_real_t const sum = ctx->ki * e;
-        /* when the limit of integration is exceeded or */
-        /* the direction of integration is the same, the integration stops. */
-        if ((-ctx->summax < ctx->sum.f && ctx->sum.f < ctx->summax) || ctx->sum.f * sum < 0)
-        {
-            /* sum = K_i[\sum^k_{i=0}e(i)] */
-            ctx->sum.f += sum;
-        }
-        /* avoid derivative kick, fdb[k-1]-fdb[k] */
-        /* out = K_p[e(k)]+sum+K_d[fdb(k-1)-fdb(k)] */
-        ctx->out.f = ctx->kp * e + ctx->sum.f + ctx->kd * (ctx->fdb.f - fdb);
-        break;
-    }
-    case A_PID_OFF:
-    default:
-        ctx->out.f = ctx->sum.f = set;
-    }
-    ctx->out.f = A_SAT(ctx->out.f, ctx->outmin, ctx->outmax);
-    /* cache data */
-    ctx->fdb.f = fdb;
-    ctx->ec.f = ec;
-    ctx->e.f = e;
+    a_float_t const e = set - fdb;
+    a_pid_outf_(ctx, set, fdb, e - ctx->err.f, e);
     return ctx->out.f;
 }
 
-a_real_t a_pid_outp_(a_pid_s *const ctx, a_uint_t const mode, a_real_t const set, a_real_t const fdb, a_real_t const ec, a_real_t const e, a_uint_t const i)
+a_float_t const *a_pid_outp(a_pid_s const *const ctx, a_float_t const *const set, a_float_t const *const fdb)
 {
-    /* calculation */
-    switch (mode)
-    {
-    case A_PID_INC:
-    {
-        /* K_p[e(k)-e(k-1)]+K_i[e(k)]+K_d[ec(k)-ec(k-1)] */
-        ctx->sum.p[i] += ctx->kp * ec + ctx->ki * e + ctx->kd * (ec - ctx->ec.p[i]);
-        ctx->out.p[i] = ctx->sum.p[i];
-        break;
-    }
-    case A_PID_POS:
+    for (unsigned int i = 0; i != ctx->chan; ++i)
     {
-        a_real_t const sum = ctx->ki * e;
-        /* when the limit of integration is exceeded or */
-        /* the direction of integration is the same, the integration stops. */
-        if ((-ctx->summax < ctx->sum.p[i] && ctx->sum.p[i] < ctx->summax) || ctx->sum.p[i] * sum < 0)
-        {
-            /* sum = K_i[\sum^k_{i=0}e(i)] */
-            ctx->sum.p[i] += sum;
-        }
-        /* avoid derivative kick, fdb[k-1]-fdb[k] */
-        /* out = K_p[e(k)]+sum+K_d[fdb(k-1)-fdb(k)] */
-        ctx->out.p[i] = ctx->kp * e + ctx->sum.p[i] + ctx->kd * (ctx->fdb.p[i] - fdb);
-        break;
+        a_float_t const e = set[i] - fdb[i];
+        a_pid_outp_(ctx, set[i], fdb[i], e - ctx->err.p[i], e, i);
     }
-    case A_PID_OFF:
-    default:
-        ctx->out.p[i] = ctx->sum.p[i] = set;
-    }
-    ctx->out.p[i] = A_SAT(ctx->out.p[i], ctx->outmin, ctx->outmax);
-    /* cache data */
-    ctx->fdb.p[i] = fdb;
-    ctx->ec.p[i] = ec;
-    ctx->e.p[i] = e;
-    return ctx->out.p[i];
-}
-
-a_real_t a_pid_outf(a_pid_s *const ctx, a_real_t const set, a_real_t const fdb)
-{
-    a_real_t const e = set - fdb;
-    a_real_t const ec = e - ctx->e.f;
-    return a_pid_outf_(ctx, a_pid_mode(ctx), set, fdb, ec, e);
+    return ctx->out.p;
 }
 
-a_real_t const *a_pid_outp(a_pid_s *const ctx, a_real_t const *const set, a_real_t const *const fdb)
+a_float_t const *a_pid_iter(a_pid_s *const ctx, a_float_t const *const set, a_float_t const *const fdb)
 {
-    a_uint_t const num = a_pid_num(ctx);
-    a_uint_t const mode = a_pid_mode(ctx);
-    for (a_uint_t i = 0; i != num; ++i)
+    if (ctx->chan)
     {
-        a_real_t const e = set[i] - fdb[i];
-        a_real_t const ec = e - ctx->e.p[i];
-        a_pid_outp_(ctx, mode, set[i], fdb[i], ec, e, i);
+        return a_pid_outp(ctx, set, fdb);
     }
-    return ctx->out.p;
+    a_pid_outf(ctx, *set, *fdb);
+    return &ctx->out.f;
 }
```

### Comparing `liba-0.1.1rc6/src/polytrack.c` & `liba-0.1.1rc7/src/polytrack.c`

 * *Files 14% similar despite different names*

```diff
@@ -1,108 +1,107 @@
 #include "a/polytrack.h"
 #include "a/poly.h"
 
 /* function for cubic polynomial trajectory */
 
-a_void_t a_polytrack3_gen(a_polytrack3_s *const ctx,
-                          a_real_t const t0, a_real_t const t1,
-                          a_real_t const q0, a_real_t const q1,
-                          a_real_t const v0, a_real_t const v1)
-{
-    a_real_t const q = q1 - q0;
-    a_real_t const t = t1 - t0;
-    a_real_t const inv_t1 = 1 / t;
-    a_real_t const inv_t2 = inv_t1 * inv_t1;
-    a_real_t const inv_t3 = inv_t1 * inv_t2;
-
+void a_polytrack3_gen(a_polytrack3_s *const ctx,
+                      a_float_t const t0, a_float_t const t1,
+                      a_float_t const q0, a_float_t const q1,
+                      a_float_t const v0, a_float_t const v1)
+{
+    a_float_t const q = q1 - q0;
+    a_float_t const t = t1 - t0;
+    a_float_t const inv_t1 = 1 / t;
+    a_float_t const inv_t2 = inv_t1 * inv_t1;
+    a_float_t const inv_t3 = inv_t1 * inv_t2;
     ctx->k[0] = q0;
     ctx->k[1] = v0;
     ctx->k[2] = inv_t1 * (-2 * v0 - v1) +
                 inv_t2 * q * 3;
     ctx->k[3] = inv_t2 * (v0 + v1) -
                 inv_t3 * q * 2;
 }
 
-a_void_t a_polytrack3_out(a_polytrack3_s const *const ctx, a_real_t dt, a_real_t out[3])
+void a_polytrack3_out(a_polytrack3_s const *const ctx, a_float_t dt, a_float_t out[3])
 {
-    a_real_t a[4];
+    a_float_t a[4];
     a[0] = ctx->k[3];
     a[1] = ctx->k[2];
     a[2] = ctx->k[1];
     a[3] = ctx->k[0];
     out[0] = a_poly_evar(a, 4, dt);
     a[0] *= 3;
     a[1] *= 2;
     out[1] = a_poly_evar(a, 3, dt);
     a[0] *= 2;
     out[2] = a_poly_evar(a, 2, dt);
 }
 
-a_real_t a_polytrack3_pos(a_polytrack3_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack3_pos(a_polytrack3_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[4];
+    a_float_t a[4];
     a[0] = ctx->k[3];
     a[1] = ctx->k[2];
     a[2] = ctx->k[1];
     a[3] = ctx->k[0];
     return a_poly_evar(a, 4, dt);
 }
 
-a_real_t a_polytrack3_vec(a_polytrack3_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack3_vel(a_polytrack3_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[3];
+    a_float_t a[3];
     a[0] = ctx->k[3] * 3;
     a[1] = ctx->k[2] * 2;
     a[2] = ctx->k[1];
     return a_poly_evar(a, 3, dt);
 }
 
-a_real_t a_polytrack3_acc(a_polytrack3_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack3_acc(a_polytrack3_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[2];
+    a_float_t a[2];
     a[0] = ctx->k[3] * 3 * 2;
     a[1] = ctx->k[2] * 2;
     return a_poly_evar(a, 2, dt);
 }
 
 /* function for quintic polynomial trajectory */
 
-a_void_t a_polytrack5_gen(a_polytrack5_s *const ctx,
-                          a_real_t const t0, a_real_t const t1,
-                          a_real_t const q0, a_real_t const q1,
-                          a_real_t const v0, a_real_t const v1,
-                          a_real_t const a0, a_real_t const a1)
-{
-    a_real_t const q = q1 - q0;
-    a_real_t const t = t1 - t0;
-    a_real_t const inv_t1 = 1 / t;
-    a_real_t const inv_t2 = inv_t1 * inv_t1;
-    a_real_t const inv_t3 = inv_t1 * inv_t2;
-    a_real_t const inv_t4 = inv_t2 * inv_t2;
-    a_real_t const inv_t5 = inv_t2 * inv_t3;
+void a_polytrack5_gen(a_polytrack5_s *const ctx,
+                      a_float_t const t0, a_float_t const t1,
+                      a_float_t const q0, a_float_t const q1,
+                      a_float_t const v0, a_float_t const v1,
+                      a_float_t const a0, a_float_t const a1)
+{
+    a_float_t const q = q1 - q0;
+    a_float_t const t = t1 - t0;
+    a_float_t const inv_t1 = 1 / t;
+    a_float_t const inv_t2 = inv_t1 * inv_t1;
+    a_float_t const inv_t3 = inv_t1 * inv_t2;
+    a_float_t const inv_t4 = inv_t2 * inv_t2;
+    a_float_t const inv_t5 = inv_t2 * inv_t3;
     ctx->k[0] = q0;
     ctx->k[1] = v0;
-    ctx->k[2] = a0 * a_real_c(1 / 2.0);
-    ctx->k[3] = a_real_c(1 / 2.0) *
+    ctx->k[2] = a0 * (a_float_t)(1 / 2.0);
+    ctx->k[3] = (a_float_t)(1 / 2.0) *
                 (inv_t1 * (a1 - 3 * a0) -
                  inv_t2 * (12 * v0 + 8 * v1) +
                  inv_t3 * q * 20);
-    ctx->k[4] = a_real_c(1 / 2.0) *
+    ctx->k[4] = (a_float_t)(1 / 2.0) *
                 (inv_t2 * (3 * a0 - 2 * a1) +
                  inv_t3 * (16 * v0 + 14 * v1) -
                  inv_t4 * q * 30);
-    ctx->k[5] = a_real_c(1 / 2.0) *
+    ctx->k[5] = (a_float_t)(1 / 2.0) *
                 (inv_t3 * (a1 - a0) -
                  inv_t4 * (v0 + v1) * 6 +
                  inv_t5 * q * 12);
 }
 
-a_void_t a_polytrack5_out(a_polytrack5_s const *const ctx, a_real_t dt, a_real_t out[3])
+void a_polytrack5_out(a_polytrack5_s const *const ctx, a_float_t dt, a_float_t out[3])
 {
-    a_real_t a[6];
+    a_float_t a[6];
     a[0] = ctx->k[5];
     a[1] = ctx->k[4];
     a[2] = ctx->k[3];
     a[3] = ctx->k[2];
     a[4] = ctx->k[1];
     a[5] = ctx->k[0];
     out[0] = a_poly_evar(a, 6, dt);
@@ -113,94 +112,94 @@
     out[1] = a_poly_evar(a, 5, dt);
     a[0] *= 4;
     a[1] *= 3;
     a[2] *= 2;
     out[2] = a_poly_evar(a, 4, dt);
 }
 
-a_real_t a_polytrack5_pos(a_polytrack5_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack5_pos(a_polytrack5_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[6];
+    a_float_t a[6];
     a[0] = ctx->k[5];
     a[1] = ctx->k[4];
     a[2] = ctx->k[3];
     a[3] = ctx->k[2];
     a[4] = ctx->k[1];
     a[5] = ctx->k[0];
     return a_poly_evar(a, 6, dt);
 }
 
-a_real_t a_polytrack5_vec(a_polytrack5_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack5_vel(a_polytrack5_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[5];
+    a_float_t a[5];
     a[0] = ctx->k[5] * 5;
     a[1] = ctx->k[4] * 4;
     a[2] = ctx->k[3] * 3;
     a[3] = ctx->k[2] * 2;
     a[4] = ctx->k[1];
     return a_poly_evar(a, 5, dt);
 }
 
-a_real_t a_polytrack5_acc(a_polytrack5_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack5_acc(a_polytrack5_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[4];
+    a_float_t a[4];
     a[0] = ctx->k[5] * 5 * 4;
     a[1] = ctx->k[4] * 4 * 3;
     a[2] = ctx->k[3] * 3 * 2;
     a[3] = ctx->k[2] * 2;
     return a_poly_evar(a, 4, dt);
 }
 
 /* function for hepta polynomial trajectory */
 
-a_void_t a_polytrack7_gen(a_polytrack7_s *const ctx,
-                          a_real_t const t0, a_real_t const t1,
-                          a_real_t const q0, a_real_t const q1,
-                          a_real_t const v0, a_real_t const v1,
-                          a_real_t const a0, a_real_t const a1,
-                          a_real_t const j0, a_real_t const j1)
-{
-    a_real_t const q = q1 - q0;
-    a_real_t const t = t1 - t0;
-    a_real_t const inv_t1 = 1 / t;
-    a_real_t const inv_t2 = inv_t1 * inv_t1;
-    a_real_t const inv_t3 = inv_t1 * inv_t2;
-    a_real_t const inv_t4 = inv_t2 * inv_t2;
-    a_real_t const inv_t5 = inv_t2 * inv_t3;
-    a_real_t const inv_t6 = inv_t3 * inv_t3;
-    a_real_t const inv_t7 = inv_t3 * inv_t4;
+void a_polytrack7_gen(a_polytrack7_s *const ctx,
+                      a_float_t const t0, a_float_t const t1,
+                      a_float_t const q0, a_float_t const q1,
+                      a_float_t const v0, a_float_t const v1,
+                      a_float_t const a0, a_float_t const a1,
+                      a_float_t const j0, a_float_t const j1)
+{
+    a_float_t const q = q1 - q0;
+    a_float_t const t = t1 - t0;
+    a_float_t const inv_t1 = 1 / t;
+    a_float_t const inv_t2 = inv_t1 * inv_t1;
+    a_float_t const inv_t3 = inv_t1 * inv_t2;
+    a_float_t const inv_t4 = inv_t2 * inv_t2;
+    a_float_t const inv_t5 = inv_t2 * inv_t3;
+    a_float_t const inv_t6 = inv_t3 * inv_t3;
+    a_float_t const inv_t7 = inv_t3 * inv_t4;
     ctx->k[0] = q0;
     ctx->k[1] = v0;
-    ctx->k[2] = a0 * a_real_c(1 / 2.0);
-    ctx->k[3] = j0 * a_real_c(1 / 6.0);
-    ctx->k[4] = a_real_c(1 / 6.0) *
+    ctx->k[2] = a0 * (a_float_t)(1 / 2.0);
+    ctx->k[3] = j0 * (a_float_t)(1 / 6.0);
+    ctx->k[4] = (a_float_t)(1 / 6.0) *
                 (inv_t1 * (-4 * j0 - j1) +
                  inv_t2 * (15 * a1 - 30 * a0) -
                  inv_t3 * (120 * v0 + 90 * v1) +
                  inv_t4 * q * 210);
-    ctx->k[5] = a_real_c(1 / 2.0) *
+    ctx->k[5] = (a_float_t)(1 / 2.0) *
                 (inv_t2 * (2 * j0 + j1) +
                  inv_t3 * (20 * a0 - 14 * a1) +
                  inv_t4 * (90 * v0 + 78 * v1) -
                  inv_t5 * q * 168);
-    ctx->k[6] = a_real_c(1 / 6.0) *
+    ctx->k[6] = (a_float_t)(1 / 6.0) *
                 (inv_t3 * (-4 * j0 - 3 * j1) +
                  inv_t4 * (39 * a1 - 45 * a0) -
                  inv_t5 * (216 * v0 + 204 * v1) +
                  inv_t6 * q * 420);
-    ctx->k[7] = a_real_c(1 / 6.0) *
+    ctx->k[7] = (a_float_t)(1 / 6.0) *
                 (inv_t4 * (j0 + j1) +
                  inv_t5 * (a0 - a1) * 12 +
                  inv_t6 * (v0 + v1) * 60 -
                  inv_t7 * q * 120);
 }
 
-a_void_t a_polytrack7_out(a_polytrack7_s const *const ctx, a_real_t dt, a_real_t out[4])
+void a_polytrack7_out(a_polytrack7_s const *const ctx, a_float_t dt, a_float_t out[4])
 {
-    a_real_t a[8];
+    a_float_t a[8];
     a[0] = ctx->k[7];
     a[1] = ctx->k[6];
     a[2] = ctx->k[5];
     a[3] = ctx->k[4];
     a[4] = ctx->k[3];
     a[5] = ctx->k[2];
     a[6] = ctx->k[1];
@@ -222,56 +221,56 @@
     a[0] *= 5;
     a[1] *= 4;
     a[2] *= 3;
     a[3] *= 2;
     out[3] = a_poly_evar(a, 5, dt);
 }
 
-a_real_t a_polytrack7_pos(a_polytrack7_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack7_pos(a_polytrack7_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[8];
+    a_float_t a[8];
     a[0] = ctx->k[7];
     a[1] = ctx->k[6];
     a[2] = ctx->k[5];
     a[3] = ctx->k[4];
     a[4] = ctx->k[3];
     a[5] = ctx->k[2];
     a[6] = ctx->k[1];
     a[7] = ctx->k[0];
     return a_poly_evar(a, 8, dt);
 }
 
-a_real_t a_polytrack7_vec(a_polytrack7_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack7_vel(a_polytrack7_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[7];
+    a_float_t a[7];
     a[0] = ctx->k[7] * 7;
     a[1] = ctx->k[6] * 6;
     a[2] = ctx->k[5] * 5;
     a[3] = ctx->k[4] * 4;
     a[4] = ctx->k[3] * 3;
     a[5] = ctx->k[2] * 2;
     a[6] = ctx->k[1];
     return a_poly_evar(a, 7, dt);
 }
 
-a_real_t a_polytrack7_acc(a_polytrack7_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack7_acc(a_polytrack7_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[6];
+    a_float_t a[6];
     a[0] = ctx->k[7] * 7 * 6;
     a[1] = ctx->k[6] * 6 * 5;
     a[2] = ctx->k[5] * 5 * 4;
     a[3] = ctx->k[4] * 4 * 3;
     a[4] = ctx->k[3] * 3 * 2;
     a[5] = ctx->k[2] * 2;
     return a_poly_evar(a, 6, dt);
 }
 
-a_real_t a_polytrack7_jer(a_polytrack7_s const *const ctx, a_real_t const dt)
+a_float_t a_polytrack7_jer(a_polytrack7_s const *const ctx, a_float_t const dt)
 {
-    a_real_t a[5];
+    a_float_t a[5];
     a[0] = ctx->k[7] * 7 * 6 * 5;
     a[1] = ctx->k[6] * 6 * 5 * 4;
     a[2] = ctx->k[5] * 5 * 4 * 3;
     a[3] = ctx->k[4] * 4 * 3 * 2;
     a[4] = ctx->k[3] * 3 * 2;
     return a_poly_evar(a, 5, dt);
 }
```

### Comparing `liba-0.1.1rc6/src/rbt.c` & `liba-0.1.1rc7/src/rbt.c`

 * *Files 18% similar despite different names*

```diff
@@ -1,51 +1,51 @@
 #include "a/rbt.h"
 
 /* Sets the parent and color of the specified red–black tree node. */
-static A_INLINE a_void_t a_rbt_set_parent_color(a_rbt_s *const node, a_rbt_s *const parent, a_uint_t const color)
+static A_INLINE void a_rbt_set_parent_color(a_rbt_s *const node, a_rbt_s *const parent, unsigned int const color)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
     node->_parent = (a_uptr_t)parent | color;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     node->parent = parent;
     node->color = color;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
 /* Sets the parent of the specified red–black tree node. */
-static A_INLINE a_void_t a_rbt_set_parent(a_rbt_s *const node, a_rbt_s *const parent)
+static A_INLINE void a_rbt_set_parent(a_rbt_s *const node, a_rbt_s *const parent)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
     node->_parent = (a_uptr_t)parent | (node->_parent & 1);
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     node->parent = parent;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
 /* Returns the color of the specified red–black tree node. */
-static A_INLINE a_uint_t a_rbt_color(a_rbt_s const *const node)
+static A_INLINE unsigned int a_rbt_color(a_rbt_s const *const node)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
-    return (a_uint_t)(node->_parent & 1);
-#else /* !A_SIZE_VPTR */
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
+    return (unsigned int)(node->_parent & 1);
+#else /* !A_SIZE_POINTER */
     return node->color;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
 /* Sets the black color of the specified red–black tree node. */
-static A_INLINE a_void_t a_rbt_set_black(a_rbt_s *const node)
+static A_INLINE void a_rbt_set_black(a_rbt_s *const node)
 {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
     node->_parent |= A_RBT_B;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     node->color = A_RBT_B;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
 }
 
-static A_INLINE a_void_t a_rbt_mod_child(a_rbt_u *const root, a_rbt_s *const parent, a_rbt_s *const oldnode, a_rbt_s *const newnode)
+static A_INLINE void a_rbt_set_child(a_rbt_u *const root, a_rbt_s *const parent, a_rbt_s *const oldnode, a_rbt_s *const newnode)
 {
     if (parent)
     {
         if (parent->left == oldnode)
         {
             parent->left = newnode;
         }
@@ -80,28 +80,28 @@
 */
 
 /*
 Helper function for rotations:
  - old's parent and color get assigned to new
  - old gets assigned new as a parent and 'color' as a color.
 */
-static A_INLINE a_void_t a_rbt_set_parents(a_rbt_u *const root, a_rbt_s *const oldnode, a_rbt_s *const newnode, a_uint_t const color)
+static A_INLINE void a_rbt_set_parents(a_rbt_u *const root, a_rbt_s *const oldnode, a_rbt_s *const newnode, unsigned int const color)
 {
     a_rbt_s *const parent = a_rbt_parent(oldnode);
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
     newnode->_parent = oldnode->_parent;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
     newnode->parent = oldnode->parent;
     newnode->color = oldnode->color;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
     a_rbt_set_parent_color(oldnode, newnode, color);
-    a_rbt_mod_child(root, parent, oldnode, newnode);
+    a_rbt_set_child(root, parent, oldnode, newnode);
 }
 
-a_void_t a_rbt_insert_adjust(a_rbt_u *const root, a_rbt_s *node)
+void a_rbt_insert_adjust(a_rbt_u *const root, a_rbt_s *node)
 {
     for (a_rbt_s *parent = a_rbt_parent(node), *gparent, *tmp;;)
     {
         /* Loop invariant: node is red. */
         if (a_unlikely(!parent))
         {
             /*
@@ -161,15 +161,14 @@
                 parent->right = tmp;
                 node->left = parent;
                 if (tmp)
                 {
                     a_rbt_set_parent_color(tmp, parent, A_RBT_B);
                 }
                 a_rbt_set_parent_color(parent, node, A_RBT_R);
-                // a_bst_augment_rotate(parent, node);
                 parent = node;
                 tmp = node->right;
             }
             /*
             Case 3 - node's uncle is black and node is
             the parent's left child (right rotate at gparent).
 
@@ -225,28 +224,28 @@
             }
             a_rbt_set_parents(root, gparent, parent, A_RBT_R);
             break;
         }
     }
 }
 
-static A_INLINE a_void_t a_rbt_remove_adjust(a_rbt_u *const root, a_rbt_s *node, a_rbt_s *parent)
+static A_INLINE void a_rbt_remove_adjust(a_rbt_u *const root, a_rbt_s *parent)
 {
-    for (a_rbt_s *sibling, *tmp1, *tmp2;;)
+    for (a_rbt_s *node = A_NULL, *sibling, *tmp1, *tmp2;;)
     {
         /*
         Loop invariants:
          - node is black (or NULL on first iteration)
          - node is not the root (parent is not NULL)
          - All leaf paths going through parent and node have a
            black node count that is 1 lower than other leaf paths.
         */
-        sibling = parent->right;
-        if (node != sibling) /* node == parent->left */
+        if (node != parent->right) /* node == parent->left */
         {
+            sibling = parent->right;
             if (a_rbt_color(sibling) == A_RBT_R)
             {
                 /*
                 Case 1 - left rotate at parent
 
                       P               S
                      / \             / \
@@ -345,15 +344,15 @@
             if (tmp2)
             {
                 a_rbt_set_parent(tmp2, parent);
             }
             a_rbt_set_parents(root, parent, sibling, A_RBT_B);
             break;
         }
-        else
+        else if (parent->left)
         {
             sibling = parent->left;
             if (a_rbt_color(sibling) == A_RBT_R)
             {
                 /* Case 1 - right rotate at parent */
                 tmp1 = sibling->right;
                 parent->left = tmp1;
@@ -405,75 +404,77 @@
             if (tmp2)
             {
                 a_rbt_set_parent(tmp2, parent);
             }
             a_rbt_set_parents(root, parent, sibling, A_RBT_B);
             break;
         }
+        else
+        {
+            break;
+        }
     }
 }
 
-a_void_t a_rbt_remove(a_rbt_u *const root, a_rbt_s *const node)
+void a_rbt_remove(a_rbt_u *const root, a_rbt_s *const node)
 {
-    a_rbt_s *tmp = node->left;
     a_rbt_s *child = node->right;
+    a_rbt_s *tmp = node->left;
     a_rbt_s *parent, *adjust;
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
     a_uptr_t pc;
-#else /* !A_SIZE_VPTR */
-    a_uint_t color;
-#endif /* A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
+    unsigned int color;
+#endif /* A_SIZE_POINTER */
 
     if (!tmp)
     {
         /*
         Case 1: node to erase has no more than 1 child (easy!)
         Note that if there is one child it must be red due to 5) and node must be black due to 4).
         We adjust colors locally so as to bypass a_rbt_remove_adjust() later on.
         */
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
         pc = node->_parent;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
         color = node->color;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
         parent = a_rbt_parent(node);
-        a_rbt_mod_child(root, parent, node, child);
+        a_rbt_set_child(root, parent, node, child);
         if (child)
         {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
             child->_parent = pc;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
             child->parent = parent;
             child->color = color;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
             adjust = A_NULL;
         }
         else
         {
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
             adjust = (pc & 1) == A_RBT_B ? parent : A_NULL;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
             adjust = color == A_RBT_B ? parent : A_NULL;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
         }
-        tmp = parent;
     }
     else if (!child)
     {
         /* Still case 1, but this time the child is node->left */
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
         tmp->_parent = node->_parent;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
         tmp->parent = node->parent;
         tmp->color = node->color;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
         parent = a_rbt_parent(node);
-        a_rbt_mod_child(root, parent, node, tmp);
+        a_rbt_set_child(root, parent, node, tmp);
         adjust = A_NULL;
-        tmp = parent;
     }
     else
     {
         a_rbt_s *successor = child, *child2;
 
         tmp = child->left;
         if (!tmp)
@@ -517,54 +518,53 @@
             a_rbt_set_parent(child, successor);
         }
 
         tmp = node->left;
         successor->left = tmp;
         a_rbt_set_parent(tmp, successor);
 
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
         pc = node->_parent;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
         color = node->color;
-#endif /* A_SIZE_VPTR */
+#endif /* A_SIZE_POINTER */
         tmp = a_rbt_parent(node);
-        a_rbt_mod_child(root, node, successor, tmp);
+        a_rbt_set_child(root, node, successor, tmp);
 
         if (child2)
         {
             a_rbt_set_parent_color(child2, parent, A_RBT_B);
             adjust = A_NULL;
         }
         else
         {
             adjust = a_rbt_color(successor) == A_RBT_B ? parent : A_NULL;
         }
-#if defined(A_SIZE_VPTR) && (A_SIZE_VPTR + 0 > 1)
+#if defined(A_SIZE_POINTER) && (A_SIZE_POINTER + 0 > 1)
         successor->_parent = pc;
-#else /* !A_SIZE_VPTR */
+#else /* !A_SIZE_POINTER */
         successor->parent = tmp;
         successor->color = color;
-#endif /* A_SIZE_VPTR */
-        tmp = successor;
+#endif /* A_SIZE_POINTER */
     }
 
     if (adjust)
     {
-        a_rbt_remove_adjust(root, child, adjust);
+        a_rbt_remove_adjust(root, adjust);
     }
 }
 
-a_rbt_s *a_rbt_insert(a_rbt_u *const root, a_rbt_s *const node, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+a_rbt_s *a_rbt_insert(a_rbt_u *const root, a_rbt_s *const node, int (*const cmp)(void const *, void const *))
 {
     a_rbt_s *parent = root->node;
     a_rbt_s **link = &root->node;
     while (*link)
     {
         parent = *link;
-        a_int_t const res = cmp(node, parent);
+        int const res = cmp(node, parent);
         if (res < 0)
         {
             link = &parent->left;
         }
         else if (res > 0)
         {
             link = &parent->right;
@@ -575,19 +575,19 @@
         }
     }
     *link = a_rbt_init(node, parent);
     a_rbt_insert_adjust(root, node);
     return A_NULL;
 }
 
-a_rbt_s *a_rbt_search(a_rbt_u const *const root, a_cptr_t const ctx, a_int_t (*const cmp)(a_cptr_t, a_cptr_t))
+a_rbt_s *a_rbt_search(a_rbt_u const *const root, void const *const ctx, int (*const cmp)(void const *, void const *))
 {
     for (a_rbt_s *cur = root->node; cur;)
     {
-        a_int_t const res = cmp(ctx, cur);
+        int const res = cmp(ctx, cur);
         if (res < 0)
         {
             cur = cur->left;
         }
         else if (res > 0)
         {
             cur = cur->right;
@@ -738,14 +738,16 @@
             break;
         }
         last = node;
     }
     return node;
 }
 
+a_rbt_s *a_rbt_post_head(a_rbt_u const *const root)
+{
 #define A_RBT_POST_NEXT(node)       \
     do                              \
     {                               \
         if ((node)->left)           \
         {                           \
             (node) = (node)->left;  \
         }                           \
@@ -753,26 +755,25 @@
         {                           \
             (node) = (node)->right; \
         }                           \
         else                        \
         {                           \
             break;                  \
         }                           \
-    } while (A_TRUE)
-
-a_rbt_s *a_rbt_post_head(a_rbt_u const *const root)
-{
+    } while (!0)
     a_rbt_s *node = root->node;
     if (node)
     {
         A_RBT_POST_NEXT(node);
     }
     return node;
 }
 
+a_rbt_s *a_rbt_post_tail(a_rbt_u const *const root)
+{
 #define A_RBT_POST_PREV(node)       \
     do                              \
     {                               \
         if ((node)->right)          \
         {                           \
             (node) = (node)->right; \
         }                           \
@@ -780,18 +781,15 @@
         {                           \
             (node) = (node)->left;  \
         }                           \
         else                        \
         {                           \
             break;                  \
         }                           \
-    } while (A_TRUE)
-
-a_rbt_s *a_rbt_post_tail(a_rbt_u const *const root)
-{
+    } while (!0)
     a_rbt_s *node = root->node;
     if (node)
     {
         A_RBT_POST_PREV(node);
     }
     return node;
 }
```

