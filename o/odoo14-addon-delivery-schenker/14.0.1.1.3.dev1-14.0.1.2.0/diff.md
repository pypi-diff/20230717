# Comparing `tmp/odoo14_addon_delivery_schenker-14.0.1.1.3.dev1-py3-none-any.whl.zip` & `tmp/odoo14_addon_delivery_schenker-14.0.1.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,34 +1,35 @@
-Zip file size: 54441 bytes, number of entries: 32
--rw-r--r--  2.0 unx     6556 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/__init__.py
--rw-r--r--  2.0 unx      796 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/__manifest__.py
--rw-r--r--  2.0 unx     9223 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/api/fat_bookingWebServiceV1_1.wsdl
--rw-r--r--  2.0 unx     4325 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/api/fat_trackingWebServiceV2.wsdl
--rw-r--r--  2.0 unx     9215 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/api/prod_bookingWebServiceV1_1.wsdl
--rw-r--r--  2.0 unx     4313 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/api/prod_trackingWebServiceV2.wsdl
--rw-r--r--  2.0 unx     5843 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/data/delivery_schenker_data.xml
--rw-r--r--  2.0 unx    25945 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/i18n/delivery_schenker.pot
--rw-r--r--  2.0 unx    28482 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/i18n/es.po
--rw-r--r--  2.0 unx      122 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/models/__init__.py
--rw-r--r--  2.0 unx    26767 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/models/delivery_carrier.py
--rw-r--r--  2.0 unx      431 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/models/product_packaging.py
--rw-r--r--  2.0 unx     7584 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/models/schenker_request.py
--rw-r--r--  2.0 unx      713 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/models/stock_picking.py
--rw-r--r--  2.0 unx      536 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      176 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      119 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      287 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/readme/INSTALL.rst
--rw-r--r--  2.0 unx     1175 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/readme/ROADMAP.rst
--rw-r--r--  2.0 unx     1558 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/readme/USAGE.rst
--rw-r--r--  2.0 unx     3740 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/static/description/icon.png
--rw-r--r--  2.0 unx    21664 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/static/description/icon.svg
--rw-r--r--  2.0 unx    17852 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/static/description/index.html
--rw-r--r--  2.0 unx       37 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/tests/__init__.py
--rw-r--r--  2.0 unx     7691 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/tests/test_delivery_schenker.py
--rw-r--r--  2.0 unx     4620 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/views/delivery_schenker_view.xml
--rw-r--r--  2.0 unx     1012 b- defN 23-Jun-24 03:11 odoo/addons/delivery_schenker/views/stock_picking_views.xml
--rw-r--r--  2.0 unx     7256 b- defN 23-Jun-24 03:12 odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-24 03:12 odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jun-24 03:12 odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3526 b- defN 23-Jun-24 03:12 odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/RECORD
-32 files, 201682 bytes uncompressed, 48451 bytes compressed:  76.0%
+Zip file size: 55155 bytes, number of entries: 33
+-rw-r--r--  2.0 unx     6556 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/__init__.py
+-rw-r--r--  2.0 unx      796 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/__manifest__.py
+-rw-r--r--  2.0 unx     9223 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/api/fat_bookingWebServiceV1_1.wsdl
+-rw-r--r--  2.0 unx     4325 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/api/fat_trackingWebServiceV2.wsdl
+-rw-r--r--  2.0 unx     9215 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/api/prod_bookingWebServiceV1_1.wsdl
+-rw-r--r--  2.0 unx     4313 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/api/prod_trackingWebServiceV2.wsdl
+-rw-r--r--  2.0 unx     5843 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/data/delivery_schenker_data.xml
+-rw-r--r--  2.0 unx    26131 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/i18n/delivery_schenker.pot
+-rw-r--r--  2.0 unx    28482 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/i18n/es.po
+-rw-r--r--  2.0 unx      122 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/models/__init__.py
+-rw-r--r--  2.0 unx    29033 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/models/delivery_carrier.py
+-rw-r--r--  2.0 unx      431 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/models/product_packaging.py
+-rw-r--r--  2.0 unx     7584 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/models/schenker_request.py
+-rw-r--r--  2.0 unx      713 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/models/stock_picking.py
+-rw-r--r--  2.0 unx      536 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      176 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      119 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      287 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/readme/INSTALL.rst
+-rw-r--r--  2.0 unx     1175 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx     1558 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/readme/USAGE.rst
+-rw-r--r--  2.0 unx     3740 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/static/description/icon.png
+-rw-r--r--  2.0 unx    21664 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/static/description/icon.svg
+-rw-r--r--  2.0 unx    17852 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/static/description/index.html
+-rw-r--r--  2.0 unx       37 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/tests/__init__.py
+-rw-r--r--  2.0 unx     6650 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/tests/common.py
+-rw-r--r--  2.0 unx     1285 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/tests/test_delivery_schenker.py
+-rw-r--r--  2.0 unx     4620 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/views/delivery_schenker_view.xml
+-rw-r--r--  2.0 unx     1012 b- defN 23-Jul-17 07:59 odoo/addons/delivery_schenker/views/stock_picking_views.xml
+-rw-r--r--  2.0 unx     7251 b- defN 23-Jul-17 07:59 odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-17 07:59 odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-17 07:59 odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3608 b- defN 23-Jul-17 07:59 odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/RECORD
+33 files, 204455 bytes uncompressed, 49039 bytes compressed:  76.0%
```

## zipnote {}

```diff
@@ -69,29 +69,32 @@
 
 Filename: odoo/addons/delivery_schenker/static/description/index.html
 Comment: 
 
 Filename: odoo/addons/delivery_schenker/tests/__init__.py
 Comment: 
 
+Filename: odoo/addons/delivery_schenker/tests/common.py
+Comment: 
+
 Filename: odoo/addons/delivery_schenker/tests/test_delivery_schenker.py
 Comment: 
 
 Filename: odoo/addons/delivery_schenker/views/delivery_schenker_view.xml
 Comment: 
 
 Filename: odoo/addons/delivery_schenker/views/stock_picking_views.xml
 Comment: 
 
-Filename: odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/METADATA
+Filename: odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/WHEEL
+Filename: odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/top_level.txt
+Filename: odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/RECORD
+Filename: odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/delivery_schenker/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2021 Tecnativa - David Vidal
 # Copyright 2021 Studio73 - Ethan Hildick <ethan@studio73.es>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 {
     "name": "Delivery Schenker",
     "summary": "Delivery Carrier implementation for DB Schenker API",
-    "version": "14.0.1.1.2",
+    "version": "14.0.1.2.0",
     "category": "Stock",
     "website": "https://github.com/OCA/delivery-carrier",
     "author": "Tecnativa, Studio73, Odoo Community Association (OCA)",
     "license": "AGPL-3",
     "application": False,
     "installable": True,
     "depends": ["delivery_package_number", "delivery_state"],
```

## odoo/addons/delivery_schenker/i18n/delivery_schenker.pot

```diff
@@ -584,14 +584,20 @@
 
 #. module: delivery_schenker
 #: model:ir.model.fields,help:delivery_schenker.field_delivery_carrier__schenker_measure_unit
 msgid "The proper request will be formed accordingly from the picking"
 msgstr ""
 
 #. module: delivery_schenker
+#: code:addons/delivery_schenker/models/delivery_carrier.py:0
+#, python-format
+msgid "There is no volume set on the shipping package information"
+msgstr ""
+
+#. module: delivery_schenker
 #: model:ir.model,name:delivery_schenker.model_stock_picking
 msgid "Transfer"
 msgstr ""
 
 #. module: delivery_schenker
 #: model:ir.model.fields,field_description:delivery_schenker.field_delivery_carrier__schenker_user
 msgid "User"
```

## odoo/addons/delivery_schenker/models/delivery_carrier.py

```diff
@@ -1,14 +1,15 @@
 # Copyright 2021 Tecnativa - David Vidal
 # Copyright 2023 Michael Tietz (MT Software) <mtietz@mt-software.de>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 from lxml import etree
 
 from odoo import _, api, fields, models
 from odoo.exceptions import UserError
+from odoo.tools import float_compare, float_round
 
 from .schenker_request import SchenkerRequest
 
 SCHENKER_STATUS_CODES = {
     "ENT": ("Booked", "shipping_recorded_in_carrier"),
     "COL": ("Collected", "shipping_recorded_in_carrier"),
     "DET": ("Delivered to terminal by shipper", "in_transit"),
@@ -337,28 +338,47 @@
             self, picking.date_done.replace(hour=0, minute=0, second=0)
         ).isoformat()
         date_to = fields.Datetime.context_timestamp(
             self, picking.date_done.replace(hour=23, minute=59, second=59)
         ).isoformat()
         return {"pickUpDateFrom": date_from, "pickUpDateTo": date_to}
 
-    def _schenker_shipping_information_package(self, picking, package):
-        weight = package.shipping_weight or package.weight
+    def _schenker_shipping_information_product_volume(self, product, qty):
+        return product.volume * qty
+
+    def _schenker_shipping_information_package_volume(self, picking, package):
         # Volume calculations can be unfolded with stock_quant_package_dimension
         if hasattr(package, "volume"):
-            volume = round(package.volume, 2)
-        else:
-            volume = sum([q.quantity * q.product_id.volume for q in package.quant_ids])
+            return package.volume
+        return sum(
+            [
+                self._schenker_shipping_information_product_volume(
+                    q.product_id, q.quantity
+                )
+                for q in package.quant_ids
+            ]
+        )
+
+    def _schenker_shipping_information_round_weight(self, weight, precision_digits=2):
+        return float_round(weight, precision_digits=precision_digits)
+
+    def _schenker_shipping_information_round_volume(self, volume, precision_digits=2):
+        """The schenker api requires 2 decimal points"""
+        return float_round(volume, precision_digits=precision_digits)
+
+    def _schenker_shipping_information_package(self, picking, package):
+        weight = package.shipping_weight or package.weight
         return {
             # Dangerous goods is not supported
             "dgr": False,
             "cargoDesc": picking.name + " / " + package.name,
-            "grossWeight": round(weight, 2),
-            # Default to 1 if no volume informed
-            "volume": volume or 0.01,
+            "grossWeight": self._schenker_shipping_information_round_weight(weight),
+            "volume": self._schenker_shipping_information_round_volume(
+                self._schenker_shipping_information_package_volume(picking, package)
+            ),
             "packageType": (
                 package.packaging_id.shipper_package_code
                 or self.schenker_default_packaging_id.shipper_package_code
             ),
             "stackable": (
                 package.packaging_id.schenker_stackable
                 or self.schenker_default_packaging_id.schenker_stackable
@@ -368,53 +388,83 @@
 
     def _schenker_shipping_information(self, picking):
         """When we don't use delivery packages, we'll deliver everything in one single
         shipping info. Otherwise, we'll get the info for each package.
         :param picking record with picking to deliver
         :returns list of dicts with delivery packages shipping info
         """
-        if picking.package_level_ids and picking.package_ids:
-            return [
-                self._schenker_shipping_information_package(picking, package)
-                for package in picking.package_ids
-            ]
-        weight = picking.shipping_weight or picking.weight
+        schenker_packages = self._schenker_shipping_information_with_packages(picking)
+        return schenker_packages + self._schenker_shipping_information_without_packages(
+            picking
+        )
+
+    def _schenker_shipping_information_with_packages(self, picking):
+        return [
+            self._schenker_shipping_information_package(picking, package)
+            for package in picking.package_ids
+        ]
+
+    def _schenker_shipping_information_without_packages_volume(self, picking):
         # Obviously products should be well configured. This parameter is mandatory.
-        volume = sum(
+        return sum(
             [
-                ml.product_uom_id._compute_quantity(ml.qty_done, ml.product_id.uom_id)
-                * ml.product_id.volume
+                self._schenker_shipping_information_product_volume(
+                    ml.product_id,
+                    ml.product_uom_id._compute_quantity(
+                        ml.qty_done, ml.product_id.uom_id
+                    ),
+                )
                 for ml in picking.move_line_ids
+                if not ml.result_package_id
             ]
         )
+
+    def _schenker_shipping_information_without_packages(self, picking):
+        weight = picking.shipping_weight or picking.weight
         return [
             {
                 # Dangerous goods is not supported
                 "dgr": False,
                 "cargoDesc": picking.name,
                 # For a more complex solution use packaging properly
-                "grossWeight": round(weight / picking.number_of_packages, 2),
-                "volume": round(volume, 2) or 0.01,
+                "grossWeight": self._schenker_shipping_information_round_weight(
+                    weight / picking.number_of_packages
+                ),
+                "volume": self._schenker_shipping_information_round_volume(
+                    self._schenker_shipping_information_without_packages_volume(picking)
+                ),
                 "packageType": self.schenker_default_packaging_id.shipper_package_code,
                 "stackable": self.schenker_default_packaging_id.schenker_stackable,
                 "pieces": picking.number_of_packages,
             }
         ]
 
     def _schenker_measures(self, picking, vals):
         """Only volume is supported as a pallet calculations structure should be
         provided to use the other API options. This hook can be used to communicate
         with the API in the future
         :param picking record with picking to deliver
         :returns dict values for the proper unit key and value
         """
         if self.schenker_measure_unit == "VOLUME":
-            return {"measureUnitVolume": vals["shippingInformation"]["volume"]}
+            return {
+                "measureUnitVolume": self._schenker_shipping_information_round_volume(
+                    vals["shippingInformation"]["volume"]
+                )
+            }
         return {}
 
+    def _schenker_get_total_shipping_volume(self, shipping_information):
+        volume = sum(info["volume"] for info in shipping_information)
+        if float_compare(volume, 0, 3) <= 0:
+            raise UserError(
+                _("There is no volume set on the shipping package information")
+            )
+        return volume
+
     def _prepare_schenker_shipping(self, picking):
         """Convert picking values for schenker api
         :param picking record with picking to send
         :returns dict values for the connector
         """
         self.ensure_one()
         picking.ensure_one()
@@ -430,19 +480,25 @@
                 "incoterm": (
                     picking.sale_id.incoterm.code or self.schenker_incoterm_id.code
                 ),
                 # A maximum of 35 characters is supported
                 "incotermLocation": picking.partner_id.display_name[:35],
                 "productCode": self._schenker_shipping_product(),
                 "measurementType": self._schenker_metric_system(),
-                "grossWeight": round(picking.shipping_weight, 2),
+                "grossWeight": self._schenker_shipping_information_round_weight(
+                    picking.shipping_weight
+                ),
                 "shippingInformation": {
                     "shipmentPosition": shipping_information,
-                    "grossWeight": round(picking.shipping_weight, 2),
-                    "volume": sum(info["volume"] for info in shipping_information),
+                    "grossWeight": self._schenker_shipping_information_round_weight(
+                        picking.shipping_weight
+                    ),
+                    "volume": self._schenker_get_total_shipping_volume(
+                        shipping_information
+                    ),
                 },
                 "measureUnit": self.schenker_measure_unit,
                 # Customs Clearance not supported for now as it needs a full customs
                 # implementation
                 "customsClearance": False,
                 # Defines a business scenario where the Schenker customer sends a
                 # booking request in the name of his ordering party
```

## odoo/addons/delivery_schenker/tests/test_delivery_schenker.py

```diff
@@ -1,176 +1,13 @@
 # Copyright 2023 Michael Tietz (MT Software) <mtietz@mt-software.de>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
-from odoo.tests import Form, common
+from .common import TestDeliverySchenkerCommon
 
 
-class TestDeliverySchenker(common.SavepointCase):
-    maxDiff = None
-
-    @classmethod
-    def setUpClass(cls):
-        super().setUpClass()
-        cls.carrier = cls.env["delivery.carrier"].create(
-            {
-                "name": "Schenker",
-                "schenker_access_key": "key",
-                "schenker_group_id": "group",
-                "schenker_user": "user",
-                "schenker_barcode_format": "A4",
-                "schenker_barcode_mail": "test@test.com",
-                "schenker_booking_type": "land",
-                "schenker_incoterm_id": cls.env.ref("account.incoterm_EXW").id,
-                "schenker_service_type": "D2D",
-                "schenker_service_land": "CON",
-                "schenker_indoor_delivery": True,
-                "schenker_express": True,
-                "schenker_food_related": True,
-                "schenker_heated_transport": True,
-                "schenker_home_delivery": True,
-                "schenker_own_pickup": True,
-                "schenker_pharmaceuticals": True,
-                "schenker_default_packaging_id": cls.env.ref(
-                    "delivery_schenker.schenker_packaging_01"
-                ).id,
-                "schenker_address_number": "address_number",
-                "product_id": cls.env.ref("delivery.product_product_delivery").id,
-            }
-        )
-        cls.company = cls.env.company
-        cls.partner = cls.env["res.partner"].create(
-            {
-                "name": "Test partner",
-                "country_id": cls.company.partner_id.country_id.id,
-                "phone": cls.company.partner_id.phone,
-                "email": "test@odoo.com",
-                "street": cls.company.partner_id.street,
-                "city": cls.company.partner_id.city,
-                "zip": cls.company.partner_id.zip,
-                "state_id": cls.company.partner_id.state_id.id,
-                "vat": cls.company.partner_id.vat,
-            }
-        )
-        cls.product = cls.env["product.product"].create(
-            {
-                "name": "Test product",
-                "type": "product",
-                "weight": 1,
-                "volume": 1,
-            }
-        )
-        cls.sale, cls.picking = cls._create_sale_order(cls)
-        cls._process_picking(cls, cls.picking)
-
-    def _process_picking(self, picking):
-        picking.move_lines.quantity_done = 1
-        picking.button_validate()
-        # Delete result package, otherwise Unittests will fail
-        # because the addon base_delivery_carrier_label gets installed first
-        # which creates a default package within the method _set_a_default_package
-        picking.move_line_ids.result_package_id = False
-        picking.date_done = "2023-05-04 00:00:00"
-
-    def _create_sale_order(self):
-        order_form = Form(self.env["sale.order"])
-        order_form.partner_id = self.partner
-        with order_form.order_line.new() as line_form:
-            line_form.product_id = self.product
-            line_form.product_uom_qty = 1
-        sale = order_form.save()
-        delivery_wizard = Form(
-            self.env["choose.delivery.carrier"].with_context(
-                {"default_order_id": sale.id, "default_carrier_id": self.carrier.id}
-            )
-        ).save()
-        delivery_wizard.button_confirm()
-        sale.action_confirm()
-        return sale, sale.picking_ids
-
-    def _prepare_schenker_shipping(self, picking, vals=None):
-        vals = vals or {}
-        res = {
-            "barcodeRequest": "A4",
-            "barcodeRequestEmail": "test@test.com",
-            "start_pos": 1,
-            "separated": False,
-            "address": [
-                {
-                    "type": "SHIPPER",
-                    "name1": "My Company (San Francisco)",
-                    "locationType": "PHYSICAL",
-                    "personType": "COMPANY",
-                    "street": "250 Executive Park Blvd, Suite 3400",
-                    "postalCode": "94134",
-                    "city": "San Francisco",
-                    "countryCode": "US",
-                    "preferredLanguage": "en",
-                    "email": "info@yourcompany.com",
-                    "phone": "+1 (650) 555-0111 ",
-                    "stateCode": "CA",
-                    "stateName": "California",
-                    "schenkerAddressId": "address_number",
-                },
-                {
-                    "type": "CONSIGNEE",
-                    "name1": "Test partner",
-                    "locationType": "PHYSICAL",
-                    "personType": "COMPANY",
-                    "street": "250 Executive Park Blvd, Suite 3400",
-                    "postalCode": "94134",
-                    "city": "San Francisco",
-                    "countryCode": "US",
-                    "preferredLanguage": "en",
-                    "email": "test@odoo.com",
-                    "phone": "+1 (650) 555-0111 ",
-                    "stateCode": "CA",
-                    "stateName": "California",
-                },
-            ],
-            "incoterm": "EXW",
-            "incotermLocation": "Test partner",
-            "productCode": "CON",
-            "measurementType": "METRIC",
-            "grossWeight": 1.0,
-            "shippingInformation": {
-                "shipmentPosition": [
-                    {
-                        "dgr": False,
-                        "cargoDesc": picking.name,
-                        "grossWeight": 1.0,
-                        "volume": 1.0,
-                        "packageType": "CI",
-                        "stackable": False,
-                        "pieces": 1,
-                    }
-                ],
-                "grossWeight": 1.0,
-                "volume": 1.0,
-            },
-            "measureUnit": "VOLUME",
-            "customsClearance": False,
-            "neutralShipping": False,
-            "pickupDates": {
-                "pickUpDateFrom": "2023-05-04T02:00:00+02:00",
-                "pickUpDateTo": "2023-05-05T01:59:59+02:00",
-            },
-            "specialCargo": False,
-            "specialCargoDescription": False,
-            "serviceType": "D2D",
-            "indoorDelivery": True,
-            "express": True,
-            "foodRelated": True,
-            "heatedTransport": True,
-            "homeDelivery": True,
-            "ownPickup": True,
-            "pharmaceuticals": True,
-            "measureUnitVolume": 1.0,
-        }
-        res.update(vals)
-        return res
-
+class TestDeliverySchenker(TestDeliverySchenkerCommon):
     def test_delivery_schenker(self):
         vals = self.carrier._prepare_schenker_shipping(self.picking)
         self.assertDictEqual(self._prepare_schenker_shipping(self.picking), vals)
 
     def test_delivery_schenker_address_number(self):
         vals = self.carrier._prepare_schenker_shipping(self.picking)
         self.assertEqual(
```

## Comparing `odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/METADATA` & `odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-delivery-schenker
-Version: 14.0.1.1.3.dev1
+Version: 14.0.1.2.0
 Summary: Delivery Carrier implementation for DB Schenker API
 Home-page: https://github.com/OCA/delivery-carrier
 Author: Tecnativa, Studio73, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/RECORD` & `odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -1,32 +1,33 @@
 odoo/addons/delivery_schenker/README.rst,sha256=fNqsqzAUuC1AZB6BUzf-FaJ_bBmhFA1bQ5X6m5eva5M,6556
 odoo/addons/delivery_schenker/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/delivery_schenker/__manifest__.py,sha256=uKKFG3JRP8VY6xIJaW2DbFJ1lqON0LJAvOqOIilCrfQ,796
+odoo/addons/delivery_schenker/__manifest__.py,sha256=QFRVtVtRmZgkvPs1nmjtanD-7Sy6uuK11Ja26gm1weg,796
 odoo/addons/delivery_schenker/api/fat_bookingWebServiceV1_1.wsdl,sha256=Sm63Oa5WRuZVOkql1BoIR3WUKEYDD6vfXveSWJdq0k4,9223
 odoo/addons/delivery_schenker/api/fat_trackingWebServiceV2.wsdl,sha256=nRr3C2av5s3fRggIj6WtZgVBCE2Jb9_yFNw5HuvoLHw,4325
 odoo/addons/delivery_schenker/api/prod_bookingWebServiceV1_1.wsdl,sha256=qCyT37wduXtn4Hh-DsgWkREG4fOKThd0249Ywwe_yGc,9215
 odoo/addons/delivery_schenker/api/prod_trackingWebServiceV2.wsdl,sha256=LZoWdUxu2BFdwsSiSeSk6k6zLuRw7Weo9S_2YlDAXkQ,4313
 odoo/addons/delivery_schenker/data/delivery_schenker_data.xml,sha256=VGGtAI710O0WykNbSNpMz4jr_Mldgkn984QP-7D0eOY,5843
-odoo/addons/delivery_schenker/i18n/delivery_schenker.pot,sha256=u_kd68tNxxC9YTtAIE1f19CL3unAhQukM92h0i67sq0,25945
+odoo/addons/delivery_schenker/i18n/delivery_schenker.pot,sha256=856NSLNAs7zHSb7BEeUQtW4YjV3egIk1YLgDsiIaw3E,26131
 odoo/addons/delivery_schenker/i18n/es.po,sha256=NgwoWv9s6tAi3PAx8oMUnumT1ehCEVgQmdnMWdYHImA,28482
 odoo/addons/delivery_schenker/models/__init__.py,sha256=q9WflM_iDClOmKcVpj7qhqR5EM3Y7wrD-ueMTTDDA_g,122
-odoo/addons/delivery_schenker/models/delivery_carrier.py,sha256=tExpiL43GQedsBkNQTQBuC84ZfXNlRcXyAkAnzWPUxA,26767
+odoo/addons/delivery_schenker/models/delivery_carrier.py,sha256=a9654FeUptzdB8J2SlFFHCIYd9pCO-38StFztMuxgOE,29033
 odoo/addons/delivery_schenker/models/product_packaging.py,sha256=gwrWUDJRFV-91FophIT0cWPSMW_N3M-LKMWlmHr68nM,431
 odoo/addons/delivery_schenker/models/schenker_request.py,sha256=nec-1qxp1keTlZ3NAdMqHOD_QWssDSRoxOa94U5WZyc,7584
 odoo/addons/delivery_schenker/models/stock_picking.py,sha256=ZdkK4MiFI6SE033r0NBE2IVy_mxVEIhAo1kUKdvdpIM,713
 odoo/addons/delivery_schenker/readme/CONFIGURE.rst,sha256=URFGAPshzA-SaNN8YvBedEwU5E_pbUEbT6D0XKnM7MM,536
 odoo/addons/delivery_schenker/readme/CONTRIBUTORS.rst,sha256=003amIsWUNE3kCeLqJEJMMT0dpBiL72Mw4T068qWz_c,176
 odoo/addons/delivery_schenker/readme/DESCRIPTION.rst,sha256=R6YAyWKZP8sBgxx78HaNTlNdKR0AmyCfkAyskmA1H-w,119
 odoo/addons/delivery_schenker/readme/INSTALL.rst,sha256=6I6znI-kI9cezoxELqq5gNmZROgFeHvboBI4k6XrEWM,287
 odoo/addons/delivery_schenker/readme/ROADMAP.rst,sha256=WG_i0_RiFhb33bnRWA1BNRMo1f-r6k8RKNkDLV2WiZk,1175
 odoo/addons/delivery_schenker/readme/USAGE.rst,sha256=RjF6-sAszvElK74uMXmEOYm3u8x6ipZ1WBOxzwZukaE,1558
 odoo/addons/delivery_schenker/static/description/icon.png,sha256=-K0_wM5EVw_9_lHHB8VmIO-7WCW5ZPdCdL7rDz3_2r8,3740
 odoo/addons/delivery_schenker/static/description/icon.svg,sha256=wNgYyCz7-CzQQLKTF0vXv-7IrGYTIDAZQZ4loluInIg,21664
 odoo/addons/delivery_schenker/static/description/index.html,sha256=nmAxIAVMwmXOSkhK5Q_DqlIjBZju6K2fIXI80YO18EQ,17852
 odoo/addons/delivery_schenker/tests/__init__.py,sha256=QD0RhOaS1v38YXbFhQk46Qo5SmtSCfodCc94wTKW6cI,37
-odoo/addons/delivery_schenker/tests/test_delivery_schenker.py,sha256=hJNlRZkvZt6GcdPsTxBLXFHWolypgZwQMxp4gJAX_rM,7691
+odoo/addons/delivery_schenker/tests/common.py,sha256=bklYKcWgx7d6PqJHNSqzq97MaF4fwV61VlRWVt9psoQ,6650
+odoo/addons/delivery_schenker/tests/test_delivery_schenker.py,sha256=91QU0AuOov0WRbrPxbZ-sC5fSPTkvrnFvYqH4VfZ8Hc,1285
 odoo/addons/delivery_schenker/views/delivery_schenker_view.xml,sha256=sekmtlG-GaMiUjn74xwVp4JEyn4oHbCVEq7VPGrXMGM,4620
 odoo/addons/delivery_schenker/views/stock_picking_views.xml,sha256=V9tcvH3U1v8GWD7KUIthdrQXfdjjgaLSnpGzHj9ucSE,1012
-odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/METADATA,sha256=CAAKnZnjFvADV6JaFH253N6M8ci7UmFlu4r114hxWGI,7256
-odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_delivery_schenker-14.0.1.1.3.dev1.dist-info/RECORD,,
+odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/METADATA,sha256=sdZwLJceLX8ZUvHcmbpLUZ74W2s1ln40uLo7F-olXac,7251
+odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_delivery_schenker-14.0.1.2.0.dist-info/RECORD,,
```

