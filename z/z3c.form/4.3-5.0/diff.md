# Comparing `tmp/z3c.form-4.3.tar.gz` & `tmp/z3c.form-5.0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "z3c.form-4.3.tar", last modified: Thu Mar 24 07:11:39 2022, max compression
+gzip compressed data, was "z3c.form-5.0.tar", last modified: Mon Jul 17 05:51:57 2023, max compression
```

## Comparing `z3c.form-4.3.tar` & `z3c.form-5.0.tar`

### file list

```diff
@@ -1,329 +1,330 @@
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.249929 z3c.form-4.3/
--rw-r--r--   0 mac        (513) staff       (20)      550 2022-03-24 07:11:37.000000 z3c.form-4.3/AUTHOR.rst
--rw-r--r--   0 mac        (513) staff       (20)    49656 2022-03-24 07:11:37.000000 z3c.form-4.3/CHANGES.rst
--rw-r--r--   0 mac        (513) staff       (20)      804 2022-03-24 07:11:37.000000 z3c.form-4.3/CONTRIBUTING.md
--rw-r--r--   0 mac        (513) staff       (20)       32 2022-03-24 07:11:37.000000 z3c.form-4.3/COPYRIGHT.txt
--rw-r--r--   0 mac        (513) staff       (20)     2070 2022-03-24 07:11:37.000000 z3c.form-4.3/LICENSE.txt
--rw-r--r--   0 mac        (513) staff       (20)      625 2022-03-24 07:11:37.000000 z3c.form-4.3/MANIFEST.in
--rw-r--r--   0 mac        (513) staff       (20)    52497 2022-03-24 07:11:39.250158 z3c.form-4.3/PKG-INFO
--rw-r--r--   0 mac        (513) staff       (20)     1457 2022-03-24 07:11:37.000000 z3c.form-4.3/README.rst
--rw-r--r--   0 mac        (513) staff       (20)     1529 2022-03-24 07:11:37.000000 z3c.form-4.3/TODOS.rst
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.156567 z3c.form-4.3/benchmark/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.157265 z3c.form-4.3/benchmark/benchmark/
--rw-r--r--   0 mac        (513) staff       (20)        0 2022-03-24 07:11:37.000000 z3c.form-4.3/benchmark/benchmark/__init__.py
--rw-r--r--   0 mac        (513) staff       (20)     5453 2022-03-24 07:11:37.000000 z3c.form-4.3/benchmark/benchmark/tests.py
--rw-r--r--   0 mac        (513) staff       (20)      639 2022-03-24 07:11:37.000000 z3c.form-4.3/benchmark/setup.py
--rw-r--r--   0 mac        (513) staff       (20)     1925 2022-03-24 07:11:37.000000 z3c.form-4.3/buildout.cfg
--rw-r--r--   0 mac        (513) staff       (20)       74 2022-03-24 07:11:37.000000 z3c.form-4.3/doc-requirements.txt
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.159468 z3c.form-4.3/docs/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.161723 z3c.form-4.3/docs/advanced/
--rw-r--r--   0 mac        (513) staff       (20)       43 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/advanced/action.rst
--rw-r--r--   0 mac        (513) staff       (20)       51 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/advanced/browser-readme.rst
--rw-r--r--   0 mac        (513) staff       (20)       52 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/advanced/contentprovider.rst
--rw-r--r--   0 mac        (513) staff       (20)      440 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/advanced/index.rst
--rw-r--r--   0 mac        (513) staff       (20)       46 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/advanced/validator.rst
--rw-r--r--   0 mac        (513) staff       (20)       43 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/advanced/widget.rst
--rw-r--r--   0 mac        (513) staff       (20)       27 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/authors.rst
--rw-r--r--   0 mac        (513) staff       (20)       28 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/changelog.rst
--rw-r--r--   0 mac        (513) staff       (20)     8817 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/conf.py
--rw-r--r--   0 mac        (513) staff       (20)      507 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/index.rst
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.164555 z3c.form-4.3/docs/informative/
--rw-r--r--   0 mac        (513) staff       (20)       43 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/adding.rst
--rw-r--r--   0 mac        (513) staff       (20)       46 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/converter.rst
--rw-r--r--   0 mac        (513) staff       (20)       48 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/datamanager.rst
--rw-r--r--   0 mac        (513) staff       (20)      370 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/index.rst
--rw-r--r--   0 mac        (513) staff       (20)       50 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/object-caveat.rst
--rw-r--r--   0 mac        (513) staff       (20)       41 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/term.rst
--rw-r--r--   0 mac        (513) staff       (20)       44 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/testing.rst
--rw-r--r--   0 mac        (513) staff       (20)       41 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/util.rst
--rw-r--r--   0 mac        (513) staff       (20)       42 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/informative/value.rst
--rw-r--r--   0 mac        (513) staff       (20)      194 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/interfaces.rst
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.166813 z3c.form-4.3/docs/mustread/
--rw-r--r--   0 mac        (513) staff       (20)       43 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/mustread/button.rst
--rw-r--r--   0 mac        (513) staff       (20)       42 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/mustread/field.rst
--rw-r--r--   0 mac        (513) staff       (20)       41 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/mustread/form.rst
--rw-r--r--   0 mac        (513) staff       (20)       42 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/mustread/group.rst
--rw-r--r--   0 mac        (513) staff       (20)      501 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/mustread/index.rst
--rw-r--r--   0 mac        (513) staff       (20)       44 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/mustread/subform.rst
--rw-r--r--   0 mac        (513) staff       (20)       41 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/mustread/zcml.rst
--rw-r--r--   0 mac        (513) staff       (20)       26 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/todos.rst
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.175375 z3c.form-4.3/docs/widgets/
--rw-r--r--   0 mac        (513) staff       (20)       51 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/button.rst
--rw-r--r--   0 mac        (513) staff       (20)       53 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/checkbox.rst
--rw-r--r--   0 mac        (513) staff       (20)       57 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/file-testing.rst
--rw-r--r--   0 mac        (513) staff       (20)       49 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/file.rst
--rw-r--r--   0 mac        (513) staff       (20)       50 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/image.rst
--rw-r--r--   0 mac        (513) staff       (20)      331 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/index.rst
--rw-r--r--   0 mac        (513) staff       (20)      232 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/multi-index.rst
--rw-r--r--   0 mac        (513) staff       (20)       50 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/multi.rst
--rw-r--r--   0 mac        (513) staff       (20)       67 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/multi_dict_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)       67 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/multi_list_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)      440 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/object-index.rst
--rw-r--r--   0 mac        (513) staff       (20)       51 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/object.rst
--rw-r--r--   0 mac        (513) staff       (20)       74 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/object_multi_dict_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)       74 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/object_multi_list_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)       70 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/object_single_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)       56 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/objectmulti.rst
--rw-r--r--   0 mac        (513) staff       (20)       58 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/orderedselect.rst
--rw-r--r--   0 mac        (513) staff       (20)       53 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/password.rst
--rw-r--r--   0 mac        (513) staff       (20)       50 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/radio.rst
--rw-r--r--   0 mac        (513) staff       (20)      241 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/select-index.rst
--rw-r--r--   0 mac        (513) staff       (20)       65 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/select-missing-terms.rst
--rw-r--r--   0 mac        (513) staff       (20)       58 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/select-source.rst
--rw-r--r--   0 mac        (513) staff       (20)       51 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/select.rst
--rw-r--r--   0 mac        (513) staff       (20)       51 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/submit.rst
--rw-r--r--   0 mac        (513) staff       (20)       49 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/text.rst
--rw-r--r--   0 mac        (513) staff       (20)       53 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/textarea.rst
--rw-r--r--   0 mac        (513) staff       (20)       54 2022-03-24 07:11:37.000000 z3c.form-4.3/docs/widgets/textlines.rst
--rw-r--r--   0 mac        (513) staff       (20)      190 2022-03-24 07:11:39.250702 z3c.form-4.3/setup.cfg
--rw-r--r--   0 mac        (513) staff       (20)     4438 2022-03-24 07:11:37.000000 z3c.form-4.3/setup.py
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.144450 z3c.form-4.3/src/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.175716 z3c.form-4.3/src/z3c/
--rw-r--r--   0 mac        (513) staff       (20)      200 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/__init__.py
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.200806 z3c.form-4.3/src/z3c/form/
--rw-r--r--   0 mac        (513) staff       (20)     3769 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/README.rst
--rw-r--r--   0 mac        (513) staff       (20)       18 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/__init__.py
--rw-r--r--   0 mac        (513) staff       (20)     3564 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/action.py
--rw-r--r--   0 mac        (513) staff       (20)     7128 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/action.rst
--rw-r--r--   0 mac        (513) staff       (20)     1008 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/adding.py
--rw-r--r--   0 mac        (513) staff       (20)     3822 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/adding.rst
--rw-r--r--   0 mac        (513) staff       (20)     2062 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/apidoc.zcml
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.238326 z3c.form-4.3/src/z3c/form/browser/
--rw-r--r--   0 mac        (513) staff       (20)   108533 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/README.rst
--rw-r--r--   0 mac        (513) staff       (20)       18 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/__init__.py
--rw-r--r--   0 mac        (513) staff       (20)     1552 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/button.py
--rw-r--r--   0 mac        (513) staff       (20)     2112 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/button.rst
--rw-r--r--   0 mac        (513) staff       (20)      504 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/button.zcml
--rw-r--r--   0 mac        (513) staff       (20)      400 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/button_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     1341 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/button_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     3519 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/checkbox.py
--rw-r--r--   0 mac        (513) staff       (20)    12977 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/checkbox.rst
--rw-r--r--   0 mac        (513) staff       (20)     1394 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/checkbox.zcml
--rw-r--r--   0 mac        (513) staff       (20)     1032 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/checkbox_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     1719 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/checkbox_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)     3630 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/checkbox_input.pt
--rw-r--r--   0 mac        (513) staff       (20)      650 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/configure.zcml
--rw-r--r--   0 mac        (513) staff       (20)     3775 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/file-testing.rst
--rw-r--r--   0 mac        (513) staff       (20)     1625 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/file.py
--rw-r--r--   0 mac        (513) staff       (20)     2836 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/file.rst
--rw-r--r--   0 mac        (513) staff       (20)      795 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/file.zcml
--rw-r--r--   0 mac        (513) staff       (20)      901 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/file_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     1506 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/file_input.pt
--rw-r--r--   0 mac        (513) staff       (20)      803 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/file_testing.zcml
--rw-r--r--   0 mac        (513) staff       (20)     1748 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/file_testing_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     2214 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/image.py
--rw-r--r--   0 mac        (513) staff       (20)     2236 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/image.rst
--rw-r--r--   0 mac        (513) staff       (20)      561 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/image.zcml
--rw-r--r--   0 mac        (513) staff       (20)      443 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/image_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     1391 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/image_input.pt
--rw-r--r--   0 mac        (513) staff       (20)      402 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/index.rst
--rw-r--r--   0 mac        (513) staff       (20)    11666 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/interfaces.py
--rw-r--r--   0 mac        (513) staff       (20)     3044 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/multi.py
--rw-r--r--   0 mac        (513) staff       (20)    53275 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/multi.rst
--rw-r--r--   0 mac        (513) staff       (20)     1769 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/multi.zcml
--rw-r--r--   0 mac        (513) staff       (20)    21328 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/multi_dict_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)     2543 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/multi_display.pt
--rw-r--r--   0 mac        (513) staff       (20)      775 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/multi_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)     2711 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/multi_input.pt
--rw-r--r--   0 mac        (513) staff       (20)    13385 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/multi_list_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)     1358 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object.py
--rw-r--r--   0 mac        (513) staff       (20)    41378 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object.rst
--rw-r--r--   0 mac        (513) staff       (20)      993 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object.zcml
--rw-r--r--   0 mac        (513) staff       (20)      573 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object_display.pt
--rw-r--r--   0 mac        (513) staff       (20)      167 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)      814 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object_input.pt
--rw-r--r--   0 mac        (513) staff       (20)    20592 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object_multi_dict_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)    17306 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object_multi_list_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)     6428 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/object_single_integration.rst
--rw-r--r--   0 mac        (513) staff       (20)    66284 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/objectmulti.rst
--rw-r--r--   0 mac        (513) staff       (20)     3565 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/orderedselect.py
--rw-r--r--   0 mac        (513) staff       (20)     8257 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/orderedselect.rst
--rw-r--r--   0 mac        (513) staff       (20)     1414 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/orderedselect.zcml
--rw-r--r--   0 mac        (513) staff       (20)     1032 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/orderedselect_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     3530 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/orderedselect_input.js
--rw-r--r--   0 mac        (513) staff       (20)     4681 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/orderedselect_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     1363 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/password.py
--rw-r--r--   0 mac        (513) staff       (20)     2513 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/password.rst
--rw-r--r--   0 mac        (513) staff       (20)      834 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/password.zcml
--rw-r--r--   0 mac        (513) staff       (20)      901 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/password_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     1630 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/password_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     3368 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio.py
--rw-r--r--   0 mac        (513) staff       (20)    11113 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio.rst
--rw-r--r--   0 mac        (513) staff       (20)     1557 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio.zcml
--rw-r--r--   0 mac        (513) staff       (20)     1032 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     1129 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio_display_single.pt
--rw-r--r--   0 mac        (513) staff       (20)      254 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)      591 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio_hidden_single.pt
--rw-r--r--   0 mac        (513) staff       (20)      526 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     1679 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/radio_input_single.pt
--rw-r--r--   0 mac        (513) staff       (20)     8116 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/select-missing-terms.rst
--rw-r--r--   0 mac        (513) staff       (20)     2419 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/select-source.rst
--rw-r--r--   0 mac        (513) staff       (20)     5268 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/select.py
--rw-r--r--   0 mac        (513) staff       (20)    12463 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/select.rst
--rw-r--r--   0 mac        (513) staff       (20)     1129 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/select.zcml
--rw-r--r--   0 mac        (513) staff       (20)     1032 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/select_display.pt
--rw-r--r--   0 mac        (513) staff       (20)      553 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/select_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)     1884 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/select_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     1455 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/submit.py
--rw-r--r--   0 mac        (513) staff       (20)     2079 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/submit.rst
--rw-r--r--   0 mac        (513) staff       (20)      567 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/submit.zcml
--rw-r--r--   0 mac        (513) staff       (20)      400 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/submit_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     1348 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/submit_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     6437 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/tests.py
--rw-r--r--   0 mac        (513) staff       (20)     1492 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/text.py
--rw-r--r--   0 mac        (513) staff       (20)     2872 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/text.rst
--rw-r--r--   0 mac        (513) staff       (20)     2555 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/text.zcml
--rw-r--r--   0 mac        (513) staff       (20)      973 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/text_display.pt
--rw-r--r--   0 mac        (513) staff       (20)      492 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/text_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)     1817 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/text_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     1653 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textarea.py
--rw-r--r--   0 mac        (513) staff       (20)     2957 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textarea.rst
--rw-r--r--   0 mac        (513) staff       (20)     1165 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textarea.zcml
--rw-r--r--   0 mac        (513) staff       (20)      973 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textarea_display.pt
--rw-r--r--   0 mac        (513) staff       (20)      491 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textarea_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)     1344 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textarea_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     1447 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textlines.py
--rw-r--r--   0 mac        (513) staff       (20)     2596 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textlines.rst
--rw-r--r--   0 mac        (513) staff       (20)      941 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textlines.zcml
--rw-r--r--   0 mac        (513) staff       (20)      901 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textlines_display.pt
--rw-r--r--   0 mac        (513) staff       (20)      492 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textlines_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)     1383 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/textlines_input.pt
--rw-r--r--   0 mac        (513) staff       (20)     8208 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/widget.py
--rw-r--r--   0 mac        (513) staff       (20)      752 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/widget.zcml
--rw-r--r--   0 mac        (513) staff       (20)      746 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/widget_layout.pt
--rw-r--r--   0 mac        (513) staff       (20)      179 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/browser/widget_layout_hidden.pt
--rw-r--r--   0 mac        (513) staff       (20)    10658 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/button.py
--rw-r--r--   0 mac        (513) staff       (20)    20283 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/button.rst
--rw-r--r--   0 mac        (513) staff       (20)      474 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/button.zcml
--rw-r--r--   0 mac        (513) staff       (20)      936 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/configure.zcml
--rw-r--r--   0 mac        (513) staff       (20)     4210 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/contentprovider.py
--rw-r--r--   0 mac        (513) staff       (20)    10529 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/contentprovider.rst
--rw-r--r--   0 mac        (513) staff       (20)    16021 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/converter.py
--rw-r--r--   0 mac        (513) staff       (20)    32591 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/converter.rst
--rw-r--r--   0 mac        (513) staff       (20)     1192 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/converter.zcml
--rw-r--r--   0 mac        (513) staff       (20)     5374 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/datamanager.py
--rw-r--r--   0 mac        (513) staff       (20)     9816 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/datamanager.rst
--rw-r--r--   0 mac        (513) staff       (20)      252 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/datamanager.zcml
--rw-r--r--   0 mac        (513) staff       (20)      187 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/error.pt
--rw-r--r--   0 mac        (513) staff       (20)     4571 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/error.py
--rw-r--r--   0 mac        (513) staff       (20)     7626 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/error.rst
--rw-r--r--   0 mac        (513) staff       (20)      658 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/error.zcml
--rw-r--r--   0 mac        (513) staff       (20)      283 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/events.py
--rw-r--r--   0 mac        (513) staff       (20)    12700 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/field.py
--rw-r--r--   0 mac        (513) staff       (20)    30725 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/field.rst
--rw-r--r--   0 mac        (513) staff       (20)      645 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/file.zcml
--rw-r--r--   0 mac        (513) staff       (20)      201 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/file_testing.zcml
--rw-r--r--   0 mac        (513) staff       (20)    54362 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/form-chameleon-issue-repeat-addons.rst
--rw-r--r--   0 mac        (513) staff       (20)     1589 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/form-graph.dot
--rw-r--r--   0 mac        (513) staff       (20)    11877 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/form-graph.png
--rw-r--r--   0 mac        (513) staff       (20)    14191 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/form-graph.ps
--rw-r--r--   0 mac        (513) staff       (20)    11097 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/form.py
--rw-r--r--   0 mac        (513) staff       (20)    62470 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/form.rst
--rw-r--r--   0 mac        (513) staff       (20)     5229 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/group.py
--rw-r--r--   0 mac        (513) staff       (20)    34502 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/group.rst
--rw-r--r--   0 mac        (513) staff       (20)     1506 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/hint.py
--rw-r--r--   0 mac        (513) staff       (20)    24637 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/hint.rst
--rw-r--r--   0 mac        (513) staff       (20)      805 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/i18n.py
--rw-r--r--   0 mac        (513) staff       (20)      450 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/index.rst
--rw-r--r--   0 mac        (513) staff       (20)    34853 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/interfaces.py
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.238828 z3c.form-4.3/src/z3c/form/locales/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.145731 z3c.form-4.3/src/z3c/form/locales/cs/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.239244 z3c.form-4.3/src/z3c/form/locales/cs/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    15838 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/cs/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.146200 z3c.form-4.3/src/z3c/form/locales/da/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.239620 z3c.form-4.3/src/z3c/form/locales/da/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    20237 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/da/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.146685 z3c.form-4.3/src/z3c/form/locales/de/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.239975 z3c.form-4.3/src/z3c/form/locales/de/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    21286 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/de/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.147099 z3c.form-4.3/src/z3c/form/locales/en/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.240368 z3c.form-4.3/src/z3c/form/locales/en/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    20088 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/en/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.147482 z3c.form-4.3/src/z3c/form/locales/es/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.240881 z3c.form-4.3/src/z3c/form/locales/es/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    21695 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/es/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.147839 z3c.form-4.3/src/z3c/form/locales/fi/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.241427 z3c.form-4.3/src/z3c/form/locales/fi/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    20304 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/fi/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.148193 z3c.form-4.3/src/z3c/form/locales/fr/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.241745 z3c.form-4.3/src/z3c/form/locales/fr/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    21371 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/fr/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.148585 z3c.form-4.3/src/z3c/form/locales/hu/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.242050 z3c.form-4.3/src/z3c/form/locales/hu/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    20407 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/hu/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.148932 z3c.form-4.3/src/z3c/form/locales/it/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.242409 z3c.form-4.3/src/z3c/form/locales/it/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    17133 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/it/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.149359 z3c.form-4.3/src/z3c/form/locales/ja/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.242834 z3c.form-4.3/src/z3c/form/locales/ja/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    22129 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/ja/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.149739 z3c.form-4.3/src/z3c/form/locales/nl/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.243186 z3c.form-4.3/src/z3c/form/locales/nl/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    15569 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/nl/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.150096 z3c.form-4.3/src/z3c/form/locales/no/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.243464 z3c.form-4.3/src/z3c/form/locales/no/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    19695 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/no/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.150504 z3c.form-4.3/src/z3c/form/locales/pt_BR/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.243789 z3c.form-4.3/src/z3c/form/locales/pt_BR/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    21108 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/pt_BR/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.150853 z3c.form-4.3/src/z3c/form/locales/ru/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.244275 z3c.form-4.3/src/z3c/form/locales/ru/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    24489 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/ru/LC_MESSAGES/z3c.form.po
--rw-r--r--   0 mac        (513) staff       (20)    15117 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/z3c.form.pot
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.151209 z3c.form-4.3/src/z3c/form/locales/zh_CN/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.244684 z3c.form-4.3/src/z3c/form/locales/zh_CN/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    18293 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/zh_CN/LC_MESSAGES/z3c.form.po
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.151567 z3c.form-4.3/src/z3c/form/locales/zh_TW/
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.244989 z3c.form-4.3/src/z3c/form/locales/zh_TW/LC_MESSAGES/
--rw-r--r--   0 mac        (513) staff       (20)    16824 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/locales/zh_TW/LC_MESSAGES/z3c.form.po
--rw-r--r--   0 mac        (513) staff       (20)      701 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/meta.zcml
--rw-r--r--   0 mac        (513) staff       (20)     2587 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/object-caveat.rst
--rw-r--r--   0 mac        (513) staff       (20)    16774 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/object.py
--rw-r--r--   0 mac        (513) staff       (20)      234 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/object.zcml
--rw-r--r--   0 mac        (513) staff       (20)     4277 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/outputchecker.py
--rw-r--r--   0 mac        (513) staff       (20)     2182 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/subform.py
--rw-r--r--   0 mac        (513) staff       (20)    21841 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/subform.rst
--rw-r--r--   0 mac        (513) staff       (20)    11336 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/term.py
--rw-r--r--   0 mac        (513) staff       (20)    17634 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/term.rst
--rw-r--r--   0 mac        (513) staff       (20)      550 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/term.zcml
--rw-r--r--   0 mac        (513) staff       (20)    30423 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/testing.py
--rw-r--r--   0 mac        (513) staff       (20)     1331 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/testing.rst
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.249623 z3c.form-4.3/src/z3c/form/tests/
--rw-r--r--   0 mac        (513) staff       (20)       18 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/__init__.py
--rw-r--r--   0 mac        (513) staff       (20)      248 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/custom_error.pt
--rw-r--r--   0 mac        (513) staff       (20)      206 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/integration.css
--rw-r--r--   0 mac        (513) staff       (20)     1336 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/integration_edit.pt
--rw-r--r--   0 mac        (513) staff       (20)     1263 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/simple_caredit.pt
--rw-r--r--   0 mac        (513) staff       (20)      367 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/simple_display.pt
--rw-r--r--   0 mac        (513) staff       (20)     1139 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/simple_edit.pt
--rw-r--r--   0 mac        (513) staff       (20)     1565 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/simple_edit_with_providers.pt
--rw-r--r--   0 mac        (513) staff       (20)     2253 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/simple_groupedit.pt
--rw-r--r--   0 mac        (513) staff       (20)     2047 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/simple_nested_groupedit.pt
--rw-r--r--   0 mac        (513) staff       (20)      880 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/simple_owneredit.pt
--rw-r--r--   0 mac        (513) staff       (20)      749 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/simple_subedit.pt
--rw-r--r--   0 mac        (513) staff       (20)     4689 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/test_bugfix.py
--rw-r--r--   0 mac        (513) staff       (20)     5341 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/tests/test_doc.py
--rw-r--r--   0 mac        (513) staff       (20)      114 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/translation.zcml
--rw-r--r--   0 mac        (513) staff       (20)     8714 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/util.py
--rw-r--r--   0 mac        (513) staff       (20)    14816 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/util.rst
--rw-r--r--   0 mac        (513) staff       (20)     7647 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/validator.py
--rw-r--r--   0 mac        (513) staff       (20)    19325 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/validator.rst
--rw-r--r--   0 mac        (513) staff       (20)      322 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/validator.zcml
--rw-r--r--   0 mac        (513) staff       (20)     3091 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/value.py
--rw-r--r--   0 mac        (513) staff       (20)     7810 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/value.rst
--rw-r--r--   0 mac        (513) staff       (20)     1510 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/widget-graph.dot
--rw-r--r--   0 mac        (513) staff       (20)    13789 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/widget-graph.png
--rw-r--r--   0 mac        (513) staff       (20)    13773 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/widget-graph.ps
--rw-r--r--   0 mac        (513) staff       (20)    24272 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/widget.py
--rw-r--r--   0 mac        (513) staff       (20)    31482 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/widget.rst
--rw-r--r--   0 mac        (513) staff       (20)     5585 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/zcml.py
--rw-r--r--   0 mac        (513) staff       (20)     7561 2022-03-24 07:11:37.000000 z3c.form-4.3/src/z3c/form/zcml.rst
-drwxr-xr-x   0 mac        (513) staff       (20)        0 2022-03-24 07:11:39.177815 z3c.form-4.3/src/z3c.form.egg-info/
--rw-r--r--   0 mac        (513) staff       (20)    52497 2022-03-24 07:11:38.000000 z3c.form-4.3/src/z3c.form.egg-info/PKG-INFO
--rw-r--r--   0 mac        (513) staff       (20)     8856 2022-03-24 07:11:38.000000 z3c.form-4.3/src/z3c.form.egg-info/SOURCES.txt
--rw-r--r--   0 mac        (513) staff       (20)        1 2022-03-24 07:11:38.000000 z3c.form-4.3/src/z3c.form.egg-info/dependency_links.txt
--rw-r--r--   0 mac        (513) staff       (20)        4 2022-03-24 07:11:38.000000 z3c.form-4.3/src/z3c.form.egg-info/namespace_packages.txt
--rw-r--r--   0 mac        (513) staff       (20)        1 2022-03-24 07:11:38.000000 z3c.form-4.3/src/z3c.form.egg-info/not-zip-safe
--rw-r--r--   0 mac        (513) staff       (20)      554 2022-03-24 07:11:38.000000 z3c.form-4.3/src/z3c.form.egg-info/requires.txt
--rw-r--r--   0 mac        (513) staff       (20)        4 2022-03-24 07:11:38.000000 z3c.form-4.3/src/z3c.form.egg-info/top_level.txt
--rw-r--r--   0 mac        (513) staff       (20)     1365 2022-03-24 07:11:37.000000 z3c.form-4.3/tox.ini
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.955147 z3c.form-5.0/
+-rw-r--r--   0 m.howitz   (502) staff       (20)      550 2023-07-17 05:51:57.000000 z3c.form-5.0/AUTHOR.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)    49995 2023-07-17 05:51:57.000000 z3c.form-5.0/CHANGES.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      804 2023-07-17 05:51:57.000000 z3c.form-5.0/CONTRIBUTING.md
+-rw-r--r--   0 m.howitz   (502) staff       (20)       32 2023-07-17 05:51:57.000000 z3c.form-5.0/COPYRIGHT.txt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2070 2023-07-17 05:51:57.000000 z3c.form-5.0/LICENSE.txt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      625 2023-07-17 05:51:57.000000 z3c.form-5.0/MANIFEST.in
+-rw-r--r--   0 m.howitz   (502) staff       (20)    52692 2023-07-17 05:51:57.955221 z3c.form-5.0/PKG-INFO
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1457 2023-07-17 05:51:57.000000 z3c.form-5.0/README.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1529 2023-07-17 05:51:57.000000 z3c.form-5.0/TODOS.rst
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.915246 z3c.form-5.0/benchmark/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.915500 z3c.form-5.0/benchmark/benchmark/
+-rw-r--r--   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.000000 z3c.form-5.0/benchmark/benchmark/__init__.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     5453 2023-07-17 05:51:57.000000 z3c.form-5.0/benchmark/benchmark/tests.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)      639 2023-07-17 05:51:57.000000 z3c.form-5.0/benchmark/setup.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1925 2023-07-17 05:51:57.000000 z3c.form-5.0/buildout.cfg
+-rw-r--r--   0 m.howitz   (502) staff       (20)       74 2023-07-17 05:51:57.000000 z3c.form-5.0/doc-requirements.txt
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.916355 z3c.form-5.0/docs/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.917182 z3c.form-5.0/docs/advanced/
+-rw-r--r--   0 m.howitz   (502) staff       (20)       43 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/advanced/action.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       51 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/advanced/browser-readme.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       52 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/advanced/contentprovider.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      440 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/advanced/index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       46 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/advanced/validator.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       43 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/advanced/widget.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       27 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/authors.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       28 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/changelog.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     8817 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/conf.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)      507 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/index.rst
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.918429 z3c.form-5.0/docs/informative/
+-rw-r--r--   0 m.howitz   (502) staff       (20)       43 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/adding.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       46 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/converter.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       48 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/datamanager.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      370 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       50 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/object-caveat.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       41 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/term.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       44 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/testing.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       41 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/util.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       42 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/informative/value.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      194 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/interfaces.rst
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.919376 z3c.form-5.0/docs/mustread/
+-rw-r--r--   0 m.howitz   (502) staff       (20)       43 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/mustread/button.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       42 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/mustread/field.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       41 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/mustread/form.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       42 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/mustread/group.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      501 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/mustread/index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       44 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/mustread/subform.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       41 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/mustread/zcml.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       26 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/todos.rst
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.923048 z3c.form-5.0/docs/widgets/
+-rw-r--r--   0 m.howitz   (502) staff       (20)       51 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/button.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       53 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/checkbox.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       57 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/file-testing.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       49 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/file.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       50 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/image.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      331 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      232 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/multi-index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       50 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/multi.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       67 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/multi_dict_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       67 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/multi_list_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      440 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/object-index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       51 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/object.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       74 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/object_multi_dict_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       74 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/object_multi_list_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       70 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/object_single_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       56 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/objectmulti.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       58 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/orderedselect.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       53 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/password.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       50 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/radio.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      241 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/select-index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       65 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/select-missing-terms.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       58 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/select-source.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       51 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/select.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       51 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/submit.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       49 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/text.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       53 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/textarea.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       54 2023-07-17 05:51:57.000000 z3c.form-5.0/docs/widgets/textlines.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      468 2023-07-17 05:51:57.955484 z3c.form-5.0/setup.cfg
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3535 2023-07-17 05:51:57.000000 z3c.form-5.0/setup.py
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.910336 z3c.form-5.0/src/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.923182 z3c.form-5.0/src/z3c/
+-rw-r--r--   0 m.howitz   (502) staff       (20)       56 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/__init__.py
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.934688 z3c.form-5.0/src/z3c/form/
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3769 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/README.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       18 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/__init__.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3531 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/action.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     7116 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/action.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1009 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/adding.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3822 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/adding.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2062 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/apidoc.zcml
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.950047 z3c.form-5.0/src/z3c/form/browser/
+-rw-r--r--   0 m.howitz   (502) staff       (20)   108467 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/README.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)       18 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/__init__.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1569 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/button.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2112 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/button.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      504 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/button.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      400 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/button_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1341 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/button_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3550 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/checkbox.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    12977 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/checkbox.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1394 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/checkbox.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1032 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/checkbox_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1719 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/checkbox_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3630 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/checkbox_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      650 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/configure.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3684 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/file-testing.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1627 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/file.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2744 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/file.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      795 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/file.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      901 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/file_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1506 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/file_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      803 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/file_testing.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1748 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/file_testing_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2216 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/image.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2236 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/image.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      561 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/image.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      443 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/image_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1391 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/image_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      402 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)    11574 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/interfaces.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3017 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/multi.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    53182 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/multi.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1769 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/multi.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)    21277 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/multi_dict_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2543 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/multi_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      775 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/multi_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2711 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/multi_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)    13342 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/multi_list_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1378 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    41342 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      993 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      573 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      167 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      814 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)    20538 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object_multi_dict_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)    17265 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object_multi_list_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     6409 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/object_single_integration.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)    66284 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/objectmulti.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3570 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/orderedselect.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     8257 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/orderedselect.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1414 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/orderedselect.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1032 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/orderedselect_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3530 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/orderedselect_input.js
+-rw-r--r--   0 m.howitz   (502) staff       (20)     4681 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/orderedselect_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1406 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/password.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2513 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/password.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      834 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/password.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      901 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/password_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1630 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/password_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3379 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    11113 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1557 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1032 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1129 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio_display_single.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      254 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      591 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio_hidden_single.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      526 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1679 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/radio_input_single.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     8116 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/select-missing-terms.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2419 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/select-source.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     5303 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/select.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    12457 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/select.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1129 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/select.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1032 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/select_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      553 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/select_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1884 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/select_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1431 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/submit.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2079 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/submit.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      567 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/submit.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      400 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/submit_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1348 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/submit_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     6459 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/tests.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1501 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/text.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2872 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/text.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2555 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/text.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      973 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/text_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      492 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/text_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1817 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/text_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1637 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textarea.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2957 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textarea.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1165 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textarea.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      973 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textarea_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      491 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textarea_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1344 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textarea_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1447 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textlines.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2596 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textlines.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      941 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textlines.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      901 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textlines_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      492 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textlines_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1383 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/textlines_input.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     8118 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/widget.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1139 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/widget.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      752 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/widget.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      746 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/widget_layout.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      179 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/browser/widget_layout_hidden.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)    10774 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/button.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    20250 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/button.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      474 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/button.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      936 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/configure.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     4170 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/contentprovider.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    10529 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/contentprovider.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)    15934 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/converter.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    32345 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/converter.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1192 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/converter.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     5439 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/datamanager.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     9790 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/datamanager.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      252 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/datamanager.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      187 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/error.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     4652 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/error.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     7618 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/error.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      658 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/error.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      276 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/events.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    12662 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/field.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    30679 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/field.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      645 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/file.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)      201 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/file_testing.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)    54362 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/form-chameleon-issue-repeat-addons.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1589 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/form-graph.dot
+-rw-r--r--   0 m.howitz   (502) staff       (20)    11877 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/form-graph.png
+-rw-r--r--   0 m.howitz   (502) staff       (20)    14191 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/form-graph.ps
+-rw-r--r--   0 m.howitz   (502) staff       (20)    11240 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/form.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    62369 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/form.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     5215 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/group.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    34362 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/group.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1531 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/hint.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    24637 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/hint.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      806 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/i18n.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)      450 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/index.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)    34868 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/interfaces.py
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.950192 z3c.form-5.0/src/z3c/form/locales/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.910751 z3c.form-5.0/src/z3c/form/locales/cs/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.950329 z3c.form-5.0/src/z3c/form/locales/cs/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    15838 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/cs/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.910906 z3c.form-5.0/src/z3c/form/locales/da/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.950473 z3c.form-5.0/src/z3c/form/locales/da/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    20237 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/da/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.911071 z3c.form-5.0/src/z3c/form/locales/de/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.950632 z3c.form-5.0/src/z3c/form/locales/de/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    21286 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/de/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.911223 z3c.form-5.0/src/z3c/form/locales/en/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.950804 z3c.form-5.0/src/z3c/form/locales/en/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    20088 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/en/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.911374 z3c.form-5.0/src/z3c/form/locales/es/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.950976 z3c.form-5.0/src/z3c/form/locales/es/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    21695 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/es/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.911525 z3c.form-5.0/src/z3c/form/locales/fi/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.951146 z3c.form-5.0/src/z3c/form/locales/fi/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    20304 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/fi/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.911670 z3c.form-5.0/src/z3c/form/locales/fr/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.951400 z3c.form-5.0/src/z3c/form/locales/fr/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    21371 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/fr/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.911850 z3c.form-5.0/src/z3c/form/locales/hu/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.951596 z3c.form-5.0/src/z3c/form/locales/hu/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    20407 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/hu/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.912006 z3c.form-5.0/src/z3c/form/locales/it/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.951778 z3c.form-5.0/src/z3c/form/locales/it/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    17134 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/it/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.912165 z3c.form-5.0/src/z3c/form/locales/ja/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.951963 z3c.form-5.0/src/z3c/form/locales/ja/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    22129 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/ja/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.912315 z3c.form-5.0/src/z3c/form/locales/nl/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.952147 z3c.form-5.0/src/z3c/form/locales/nl/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    15569 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/nl/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.912474 z3c.form-5.0/src/z3c/form/locales/no/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.952317 z3c.form-5.0/src/z3c/form/locales/no/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    19695 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/no/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.912639 z3c.form-5.0/src/z3c/form/locales/pt_BR/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.952502 z3c.form-5.0/src/z3c/form/locales/pt_BR/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    21108 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/pt_BR/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.912800 z3c.form-5.0/src/z3c/form/locales/ru/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.952666 z3c.form-5.0/src/z3c/form/locales/ru/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    24489 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/ru/LC_MESSAGES/z3c.form.po
+-rw-r--r--   0 m.howitz   (502) staff       (20)    15117 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/z3c.form.pot
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.912952 z3c.form-5.0/src/z3c/form/locales/zh_CN/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.952822 z3c.form-5.0/src/z3c/form/locales/zh_CN/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    18293 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/zh_CN/LC_MESSAGES/z3c.form.po
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.913102 z3c.form-5.0/src/z3c/form/locales/zh_TW/
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.952988 z3c.form-5.0/src/z3c/form/locales/zh_TW/LC_MESSAGES/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    16824 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/locales/zh_TW/LC_MESSAGES/z3c.form.po
+-rw-r--r--   0 m.howitz   (502) staff       (20)      701 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/meta.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2587 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/object-caveat.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)    16848 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/object.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)      234 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/object.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     4300 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/outputchecker.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2192 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/subform.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    21774 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/subform.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)    11141 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/term.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    17576 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/term.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      550 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/term.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)    30239 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/testing.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1333 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/testing.rst
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.955011 z3c.form-5.0/src/z3c/form/tests/
+-rw-r--r--   0 m.howitz   (502) staff       (20)       18 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/__init__.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)      248 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/custom_error.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      206 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/integration.css
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1336 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/integration_edit.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1263 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/simple_caredit.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      367 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/simple_display.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1139 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/simple_edit.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1565 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/simple_edit_with_providers.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2253 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/simple_groupedit.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     2047 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/simple_nested_groupedit.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      880 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/simple_owneredit.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)      749 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/simple_subedit.pt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     4642 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/test_bugfix.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     5583 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/tests/test_doc.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)      114 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/translation.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     8232 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/util.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    14778 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/util.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     7672 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/validator.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    19325 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/validator.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)      322 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/validator.zcml
+-rw-r--r--   0 m.howitz   (502) staff       (20)     3092 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/value.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     7810 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/value.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1510 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/widget-graph.dot
+-rw-r--r--   0 m.howitz   (502) staff       (20)    13789 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/widget-graph.png
+-rw-r--r--   0 m.howitz   (502) staff       (20)    13773 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/widget-graph.ps
+-rw-r--r--   0 m.howitz   (502) staff       (20)    24310 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/widget.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)    31408 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/widget.rst
+-rw-r--r--   0 m.howitz   (502) staff       (20)     5832 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/zcml.py
+-rw-r--r--   0 m.howitz   (502) staff       (20)     7561 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c/form/zcml.rst
+drwxr-xr-x   0 m.howitz   (502) staff       (20)        0 2023-07-17 05:51:57.924208 z3c.form-5.0/src/z3c.form.egg-info/
+-rw-r--r--   0 m.howitz   (502) staff       (20)    52692 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c.form.egg-info/PKG-INFO
+-rw-r--r--   0 m.howitz   (502) staff       (20)     8888 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c.form.egg-info/SOURCES.txt
+-rw-r--r--   0 m.howitz   (502) staff       (20)        1 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c.form.egg-info/dependency_links.txt
+-rw-r--r--   0 m.howitz   (502) staff       (20)        4 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c.form.egg-info/namespace_packages.txt
+-rw-r--r--   0 m.howitz   (502) staff       (20)        1 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c.form.egg-info/not-zip-safe
+-rw-r--r--   0 m.howitz   (502) staff       (20)      550 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c.form.egg-info/requires.txt
+-rw-r--r--   0 m.howitz   (502) staff       (20)        4 2023-07-17 05:51:57.000000 z3c.form-5.0/src/z3c.form.egg-info/top_level.txt
+-rw-r--r--   0 m.howitz   (502) staff       (20)     1599 2023-07-17 05:51:57.000000 z3c.form-5.0/tox.ini
```

### Comparing `z3c.form-4.3/AUTHOR.rst` & `z3c.form-5.0/AUTHOR.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/CHANGES.rst` & `z3c.form-5.0/CHANGES.rst`

 * *Files 0% similar despite different names*

```diff
@@ -1,11 +1,25 @@
 =========
 Changelog
 =========
 
+5.0 (2023-07-17)
+----------------
+
+- Add support for Python 3.11.
+
+- Drop support for Python 2.7, 3.5, 3.6.
+
+- Drop deprecated support for ``python setup.py test``.
+
+- HTMLFormElement.addClass: Improve removal of duplicates. It's now possible to
+  add multiple classes as whitespace separated string and still detect class
+  duplicates.
+
+
 4.3 (2022-03-24)
 ----------------
 
 - Add support for Python 3.10.
 
 - Update tests to ``lxml > 4.7``, thus requiring at least that version.
   (`#107 <https://github.com/zopefoundation/z3c.form/issues/107>`_)
```

### Comparing `z3c.form-4.3/CONTRIBUTING.md` & `z3c.form-5.0/CONTRIBUTING.md`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/LICENSE.txt` & `z3c.form-5.0/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/MANIFEST.in` & `z3c.form-5.0/MANIFEST.in`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/PKG-INFO` & `z3c.form-5.0/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,36 +1,33 @@
 Metadata-Version: 2.1
 Name: z3c.form
-Version: 4.3
+Version: 5.0
 Summary: An advanced form and widget framework for Zope 3
 Home-page: https://github.com/zopefoundation/z3c.form
 Author: Stephan Richter, Roger Ineichen and the Zope Community
-Author-email: zope-dev@zope.org
+Author-email: zope-dev@zope.dev
 License: ZPL 2.1
 Keywords: zope3 form widget
-Platform: UNKNOWN
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Environment :: Web Environment
 Classifier: Intended Audience :: Developers
 Classifier: License :: OSI Approved :: Zope Public License
 Classifier: Programming Language :: Python
-Classifier: Programming Language :: Python :: 2
-Classifier: Programming Language :: Python :: 2.7
 Classifier: Programming Language :: Python :: 3
-Classifier: Programming Language :: Python :: 3.5
-Classifier: Programming Language :: Python :: 3.6
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
 Classifier: Programming Language :: Python :: Implementation :: CPython
 Classifier: Natural Language :: English
 Classifier: Operating System :: OS Independent
 Classifier: Topic :: Internet :: WWW/HTTP
 Classifier: Framework :: Zope :: 3
+Requires-Python: >=3.7
 Provides-Extra: extra
 Provides-Extra: test
 Provides-Extra: adding
 Provides-Extra: docs
 License-File: LICENSE.txt
 
 ==========
@@ -77,14 +74,28 @@
 
 
 
 =========
 Changelog
 =========
 
+5.0 (2023-07-17)
+----------------
+
+- Add support for Python 3.11.
+
+- Drop support for Python 2.7, 3.5, 3.6.
+
+- Drop deprecated support for ``python setup.py test``.
+
+- HTMLFormElement.addClass: Improve removal of duplicates. It's now possible to
+  add multiple classes as whitespace separated string and still detect class
+  duplicates.
+
+
 4.3 (2022-03-24)
 ----------------
 
 - Add support for Python 3.10.
 
 - Update tests to ``lxml > 4.7``, thus requiring at least that version.
   (`#107 <https://github.com/zopefoundation/z3c.form/issues/107>`_)
@@ -1428,9 +1439,7 @@
 - Feature: Added compatibility for Zope 3.3 and thus Zope 2.10.
 
 
 1.0.0 (2007-05-24)
 ------------------
 
 - Initial Release
-
-
```

### Comparing `z3c.form-4.3/README.rst` & `z3c.form-5.0/README.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/TODOS.rst` & `z3c.form-5.0/TODOS.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/benchmark/benchmark/tests.py` & `z3c.form-5.0/benchmark/benchmark/tests.py`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/benchmark/setup.py` & `z3c.form-5.0/benchmark/setup.py`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/buildout.cfg` & `z3c.form-5.0/buildout.cfg`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/docs/conf.py` & `z3c.form-5.0/docs/conf.py`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/setup.py` & `z3c.form-5.0/setup.py`

 * *Files 24% similar despite different names*

```diff
@@ -10,45 +10,32 @@
 # WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS
 # FOR A PARTICULAR PURPOSE.
 #
 ##############################################################################
 """Setup
 """
 import os
-from setuptools import setup, find_packages
+
+from setuptools import find_packages
+from setuptools import setup
 
 
 def read(*rnames):
     with open(os.path.join(os.path.dirname(__file__), *rnames)) as f:
         text = f.read()
     if isinstance(text, bytes):
         text = text.decode('utf-8')
     return text.encode('ascii', 'xmlcharrefreplace').decode()
 
 
-def alltests():
-    import os
-    import sys
-    import unittest
-    # use the zope.testrunner machinery to find all the
-    # test suites we've put under ourselves
-    import zope.testrunner.find
-    import zope.testrunner.options
-    here = os.path.abspath(os.path.join(os.path.dirname(__file__), 'src'))
-    args = sys.argv[:]
-    defaults = ["--test-path", here]
-    options = zope.testrunner.options.get_options(args, defaults)
-    suites = list(zope.testrunner.find.find_suites(options))
-    return unittest.TestSuite(suites)
-
 setup(
     name='z3c.form',
-    version='4.3',
+    version='5.0',
     author="Stephan Richter, Roger Ineichen and the Zope Community",
-    author_email="zope-dev@zope.org",
+    author_email="zope-dev@zope.dev",
     description="An advanced form and widget framework for Zope 3",
     long_description=(
         read('README.rst')
         + '\n\n' +
         '.. contents:: \n\n'
         + '\n\n'
         + read('CHANGES.rst')),
@@ -56,33 +43,32 @@
     keywords="zope3 form widget",
     classifiers=[
         'Development Status :: 5 - Production/Stable',
         'Environment :: Web Environment',
         'Intended Audience :: Developers',
         'License :: OSI Approved :: Zope Public License',
         'Programming Language :: Python',
-        'Programming Language :: Python :: 2',
-        'Programming Language :: Python :: 2.7',
         'Programming Language :: Python :: 3',
-        'Programming Language :: Python :: 3.5',
-        'Programming Language :: Python :: 3.6',
         'Programming Language :: Python :: 3.7',
         'Programming Language :: Python :: 3.8',
         'Programming Language :: Python :: 3.9',
         'Programming Language :: Python :: 3.10',
+        'Programming Language :: Python :: 3.11',
         'Programming Language :: Python :: Implementation :: CPython',
         'Natural Language :: English',
         'Operating System :: OS Independent',
         'Topic :: Internet :: WWW/HTTP',
-        'Framework :: Zope :: 3'],
+        'Framework :: Zope :: 3',
+    ],
     url='https://github.com/zopefoundation/z3c.form',
     packages=find_packages('src'),
     include_package_data=True,
     package_dir={'': 'src'},
     namespace_packages=['z3c'],
+    python_requires='>=3.7',
     extras_require=dict(
         extra=[
             'z3c.pt >= 2.1',
             'z3c.ptcompat>=1.0',
             'zope.pagetemplate >= 3.6.2',
         ],
         test=[
@@ -98,15 +84,14 @@
         docs=[
             'Sphinx',
             'repoze.sphinx.autointerface',
         ],
     ),
     install_requires=[
         'setuptools',
-        'six',
         'zope.browser',
         'zope.browserpage',
         'zope.browserresource',
         'zope.component',
         'zope.configuration >= 4.3',
         'zope.contentprovider',
         'zope.event',
@@ -118,20 +103,9 @@
         'zope.pagetemplate',  # >= 3.6.2 if z3c.pt is used
         'zope.publisher',
         'zope.schema >= 4.7',
         'zope.security',
         'zope.site',
         'zope.traversing',
     ],
-    tests_require=[
-        'lxml >= 4.2',
-        'persistent',
-        'z3c.template >= 1.3',
-        'zc.sourcefactory',
-        'zope.container',
-        'zope.password',
-        'zope.testing',
-        'zope.testrunner',
-    ],
-    test_suite='__main__.alltests',
     zip_safe=False,
 )
```

### Comparing `z3c.form-4.3/src/z3c/form/README.rst` & `z3c.form-5.0/src/z3c/form/README.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/action.py` & `z3c.form-5.0/src/z3c/form/action.py`

 * *Files 4% similar despite different names*

```diff
@@ -12,46 +12,47 @@
 #
 ##############################################################################
 """Form Framework Action Implementation
 
 $Id$
 """
 __docformat__ = "reStructuredText"
-import zope.interface
 import zope.component
+import zope.interface
 
-from z3c.form import interfaces, util
+from z3c.form import interfaces
+from z3c.form import util
 
 
 @zope.interface.implementer(interfaces.IActionEvent)
-class ActionEvent(object):
+class ActionEvent:
 
     def __init__(self, action):
         self.action = action
 
     def __repr__(self):
-        return '<%s for %r>' %(self.__class__.__name__, self.action)
+        return '<{} for {!r}>'.format(self.__class__.__name__, self.action)
 
 
 @zope.interface.implementer(interfaces.IActionErrorEvent)
 class ActionErrorOccurred(ActionEvent):
     """An event telling the system that an error occurred during action
     execution."""
 
     def __init__(self, action, error):
-        super(ActionErrorOccurred, self).__init__(action)
+        super().__init__(action)
         self.error = error
 
 
 class ActionSuccessful(ActionEvent):
     """An event signalizing that an action has been successfully executed."""
 
 
 @zope.interface.implementer(interfaces.IAction)
-class Action(object):
+class Action:
     """Action class."""
 
     __name__ = __parent__ = None
 
     def __init__(self, request, title, name=None):
         self.request = request
         self.title = title
@@ -59,25 +60,25 @@
             name = util.createId(title)
         self.name = name
 
     def isExecuted(self):
         return self.name in self.request
 
     def __repr__(self):
-        return '<%s %r %r>' % (self.__class__.__name__, self.name, self.title)
+        return f'<{self.__class__.__name__} {self.name!r} {self.title!r}>'
 
 
 @zope.interface.implementer_only(interfaces.IActions)
 class Actions(util.Manager):
     """Action manager class."""
 
     __name__ = __parent__ = None
 
     def __init__(self, form, request, content):
-        super(Actions, self).__init__()
+        super().__init__()
         self.form = form
         self.request = request
         self.content = content
 
     @property
     def executedActions(self):
         return [action for action in self.values()
@@ -99,19 +100,19 @@
                 except interfaces.ActionExecutionError as error:
                     zope.event.notify(ActionErrorOccurred(action, error))
                 else:
                     zope.event.notify(ActionSuccessful(action))
                     return result
 
     def __repr__(self):
-        return '<%s %r>' % (self.__class__.__name__, self.__name__)
+        return '<{} {!r}>'.format(self.__class__.__name__, self.__name__)
 
 
 @zope.interface.implementer(interfaces.IActionHandler)
-class ActionHandlerBase(object):
+class ActionHandlerBase:
     """Action handler base adapter."""
 
     def __init__(self, form, request, content, action):
         self.form = form
         self.request = request
         self.content = content
         self.action = action
```

### Comparing `z3c.form-4.3/src/z3c/form/action.rst` & `z3c.form-5.0/src/z3c/form/action.rst`

 * *Files 4% similar despite different names*

```diff
@@ -68,15 +68,15 @@
 
   >>> list(manager.keys())
   []
 
 Our simple implementation of has an additional ``append()`` method, which we
 will use to add actions:
 
-  >>> apply = action.Action(request, u'Apply')
+  >>> apply = action.Action(request, 'Apply')
   >>> manager.append(apply.name, apply)
 
 The action is added immediately:
 
   >>> list(manager.keys())
   ['apply']
 
@@ -85,47 +85,47 @@
 
   >>> manager.update()
 
 Note: If the title of the action is a more complex unicode string and no name
 is specified for the action, then a hexadecimal name is created from the
 title:
 
-  >>> action.Action(request, u'Apply Now!').name
+  >>> action.Action(request, 'Apply Now!').name
   '4170706c79204e6f7721'
 
 Since the action manager is an enumerable mapping, ...
 
   >>> from zope.interface.common.mapping import IEnumerableMapping
   >>> IEnumerableMapping.providedBy(manager)
   True
 
 there are several API methods available:
 
   >>> manager['apply']
-  <Action 'apply' u'Apply'>
+  <Action 'apply' 'Apply'>
   >>> manager['foo']
   Traceback (most recent call last):
   ...
   KeyError: 'foo'
 
   >>> manager.get('apply')
-  <Action 'apply' u'Apply'>
+  <Action 'apply' 'Apply'>
   >>> manager.get('foo', 'default')
   'default'
 
   >>> 'apply' in manager
   True
   >>> 'foo' in manager
   False
 
   >>> list(manager.values())
-  [<Action 'apply' u'Apply'>]
+  [<Action 'apply' 'Apply'>]
 
   >>> list(manager.items())
-  [('apply', <Action 'apply' u'Apply'>)]
+  [('apply', <Action 'apply' 'Apply'>)]
 
   >>> len(manager)
   1
 
 
 Executing actions
 -----------------
@@ -136,25 +136,25 @@
 
   >>> request = TestRequest(form={'apply': 'Apply'})
   >>> manager = SimpleActions(form, request, content)
 
 We also want to have two buttons in this case, so that we can ensure that only
 one is executed:
 
-  >>> apply = action.Action(request, u'Apply')
+  >>> apply = action.Action(request, 'Apply')
   >>> manager.append(apply.name, apply)
 
-  >>> cancel = action.Action(request, u'Cancel')
+  >>> cancel = action.Action(request, 'Cancel')
   >>> manager.append(cancel.name, cancel)
   >>> manager.update()
 
 Now that the manager is updated, we can ask it for the "executed" actions:
 
   >>> manager.executedActions
-  [<Action 'apply' u'Apply'>]
+  [<Action 'apply' 'Apply'>]
 
 Executing the actions does nothing, because there are no handlers yet:
 
   >>> manager.execute()
 
 
 Let's now register an action handler that listens to the "Apply" action. An
@@ -199,15 +199,15 @@
 
   >>> request = TestRequest(form={'apply': 'Apply'})
   >>> manager.request = apply.request = cancel.request = request
   >>> manager.execute()
   successfully applied
 
   >>> eventlog[-1]
-  <ActionSuccessful for <Action 'apply' u'Apply'>>
+  <ActionSuccessful for <Action 'apply' 'Apply'>>
 
 Action handlers, however, can also raise action errors. These action errors
 are caught and an event is created notifying the system of the problem. The
 error is not further propagated. Other errors are not handled by the system to
 avoid hiding real failures of the code.
 
 Let's see how action errors can be used by implementing a handler for the
@@ -228,12 +228,11 @@
 Executing the "Cancel" action now produces the action error event:
 
   >>> request = TestRequest(form={'cancel': 'Cancel'})
   >>> manager.request = apply.request = cancel.request = request
   >>> manager.execute()
 
   >>> eventlog[-1]
-  <ActionErrorOccurred for <Action 'cancel' u'Cancel'>>
+  <ActionErrorOccurred for <Action 'cancel' 'Cancel'>>
 
   >>> eventlog[-1].error
   <ActionExecutionError wrapping ...Invalid...>
-
```

### Comparing `z3c.form-4.3/src/z3c/form/adding.py` & `z3c.form-5.0/src/z3c/form/adding.py`

 * *Files 1% similar despite different names*

```diff
@@ -14,14 +14,15 @@
 """Implementation of an addform for IAdding
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 from z3c.form import form
 
+
 class AddForm(form.AddForm):
     """An addform for the IAdding interface."""
 
     def add(self, object):
         ob = self.context.add(object)
         self._finishedAdd = True
         return ob
```

### Comparing `z3c.form-4.3/src/z3c/form/adding.rst` & `z3c.form-5.0/src/z3c/form/adding.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/apidoc.zcml` & `z3c.form-5.0/src/z3c/form/apidoc.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/README.rst` & `z3c.form-5.0/src/z3c/form/browser/README.rst`

 * *Files 1% similar despite different names*

```diff
@@ -84,15 +84,15 @@
   </div>
 
 As you can see, we will get an additional error class called ``row-error`` if
 we render a widget with an error view assinged:
 
   >>> class DummyErrorView(object):
   ...    def render(self):
-  ...        return u'Dummy Error'
+  ...        return 'Dummy Error'
   >>> widget.error = (DummyErrorView())
   >>> print(widget())
   <div id="foo-row" class="row-error row-required row">
     <div class="label">
       <label for="foo">
         <span></span>
         <span class="required">*</span>
@@ -265,15 +265,15 @@
   <span id="foo"
         class="single-checkbox-widget required bool-field"><span
       class="selected-option">Check me</span></span>
 
 Note that the widget label is not repeated twice:
 
   >>> widget.label
-  u''
+  ''
 
 Calling the widget will return the widget including the layout
 
   >>> print(widget())
   <div id="foo-row" class="row-required row">
     <div class="label">
       <label for="foo">
@@ -287,15 +287,15 @@
   </div>
 
 
 Button
 ------
 
   >>> from z3c.form import button
-  >>> field = button.Button(title=u'Press me!')
+  >>> field = button.Button(title='Press me!')
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.submit.SubmitWidget'>
 
   >>> print(widget.render())
@@ -342,15 +342,15 @@
   <FileUploadDataConverter converts from Bytes to FileWidget>
 
   >>> print(widget.render())
   <input type="file" id="foo" name="bar" class="file-widget required bytes-field" />
 
   >>> widget.mode = interfaces.DISPLAY_MODE
   >>> widget.render().strip('\r\n')
-  u'<span id="foo" class="file-widget required bytes-field"></span>'
+  '<span id="foo" class="file-widget required bytes-field"></span>'
 
 Calling the widget will return the widget including the layout
 
   >>> print(widget())
   <div id="foo-row" class="row-required row">
     <div class="label">
       <label for="foo">
@@ -727,16 +727,16 @@
 ImageButton
 -----------
 
 Let's say we have a simple image field that uses the ``pressme.png`` image.
 
   >>> from z3c.form import button
   >>> field = button.ImageButton(
-  ...     image=u'pressme.png',
-  ...     title=u'Press me!')
+  ...     image='pressme.png',
+  ...     title='Press me!')
 
 When the widget is created, the system converts the relative image path to an
 absolute image path by looking up the resource. For this to work, we have to
 setup some of the traversing machinery:
 
   # Traversing setup
   >>> from zope.traversing import testing
@@ -804,15 +804,15 @@
 
 
 List - ASCII
 ------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.ASCII(
-  ...         title=u'ASCII',
+  ...         title='ASCII',
   ...         default='This is\n ASCII.'),
   ...     default=['foo\nfoo', 'bar\nbar'])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -873,15 +873,15 @@
 
 
 List - ASCIILine
 ----------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.ASCIILine(
-  ...         title=u'ASCIILine',
+  ...         title='ASCIILine',
   ...         default='An ASCII line.'),
   ...     default=['foo', 'bar'])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1007,15 +1007,15 @@
 
 
 List - Date
 -----------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Date(
-  ...         title=u'Date',
+  ...         title='Date',
   ...         default=datetime.date(2007, 4, 1)),
   ...     default=[datetime.date(2008, 9, 27), datetime.date(2008, 9, 28)])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1076,15 +1076,15 @@
 
 
 List - Datetime
 ---------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Datetime(
-  ...         title=u'Datetime',
+  ...         title='Datetime',
   ...         default=datetime.datetime(2007, 4, 1, 12)),
   ...     default=[datetime.datetime(2008, 9, 27, 12),
   ...              datetime.datetime(2008, 9, 28, 12)])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
@@ -1146,15 +1146,15 @@
 
 
 List - Decimal
 ---------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Decimal(
-  ...         title=u'Decimal',
+  ...         title='Decimal',
   ...         default=decimal.Decimal('1265.87')),
   ...     default=[decimal.Decimal('123.456'), decimal.Decimal('1')])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1214,17 +1214,17 @@
 
 
 List - DottedName
 -----------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.DottedName(
-  ...         title=u'DottedName',
+  ...         title='DottedName',
   ...         default='z3c.form'),
-  ...     default=[u'z3c.form', u'z3c.wizard'])
+  ...     default=['z3c.form', 'z3c.wizard'])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -1283,15 +1283,15 @@
 
 
 List - Float
 ------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Float(
-  ...         title=u'Float',
+  ...         title='Float',
   ...         default=123.456),
   ...     default=[1234.5, 1])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1351,15 +1351,15 @@
 
 
 List - Id
 ---------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Id(
-  ...         title=u'Id',
+  ...         title='Id',
   ...         default='z3c.form'),
   ...     default=['z3c.form', 'z3c.wizard'])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1420,15 +1420,15 @@
 
 
 List - Int
 ----------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Int(
-  ...         title=u'Int',
+  ...         title='Int',
   ...         default=666),
   ...     default=[42, 43])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1487,16 +1487,16 @@
 
 
 List - Password
 ---------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Password(
-  ...         title=u'Password',
-  ...         default=u'mypwd'),
+  ...         title='Password',
+  ...         default='mypwd'),
   ...     default=['pwd', 'pass'])
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
@@ -1554,17 +1554,17 @@
 
 
 List - SourceText
 -----------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.SourceText(
-  ...         title=u'SourceText',
-  ...         default=u'<source />'),
-  ...     default=[u'<html></body>foo</body></html>', u'<h1>bar</h1>'] )
+  ...         title='SourceText',
+  ...         default='<source />'),
+  ...     default=['<html></body>foo</body></html>', '<h1>bar</h1>'] )
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -1621,17 +1621,17 @@
 
 
 List - Text
 -----------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Text(
-  ...         title=u'Text',
-  ...         default=u'Some\n Text.'),
-  ...     default=[u'foo\nfoo', u'bar\nbar'] )
+  ...         title='Text',
+  ...         default='Some\n Text.'),
+  ...     default=['foo\nfoo', 'bar\nbar'] )
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -1690,17 +1690,17 @@
 
 
 List - TextLine
 ---------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.TextLine(
-  ...         title=u'TextLine',
-  ...         default=u'Some Text line.'),
-  ...     default=[u'foo', u'bar'] )
+  ...         title='TextLine',
+  ...         default='Some Text line.'),
+  ...     default=['foo', 'bar'] )
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -1759,15 +1759,15 @@
 
 
 List - Time
 -----------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Time(
-  ...         title=u'Time',
+  ...         title='Time',
   ...         default=datetime.time(12, 0)),
   ...     default=[datetime.time(13, 0), datetime.time(14, 0)] )
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1826,15 +1826,15 @@
 
 
 List - Timedelta
 ----------------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.Timedelta(
-  ...         title=u'Timedelta',
+  ...         title='Timedelta',
   ...         default=datetime.timedelta(days=3)),
   ...     default=[datetime.timedelta(days=4), datetime.timedelta(days=5)] )
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1895,15 +1895,15 @@
 
 
 List - URI
 ----------
 
   >>> field = zope.schema.List(
   ...     value_type=zope.schema.URI(
-  ...         title=u'URI',
+  ...         title='URI',
   ...         default='http://zope.org'),
   ...     default=['http://www.python.org', 'http://www.zope.com'] )
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -1969,15 +1969,15 @@
 By default, we are not going to provide widgets for an object, since we
 believe this is better done using sub-forms.
 
 
 Password
 --------
 
-  >>> field = zope.schema.Password(default=u'mypwd')
+  >>> field = zope.schema.Password(default='mypwd')
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.password.PasswordWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -2023,15 +2023,15 @@
       class="selected-option">1</span>, <span
       class="selected-option">3</span></span>
 
 
 SourceText
 ----------
 
-  >>> field = zope.schema.SourceText(default=u'<source />')
+  >>> field = zope.schema.SourceText(default='<source />')
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.textarea.TextAreaWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -2045,15 +2045,15 @@
   >>> print(widget.render())
   <span id="foo" class="textarea-widget required sourcetext-field">&lt;source /&gt;</span>
 
 
 Text
 ----
 
-  >>> field = zope.schema.Text(default=u'Some\n Text.')
+  >>> field = zope.schema.Text(default='Some\n Text.')
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.textarea.TextAreaWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -2068,15 +2068,15 @@
   <span id="foo" class="textarea-widget required text-field">Some
     Text.</span>
 
 
 TextLine
 --------
 
-  >>> field = zope.schema.TextLine(default=u'Some Text line.')
+  >>> field = zope.schema.TextLine(default='Some Text line.')
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.text.TextWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -2137,15 +2137,15 @@
 
 
 Tuple - ASCII
 -------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.ASCII(
-  ...         title=u'ASCII',
+  ...         title='ASCII',
   ...         default='This is\n ASCII.'),
   ...     default=('foo\nfoo', 'bar\nbar'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -2206,15 +2206,15 @@
 
 
 Tuple - ASCIILine
 -----------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.ASCIILine(
-  ...         title=u'ASCIILine',
+  ...         title='ASCIILine',
   ...         default='An ASCII line.'),
   ...     default=('foo', 'bar'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -2340,15 +2340,15 @@
 
 
 Tuple - Date
 ------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Date(
-  ...         title=u'Date',
+  ...         title='Date',
   ...         default=datetime.date(2007, 4, 1)),
   ...     default=(datetime.date(2008, 9, 27), datetime.date(2008, 9, 28)))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -2409,15 +2409,15 @@
 
 
 Tuple - Datetime
 ----------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Datetime(
-  ...         title=u'Datetime',
+  ...         title='Datetime',
   ...         default=datetime.datetime(2007, 4, 1, 12)),
   ...     default=(datetime.datetime(2008, 9, 27, 12),
   ...              datetime.datetime(2008, 9, 28, 12)))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
@@ -2479,15 +2479,15 @@
 
 
 Tuple - Decimal
 ----------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Decimal(
-  ...         title=u'Decimal',
+  ...         title='Decimal',
   ...         default=decimal.Decimal('1265.87')),
   ...     default=(decimal.Decimal('123.456'), decimal.Decimal('1')))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -2547,17 +2547,17 @@
 
 
 Tuple - DottedName
 ------------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.DottedName(
-  ...         title=u'DottedName',
+  ...         title='DottedName',
   ...         default='z3c.form'),
-  ...     default=(u'z3c.form', u'z3c.wizard'))
+  ...     default=('z3c.form', 'z3c.wizard'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -2616,15 +2616,15 @@
 
 
 Tuple - Float
 -------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Float(
-  ...         title=u'Float',
+  ...         title='Float',
   ...         default=123.456),
   ...     default=(1234.5, 1))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -2684,15 +2684,15 @@
 
 
 Tuple - Id
 ----------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Id(
-  ...         title=u'Id',
+  ...         title='Id',
   ...         default='z3c.form'),
   ...     default=('z3c.form', 'z3c.wizard'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -2753,15 +2753,15 @@
 
 
 Tuple - Int
 -----------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Int(
-  ...         title=u'Int',
+  ...         title='Int',
   ...         default=666),
   ...     default=(42, 43))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -2820,16 +2820,16 @@
 
 
 Tuple - Password
 ----------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Password(
-  ...         title=u'Password',
-  ...         default=u'mypwd'),
+  ...         title='Password',
+  ...         default='mypwd'),
   ...     default=('pwd', 'pass'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
@@ -2887,17 +2887,17 @@
 
 
 Tuple - SourceText
 ------------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.SourceText(
-  ...         title=u'SourceText',
-  ...         default=u'<source />'),
-  ...     default=(u'<html></body>foo</body></html>', u'<h1>bar</h1>'))
+  ...         title='SourceText',
+  ...         default='<source />'),
+  ...     default=('<html></body>foo</body></html>', '<h1>bar</h1>'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -2954,17 +2954,17 @@
 
 
 Tuple - Text
 ------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Text(
-  ...         title=u'Text',
-  ...         default=u'Some\n Text.'),
-  ...     default=(u'foo\nfoo', u'bar\nbar'))
+  ...         title='Text',
+  ...         default='Some\n Text.'),
+  ...     default=('foo\nfoo', 'bar\nbar'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -3023,17 +3023,17 @@
 
 
 Tuple - TextLine
 ----------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.TextLine(
-  ...         title=u'TextLine',
-  ...         default=u'Some Text line.'),
-  ...     default=(u'foo', u'bar'))
+  ...         title='TextLine',
+  ...         default='Some Text line.'),
+  ...     default=('foo', 'bar'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
 
   >>> interfaces.IDataConverter(widget)
@@ -3092,15 +3092,15 @@
 
 
 Tuple - Time
 ------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Time(
-  ...         title=u'Time',
+  ...         title='Time',
   ...         default=datetime.time(12, 0)),
   ...     default=(datetime.time(13, 0), datetime.time(14, 0)))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -3159,15 +3159,15 @@
 
 
 Tuple - Timedelta
 -----------------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.Timedelta(
-  ...         title=u'Timedelta',
+  ...         title='Timedelta',
   ...         default=datetime.timedelta(days=3)),
   ...     default=(datetime.timedelta(days=4), datetime.timedelta(days=5)))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
@@ -3228,15 +3228,15 @@
 
 
 Tuple - URI
 -----------
 
   >>> field = zope.schema.Tuple(
   ...     value_type=zope.schema.URI(
-  ...         title=u'URI',
+  ...         title='URI',
   ...         default='http://zope.org'),
   ...     default=('http://www.python.org', 'http://www.zope.com'))
   >>> widget = setupWidget(field)
   >>> widget.update()
 
   >>> widget.__class__
   <class 'z3c.form.browser.multi.MultiWidget'>
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/button.py` & `z3c.form-5.0/src/z3c/form/browser/button.py`

 * *Files 10% similar despite different names*

```diff
@@ -15,25 +15,26 @@
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 
-from z3c.form import interfaces, widget
-from z3c.form.widget import Widget, FieldWidget
+from z3c.form import interfaces
 from z3c.form.browser import widget
+from z3c.form.widget import FieldWidget
+from z3c.form.widget import Widget
 
 
 @zope.interface.implementer_only(interfaces.IButtonWidget)
 class ButtonWidget(widget.HTMLInputWidget, Widget):
     """A simple button of a form."""
 
-    klass = u'button-widget'
-    css = u'button'
+    klass = 'button-widget'
+    css = 'button'
 
     def update(self):
         # We do not need to use the widget's update method, because it is
         # mostly about ectracting the value, which we do not need to do.
         widget.addFieldClass(self)
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/button.rst` & `z3c.form-5.0/src/z3c/form/browser/button.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/button_input.pt` & `z3c.form-5.0/src/z3c/form/browser/button_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/checkbox.py` & `z3c.form-5.0/src/z3c/form/browser/checkbox.py`

 * *Files 7% similar despite different names*

```diff
@@ -17,58 +17,61 @@
 """
 __docformat__ = "reStructuredText"
 
 import zope.component
 import zope.interface
 import zope.schema
 import zope.schema.interfaces
-from zope.schema import vocabulary
 from zope.i18n import translate
+from zope.schema import vocabulary
 
-from z3c.form import interfaces, term, util
-from z3c.form.widget import SequenceWidget, FieldWidget
+from z3c.form import interfaces
+from z3c.form import term
+from z3c.form import util
 from z3c.form.browser import widget
+from z3c.form.widget import FieldWidget
+from z3c.form.widget import SequenceWidget
 
 
 @zope.interface.implementer_only(interfaces.ICheckBoxWidget)
 class CheckBoxWidget(widget.HTMLInputWidget, SequenceWidget):
     """Input type checkbox widget implementation."""
 
-    klass = u'checkbox-widget'
-    css = u'checkbox'
+    klass = 'checkbox-widget'
+    css = 'checkbox'
     items = ()
 
     def isChecked(self, term):
         return term.token in self.value
 
     @property
     def items(self):
         if self.terms is None:
             return ()
         items = []
-        for count, term in enumerate(self.terms):
-            checked = self.isChecked(term)
+        for count, term_ in enumerate(self.terms):
+            checked = self.isChecked(term_)
             id = '%s-%i' % (self.id, count)
-            if zope.schema.interfaces.ITitledTokenizedTerm.providedBy(term):
-                label = translate(term.title, context=self.request,
-                                  default=term.title)
+            if zope.schema.interfaces.ITitledTokenizedTerm.providedBy(term_):
+                label = translate(term_.title, context=self.request,
+                                  default=term_.title)
             else:
-                label = util.toUnicode(term.value)
+                label = util.toUnicode(term_.value)
             items.append(
-                {'id': id, 'name': self.name + ':list', 'value': term.token,
+                {'id': id, 'name': self.name + ':list', 'value': term_.token,
                  'label': label, 'checked': checked})
         return items
 
     def update(self):
         """See z3c.form.interfaces.IWidget."""
-        super(CheckBoxWidget, self).update()
+        super().update()
         widget.addFieldClass(self)
 
     def json_data(self):
-        data = super(CheckBoxWidget, self).json_data()
+        data = super().json_data()
         data['options'] = list(self.items)
         data['type'] = 'check'
         return data
 
 
 @zope.component.adapter(zope.schema.interfaces.IField, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
@@ -77,15 +80,15 @@
     return FieldWidget(field, CheckBoxWidget(request))
 
 
 @zope.interface.implementer_only(interfaces.ISingleCheckBoxWidget)
 class SingleCheckBoxWidget(CheckBoxWidget):
     """Single Input type checkbox widget implementation."""
 
-    klass = u'single-checkbox-widget'
+    klass = 'single-checkbox-widget'
 
     def updateTerms(self):
         if self.terms is None:
             self.terms = term.Terms()
             self.terms.terms = vocabulary.SimpleVocabulary((
                 vocabulary.SimpleTerm('selected', 'selected',
                                       self.label or self.field.title), ))
@@ -93,9 +96,9 @@
 
 
 @zope.component.adapter(zope.schema.interfaces.IBool, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def SingleCheckBoxFieldWidget(field, request):
     """IFieldWidget factory for CheckBoxWidget."""
     widget = FieldWidget(field, SingleCheckBoxWidget(request))
-    widget.label = u'' # don't show the label twice
+    widget.label = ''  # don't show the label twice
     return widget
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/checkbox.rst` & `z3c.form-5.0/src/z3c/form/browser/checkbox.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/checkbox.zcml` & `z3c.form-5.0/src/z3c/form/browser/checkbox.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/checkbox_display.pt` & `z3c.form-5.0/src/z3c/form/browser/checkbox_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/checkbox_hidden.pt` & `z3c.form-5.0/src/z3c/form/browser/checkbox_hidden.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/checkbox_input.pt` & `z3c.form-5.0/src/z3c/form/browser/checkbox_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/configure.zcml` & `z3c.form-5.0/src/z3c/form/browser/configure.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/file-testing.rst` & `z3c.form-5.0/src/z3c/form/browser/file-testing.rst`

 * *Files 2% similar despite different names*

```diff
@@ -43,18 +43,15 @@
          class="file-widget" />
   <input name="widget.name.encoding" type="hidden" value="plain">
   <textarea name="widget.name.testing" style="display: none;"><!--
      nothing here --></textarea>
 
 Let's now make sure that we can extract user entered data from a widget:
 
-  >>> try:
-  ...   from cStringIO import cStringIO as BytesIO
-  ... except ImportError:
-  ...     from io import BytesIO
+  >>> from io import BytesIO
   >>> myfile = BytesIO(b'My file contents.')
 
   >>> widget.request = TestRequest(form={'widget.name': myfile})
   >>> widget.update()
   >>> isinstance(widget.extract(), BytesIO)
   True
 
@@ -112,8 +109,8 @@
   >>> from z3c.form import testing
   >>> import zope.schema
   >>> conv = testing.TestingFileUploadDataConverter(
   ...     zope.schema.Bytes(), widget)
   >>> conv
   <TestingFileUploadDataConverter converts from Bytes to FileWidget>
   >>> conv.toFieldValue("")
-  'File upload contents.'
+  b'File upload contents.'
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/file.py` & `z3c.form-5.0/src/z3c/form/browser/file.py`

 * *Files 18% similar despite different names*

```diff
@@ -16,32 +16,33 @@
 $Id$
 """
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 import zope.schema.interfaces
 
-from z3c.form import interfaces, widget
+from z3c.form import interfaces
+from z3c.form import widget
 from z3c.form.browser import text
 
 
 @zope.interface.implementer_only(interfaces.IFileWidget)
 class FileWidget(text.TextWidget):
     """Input type text widget implementation."""
 
-    klass = u'file-widget'
-    css = u'file'
+    klass = 'file-widget'
+    css = 'file'
 
-    # Filename and headers attribute get set by ``IDataConverter`` to the widget
-    # provided by the FileUpload object of the form.
+    # Filename and headers attribute get set by ``IDataConverter`` to the
+    # widget provided by the FileUpload object of the form.
     headers = None
     filename = None
 
     def json_data(self):
-        data = super(FileWidget, self).json_data()
+        data = super().json_data()
         data['type'] = 'file'
         return data
 
 
 @zope.component.adapter(zope.schema.interfaces.IBytes, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def FileFieldWidget(field, request):
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/file.rst` & `z3c.form-5.0/src/z3c/form/browser/file.rst`

 * *Files 7% similar despite different names*

```diff
@@ -44,18 +44,15 @@
 
   >>> print(widget.render())
   <input type="file" id="widget.id" name="widget.name"
          class="file-widget" />
 
 Let's now make sure that we can extract user entered data from a widget:
 
-  >>> try:
-  ...     from StringIO import StringIO as BytesIO
-  ... except ImportError:
-  ...     from io import BytesIO
+  >>> from io import BytesIO
   >>> myfile = BytesIO(b'My file contents.')
 
   >>> widget.request = TestRequest(form={'widget.name': myfile})
   >>> widget.update()
   >>> isinstance(widget.extract(), BytesIO)
   True
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/file.zcml` & `z3c.form-5.0/src/z3c/form/browser/file.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/file_display.pt` & `z3c.form-5.0/src/z3c/form/browser/file_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/file_input.pt` & `z3c.form-5.0/src/z3c/form/browser/file_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/file_testing.zcml` & `z3c.form-5.0/src/z3c/form/browser/file_testing.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/file_testing_input.pt` & `z3c.form-5.0/src/z3c/form/browser/file_testing_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/image.py` & `z3c.form-5.0/src/z3c/form/browser/image.py`

 * *Files 8% similar despite different names*

```diff
@@ -15,46 +15,48 @@
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 import zope.traversing.api
-from zope.schema.fieldproperty import FieldProperty
 from zope.component import hooks
+from zope.schema.fieldproperty import FieldProperty
 
-from z3c.form import interfaces, util
-from z3c.form.widget import FieldWidget
+from z3c.form import interfaces
+from z3c.form import util
 from z3c.form.browser import button
 from z3c.form.browser.interfaces import IHTMLImageWidget
+from z3c.form.widget import FieldWidget
 
 
 @zope.interface.implementer_only(interfaces.IImageWidget)
 class ImageWidget(button.ButtonWidget):
     """A image button of a form."""
 
     src = FieldProperty(IHTMLImageWidget['src'])
 
-    klass = u'image-widget'
-    css = u'image'
+    klass = 'image-widget'
+    css = 'image'
 
     def extract(self, default=interfaces.NO_VALUE):
         """See z3c.form.interfaces.IWidget."""
         if self.name + '.x' not in self.request:
             return default
         return {
             'x': int(self.request[self.name + '.x']),
             'y': int(self.request[self.name + '.y']),
             'value': self.request[self.name]}
 
     def json_data(self):
-        data = super(ImageWidget, self).json_data()
+        data = super().json_data()
         data['type'] = 'image'
         return data
 
+
 @zope.component.adapter(interfaces.IImageButton, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def ImageFieldWidget(field, request):
     image = FieldWidget(field, ImageWidget(request))
     image.value = field.title
     # Get the full resource URL for the image:
     site = hooks.getSite()
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/image.rst` & `z3c.form-5.0/src/z3c/form/browser/image.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/image.zcml` & `z3c.form-5.0/src/z3c/form/browser/image.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/image_input.pt` & `z3c.form-5.0/src/z3c/form/browser/image_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/interfaces.py` & `z3c.form-5.0/src/z3c/form/browser/interfaces.py`

 * *Files 18% similar despite different names*

```diff
@@ -15,22 +15,22 @@
 import zope.interface
 import zope.schema
 
 
 class IWidgetLayoutSupport(zope.interface.Interface):
 
     css = zope.schema.TextLine(
-        title=u'Widget layout CSS class name(s)',
-        description=(u'This attribute defines one or more layout class names.'),
-        default=u'row',
+        title='Widget layout CSS class name(s)',
+        description=('This attribute defines one or more layout class names.'),
+        default='row',
         required=False)
 
     def getCSSClass(klass=None, error=None, required=None,
-        classPattern='%(class)s', errorPattern='%(class)s-error',
-        requiredPattern='%(class)s-required'):
+                    classPattern='%(class)s', errorPattern='%(class)s-error',
+                    requiredPattern='%(class)s-required'):
         """Setup given css class (klass) with error and required postfix
 
         If no klass name is given the widget.wrapper class name/names get used.
         It is also possible if more then one (empty space separated) names
         are given as klass argument.
 
         This method can get used from your form or widget template or widget
@@ -40,279 +40,279 @@
         """
 
 
 class IHTMLCoreAttributes(zope.interface.Interface):
     """The HTML element 'core' attributes."""
 
     id = zope.schema.ASCIILine(
-        title=u'Id',
-        description=(u'This attribute assigns a name to an element. This '
-                     u'name must be unique in a document.'),
+        title='Id',
+        description=('This attribute assigns a name to an element. This '
+                     'name must be unique in a document.'),
         required=False)
 
     # HTML "class" attribute; "class" is a keyword in Python.
     klass = zope.schema.TextLine(
-        title=u'Class',
-        description=(u'This attribute assigns a class name or set of '
-                     u'class names to an element. Any number of elements '
-                     u'may be assigned the same class name or names.'),
+        title='Class',
+        description=('This attribute assigns a class name or set of '
+                     'class names to an element. Any number of elements '
+                     'may be assigned the same class name or names.'),
         required=False)
 
     style = zope.schema.TextLine(
-        title=u'Style',
-        description=(u'This attribute offers advisory information about '
-                     u'the element for which it is set.'),
+        title='Style',
+        description=('This attribute offers advisory information about '
+                     'the element for which it is set.'),
         required=False)
 
     title = zope.schema.TextLine(
-        title=u'Title',
-        description=(u'This attribute offers advisory information about '
-                     u'the element for which it is set.'),
+        title='Title',
+        description=('This attribute offers advisory information about '
+                     'the element for which it is set.'),
         required=False)
 
 
 class IHTMLI18nAttributes(zope.interface.Interface):
     """The HTML element 'i18n' attributes."""
 
     lang = zope.schema.TextLine(
-        title=u'Language',
-        description=(u"This attribute specifies the base language of an "
-                     u"element's attribute values and text content."),
+        title='Language',
+        description=("This attribute specifies the base language of an "
+                     "element's attribute values and text content."),
         required=False)
 
 
 class IHTMLEventsAttributes(zope.interface.Interface):
     """The HTML element 'events' attributes."""
 
     onclick = zope.schema.TextLine(
-        title=u'On Click',
-        description=(u'The ``onclick`` event occurs when the pointing device '
-                    u'button is clicked over an element.'),
+        title='On Click',
+        description=('The ``onclick`` event occurs when the pointing device '
+                     'button is clicked over an element.'),
         required=False)
 
     ondblclick = zope.schema.TextLine(
-        title=u'On Double-Click',
-        description=(u'The ``ondblclick`` event occurs when the pointing '
-                     u'device button is double clicked over an element.'),
+        title='On Double-Click',
+        description=('The ``ondblclick`` event occurs when the pointing '
+                     'device button is double clicked over an element.'),
         required=False)
 
     onmousedown = zope.schema.TextLine(
-        title=u'On Mouse Down',
-        description=(u'The onmousedown event occurs when the pointing '
-                     u'device button is pressed over an element.'),
+        title='On Mouse Down',
+        description=('The onmousedown event occurs when the pointing '
+                     'device button is pressed over an element.'),
         required=False)
 
     onmouseup = zope.schema.TextLine(
-        title=u'On Mouse Up',
-        description=(u'The ``onmouseup`` event occurs when the pointing '
-                     u'device button is released over an element.'),
+        title='On Mouse Up',
+        description=('The ``onmouseup`` event occurs when the pointing '
+                     'device button is released over an element.'),
         required=False)
 
     onmouseover = zope.schema.TextLine(
-        title=u'On Mouse Over',
-        description=(u'The ``onmouseover`` event occurs when the pointing '
-                     u'device is moved onto an element.'),
+        title='On Mouse Over',
+        description=('The ``onmouseover`` event occurs when the pointing '
+                     'device is moved onto an element.'),
         required=False)
 
     onmousemove = zope.schema.TextLine(
-        title=u'On Mouse Move',
-        description=(u'The ``onmousemove`` event occurs when the pointing '
-                     u'device is moved while it is over an element.'),
+        title='On Mouse Move',
+        description=('The ``onmousemove`` event occurs when the pointing '
+                     'device is moved while it is over an element.'),
         required=False)
 
     onmouseout = zope.schema.TextLine(
-        title=u'On Mouse Out',
-        description=(u'The ``onmouseout`` event occurs when the pointing '
-                     u'device is moved away from an element.'),
+        title='On Mouse Out',
+        description=('The ``onmouseout`` event occurs when the pointing '
+                     'device is moved away from an element.'),
         required=False)
 
     onkeypress = zope.schema.TextLine(
-        title=u'On Key Press',
-        description=(u'The ``onkeypress`` event occurs when a key is '
-                     u'pressed and released over an element.'),
+        title='On Key Press',
+        description=('The ``onkeypress`` event occurs when a key is '
+                     'pressed and released over an element.'),
         required=False)
 
     onkeydown = zope.schema.TextLine(
-        title=u'On Key Down',
-        description=(u'The ``onkeydown`` event occurs when a key is pressed '
-                     u'down over an element.'),
+        title='On Key Down',
+        description=('The ``onkeydown`` event occurs when a key is pressed '
+                     'down over an element.'),
         required=False)
 
     onkeyup = zope.schema.TextLine(
-        title=u'On Key Up',
-        description=(u'The ``onkeyup`` event occurs when a key is released '
-                     u'over an element.'),
+        title='On Key Up',
+        description=('The ``onkeyup`` event occurs when a key is released '
+                     'over an element.'),
         required=False)
 
 
 class IHTMLFormElement(IHTMLCoreAttributes,
                        IHTMLI18nAttributes,
                        IHTMLEventsAttributes,
                        IWidgetLayoutSupport):
     """A generic form-related element including layout template support."""
 
     disabled = zope.schema.Choice(
-        title=u'Disabled',
-        description=(u'When set for a form control, this boolean attribute '
-                     u'disables the control for user input.'),
+        title='Disabled',
+        description=('When set for a form control, this boolean attribute '
+                     'disables the control for user input.'),
         values=(None, 'disabled'),
         required=False)
 
     tabindex = zope.schema.Int(
-        title=u'Tab Index',
-        description=(u'This attribute specifies the position of the current '
-                     u'element in the tabbing order for the current '
-                     u'document. This value must be a number between 0 and '
-                     u'32767.'),
+        title='Tab Index',
+        description=('This attribute specifies the position of the current '
+                     'element in the tabbing order for the current '
+                     'document. This value must be a number between 0 and '
+                     '32767.'),
         required=False)
 
     onfocus = zope.schema.TextLine(
-        title=u'On Focus',
-        description=(u'The ``onfocus`` event occurs when an element receives '
-                     u'focus either by the pointing device or by tabbing '
-                     u'navigation.'),
+        title='On Focus',
+        description=('The ``onfocus`` event occurs when an element receives '
+                     'focus either by the pointing device or by tabbing '
+                     'navigation.'),
         required=False)
 
     onblur = zope.schema.TextLine(
-        title=u'On blur',
-        description=(u'The ``onblur`` event occurs when an element loses '
-                     u'focus either by the pointing device or by tabbing '
-                     u'navigation.'),
+        title='On blur',
+        description=('The ``onblur`` event occurs when an element loses '
+                     'focus either by the pointing device or by tabbing '
+                     'navigation.'),
         required=False)
 
     onchange = zope.schema.TextLine(
-        title=u'On Change',
-        description=(u'The onchange event occurs when a control loses the '
-                     u'input focus and its value has been modified since '
-                     u'gaining focus.'),
+        title='On Change',
+        description=('The onchange event occurs when a control loses the '
+                     'input focus and its value has been modified since '
+                     'gaining focus.'),
         required=False)
 
     def addClass(klass):
         """Add a class to the HTML element.
 
         The class must be added to the ``klass`` attribute.
         """
 
 
 class IHTMLInputWidget(IHTMLFormElement):
     """A widget using the HTML INPUT element."""
 
     readonly = zope.schema.Choice(
-        title=u'Read-Only',
-        description=(u'When set for a form control, this boolean attribute '
-                     u'prohibits changes to the control.'),
+        title='Read-Only',
+        description=('When set for a form control, this boolean attribute '
+                     'prohibits changes to the control.'),
         values=(None, 'readonly'),
         required=False)
 
     alt = zope.schema.TextLine(
-        title=u'Alternate Text',
-        description=(u'For user agents that cannot display images, forms, '
-                     u'or applets, this attribute specifies alternate text.'),
+        title='Alternate Text',
+        description=('For user agents that cannot display images, forms, '
+                     'or applets, this attribute specifies alternate text.'),
         required=False)
 
     accesskey = zope.schema.TextLine(
-        title=u'Access Key',
-        description=(u'This attribute assigns an access key to an element.'),
+        title='Access Key',
+        description=('This attribute assigns an access key to an element.'),
         min_length=1,
         max_length=1,
         required=False)
 
     onselect = zope.schema.TextLine(
-        title=u'On Select',
-        description=(u'The ``onselect`` event occurs when a user selects '
-                     u'some text in a text field.'),
+        title='On Select',
+        description=('The ``onselect`` event occurs when a user selects '
+                     'some text in a text field.'),
         required=False)
 
 
 class IHTMLImageWidget(IHTMLInputWidget):
     """A widget using the HTML INPUT element with type 'image'."""
 
     src = zope.schema.TextLine(
-        title=u'Image Source',
-        description=(u'The source of the image used to display the widget.'),
+        title='Image Source',
+        description=('The source of the image used to display the widget.'),
         required=True)
 
 
 class IHTMLTextInputWidget(IHTMLFormElement):
     """A widget using the HTML INPUT element (for text types)."""
 
     size = zope.schema.Int(
-        title=u'Size',
-        description=(u'This attribute tells the user agent the initial width '
-                     u'of the control -- in this case in characters.'),
+        title='Size',
+        description=('This attribute tells the user agent the initial width '
+                     'of the control -- in this case in characters.'),
         required=False)
 
     maxlength = zope.schema.Int(
-        title=u'Maximum Length',
-        description=(u'This attribute specifies the maximum number of '
-                     u'characters the user may enter.'),
+        title='Maximum Length',
+        description=('This attribute specifies the maximum number of '
+                     'characters the user may enter.'),
         required=False)
 
     placeholder = zope.schema.TextLine(
-        title=u'Placeholder Text',
-        description=(u'This attribute represents a short hint '
-                     u'(a word or short phrase) intended to aid the user '
-                     u'with data entry when the control has no value.'),
+        title='Placeholder Text',
+        description=('This attribute represents a short hint '
+                     '(a word or short phrase) intended to aid the user '
+                     'with data entry when the control has no value.'),
         required=False)
 
     autocapitalize = zope.schema.Choice(
-        title=u'Auto-Capitalization Control',
-        description=(u'This attribute controls whether the browser should '
-                     u'automatically capitalize the input value.'),
+        title='Auto-Capitalization Control',
+        description=('This attribute controls whether the browser should '
+                     'automatically capitalize the input value.'),
         values=('off', 'on'),
         required=False)
 
 
 class IHTMLTextAreaWidget(IHTMLFormElement):
     """A widget using the HTML TEXTAREA element."""
 
     rows = zope.schema.Int(
-        title=u'Rows',
-        description=(u'This attribute specifies the number of visible text '
-                     u'lines.'),
+        title='Rows',
+        description=('This attribute specifies the number of visible text '
+                     'lines.'),
         required=False)
 
     cols = zope.schema.Int(
-        title=u'columns',
-        description=(u'This attribute specifies the visible width in average '
-                     u'character widths.'),
+        title='columns',
+        description=('This attribute specifies the visible width in average '
+                     'character widths.'),
         required=False)
 
     readonly = zope.schema.Choice(
-        title=u'Read-Only',
-        description=(u'When set for a form control, this boolean attribute '
-                     u'prohibits changes to the control.'),
+        title='Read-Only',
+        description=('When set for a form control, this boolean attribute '
+                     'prohibits changes to the control.'),
         values=(None, 'readonly'),
         required=False)
 
     accesskey = zope.schema.TextLine(
-        title=u'Access Key',
-        description=(u'This attribute assigns an access key to an element.'),
+        title='Access Key',
+        description=('This attribute assigns an access key to an element.'),
         min_length=1,
         max_length=1,
         required=False)
 
     onselect = zope.schema.TextLine(
-        title=u'On Select',
-        description=(u'The ``onselect`` event occurs when a user selects '
-                     u'some text in a text field.'),
+        title='On Select',
+        description=('The ``onselect`` event occurs when a user selects '
+                     'some text in a text field.'),
         required=False)
 
 
 class IHTMLSelectWidget(IHTMLFormElement):
     """A widget using the HTML SELECT element."""
 
     multiple = zope.schema.Choice(
-        title=u'Multiple',
-        description=(u'If set, this boolean attribute allows multiple '
-                     u'selections.'),
+        title='Multiple',
+        description=('If set, this boolean attribute allows multiple '
+                     'selections.'),
         values=(None, 'multiple'),
         required=False)
 
     size = zope.schema.Int(
-        title=u'Size',
-        description=(u'If a  SELECT element is presented as a scrolled '
-                     u'list box, this attribute specifies the number of '
-                     u'rows in the list that should be visible at the '
-                     u'same time.'),
+        title='Size',
+        description=('If a  SELECT element is presented as a scrolled '
+                     'list box, this attribute specifies the number of '
+                     'rows in the list that should be visible at the '
+                     'same time.'),
         default=1,
         required=False)
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/multi.py` & `z3c.form-5.0/src/z3c/form/browser/multi.py`

 * *Files 2% similar despite different names*

```diff
@@ -17,35 +17,35 @@
 """
 __docformat__ = "reStructuredText"
 from operator import attrgetter
 
 import zope.component
 import zope.interface
 
-from z3c.form.i18n import MessageFactory as _
+from z3c.form import button
 from z3c.form import interfaces
 from z3c.form import widget
-from z3c.form import button
 from z3c.form.browser.widget import HTMLFormElement
+from z3c.form.i18n import MessageFactory as _
 
 
 @zope.interface.implementer(interfaces.IButtonForm, interfaces.IHandlerForm)
-class FormMixin(object):
+class FormMixin:
     pass
 
 
 @zope.interface.implementer(interfaces.IMultiWidget)
 class MultiWidget(HTMLFormElement, widget.MultiWidget, FormMixin):
     """Multi widget implementation."""
 
     buttons = button.Buttons()
 
     prefix = 'widget'
-    klass = u'multi-widget'
-    css = u'multi'
+    klass = 'multi-widget'
+    css = 'multi'
     items = ()
 
     showLabel = True  # show labels for item subwidgets or not
 
     # Internal attributes
     _adapterValueAttributes = widget.MultiWidget._adapterValueAttributes + \
         ('showLabel',)
@@ -56,15 +56,15 @@
             self.prefix = self.name
         self.actions = zope.component.getMultiAdapter(
             (self, self.request, self), interfaces.IActions)
         self.actions.update()
 
     def update(self):
         """See z3c.form.interfaces.IWidget."""
-        super(MultiWidget, self).update()
+        super().update()
         self.updateActions()
         self.actions.execute()
         self.updateActions()  # Update again, as conditions may change
 
     @button.buttonAndHandler(_('Add'), name='add',
                              condition=attrgetter('allowAdding'))
     def handleAdd(self, action):
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/multi.rst` & `z3c.form-5.0/src/z3c/form/browser/multi.rst`

 * *Files 2% similar despite different names*

```diff
@@ -97,16 +97,16 @@
   </div>
   <input type="hidden" name="widget.name.count" value="0" />
 
 It's still the same. Since the widget doesn't provide a field nothing useful
 gets rendered. Now let's define a field for this widget and check it again:
 
   >>> field = zope.schema.List(
-  ...     __name__=u'foo',
-  ...     value_type=zope.schema.Int(title=u'Number'),
+  ...     __name__='foo',
+  ...     value_type=zope.schema.Int(title='Number'),
   ...     )
   >>> widget.field = field
   >>> widget.update()
   >>> print(widget.render())
   <div class="multi-widget">
     <div class="buttons">
       <input type="submit" id="widget-name-buttons-add"
@@ -123,15 +123,15 @@
   >>> from z3c.form.converter import IntegerDataConverter
   >>> from z3c.form.converter import FieldWidgetDataConverter
   >>> from z3c.form.validator import SimpleFieldValidator
   >>> zope.component.provideAdapter(IntegerDataConverter)
   >>> zope.component.provideAdapter(FieldWidgetDataConverter)
   >>> zope.component.provideAdapter(SimpleFieldValidator)
 
-  >>> widget.value = [u'42', u'43']
+  >>> widget.value = ['42', '43']
   >>> widget.update()
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
               <span>Number</span>
@@ -181,22 +181,22 @@
      </div>
   </div>
   <input type="hidden" name="widget.name.count" value="2" />
 
 If we now click on the ``Add`` button, we will get a new input field for enter
 a new value:
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'2',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.1':u'43',
+  >>> widget.request = TestRequest(form={'widget.name.count':'2',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.1':'43',
   ...                                    'widget.name.buttons.add':'Add'})
   >>> widget.update()
 
   >>> widget.extract()
-  [u'42', u'43']
+  ['42', '43']
 
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
               <span>Number</span>
@@ -265,22 +265,22 @@
          class="submit-widget button-field" value="Remove selected" />
      </div>
   </div>
   <input type="hidden" name="widget.name.count" value="3" />
 
 Now let's store the new value:
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'3',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.1':u'43',
-  ...                                    'widget.name.2':u'44'})
+  >>> widget.request = TestRequest(form={'widget.name.count':'3',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.1':'43',
+  ...                                    'widget.name.2':'44'})
   >>> widget.update()
 
   >>> widget.extract()
-  [u'42', u'43', u'44']
+  ['42', '43', '44']
 
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
               <span>Number</span>
@@ -351,26 +351,26 @@
   </div>
   <input type="hidden" name="widget.name.count" value="3" />
 
 As you can see in the above sample, the new stored value get rendered as a
 real value and the new adding value input field is gone. Now let's try to
 remove an existing value:
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'3',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.1':u'43',
-  ...                                    'widget.name.2':u'44',
-  ...                                    'widget.name.1.remove':u'1',
+  >>> widget.request = TestRequest(form={'widget.name.count':'3',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.1':'43',
+  ...                                    'widget.name.2':'44',
+  ...                                    'widget.name.1.remove':'1',
   ...                                    'widget.name.buttons.remove':'Remove selected'})
   >>> widget.update()
 
 This is good so, because the Remove selected is an widget-internal submit action
 
   >>> widget.extract()
-  [u'42', u'43', u'44']
+  ['42', '43', '44']
 
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
               <span>Number</span>
@@ -419,17 +419,17 @@
          class="submit-widget button-field" value="Remove selected" />
      </div>
   </div>
   <input type="hidden" name="widget.name.count" value="2" />
 
 Change again a value after delete:
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'2',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.1':u'45'})
+  >>> widget.request = TestRequest(form={'widget.name.count':'2',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.1':'45'})
   >>> widget.update()
 
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
@@ -481,21 +481,21 @@
 as input for our internal (sub) widget.
 
   >>> from z3c.form.error import ErrorViewSnippet
   >>> from z3c.form.error import StandardErrorViewTemplate
   >>> zope.component.provideAdapter(ErrorViewSnippet)
   >>> zope.component.provideAdapter(StandardErrorViewTemplate)
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'2',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.1':u'bad'})
+  >>> widget.request = TestRequest(form={'widget.name.count':'2',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.1':'bad'})
   >>> widget.update()
 
   >>> widget.extract()
-  [u'42', u'bad']
+  ['42', 'bad']
 
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
               <span>Number</span>
@@ -550,27 +550,27 @@
 
 The widget filters out the add and remove buttons depending on the
 current value and the field constraints. You already saw that there's
 no remove button for empty value. Now, let's check rendering with
 minimum and maximum lengths defined in the field constraints.
 
   >>> field = zope.schema.List(
-  ...     __name__=u'foo',
-  ...     value_type=zope.schema.Int(title=u'Number'),
+  ...     __name__='foo',
+  ...     value_type=zope.schema.Int(title='Number'),
   ...     min_length=1,
   ...     max_length=3
   ...     )
   >>> widget.field = field
   >>> widget.widgets = []
   >>> widget.value = []
 
 Let's test with minimum sequence, there should be no remove button:
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'1',
-  ...                                    'widget.name.0':u'42'})
+  >>> widget.request = TestRequest(form={'widget.name.count':'1',
+  ...                                    'widget.name.0':'42'})
   >>> widget.update()
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
               <span>Number</span>
@@ -596,17 +596,17 @@
          class="submit-widget button-field" value="Add" />
      </div>
   </div>
   <input type="hidden" name="widget.name.count" value="1" />
 
 Now, with middle-length sequence. All buttons should be there.
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'2',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.1':u'43'})
+  >>> widget.request = TestRequest(form={'widget.name.count':'2',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.1':'43'})
   >>> widget.update()
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
               <span>Number</span>
@@ -656,18 +656,18 @@
      </div>
   </div>
   <input type="hidden" name="widget.name.count" value="2" />
 
 Okay, now let's check the maximum-length sequence. There should be
 no add button:
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'3',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.1':u'43',
-  ...                                    'widget.name.2':u'44'})
+  >>> widget.request = TestRequest(form={'widget.name.count':'3',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.1':'43',
+  ...                                    'widget.name.2':'44'})
   >>> widget.update()
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="widget-id-0-row" class="row">
           <div class="label">
             <label for="widget-id-0">
               <span>Number</span>
@@ -737,21 +737,21 @@
 
 Dictionaries
 ############
 
 The multi widget also supports IDict schemas.
 
   >>> field = zope.schema.Dict(
-  ...     __name__=u'foo',
-  ...     key_type=zope.schema.Int(title=u'Number'),
-  ...     value_type=zope.schema.Int(title=u'Number'),
+  ...     __name__='foo',
+  ...     key_type=zope.schema.Int(title='Number'),
+  ...     value_type=zope.schema.Int(title='Number'),
   ...     )
   >>> widget.field = field
   >>> widget.widgets = []
-  >>> widget.value = [(u'1',u'42')]
+  >>> widget.value = [('1','42')]
   >>> print(widget.render())
     <div class="multi-widget">
         <div id="widget-id-0-row" class="row">
               <div class="label">
                 <label for="widget-id-key-0">
                   <span>Number</span>
                   <span class="required">*</span>
@@ -782,17 +782,17 @@
        </div>
     </div>
     <input type="hidden" name="widget.name.count" value="1" />
 
 If we now click on the ``Add`` button, we will get a new input field for entering
 a new value:
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'1',
-  ...                                    'widget.name.key.0':u'1',
-  ...                                    'widget.name.0':u'42',
+  >>> widget.request = TestRequest(form={'widget.name.count':'1',
+  ...                                    'widget.name.key.0':'1',
+  ...                                    'widget.name.0':'42',
   ...                                    'widget.name.buttons.add':'Add'})
   >>> widget.update()
 
   >>> widget.extract()
   [('1', '42')]
 
   >>> print(widget.render())
@@ -860,34 +860,34 @@
       </div>
       <input name="widget.name.count" type="hidden" value="2">
     </body>
   </html>
 
 Now let's store the new value:
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'2',
-  ...                                    'widget.name.key.0':u'1',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.key.1':u'2',
-  ...                                    'widget.name.1':u'43'})
+  >>> widget.request = TestRequest(form={'widget.name.count':'2',
+  ...                                    'widget.name.key.0':'1',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.key.1':'2',
+  ...                                    'widget.name.1':'43'})
   >>> widget.update()
 
   >>> widget.extract()
   [('1', '42'), ('2', '43')]
 
 We will get an error if we try and set the same key twice
 
   >>> from z3c.form.error import InvalidErrorViewSnippet
   >>> zope.component.provideAdapter(InvalidErrorViewSnippet)
 
-  >>> widget.request = TestRequest(form={'widget.name.count':u'2',
-  ...                                    'widget.name.key.0':u'1',
-  ...                                    'widget.name.0':u'42',
-  ...                                    'widget.name.key.1':u'1',
-  ...                                    'widget.name.1':u'43'})
+  >>> widget.request = TestRequest(form={'widget.name.count':'2',
+  ...                                    'widget.name.key.0':'1',
+  ...                                    'widget.name.0':'42',
+  ...                                    'widget.name.key.1':'1',
+  ...                                    'widget.name.1':'43'})
   >>> widget.update()
 
   >>> widget.extract()
   [('1', '42'), ('1', '43')]
 
   >>> print(widget.render())
     <div class="multi-widget">
@@ -1005,28 +1005,28 @@
   >>> print(widget.render())
   <div class="multi-widget" id="widget-id"></div>
 
 It's still the same. Since the widget doesn't provide a field nothing useful
 gets rendered. Now let's define a field for this widget and check it again:
 
   >>> field = zope.schema.List(
-  ...     __name__=u'foo',
-  ...     value_type=zope.schema.Int(title=u'Number'),
+  ...     __name__='foo',
+  ...     value_type=zope.schema.Int(title='Number'),
   ...     )
   >>> widget.field = field
   >>> widget.update()
   >>> print(widget.render())
   <div class="multi-widget" id="widget-id"></div>
 
 As you can see, there is still no input value. Let's provide some values for
 this widget. Before we can do that, we will need to register a data converter
 for our multi widget and the data converter dispatcher adapter:
 
   >>> widget.update()
-  >>> widget.value = [u'42', u'43']
+  >>> widget.value = ['42', '43']
   >>> print(widget.render())
   <div class="multi-widget" id="widget-id">
     <div class="row" id="widget-id-0-row">
       <div class="label">
         <label for="widget-id-0">
           <span>Number</span>
           <span class="required">*</span>
@@ -1052,20 +1052,20 @@
       </div>
     </div>
   </div>
 
 We can also use the multi widget with dictionaries
 
   >>> field = zope.schema.Dict(
-  ...     __name__=u'foo',
-  ...     key_type=zope.schema.Int(title=u'Number'),
-  ...     value_type=zope.schema.Int(title=u'Number'),
+  ...     __name__='foo',
+  ...     key_type=zope.schema.Int(title='Number'),
+  ...     value_type=zope.schema.Int(title='Number'),
   ...     )
   >>> widget.field = field
-  >>> widget.value = [(u'1', u'42'), (u'2', u'43')]
+  >>> widget.value = [('1', '42'), ('2', '43')]
   >>> print(widget.render())
   <div class="multi-widget" id="widget-id">
     <div class="row" id="widget-id-0-row">
       <div class="label">
         <label for="widget-id-key-0">
           <span>Number</span>
           <span class="required">*</span>
@@ -1166,44 +1166,44 @@
   >>> print(widget.render())
   <input name="widget.name.count" type="hidden" value="0">
 
 It's still the same. Since the widget doesn't provide a field nothing useful
 gets rendered. Now let's define a field for this widget and check it again:
 
   >>> field = zope.schema.List(
-  ...     __name__=u'foo',
-  ...     value_type=zope.schema.Int(title=u'Number'),
+  ...     __name__='foo',
+  ...     value_type=zope.schema.Int(title='Number'),
   ...     )
   >>> widget.field = field
   >>> widget.update()
   >>> print(widget.render())
   <input name="widget.name.count" type="hidden" value="0">
 
 As you can see, there is still no input value. Let's provide some values for
 this widget. Before we can do that, we will need to register a data converter
 for our multi widget and the data converter dispatcher adapter:
 
   >>> widget.update()
-  >>> widget.value = [u'42', u'43']
+  >>> widget.value = ['42', '43']
   >>> print(widget.render())
   <input class="hidden-widget"
          id="widget-id-0" name="widget.name.0" type="hidden" value="42">
   <input class="hidden-widget"
          id="widget-id-1" name="widget.name.1" type="hidden" value="43">
   <input name="widget.name.count" type="hidden" value="2">
 
 We can also use the multi widget with dictionaries
 
   >>> field = zope.schema.Dict(
-  ...     __name__=u'foo',
-  ...     key_type=zope.schema.Int(title=u'Number'),
-  ...     value_type=zope.schema.Int(title=u'Number'),
+  ...     __name__='foo',
+  ...     key_type=zope.schema.Int(title='Number'),
+  ...     value_type=zope.schema.Int(title='Number'),
   ...     )
   >>> widget.field = field
-  >>> widget.value = [(u'1', u'42'), (u'2', u'43')]
+  >>> widget.value = [('1', '42'), ('2', '43')]
   >>> print(widget.render())
   <input class="hidden-widget"
          id="widget-id-key-0" name="widget.name.key.0" type="hidden" value="1">
   <input class="hidden-widget"
          id="widget-id-0" name="widget.name.0" type="hidden" value="42">
   <input class="hidden-widget"
          id="widget-id-key-1" name="widget.name.key.1" type="hidden" value="2">
@@ -1219,22 +1219,22 @@
 You can set the `showLabel` option to `False` which will skip rendering the
 labels. Alternatively you can also register your own template for your layer
 if you like to skip the label rendering for all widgets. One more way
 is to register an attribute adapter for specific field/widget/layer/etc.
 See below for an example.
 
   >>> field = zope.schema.List(
-  ...     __name__=u'foo',
+  ...     __name__='foo',
   ...     value_type=zope.schema.Int(
-  ...         title=u'Ignored'),
+  ...         title='Ignored'),
   ...     )
   >>> request = TestRequest()
   >>> widget = multi.MultiWidget(request)
   >>> widget.field = field
-  >>> widget.value = [u'42', u'43']
+  >>> widget.value = ['42', '43']
   >>> widget.showLabel = False
   >>> widget.update()
   >>> print(widget.render())
   <div class="multi-widget">
       <div id="None-0-row" class="row">
           <div class="widget">
             <div class="multi-widget-checkbox">
@@ -1335,30 +1335,30 @@
   <input type="hidden" name="None.count" value="2" />
 
 
 Coverage happiness
 ##################
 
   >>> field = zope.schema.List(
-  ...     __name__=u'foo',
-  ...     value_type=zope.schema.Int(title=u'Number'),
+  ...     __name__='foo',
+  ...     value_type=zope.schema.Int(title='Number'),
   ...     )
   >>> request = TestRequest()
   >>> widget = multi.MultiWidget(request)
   >>> widget.field = field
   >>> widget.id = 'widget-id'
   >>> widget.name = 'widget.name'
   >>> widget.widgets = []
   >>> widget.value = []
 
   >>> widget.request = TestRequest()
   >>> widget.update()
 
-  >>> widget.value = [u'42', u'43', u'44']
-  >>> widget.value = [u'99']
+  >>> widget.value = ['42', '43', '44']
+  >>> widget.value = ['99']
 
   >>> print(widget.render())
     <html>
     <body>
       <div class="multi-widget">
         <div class="row" id="widget-id-0-row">
           <div class="label">
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/multi.zcml` & `z3c.form-5.0/src/z3c/form/browser/multi.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/multi_dict_integration.rst` & `z3c.form-5.0/src/z3c/form/browser/multi_dict_integration.rst`

 * *Files 9% similar despite different names*

```diff
@@ -58,16 +58,16 @@
 
 Some valid default values
 #########################
 
   >>> obj.dictOfInt = {-101: -100, -1:1, 101:100}
   >>> obj.dictOfBool = {True: False, False: True}
   >>> obj.dictOfChoice = {'key1': 'three', 'key3': 'two'}
-  >>> obj.dictOfTextLine = {u'textkey1': u'some text one',
-  ...     u'textkey2': u'some txt two'}
+  >>> obj.dictOfTextLine = {'textkey1': 'some text one',
+  ...     'textkey2': 'some txt two'}
   >>> obj.dictOfDate = {
   ...     date(2011, 1, 15): date(2014, 6, 20),
   ...     date(2012, 2, 20): date(2013, 5, 19)}
 
   >>> pprint(obj)
   <MultiWidgetDictIntegration
     dictOfBool: {False: True, True: False}
@@ -159,18 +159,18 @@
 
 dictOfInt
 #########
 
 Set a wrong value and add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfInt.key.2'] = u'foobar'
-  >>> submit['form.widgets.dictOfInt.2'] = u'foobar'
+  >>> submit['form.widgets.dictOfInt.key.2'] = 'foobar'
+  >>> submit['form.widgets.dictOfInt.2'] = 'foobar'
 
-  >>> submit['form.widgets.dictOfInt.buttons.add'] = u'Add'
+  >>> submit['form.widgets.dictOfInt.buttons.add'] = 'Add'
 
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get "The entered value is not a valid integer literal."
 for "foobar" and a new input.
 
   >>> content = getForm(request, 'MultiWidget_dict_edit_submit_int.html')
@@ -226,17 +226,17 @@
   Required input is missing.
   The entered value is not a valid integer literal.
   The entered value is not a valid integer literal.
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfInt.1.remove'] = u'1'
-  >>> submit['form.widgets.dictOfInt.3.remove'] = u'1'
-  >>> submit['form.widgets.dictOfInt.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.dictOfInt.1.remove'] = '1'
+  >>> submit['form.widgets.dictOfInt.3.remove'] = '1'
+  >>> submit['form.widgets.dictOfInt.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_dict_edit_remove_int.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-dictOfInt"]'))
   DictOfInt label
   <BLANKLINE>
   Int key *
@@ -272,15 +272,15 @@
 
 dictOfBool
 ##########
 
 Add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfBool.buttons.add'] = u'Add'
+  >>> submit['form.widgets.dictOfBool.buttons.add'] = 'Add'
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get a new input.
 
   >>> content = getForm(request, 'MultiWidget_dict_edit_submit_bool.html')
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-dictOfBool"]'))
@@ -322,17 +322,17 @@
   ...     './/form/div[@id="row-form-widgets-dictOfBool"]//div[@class="error"]'))
   Required input is missing.
   Required input is missing.
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfBool.1.remove'] = u'1'
-  >>> submit['form.widgets.dictOfBool.2.remove'] = u'1'
-  >>> submit['form.widgets.dictOfBool.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.dictOfBool.1.remove'] = '1'
+  >>> submit['form.widgets.dictOfBool.2.remove'] = '1'
+  >>> submit['form.widgets.dictOfBool.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_dict_edit_remove_bool.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-dictOfBool"]'))
   DictOfBool label
   <BLANKLINE>
   Bool key *
@@ -360,15 +360,15 @@
 
 dictOfChoice
 ############
 
 Add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfChoice.buttons.add'] = u'Add'
+  >>> submit['form.widgets.dictOfChoice.buttons.add'] = 'Add'
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get a new input.
 
   >>> content = getForm(request, 'MultiWidget_dict_edit_submit_choice.html')
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-dictOfChoice"]'))
@@ -409,17 +409,17 @@
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-dictOfChoice"]//div[@class="error"]'))
   Duplicate key
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfChoice.0.remove'] = u'1'
-  >>> submit['form.widgets.dictOfChoice.1.remove'] = u'1'
-  >>> submit['form.widgets.dictOfChoice.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.dictOfChoice.0.remove'] = '1'
+  >>> submit['form.widgets.dictOfChoice.1.remove'] = '1'
+  >>> submit['form.widgets.dictOfChoice.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_dict_edit_remove_choice.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-dictOfChoice"]'))
   DictOfChoice label
   <BLANKLINE>
   Choice key *
@@ -445,18 +445,18 @@
 
 dictOfTextLine
 ##############
 
 Set a wrong value and add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfTextLine.key.0'] = u'foo\nbar'
-  >>> submit['form.widgets.dictOfTextLine.0'] = u'foo\nbar'
+  >>> submit['form.widgets.dictOfTextLine.key.0'] = 'foo\nbar'
+  >>> submit['form.widgets.dictOfTextLine.0'] = 'foo\nbar'
 
-  >>> submit['form.widgets.dictOfTextLine.buttons.add'] = u'Add'
+  >>> submit['form.widgets.dictOfTextLine.buttons.add'] = 'Add'
 
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get "Constraint not satisfied"
 for "foo\nbar" and a new input.
 
   >>> content = getForm(request, 'MultiWidget_dict_edit_submit_textline.html')
@@ -506,16 +506,16 @@
   Required input is missing.
   Constraint not satisfied
   Constraint not satisfied
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfTextLine.2.remove'] = u'1'
-  >>> submit['form.widgets.dictOfTextLine.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.dictOfTextLine.2.remove'] = '1'
+  >>> submit['form.widgets.dictOfTextLine.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_dict_edit_remove_textline.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-dictOfTextLine"]'))
   DictOfTextLine label
   <BLANKLINE>
   TextLine key *
@@ -555,18 +555,18 @@
 
 dictOfDate
 ##########
 
 Set a wrong value and add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfDate.key.0'] = u'foobar'
-  >>> submit['form.widgets.dictOfDate.0'] = u'foobar'
+  >>> submit['form.widgets.dictOfDate.key.0'] = 'foobar'
+  >>> submit['form.widgets.dictOfDate.0'] = 'foobar'
 
-  >>> submit['form.widgets.dictOfDate.buttons.add'] = u'Add'
+  >>> submit['form.widgets.dictOfDate.buttons.add'] = 'Add'
 
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get "The entered value is not a valid integer literal."
 for "foobar" and a new input.
 
   >>> content = getForm(request, 'MultiWidget_dict_edit_submit_date.html')
@@ -614,16 +614,16 @@
   Required input is missing.
   The datetime string did not match the pattern 'yy/MM/dd'.
   The datetime string did not match the pattern 'yy/MM/dd'.
 
 And fill in a valid value:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfDate.key.0'] = u'14/05/12'
-  >>> submit['form.widgets.dictOfDate.0'] = u'14/06/21'
+  >>> submit['form.widgets.dictOfDate.key.0'] = '14/05/12'
+  >>> submit['form.widgets.dictOfDate.0'] = '14/06/21'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_dict_edit_submit_date3.html')
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-dictOfDate"]'))
   DictOfDate label
   <BLANKLINE>
   Date key *
@@ -654,16 +654,16 @@
   [foobar]
   [Add]
   [Remove selected]
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfDate.1.remove'] = u'1'
-  >>> submit['form.widgets.dictOfDate.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.dictOfDate.1.remove'] = '1'
+  >>> submit['form.widgets.dictOfDate.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_dict_edit_remove_date.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-dictOfDate"]'))
   DictOfDate label
   <BLANKLINE>
   Date key *
@@ -695,24 +695,24 @@
    datetime.date(2012, 2, 20): datetime.date(2013, 5, 19)}
     dictOfInt: {-101: -100, -1: 1, 101: 100}
     dictOfTextLine: {'textkey1': 'some text one', 'textkey2': 'some txt two'}>
 
 And apply
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.buttons.apply'] = u'Apply'
+  >>> submit['form.buttons.apply'] = 'Apply'
 
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request)
   >>> print(testing.plainText(content))
   There were some errors.
   * DictOfInt label: Wrong contained type
   * DictOfBool label: Wrong contained type
   * DictOfTextLine label: Constraint not satisfied
-  * DictOfDate label: The datetime string did not match the pattern u'yy/MM/dd'.
+  * DictOfDate label: The datetime string did not match the pattern 'yy/MM/dd'.
   ...
 
   >>> pprint(obj)
   <MultiWidgetDictIntegration
     dictOfBool: {False: True, True: False}
     dictOfChoice: {'key1': 'three', 'key3': 'two'}
     dictOfDate: {datetime.date(2011, 1, 15): datetime.date(2014, 6, 20),
@@ -732,20 +732,20 @@
   >>> content = getForm(request)
 
   >>> submit = testing.getSubmitValues(content)
   >>> submit['form.widgets.dictOfTextLine.key.0'] = 'lorem ipsum'
   >>> submit['form.widgets.dictOfTextLine.0'] = 'ipsum lorem'
   >>> submit['form.widgets.dictOfDate.key.1'] = '14/06/25'
   >>> submit['form.widgets.dictOfDate.1'] = '14/07/28'
-  >>> submit['form.widgets.dictOfInt.key.0'] = u'-101'
-  >>> submit['form.widgets.dictOfInt.0'] = u'-100'
-  >>> submit['form.widgets.dictOfBool.key.0'] = u'false'
-  >>> submit['form.widgets.dictOfBool.0'] = u'true'
+  >>> submit['form.widgets.dictOfInt.key.0'] = '-101'
+  >>> submit['form.widgets.dictOfInt.0'] = '-100'
+  >>> submit['form.widgets.dictOfBool.key.0'] = 'false'
+  >>> submit['form.widgets.dictOfBool.0'] = 'true'
 
-  >>> submit['form.buttons.apply'] = u'Apply'
+  >>> submit['form.buttons.apply'] = 'Apply'
 
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_dict_edit_fixit.html')
   >>> print(testing.plainText(content))
   Data successfully updated.
   ...
 
@@ -762,35 +762,35 @@
 ##################
 
 Change key values, item values must stick to the new values.
 
   >>> obj.dictOfInt = {-101: -100, -1:1, 101:100}
   >>> obj.dictOfBool = {True: False, False: True}
   >>> obj.dictOfChoice = {'key1': 'three', 'key3': 'two'}
-  >>> obj.dictOfTextLine = {u'textkey1': u'some text one',
-  ...     u'textkey2': u'some txt two'}
+  >>> obj.dictOfTextLine = {'textkey1': 'some text one',
+  ...     'textkey2': 'some txt two'}
   >>> obj.dictOfDate = {
   ...     date(2011, 1, 15): date(2014, 6, 20),
   ...     date(2012, 2, 20): date(2013, 5, 19)}
 
   >>> request = testing.TestRequest()
   >>> content = getForm(request, 'MultiWidget_dict_edit_twist.html')
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.dictOfInt.key.2'] = u'42'  # was 101:100
-  >>> submit['form.widgets.dictOfBool.key.0'] = u'true'  # was False:True
-  >>> submit['form.widgets.dictOfBool.key.1'] = u'false'  # was True:False
-  >>> submit['form.widgets.dictOfChoice.key.1:list'] = u'key2'  # was key3: two
-  >>> submit['form.widgets.dictOfChoice.key.0:list'] = u'key3'  # was key1: three
-  >>> submit['form.widgets.dictOfTextLine.key.1'] = u'lorem'  # was textkey2: some txt two
-  >>> submit['form.widgets.dictOfTextLine.1'] = u'ipsum'  # was textkey2: some txt two
-  >>> submit['form.widgets.dictOfTextLine.key.0'] = u'foobar'  # was textkey1: some txt one
-  >>> submit['form.widgets.dictOfDate.key.0'] = u'14/06/25'  # 11/01/15: 14/06/20
+  >>> submit['form.widgets.dictOfInt.key.2'] = '42'  # was 101:100
+  >>> submit['form.widgets.dictOfBool.key.0'] = 'true'  # was False:True
+  >>> submit['form.widgets.dictOfBool.key.1'] = 'false'  # was True:False
+  >>> submit['form.widgets.dictOfChoice.key.1:list'] = 'key2'  # was key3: two
+  >>> submit['form.widgets.dictOfChoice.key.0:list'] = 'key3'  # was key1: three
+  >>> submit['form.widgets.dictOfTextLine.key.1'] = 'lorem'  # was textkey2: some txt two
+  >>> submit['form.widgets.dictOfTextLine.1'] = 'ipsum'  # was textkey2: some txt two
+  >>> submit['form.widgets.dictOfTextLine.key.0'] = 'foobar'  # was textkey1: some txt one
+  >>> submit['form.widgets.dictOfDate.key.0'] = '14/06/25'  # 11/01/15: 14/06/20
 
-  >>> submit['form.buttons.apply'] = u'Apply'
+  >>> submit['form.buttons.apply'] = 'Apply'
 
   >>> request = testing.TestRequest(form=submit)
 
   >>> content = getForm(request, 'MultiWidget_dict_edit_twist2.html')
 
   >>> submit = testing.getSubmitValues(content)
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/multi_display.pt` & `z3c.form-5.0/src/z3c/form/browser/multi_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/multi_hidden.pt` & `z3c.form-5.0/src/z3c/form/browser/multi_hidden.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/multi_input.pt` & `z3c.form-5.0/src/z3c/form/browser/multi_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/multi_list_integration.rst` & `z3c.form-5.0/src/z3c/form/browser/multi_list_integration.rst`

 * *Files 2% similar despite different names*

```diff
@@ -56,24 +56,24 @@
 
 Some valid default values
 #########################
 
   >>> obj.listOfInt = [-100, 1, 100]
   >>> obj.listOfBool = [True, False, True]
   >>> obj.listOfChoice = ['two', 'three']
-  >>> obj.listOfTextLine = [u'some text one', u'some txt two']
+  >>> obj.listOfTextLine = ['some text one', 'some txt two']
   >>> obj.listOfDate = [date(2014, 6, 20)]
 
   >>> pprint(obj)
   <MultiWidgetListIntegration
     listOfBool: [True, False, True]
     listOfChoice: ['two', 'three']
     listOfDate: [datetime.date(2014, 6, 20)]
     listOfInt: [-100, 1, 100]
-    listOfTextLine: [u'some text one', u'some txt two']>
+    listOfTextLine: ['some text one', 'some txt two']>
 
   >>> content = getForm(request, 'MultiWidget_list_edit_simple.html')
 
   >>> print(testing.plainText(content))
   ListOfInt label
   <BLANKLINE>
   Int label *
@@ -121,25 +121,25 @@
 
   >>> pprint(obj)
   <MultiWidgetListIntegration
     listOfBool: [True, False, True]
     listOfChoice: ['two', 'three']
     listOfDate: [datetime.date(2014, 6, 20)]
     listOfInt: [-100, 1, 100]
-    listOfTextLine: [u'some text one', u'some txt two']>
+    listOfTextLine: ['some text one', 'some txt two']>
 
 listOfInt
 #########
 
 Set a wrong value and add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfInt.1'] = u'foobar'
+  >>> submit['form.widgets.listOfInt.1'] = 'foobar'
 
-  >>> submit['form.widgets.listOfInt.buttons.add'] = u'Add'
+  >>> submit['form.widgets.listOfInt.buttons.add'] = 'Add'
 
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get "The entered value is not a valid integer literal."
 for "foobar" and a new input.
 
   >>> content = getForm(request, 'MultiWidget_list_edit_submit_int.html')
@@ -172,17 +172,17 @@
   ...     './/div[@id="row-form-widgets-listOfInt"]//div[@class="error"]'))
   The entered value is not a valid integer literal.
   Required input is missing.
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfInt.1.remove'] = u'1'
-  >>> submit['form.widgets.listOfInt.2.remove'] = u'1'
-  >>> submit['form.widgets.listOfInt.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.listOfInt.1.remove'] = '1'
+  >>> submit['form.widgets.listOfInt.2.remove'] = '1'
+  >>> submit['form.widgets.listOfInt.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_list_edit_remove_int.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-listOfInt"]'))
   ListOfInt label
   <BLANKLINE>
   Int label *
@@ -199,24 +199,24 @@
 
   >>> pprint(obj)
   <MultiWidgetListIntegration
     listOfBool: [True, False, True]
     listOfChoice: ['two', 'three']
     listOfDate: [datetime.date(2014, 6, 20)]
     listOfInt: [-100, 1, 100]
-    listOfTextLine: [u'some text one', u'some txt two']>
+    listOfTextLine: ['some text one', 'some txt two']>
 
 
 listOfBool
 ##########
 
 Add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfBool.buttons.add'] = u'Add'
+  >>> submit['form.widgets.listOfBool.buttons.add'] = 'Add'
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get a new input.
 
   >>> content = getForm(request, 'MultiWidget_list_edit_submit_bool.html')
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-listOfBool"]'))
@@ -249,17 +249,17 @@
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-listOfBool"]//div[@class="error"]'))
   Required input is missing.
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfBool.1.remove'] = u'1'
-  >>> submit['form.widgets.listOfBool.2.remove'] = u'1'
-  >>> submit['form.widgets.listOfBool.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.listOfBool.1.remove'] = '1'
+  >>> submit['form.widgets.listOfBool.2.remove'] = '1'
+  >>> submit['form.widgets.listOfBool.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_list_edit_remove_bool.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-listOfBool"]'))
   ListOfBool label
   <BLANKLINE>
   Bool label *
@@ -276,26 +276,26 @@
 
   >>> pprint(obj)
   <MultiWidgetListIntegration
     listOfBool: [True, False, True]
     listOfChoice: ['two', 'three']
     listOfDate: [datetime.date(2014, 6, 20)]
     listOfInt: [-100, 1, 100]
-    listOfTextLine: [u'some text one', u'some txt two']>
+    listOfTextLine: ['some text one', 'some txt two']>
 
 
 listOfTextLine
 ##############
 
 Set a wrong value and add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfTextLine.1'] = u'foo\nbar'
+  >>> submit['form.widgets.listOfTextLine.1'] = 'foo\nbar'
 
-  >>> submit['form.widgets.listOfTextLine.buttons.add'] = u'Add'
+  >>> submit['form.widgets.listOfTextLine.buttons.add'] = 'Add'
 
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get "Constraint not satisfied"
 for "foo\nbar" and a new input.
 
   >>> content = getForm(request, 'MultiWidget_list_edit_submit_textline.html')
@@ -329,16 +329,16 @@
   ...     './/form/div[@id="row-form-widgets-listOfTextLine"]//div[@class="error"]'))
   Constraint not satisfied
   Required input is missing.
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfTextLine.0.remove'] = u'1'
-  >>> submit['form.widgets.listOfTextLine.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.listOfTextLine.0.remove'] = '1'
+  >>> submit['form.widgets.listOfTextLine.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_list_edit_remove_textline.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-listOfTextLine"]'))
   ListOfTextLine label
   <BLANKLINE>
   TextLine label *
@@ -357,40 +357,40 @@
 
   >>> pprint(obj)
   <MultiWidgetListIntegration
     listOfBool: [True, False, True]
     listOfChoice: ['two', 'three']
     listOfDate: [datetime.date(2014, 6, 20)]
     listOfInt: [-100, 1, 100]
-    listOfTextLine: [u'some text one', u'some txt two']>
+    listOfTextLine: ['some text one', 'some txt two']>
 
 
 listOfDate
 ##########
 
 Set a wrong value and add a new input:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfDate.0'] = u'foobar'
+  >>> submit['form.widgets.listOfDate.0'] = 'foobar'
 
-  >>> submit['form.widgets.listOfDate.buttons.add'] = u'Add'
+  >>> submit['form.widgets.listOfDate.buttons.add'] = 'Add'
 
   >>> request = testing.TestRequest(form=submit)
 
 Important is that we get "The datetime string did not match the pattern"
 for "foobar" and a new input.
 
   >>> content = getForm(request, 'MultiWidget_list_edit_submit_date.html')
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-listOfDate"]'))
   ListOfDate label
   <BLANKLINE>
   Date label *
   <BLANKLINE>
-  The datetime string did not match the pattern u'yy/MM/dd'.
+  The datetime string did not match the pattern 'yy/MM/dd'.
   [ ]
   [foobar]
   Date label *
   <BLANKLINE>
   [ ]
   []
   [Add]
@@ -399,37 +399,37 @@
 Submit again with the empty field:
 
   >>> submit = testing.getSubmitValues(content)
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request)
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-listOfDate"]//div[@class="error"]'))
-  The datetime string did not match the pattern u'yy/MM/dd'.
+  The datetime string did not match the pattern 'yy/MM/dd'.
   Required input is missing.
 
 Add one more field:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfDate.buttons.add'] = u'Add'
+  >>> submit['form.widgets.listOfDate.buttons.add'] = 'Add'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request)
 
 And fill in a valid value:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfDate.2'] = u'14/06/21'
+  >>> submit['form.widgets.listOfDate.2'] = '14/06/21'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_list_edit_submit_date2.html')
   >>> print(testing.plainText(content,
   ...     './/form/div[@id="row-form-widgets-listOfDate"]'))
   ListOfDate label
   <BLANKLINE>
   Date label *
   <BLANKLINE>
-  The datetime string did not match the pattern u'yy/MM/dd'.
+  The datetime string did not match the pattern 'yy/MM/dd'.
   [ ]
   [foobar]
   Date label *
   <BLANKLINE>
   Required input is missing.
   [ ]
   []
@@ -439,25 +439,25 @@
   [14/06/21]
   [Add]
   [Remove selected]
 
 Let's remove some items:
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.widgets.listOfDate.2.remove'] = u'1'
-  >>> submit['form.widgets.listOfDate.buttons.remove'] = u'Remove selected'
+  >>> submit['form.widgets.listOfDate.2.remove'] = '1'
+  >>> submit['form.widgets.listOfDate.buttons.remove'] = 'Remove selected'
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request, 'MultiWidget_list_edit_remove_date.html')
   >>> print(testing.plainText(content,
   ...     './/div[@id="row-form-widgets-listOfDate"]'))
   ListOfDate label
   <BLANKLINE>
   Date label *
   <BLANKLINE>
-  The datetime string did not match the pattern u'yy/MM/dd'.
+  The datetime string did not match the pattern 'yy/MM/dd'.
   [ ]
   [foobar]
   Date label *
   <BLANKLINE>
   Required input is missing.
   [ ]
   []
@@ -466,21 +466,21 @@
 
   >>> pprint(obj)
   <MultiWidgetListIntegration
     listOfBool: [True, False, True]
     listOfChoice: ['two', 'three']
     listOfDate: [datetime.date(2014, 6, 20)]
     listOfInt: [-100, 1, 100]
-    listOfTextLine: [u'some text one', u'some txt two']>
+    listOfTextLine: ['some text one', 'some txt two']>
 
 
 And apply
 
   >>> submit = testing.getSubmitValues(content)
-  >>> submit['form.buttons.apply'] = u'Apply'
+  >>> submit['form.buttons.apply'] = 'Apply'
 
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request)
   >>> print(testing.plainText(content))
   There were some errors.
   * ListOfInt label: Wrong contained type
   * ListOfBool label: Wrong contained type
@@ -490,33 +490,33 @@
 
   >>> pprint(obj)
   <MultiWidgetListIntegration
     listOfBool: [True, False, True]
     listOfChoice: ['two', 'three']
     listOfDate: [datetime.date(2014, 6, 20)]
     listOfInt: [-100, 1, 100]
-    listOfTextLine: [u'some text one', u'some txt two']>
+    listOfTextLine: ['some text one', 'some txt two']>
 
 Let's fix the values
 
   >>> submit = testing.getSubmitValues(content)
   >>> submit['form.widgets.listOfInt.1'] = '42'
   >>> submit['form.widgets.listOfBool.1'] = 'false'
   >>> submit['form.widgets.listOfTextLine.0'] = 'ipsum lorem'
   >>> submit['form.widgets.listOfTextLine.1'] = 'lorem ipsum'
   >>> submit['form.widgets.listOfDate.0'] = '14/06/25'
   >>> submit['form.widgets.listOfDate.1'] = '14/06/24'
-  >>> submit['form.buttons.apply'] = u'Apply'
+  >>> submit['form.buttons.apply'] = 'Apply'
 
   >>> request = testing.TestRequest(form=submit)
   >>> content = getForm(request)
   >>> print(testing.plainText(content))
   Data successfully updated.
   ...
 
   >>> pprint(obj)
   <MultiWidgetListIntegration
     listOfBool: [True, False]
     listOfChoice: ['two', 'three']
     listOfDate: [datetime.date(2014, 6, 25), datetime.date(2014, 6, 24)]
     listOfInt: [-100, 42]
-    listOfTextLine: [u'ipsum lorem', u'lorem ipsum']>
+    listOfTextLine: ['ipsum lorem', 'lorem ipsum']>
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/object.py` & `z3c.form-5.0/src/z3c/form/browser/object.py`

 * *Files 5% similar despite different names*

```diff
@@ -17,22 +17,25 @@
 """
 
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 import zope.schema.interfaces
 
-from z3c.form import interfaces, object
-from z3c.form.widget import FieldWidget
+from z3c.form import interfaces
+from z3c.form import object
 from z3c.form.browser import widget
+from z3c.form.widget import FieldWidget
+
 
 @zope.interface.implementer(interfaces.IObjectWidget)
 class ObjectWidget(widget.HTMLFormElement, object.ObjectWidget):
 
-    klass = u'object-widget'
-    css = u'object'
+    klass = 'object-widget'
+    css = 'object'
+
 
 @zope.component.adapter(zope.schema.interfaces.IObject, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def ObjectFieldWidget(field, request):
     """IFieldWidget factory for IObjectWidget."""
     return FieldWidget(field, ObjectWidget(request))
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/object.rst` & `z3c.form-5.0/src/z3c/form/browser/object.rst`

 * *Files 0% similar despite different names*

```diff
@@ -133,2455 +133,2452 @@
 00000840: 624f 626a 6563 740a 2020 3e3e 3e20 696d  bObject.  >>> im
 00000850: 706f 7274 207a 6f70 652e 7363 6865 6d61  port zope.schema
 00000860: 0a20 203e 3e3e 2066 6965 6c64 203d 207a  .  >>> field = z
 00000870: 6f70 652e 7363 6865 6d61 2e4f 626a 6563  ope.schema.Objec
 00000880: 7428 0a20 202e 2e2e 2020 2020 205f 5f6e  t(.  ...     __n
 00000890: 616d 655f 5f3d 2773 7562 6f62 6a65 6374  ame__='subobject
 000008a0: 272c 0a20 202e 2e2e 2020 2020 2074 6974  ',.  ...     tit
-000008b0: 6c65 3d75 276d 7920 6f62 6a65 6374 2077  le=u'my object w
-000008c0: 6964 6765 7427 2c0a 2020 2e2e 2e20 2020  idget',.  ...   
-000008d0: 2020 7363 6865 6d61 3d49 4d79 5375 624f    schema=IMySubO
-000008e0: 626a 6563 7429 0a0a 4170 706c 7920 7468  bject)..Apply th
-000008f0: 6520 6669 656c 6420 6e69 6365 6c79 2077  e field nicely w
-00000900: 6974 6820 7468 6520 6865 6c70 6572 3a0a  ith the helper:.
-00000910: 0a20 203e 3e3e 2077 6964 6765 7420 3d20  .  >>> widget = 
-00000920: 4669 656c 6457 6964 6765 7428 6669 656c  FieldWidget(fiel
-00000930: 642c 2077 6964 6765 7429 0a0a 5765 2061  d, widget)..We a
-00000940: 6c73 6f20 6e65 6564 2074 6f20 7265 6769  lso need to regi
-00000950: 7374 6572 2074 6865 2074 656d 706c 6174  ster the templat
-00000960: 6573 2066 6f72 2074 6865 2077 6964 6765  es for the widge
-00000970: 7420 616e 6420 7265 7175 6573 743a 0a0a  t and request:..
-00000980: 2020 3e3e 3e20 696d 706f 7274 207a 6f70    >>> import zop
-00000990: 652e 636f 6d70 6f6e 656e 740a 2020 3e3e  e.component.  >>
-000009a0: 3e20 6672 6f6d 207a 6f70 652e 7061 6765  > from zope.page
-000009b0: 7465 6d70 6c61 7465 2e69 6e74 6572 6661  template.interfa
-000009c0: 6365 7320 696d 706f 7274 2049 5061 6765  ces import IPage
-000009d0: 5465 6d70 6c61 7465 0a20 203e 3e3e 2066  Template.  >>> f
-000009e0: 726f 6d20 7a33 632e 666f 726d 2e74 6573  rom z3c.form.tes
-000009f0: 7469 6e67 2069 6d70 6f72 7420 6765 7450  ting import getP
-00000a00: 6174 680a 2020 3e3e 3e20 6672 6f6d 207a  ath.  >>> from z
-00000a10: 3363 2e66 6f72 6d2e 7769 6467 6574 2069  3c.form.widget i
-00000a20: 6d70 6f72 7420 5769 6467 6574 5465 6d70  mport WidgetTemp
-00000a30: 6c61 7465 4661 6374 6f72 790a 0a20 203e  lateFactory..  >
-00000a40: 3e3e 207a 6f70 652e 636f 6d70 6f6e 656e  >> zope.componen
-00000a50: 742e 7072 6f76 6964 6541 6461 7074 6572  t.provideAdapter
-00000a60: 280a 2020 2e2e 2e20 2020 2020 5769 6467  (.  ...     Widg
-00000a70: 6574 5465 6d70 6c61 7465 4661 6374 6f72  etTemplateFactor
-00000a80: 7928 6765 7450 6174 6828 276f 626a 6563  y(getPath('objec
-00000a90: 745f 696e 7075 742e 7074 2729 2c20 2774  t_input.pt'), 't
-00000aa0: 6578 742f 6874 6d6c 2729 2c0a 2020 2e2e  ext/html'),.  ..
-00000ab0: 2e20 2020 2020 284e 6f6e 652c 204e 6f6e  .     (None, Non
-00000ac0: 652c 204e 6f6e 652c 204e 6f6e 652c 2069  e, None, None, i
-00000ad0: 6e74 6572 6661 6365 732e 494f 626a 6563  nterfaces.IObjec
-00000ae0: 7457 6964 6765 7429 2c0a 2020 2e2e 2e20  tWidget),.  ... 
-00000af0: 2020 2020 4950 6167 6554 656d 706c 6174      IPageTemplat
-00000b00: 652c 206e 616d 653d 696e 7465 7266 6163  e, name=interfac
-00000b10: 6573 2e49 4e50 5554 5f4d 4f44 4529 0a0a  es.INPUT_MODE)..
-00000b20: 2020 3e3e 3e20 7a6f 7065 2e63 6f6d 706f    >>> zope.compo
-00000b30: 6e65 6e74 2e70 726f 7669 6465 4164 6170  nent.provideAdap
-00000b40: 7465 7228 0a20 202e 2e2e 2020 2020 2057  ter(.  ...     W
-00000b50: 6964 6765 7454 656d 706c 6174 6546 6163  idgetTemplateFac
-00000b60: 746f 7279 2867 6574 5061 7468 2827 6f62  tory(getPath('ob
-00000b70: 6a65 6374 5f64 6973 706c 6179 2e70 7427  ject_display.pt'
-00000b80: 292c 2027 7465 7874 2f68 746d 6c27 292c  ), 'text/html'),
-00000b90: 0a20 202e 2e2e 2020 2020 2028 4e6f 6e65  .  ...     (None
-00000ba0: 2c20 4e6f 6e65 2c20 4e6f 6e65 2c20 4e6f  , None, None, No
-00000bb0: 6e65 2c20 696e 7465 7266 6163 6573 2e49  ne, interfaces.I
-00000bc0: 4f62 6a65 6374 5769 6467 6574 292c 0a20  ObjectWidget),. 
-00000bd0: 202e 2e2e 2020 2020 2049 5061 6765 5465   ...     IPageTe
-00000be0: 6d70 6c61 7465 2c20 6e61 6d65 3d69 6e74  mplate, name=int
-00000bf0: 6572 6661 6365 732e 4449 5350 4c41 595f  erfaces.DISPLAY_
-00000c00: 4d4f 4445 290a 0a57 6520 6361 6e20 6e6f  MODE)..We can no
-00000c10: 7720 7265 6e64 6572 2074 6865 2077 6964  w render the wid
-00000c20: 6765 743a 0a0a 2020 3e3e 3e20 7769 6467  get:..  >>> widg
-00000c30: 6574 2e75 7064 6174 6528 290a 2020 3e3e  et.update().  >>
-00000c40: 3e20 7072 696e 7428 7769 6467 6574 2e72  > print(widget.r
-00000c50: 656e 6465 7228 2929 0a20 203c 6874 6d6c  ender()).  <html
-00000c60: 3e0a 2020 2020 3c62 6f64 793e 0a20 2020  >.    <body>.   
-00000c70: 2020 203c 6469 7620 636c 6173 733d 226f     <div class="o
-00000c80: 626a 6563 742d 7769 6467 6574 2072 6571  bject-widget req
-00000c90: 7569 7265 6422 3e0a 2020 2020 2020 2020  uired">.        
-00000ca0: 3c64 6976 2063 6c61 7373 3d22 6c61 6265  <div class="labe
-00000cb0: 6c22 3e0a 2020 2020 2020 2020 2020 3c6c  l">.          <l
-00000cc0: 6162 656c 2066 6f72 3d22 7375 626f 626a  abel for="subobj
-00000cd0: 6563 742d 7769 6467 6574 732d 666f 6f66  ect-widgets-foof
-00000ce0: 6965 6c64 223e 0a20 2020 2020 2020 2020  ield">.         
-00000cf0: 2020 203c 7370 616e 3e4d 7920 666f 6f20     <span>My foo 
-00000d00: 6669 656c 643c 2f73 7061 6e3e 0a20 2020  field</span>.   
-00000d10: 2020 2020 2020 2020 203c 7370 616e 2063           <span c
-00000d20: 6c61 7373 3d22 7265 7175 6972 6564 223e  lass="required">
-00000d30: 2a3c 2f73 7061 6e3e 0a20 2020 2020 2020  *</span>.       
-00000d40: 2020 203c 2f6c 6162 656c 3e0a 2020 2020     </label>.    
-00000d50: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-00000d60: 2020 203c 6469 7620 636c 6173 733d 2277     <div class="w
-00000d70: 6964 6765 7422 3e0a 2020 2020 2020 2020  idget">.        
-00000d80: 2020 3c69 6e70 7574 2063 6c61 7373 3d22    <input class="
-00000d90: 7465 7874 2d77 6964 6765 7420 7265 7175  text-widget requ
-00000da0: 6972 6564 2069 6e74 2d66 6965 6c64 220a  ired int-field".
-00000db0: 2020 2020 2020 2020 2020 6964 3d22 7375            id="su
-00000dc0: 626f 626a 6563 742d 7769 6467 6574 732d  bobject-widgets-
-00000dd0: 666f 6f66 6965 6c64 220a 2020 2020 2020  foofield".      
-00000de0: 2020 2020 6e61 6d65 3d22 7375 626f 626a      name="subobj
-00000df0: 6563 742e 7769 6467 6574 732e 666f 6f66  ect.widgets.foof
-00000e00: 6965 6c64 220a 2020 2020 2020 2020 2020  ield".          
-00000e10: 7479 7065 3d22 7465 7874 2220 7661 6c75  type="text" valu
-00000e20: 653d 2231 2c31 3131 223e 0a20 2020 2020  e="1,111">.     
-00000e30: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-00000e40: 2020 3c64 6976 2063 6c61 7373 3d22 6c61    <div class="la
-00000e50: 6265 6c22 3e0a 2020 2020 2020 2020 2020  bel">.          
-00000e60: 3c6c 6162 656c 2066 6f72 3d22 7375 626f  <label for="subo
-00000e70: 626a 6563 742d 7769 6467 6574 732d 6261  bject-widgets-ba
-00000e80: 7266 6965 6c64 223e 0a20 2020 2020 2020  rfield">.       
-00000e90: 2020 2020 203c 7370 616e 3e4d 7920 6465       <span>My de
-00000ea0: 6172 2062 6172 3c2f 7370 616e 3e0a 2020  ar bar</span>.  
-00000eb0: 2020 2020 2020 2020 3c2f 6c61 6265 6c3e          </label>
-00000ec0: 0a20 2020 2020 2020 203c 2f64 6976 3e0a  .        </div>.
-00000ed0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00000ee0: 7373 3d22 7769 6467 6574 223e 0a20 2020  ss="widget">.   
-00000ef0: 2020 2020 2020 203c 696e 7075 7420 636c         <input cl
-00000f00: 6173 733d 2274 6578 742d 7769 6467 6574  ass="text-widget
-00000f10: 2069 6e74 2d66 6965 6c64 220a 2020 2020   int-field".    
-00000f20: 2020 2020 2020 6964 3d22 7375 626f 626a        id="subobj
-00000f30: 6563 742d 7769 6467 6574 732d 6261 7266  ect-widgets-barf
-00000f40: 6965 6c64 220a 2020 2020 2020 2020 2020  ield".          
-00000f50: 6e61 6d65 3d22 7375 626f 626a 6563 742e  name="subobject.
-00000f60: 7769 6467 6574 732e 6261 7266 6965 6c64  widgets.barfield
-00000f70: 220a 2020 2020 2020 2020 2020 7479 7065  ".          type
-00000f80: 3d22 7465 7874 2220 7661 6c75 653d 2232  ="text" value="2
-00000f90: 2c32 3232 223e 0a20 2020 2020 2020 203c  ,222">.        <
-00000fa0: 2f64 6976 3e0a 2020 2020 2020 2020 3c69  /div>.        <i
-00000fb0: 6e70 7574 206e 616d 653d 2273 7562 6f62  nput name="subob
-00000fc0: 6a65 6374 2d65 6d70 7479 2d6d 6172 6b65  ject-empty-marke
-00000fd0: 7222 2074 7970 653d 2268 6964 6465 6e22  r" type="hidden"
-00000fe0: 2076 616c 7565 3d22 3122 3e0a 2020 2020   value="1">.    
-00000ff0: 2020 3c2f 6469 763e 0a20 2020 203c 2f62    </div>.    </b
-00001000: 6f64 793e 0a20 203c 2f68 746d 6c3e 0a0a  ody>.  </html>..
-00001010: 0a41 7320 796f 7520 7365 6520 616c 6c20  .As you see all 
-00001020: 736f 7274 206f 6620 6465 6661 756c 7420  sort of default 
-00001030: 7661 6c75 6573 2061 7265 2072 656e 6465  values are rende
-00001040: 7265 642e 0a0a 4c65 7427 7320 7072 6f76  red...Let's prov
-00001050: 6964 6520 6120 6d6f 7265 206d 6561 6e69  ide a more meani
-00001060: 6e67 6675 6c20 7661 6c75 653a 0a0a 2020  ngful value:..  
-00001070: 3e3e 3e20 6672 6f6d 207a 3363 2e66 6f72  >>> from z3c.for
-00001080: 6d2e 7465 7374 696e 6720 696d 706f 7274  m.testing import
-00001090: 204d 7953 7562 4f62 6a65 6374 0a20 203e   MySubObject.  >
-000010a0: 3e3e 2076 203d 204d 7953 7562 4f62 6a65  >> v = MySubObje
-000010b0: 6374 2829 0a20 203e 3e3e 2076 2e66 6f6f  ct().  >>> v.foo
-000010c0: 6669 656c 6420 3d20 3432 0a20 203e 3e3e  field = 42.  >>>
-000010d0: 2076 2e62 6172 6669 656c 6420 3d20 3636   v.barfield = 66
-000010e0: 360a 2020 3e3e 3e20 762e 5f5f 6d61 726b  6.  >>> v.__mark
-000010f0: 6572 5f5f 203d 2022 5468 6973 4d75 7374  er__ = "ThisMust
-00001100: 5374 6179 5468 6553 616d 6522 0a0a 0a20  StayTheSame"... 
-00001110: 203e 3e3e 2077 6964 6765 742e 6967 6e6f   >>> widget.igno
-00001120: 7265 436f 6e74 6578 7420 3d20 4661 6c73  reContext = Fals
-00001130: 650a 2020 3e3e 3e20 7769 6467 6574 2e76  e.  >>> widget.v
-00001140: 616c 7565 203d 2064 6963 7428 666f 6f66  alue = dict(foof
-00001150: 6965 6c64 3d27 3432 272c 2062 6172 6669  ield='42', barfi
-00001160: 656c 643d 2736 3636 2729 0a0a 2020 3e3e  eld='666')..  >>
-00001170: 3e20 7769 6467 6574 2e75 7064 6174 6528  > widget.update(
-00001180: 290a 0a20 203e 3e3e 2070 7269 6e74 2877  )..  >>> print(w
-00001190: 6964 6765 742e 7265 6e64 6572 2829 290a  idget.render()).
-000011a0: 2020 3c68 746d 6c3e 0a20 2020 203c 626f    <html>.    <bo
-000011b0: 6479 3e0a 2020 2020 2020 3c64 6976 2063  dy>.      <div c
-000011c0: 6c61 7373 3d22 6f62 6a65 6374 2d77 6964  lass="object-wid
-000011d0: 6765 7420 7265 7175 6972 6564 223e 0a20  get required">. 
-000011e0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
-000011f0: 733d 226c 6162 656c 223e 0a20 2020 2020  s="label">.     
-00001200: 2020 2020 203c 6c61 6265 6c20 666f 723d       <label for=
-00001210: 2273 7562 6f62 6a65 6374 2d77 6964 6765  "subobject-widge
-00001220: 7473 2d66 6f6f 6669 656c 6422 3e0a 2020  ts-foofield">.  
-00001230: 2020 2020 2020 2020 2020 3c73 7061 6e3e            <span>
-00001240: 4d79 2066 6f6f 2066 6965 6c64 3c2f 7370  My foo field</sp
-00001250: 616e 3e0a 2020 2020 2020 2020 2020 2020  an>.            
-00001260: 3c73 7061 6e20 636c 6173 733d 2272 6571  <span class="req
-00001270: 7569 7265 6422 3e2a 3c2f 7370 616e 3e0a  uired">*</span>.
-00001280: 2020 2020 2020 2020 2020 3c2f 6c61 6265            </labe
-00001290: 6c3e 0a20 2020 2020 2020 203c 2f64 6976  l>.        </div
-000012a0: 3e0a 2020 2020 2020 2020 3c64 6976 2063  >.        <div c
-000012b0: 6c61 7373 3d22 7769 6467 6574 223e 0a20  lass="widget">. 
-000012c0: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
-000012d0: 636c 6173 733d 2274 6578 742d 7769 6467  class="text-widg
-000012e0: 6574 2072 6571 7569 7265 6420 696e 742d  et required int-
-000012f0: 6669 656c 6422 0a20 2020 2020 2020 2020  field".         
-00001300: 2069 643d 2273 7562 6f62 6a65 6374 2d77   id="subobject-w
-00001310: 6964 6765 7473 2d66 6f6f 6669 656c 6422  idgets-foofield"
-00001320: 0a20 2020 2020 2020 2020 206e 616d 653d  .          name=
-00001330: 2273 7562 6f62 6a65 6374 2e77 6964 6765  "subobject.widge
-00001340: 7473 2e66 6f6f 6669 656c 6422 0a20 2020  ts.foofield".   
-00001350: 2020 2020 2020 2074 7970 653d 2274 6578         type="tex
-00001360: 7422 2076 616c 7565 3d22 3432 223e 0a20  t" value="42">. 
-00001370: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
-00001380: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-00001390: 3d22 6c61 6265 6c22 3e0a 2020 2020 2020  ="label">.      
-000013a0: 2020 2020 3c6c 6162 656c 2066 6f72 3d22      <label for="
-000013b0: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
-000013c0: 732d 6261 7266 6965 6c64 223e 0a20 2020  s-barfield">.   
-000013d0: 2020 2020 2020 2020 203c 7370 616e 3e4d           <span>M
-000013e0: 7920 6465 6172 2062 6172 3c2f 7370 616e  y dear bar</span
-000013f0: 3e0a 2020 2020 2020 2020 2020 3c2f 6c61  >.          </la
-00001400: 6265 6c3e 0a20 2020 2020 2020 203c 2f64  bel>.        </d
-00001410: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
-00001420: 2063 6c61 7373 3d22 7769 6467 6574 223e   class="widget">
-00001430: 0a20 2020 2020 2020 2020 203c 696e 7075  .          <inpu
-00001440: 7420 636c 6173 733d 2274 6578 742d 7769  t class="text-wi
-00001450: 6467 6574 2069 6e74 2d66 6965 6c64 220a  dget int-field".
-00001460: 2020 2020 2020 2020 2020 6964 3d22 7375            id="su
-00001470: 626f 626a 6563 742d 7769 6467 6574 732d  bobject-widgets-
-00001480: 6261 7266 6965 6c64 220a 2020 2020 2020  barfield".      
-00001490: 2020 2020 6e61 6d65 3d22 7375 626f 626a      name="subobj
-000014a0: 6563 742e 7769 6467 6574 732e 6261 7266  ect.widgets.barf
-000014b0: 6965 6c64 220a 2020 2020 2020 2020 2020  ield".          
-000014c0: 7479 7065 3d22 7465 7874 2220 7661 6c75  type="text" valu
-000014d0: 653d 2236 3636 223e 0a20 2020 2020 2020  e="666">.       
-000014e0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-000014f0: 3c69 6e70 7574 206e 616d 653d 2273 7562  <input name="sub
-00001500: 6f62 6a65 6374 2d65 6d70 7479 2d6d 6172  object-empty-mar
-00001510: 6b65 7222 2074 7970 653d 2268 6964 6465  ker" type="hidde
-00001520: 6e22 2076 616c 7565 3d22 3122 3e0a 2020  n" value="1">.  
-00001530: 2020 2020 3c2f 6469 763e 0a20 2020 203c      </div>.    <
-00001540: 2f62 6f64 793e 0a20 203c 2f68 746d 6c3e  /body>.  </html>
-00001550: 0a0a 5468 6520 7769 6467 6574 2773 2076  ..The widget's v
-00001560: 616c 7565 2069 7320 4e4f 5f56 414c 5545  alue is NO_VALUE
-00001570: 2075 6e74 696c 2069 7420 6765 7473 2061   until it gets a
-00001580: 2072 6571 7565 7374 3a0a 0a20 203e 3e3e   request:..  >>>
-00001590: 2077 6964 6765 742e 7661 6c75 650a 2020   widget.value.  
-000015a0: 3c4e 4f5f 5641 4c55 453e 0a0a 4c65 7427  <NO_VALUE>..Let'
-000015b0: 7320 6669 6c6c 2069 6e20 736f 6d65 2076  s fill in some v
-000015c0: 616c 7565 7320 7669 6120 7468 6520 7265  alues via the re
-000015d0: 7175 6573 743a 0a0a 2020 3e3e 3e20 7769  quest:..  >>> wi
-000015e0: 6467 6574 2e72 6571 7565 7374 203d 2054  dget.request = T
-000015f0: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
-00001600: 7b27 7375 626f 626a 6563 742e 7769 6467  {'subobject.widg
-00001610: 6574 732e 666f 6f66 6965 6c64 273a 7527  ets.foofield':u'
-00001620: 3227 2c0a 2020 2e2e 2e20 2020 2020 2020  2',.  ...       
+000008b0: 6c65 3d27 6d79 206f 626a 6563 7420 7769  le='my object wi
+000008c0: 6467 6574 272c 0a20 202e 2e2e 2020 2020  dget',.  ...    
+000008d0: 2073 6368 656d 613d 494d 7953 7562 4f62   schema=IMySubOb
+000008e0: 6a65 6374 290a 0a41 7070 6c79 2074 6865  ject)..Apply the
+000008f0: 2066 6965 6c64 206e 6963 656c 7920 7769   field nicely wi
+00000900: 7468 2074 6865 2068 656c 7065 723a 0a0a  th the helper:..
+00000910: 2020 3e3e 3e20 7769 6467 6574 203d 2046    >>> widget = F
+00000920: 6965 6c64 5769 6467 6574 2866 6965 6c64  ieldWidget(field
+00000930: 2c20 7769 6467 6574 290a 0a57 6520 616c  , widget)..We al
+00000940: 736f 206e 6565 6420 746f 2072 6567 6973  so need to regis
+00000950: 7465 7220 7468 6520 7465 6d70 6c61 7465  ter the template
+00000960: 7320 666f 7220 7468 6520 7769 6467 6574  s for the widget
+00000970: 2061 6e64 2072 6571 7565 7374 3a0a 0a20   and request:.. 
+00000980: 203e 3e3e 2069 6d70 6f72 7420 7a6f 7065   >>> import zope
+00000990: 2e63 6f6d 706f 6e65 6e74 0a20 203e 3e3e  .component.  >>>
+000009a0: 2066 726f 6d20 7a6f 7065 2e70 6167 6574   from zope.paget
+000009b0: 656d 706c 6174 652e 696e 7465 7266 6163  emplate.interfac
+000009c0: 6573 2069 6d70 6f72 7420 4950 6167 6554  es import IPageT
+000009d0: 656d 706c 6174 650a 2020 3e3e 3e20 6672  emplate.  >>> fr
+000009e0: 6f6d 207a 3363 2e66 6f72 6d2e 7465 7374  om z3c.form.test
+000009f0: 696e 6720 696d 706f 7274 2067 6574 5061  ing import getPa
+00000a00: 7468 0a20 203e 3e3e 2066 726f 6d20 7a33  th.  >>> from z3
+00000a10: 632e 666f 726d 2e77 6964 6765 7420 696d  c.form.widget im
+00000a20: 706f 7274 2057 6964 6765 7454 656d 706c  port WidgetTempl
+00000a30: 6174 6546 6163 746f 7279 0a0a 2020 3e3e  ateFactory..  >>
+00000a40: 3e20 7a6f 7065 2e63 6f6d 706f 6e65 6e74  > zope.component
+00000a50: 2e70 726f 7669 6465 4164 6170 7465 7228  .provideAdapter(
+00000a60: 0a20 202e 2e2e 2020 2020 2057 6964 6765  .  ...     Widge
+00000a70: 7454 656d 706c 6174 6546 6163 746f 7279  tTemplateFactory
+00000a80: 2867 6574 5061 7468 2827 6f62 6a65 6374  (getPath('object
+00000a90: 5f69 6e70 7574 2e70 7427 292c 2027 7465  _input.pt'), 'te
+00000aa0: 7874 2f68 746d 6c27 292c 0a20 202e 2e2e  xt/html'),.  ...
+00000ab0: 2020 2020 2028 4e6f 6e65 2c20 4e6f 6e65       (None, None
+00000ac0: 2c20 4e6f 6e65 2c20 4e6f 6e65 2c20 696e  , None, None, in
+00000ad0: 7465 7266 6163 6573 2e49 4f62 6a65 6374  terfaces.IObject
+00000ae0: 5769 6467 6574 292c 0a20 202e 2e2e 2020  Widget),.  ...  
+00000af0: 2020 2049 5061 6765 5465 6d70 6c61 7465     IPageTemplate
+00000b00: 2c20 6e61 6d65 3d69 6e74 6572 6661 6365  , name=interface
+00000b10: 732e 494e 5055 545f 4d4f 4445 290a 0a20  s.INPUT_MODE).. 
+00000b20: 203e 3e3e 207a 6f70 652e 636f 6d70 6f6e   >>> zope.compon
+00000b30: 656e 742e 7072 6f76 6964 6541 6461 7074  ent.provideAdapt
+00000b40: 6572 280a 2020 2e2e 2e20 2020 2020 5769  er(.  ...     Wi
+00000b50: 6467 6574 5465 6d70 6c61 7465 4661 6374  dgetTemplateFact
+00000b60: 6f72 7928 6765 7450 6174 6828 276f 626a  ory(getPath('obj
+00000b70: 6563 745f 6469 7370 6c61 792e 7074 2729  ect_display.pt')
+00000b80: 2c20 2774 6578 742f 6874 6d6c 2729 2c0a  , 'text/html'),.
+00000b90: 2020 2e2e 2e20 2020 2020 284e 6f6e 652c    ...     (None,
+00000ba0: 204e 6f6e 652c 204e 6f6e 652c 204e 6f6e   None, None, Non
+00000bb0: 652c 2069 6e74 6572 6661 6365 732e 494f  e, interfaces.IO
+00000bc0: 626a 6563 7457 6964 6765 7429 2c0a 2020  bjectWidget),.  
+00000bd0: 2e2e 2e20 2020 2020 4950 6167 6554 656d  ...     IPageTem
+00000be0: 706c 6174 652c 206e 616d 653d 696e 7465  plate, name=inte
+00000bf0: 7266 6163 6573 2e44 4953 504c 4159 5f4d  rfaces.DISPLAY_M
+00000c00: 4f44 4529 0a0a 5765 2063 616e 206e 6f77  ODE)..We can now
+00000c10: 2072 656e 6465 7220 7468 6520 7769 6467   render the widg
+00000c20: 6574 3a0a 0a20 203e 3e3e 2077 6964 6765  et:..  >>> widge
+00000c30: 742e 7570 6461 7465 2829 0a20 203e 3e3e  t.update().  >>>
+00000c40: 2070 7269 6e74 2877 6964 6765 742e 7265   print(widget.re
+00000c50: 6e64 6572 2829 290a 2020 3c68 746d 6c3e  nder()).  <html>
+00000c60: 0a20 2020 203c 626f 6479 3e0a 2020 2020  .    <body>.    
+00000c70: 2020 3c64 6976 2063 6c61 7373 3d22 6f62    <div class="ob
+00000c80: 6a65 6374 2d77 6964 6765 7420 7265 7175  ject-widget requ
+00000c90: 6972 6564 223e 0a20 2020 2020 2020 203c  ired">.        <
+00000ca0: 6469 7620 636c 6173 733d 226c 6162 656c  div class="label
+00000cb0: 223e 0a20 2020 2020 2020 2020 203c 6c61  ">.          <la
+00000cc0: 6265 6c20 666f 723d 2273 7562 6f62 6a65  bel for="subobje
+00000cd0: 6374 2d77 6964 6765 7473 2d66 6f6f 6669  ct-widgets-foofi
+00000ce0: 656c 6422 3e0a 2020 2020 2020 2020 2020  eld">.          
+00000cf0: 2020 3c73 7061 6e3e 4d79 2066 6f6f 2066    <span>My foo f
+00000d00: 6965 6c64 3c2f 7370 616e 3e0a 2020 2020  ield</span>.    
+00000d10: 2020 2020 2020 2020 3c73 7061 6e20 636c          <span cl
+00000d20: 6173 733d 2272 6571 7569 7265 6422 3e2a  ass="required">*
+00000d30: 3c2f 7370 616e 3e0a 2020 2020 2020 2020  </span>.        
+00000d40: 2020 3c2f 6c61 6265 6c3e 0a20 2020 2020    </label>.     
+00000d50: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
+00000d60: 2020 3c64 6976 2063 6c61 7373 3d22 7769    <div class="wi
+00000d70: 6467 6574 223e 0a20 2020 2020 2020 2020  dget">.         
+00000d80: 203c 696e 7075 7420 636c 6173 733d 2274   <input class="t
+00000d90: 6578 742d 7769 6467 6574 2072 6571 7569  ext-widget requi
+00000da0: 7265 6420 696e 742d 6669 656c 6422 0a20  red int-field". 
+00000db0: 2020 2020 2020 2020 2069 643d 2273 7562           id="sub
+00000dc0: 6f62 6a65 6374 2d77 6964 6765 7473 2d66  object-widgets-f
+00000dd0: 6f6f 6669 656c 6422 0a20 2020 2020 2020  oofield".       
+00000de0: 2020 206e 616d 653d 2273 7562 6f62 6a65     name="subobje
+00000df0: 6374 2e77 6964 6765 7473 2e66 6f6f 6669  ct.widgets.foofi
+00000e00: 656c 6422 0a20 2020 2020 2020 2020 2074  eld".          t
+00000e10: 7970 653d 2274 6578 7422 2076 616c 7565  ype="text" value
+00000e20: 3d22 312c 3131 3122 3e0a 2020 2020 2020  ="1,111">.      
+00000e30: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+00000e40: 203c 6469 7620 636c 6173 733d 226c 6162   <div class="lab
+00000e50: 656c 223e 0a20 2020 2020 2020 2020 203c  el">.          <
+00000e60: 6c61 6265 6c20 666f 723d 2273 7562 6f62  label for="subob
+00000e70: 6a65 6374 2d77 6964 6765 7473 2d62 6172  ject-widgets-bar
+00000e80: 6669 656c 6422 3e0a 2020 2020 2020 2020  field">.        
+00000e90: 2020 2020 3c73 7061 6e3e 4d79 2064 6561      <span>My dea
+00000ea0: 7220 6261 723c 2f73 7061 6e3e 0a20 2020  r bar</span>.   
+00000eb0: 2020 2020 2020 203c 2f6c 6162 656c 3e0a         </label>.
+00000ec0: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00000ed0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00000ee0: 733d 2277 6964 6765 7422 3e0a 2020 2020  s="widget">.    
+00000ef0: 2020 2020 2020 3c69 6e70 7574 2063 6c61        <input cla
+00000f00: 7373 3d22 7465 7874 2d77 6964 6765 7420  ss="text-widget 
+00000f10: 696e 742d 6669 656c 6422 0a20 2020 2020  int-field".     
+00000f20: 2020 2020 2069 643d 2273 7562 6f62 6a65       id="subobje
+00000f30: 6374 2d77 6964 6765 7473 2d62 6172 6669  ct-widgets-barfi
+00000f40: 656c 6422 0a20 2020 2020 2020 2020 206e  eld".          n
+00000f50: 616d 653d 2273 7562 6f62 6a65 6374 2e77  ame="subobject.w
+00000f60: 6964 6765 7473 2e62 6172 6669 656c 6422  idgets.barfield"
+00000f70: 0a20 2020 2020 2020 2020 2074 7970 653d  .          type=
+00000f80: 2274 6578 7422 2076 616c 7565 3d22 322c  "text" value="2,
+00000f90: 3232 3222 3e0a 2020 2020 2020 2020 3c2f  222">.        </
+00000fa0: 6469 763e 0a20 2020 2020 2020 203c 696e  div>.        <in
+00000fb0: 7075 7420 6e61 6d65 3d22 7375 626f 626a  put name="subobj
+00000fc0: 6563 742d 656d 7074 792d 6d61 726b 6572  ect-empty-marker
+00000fd0: 2220 7479 7065 3d22 6869 6464 656e 2220  " type="hidden" 
+00000fe0: 7661 6c75 653d 2231 223e 0a20 2020 2020  value="1">.     
+00000ff0: 203c 2f64 6976 3e0a 2020 2020 3c2f 626f   </div>.    </bo
+00001000: 6479 3e0a 2020 3c2f 6874 6d6c 3e0a 0a0a  dy>.  </html>...
+00001010: 4173 2079 6f75 2073 6565 2061 6c6c 2073  As you see all s
+00001020: 6f72 7420 6f66 2064 6566 6175 6c74 2076  ort of default v
+00001030: 616c 7565 7320 6172 6520 7265 6e64 6572  alues are render
+00001040: 6564 2e0a 0a4c 6574 2773 2070 726f 7669  ed...Let's provi
+00001050: 6465 2061 206d 6f72 6520 6d65 616e 696e  de a more meanin
+00001060: 6766 756c 2076 616c 7565 3a0a 0a20 203e  gful value:..  >
+00001070: 3e3e 2066 726f 6d20 7a33 632e 666f 726d  >> from z3c.form
+00001080: 2e74 6573 7469 6e67 2069 6d70 6f72 7420  .testing import 
+00001090: 4d79 5375 624f 626a 6563 740a 2020 3e3e  MySubObject.  >>
+000010a0: 3e20 7620 3d20 4d79 5375 624f 626a 6563  > v = MySubObjec
+000010b0: 7428 290a 2020 3e3e 3e20 762e 666f 6f66  t().  >>> v.foof
+000010c0: 6965 6c64 203d 2034 320a 2020 3e3e 3e20  ield = 42.  >>> 
+000010d0: 762e 6261 7266 6965 6c64 203d 2036 3636  v.barfield = 666
+000010e0: 0a20 203e 3e3e 2076 2e5f 5f6d 6172 6b65  .  >>> v.__marke
+000010f0: 725f 5f20 3d20 2254 6869 734d 7573 7453  r__ = "ThisMustS
+00001100: 7461 7954 6865 5361 6d65 220a 0a0a 2020  tayTheSame"...  
+00001110: 3e3e 3e20 7769 6467 6574 2e69 676e 6f72  >>> widget.ignor
+00001120: 6543 6f6e 7465 7874 203d 2046 616c 7365  eContext = False
+00001130: 0a20 203e 3e3e 2077 6964 6765 742e 7661  .  >>> widget.va
+00001140: 6c75 6520 3d20 6469 6374 2866 6f6f 6669  lue = dict(foofi
+00001150: 656c 643d 2734 3227 2c20 6261 7266 6965  eld='42', barfie
+00001160: 6c64 3d27 3636 3627 290a 0a20 203e 3e3e  ld='666')..  >>>
+00001170: 2077 6964 6765 742e 7570 6461 7465 2829   widget.update()
+00001180: 0a0a 2020 3e3e 3e20 7072 696e 7428 7769  ..  >>> print(wi
+00001190: 6467 6574 2e72 656e 6465 7228 2929 0a20  dget.render()). 
+000011a0: 203c 6874 6d6c 3e0a 2020 2020 3c62 6f64   <html>.    <bod
+000011b0: 793e 0a20 2020 2020 203c 6469 7620 636c  y>.      <div cl
+000011c0: 6173 733d 226f 626a 6563 742d 7769 6467  ass="object-widg
+000011d0: 6574 2072 6571 7569 7265 6422 3e0a 2020  et required">.  
+000011e0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+000011f0: 3d22 6c61 6265 6c22 3e0a 2020 2020 2020  ="label">.      
+00001200: 2020 2020 3c6c 6162 656c 2066 6f72 3d22      <label for="
+00001210: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
+00001220: 732d 666f 6f66 6965 6c64 223e 0a20 2020  s-foofield">.   
+00001230: 2020 2020 2020 2020 203c 7370 616e 3e4d           <span>M
+00001240: 7920 666f 6f20 6669 656c 643c 2f73 7061  y foo field</spa
+00001250: 6e3e 0a20 2020 2020 2020 2020 2020 203c  n>.            <
+00001260: 7370 616e 2063 6c61 7373 3d22 7265 7175  span class="requ
+00001270: 6972 6564 223e 2a3c 2f73 7061 6e3e 0a20  ired">*</span>. 
+00001280: 2020 2020 2020 2020 203c 2f6c 6162 656c           </label
+00001290: 3e0a 2020 2020 2020 2020 3c2f 6469 763e  >.        </div>
+000012a0: 0a20 2020 2020 2020 203c 6469 7620 636c  .        <div cl
+000012b0: 6173 733d 2277 6964 6765 7422 3e0a 2020  ass="widget">.  
+000012c0: 2020 2020 2020 2020 3c69 6e70 7574 2063          <input c
+000012d0: 6c61 7373 3d22 7465 7874 2d77 6964 6765  lass="text-widge
+000012e0: 7420 7265 7175 6972 6564 2069 6e74 2d66  t required int-f
+000012f0: 6965 6c64 220a 2020 2020 2020 2020 2020  ield".          
+00001300: 6964 3d22 7375 626f 626a 6563 742d 7769  id="subobject-wi
+00001310: 6467 6574 732d 666f 6f66 6965 6c64 220a  dgets-foofield".
+00001320: 2020 2020 2020 2020 2020 6e61 6d65 3d22            name="
+00001330: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
+00001340: 732e 666f 6f66 6965 6c64 220a 2020 2020  s.foofield".    
+00001350: 2020 2020 2020 7479 7065 3d22 7465 7874        type="text
+00001360: 2220 7661 6c75 653d 2234 3222 3e0a 2020  " value="42">.  
+00001370: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00001380: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00001390: 226c 6162 656c 223e 0a20 2020 2020 2020  "label">.       
+000013a0: 2020 203c 6c61 6265 6c20 666f 723d 2273     <label for="s
+000013b0: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+000013c0: 2d62 6172 6669 656c 6422 3e0a 2020 2020  -barfield">.    
+000013d0: 2020 2020 2020 2020 3c73 7061 6e3e 4d79          <span>My
+000013e0: 2064 6561 7220 6261 723c 2f73 7061 6e3e   dear bar</span>
+000013f0: 0a20 2020 2020 2020 2020 203c 2f6c 6162  .          </lab
+00001400: 656c 3e0a 2020 2020 2020 2020 3c2f 6469  el>.        </di
+00001410: 763e 0a20 2020 2020 2020 203c 6469 7620  v>.        <div 
+00001420: 636c 6173 733d 2277 6964 6765 7422 3e0a  class="widget">.
+00001430: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
+00001440: 2063 6c61 7373 3d22 7465 7874 2d77 6964   class="text-wid
+00001450: 6765 7420 696e 742d 6669 656c 6422 0a20  get int-field". 
+00001460: 2020 2020 2020 2020 2069 643d 2273 7562           id="sub
+00001470: 6f62 6a65 6374 2d77 6964 6765 7473 2d62  object-widgets-b
+00001480: 6172 6669 656c 6422 0a20 2020 2020 2020  arfield".       
+00001490: 2020 206e 616d 653d 2273 7562 6f62 6a65     name="subobje
+000014a0: 6374 2e77 6964 6765 7473 2e62 6172 6669  ct.widgets.barfi
+000014b0: 656c 6422 0a20 2020 2020 2020 2020 2074  eld".          t
+000014c0: 7970 653d 2274 6578 7422 2076 616c 7565  ype="text" value
+000014d0: 3d22 3636 3622 3e0a 2020 2020 2020 2020  ="666">.        
+000014e0: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
+000014f0: 696e 7075 7420 6e61 6d65 3d22 7375 626f  input name="subo
+00001500: 626a 6563 742d 656d 7074 792d 6d61 726b  bject-empty-mark
+00001510: 6572 2220 7479 7065 3d22 6869 6464 656e  er" type="hidden
+00001520: 2220 7661 6c75 653d 2231 223e 0a20 2020  " value="1">.   
+00001530: 2020 203c 2f64 6976 3e0a 2020 2020 3c2f     </div>.    </
+00001540: 626f 6479 3e0a 2020 3c2f 6874 6d6c 3e0a  body>.  </html>.
+00001550: 0a54 6865 2077 6964 6765 7427 7320 7661  .The widget's va
+00001560: 6c75 6520 6973 204e 4f5f 5641 4c55 4520  lue is NO_VALUE 
+00001570: 756e 7469 6c20 6974 2067 6574 7320 6120  until it gets a 
+00001580: 7265 7175 6573 743a 0a0a 2020 3e3e 3e20  request:..  >>> 
+00001590: 7769 6467 6574 2e76 616c 7565 0a20 203c  widget.value.  <
+000015a0: 4e4f 5f56 414c 5545 3e0a 0a4c 6574 2773  NO_VALUE>..Let's
+000015b0: 2066 696c 6c20 696e 2073 6f6d 6520 7661   fill in some va
+000015c0: 6c75 6573 2076 6961 2074 6865 2072 6571  lues via the req
+000015d0: 7565 7374 3a0a 0a20 203e 3e3e 2077 6964  uest:..  >>> wid
+000015e0: 6765 742e 7265 7175 6573 7420 3d20 5465  get.request = Te
+000015f0: 7374 5265 7175 6573 7428 666f 726d 3d7b  stRequest(form={
+00001600: 2773 7562 6f62 6a65 6374 2e77 6964 6765  'subobject.widge
+00001610: 7473 2e66 6f6f 6669 656c 6427 3a27 3227  ts.foofield':'2'
+00001620: 2c0a 2020 2e2e 2e20 2020 2020 2020 2020  ,.  ...         
 00001630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001640: 2020 2020 2020 2020 2020 2020 2027 7375               'su
-00001650: 626f 626a 6563 742e 7769 6467 6574 732e  bobject.widgets.
-00001660: 6261 7266 6965 6c64 273a 7527 3939 3927  barfield':u'999'
-00001670: 2c0a 2020 2e2e 2e20 2020 2020 2020 2020  ,.  ...         
+00001640: 2020 2020 2020 2020 2020 2027 7375 626f             'subo
+00001650: 626a 6563 742e 7769 6467 6574 732e 6261  bject.widgets.ba
+00001660: 7266 6965 6c64 273a 2739 3939 272c 0a20  rfield':'999',. 
+00001670: 202e 2e2e 2020 2020 2020 2020 2020 2020   ...            
 00001680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001690: 2020 2020 2020 2020 2020 2027 7375 626f             'subo
-000016a0: 626a 6563 742d 656d 7074 792d 6d61 726b  bject-empty-mark
-000016b0: 6572 273a 7527 3127 7d29 0a20 203e 3e3e  er':u'1'}).  >>>
-000016c0: 2077 6964 6765 742e 7570 6461 7465 2829   widget.update()
-000016d0: 0a20 203e 3e3e 2070 7269 6e74 2877 6964  .  >>> print(wid
-000016e0: 6765 742e 7265 6e64 6572 2829 290a 2020  get.render()).  
-000016f0: 3c68 746d 6c3e 0a20 2020 203c 626f 6479  <html>.    <body
-00001700: 3e0a 2020 2020 2020 3c64 6976 2063 6c61  >.      <div cla
-00001710: 7373 3d22 6f62 6a65 6374 2d77 6964 6765  ss="object-widge
-00001720: 7420 7265 7175 6972 6564 223e 0a20 2020  t required">.   
-00001730: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-00001740: 226c 6162 656c 223e 0a20 2020 2020 2020  "label">.       
-00001750: 2020 203c 6c61 6265 6c20 666f 723d 2273     <label for="s
-00001760: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
-00001770: 2d66 6f6f 6669 656c 6422 3e0a 2020 2020  -foofield">.    
-00001780: 2020 2020 2020 2020 3c73 7061 6e3e 4d79          <span>My
-00001790: 2066 6f6f 2066 6965 6c64 3c2f 7370 616e   foo field</span
-000017a0: 3e0a 2020 2020 2020 2020 2020 2020 3c73  >.            <s
-000017b0: 7061 6e20 636c 6173 733d 2272 6571 7569  pan class="requi
-000017c0: 7265 6422 3e2a 3c2f 7370 616e 3e0a 2020  red">*</span>.  
-000017d0: 2020 2020 2020 2020 3c2f 6c61 6265 6c3e          </label>
-000017e0: 0a20 2020 2020 2020 203c 2f64 6976 3e0a  .        </div>.
-000017f0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00001800: 7373 3d22 7769 6467 6574 223e 0a20 2020  ss="widget">.   
-00001810: 2020 2020 2020 203c 696e 7075 7420 636c         <input cl
-00001820: 6173 733d 2274 6578 742d 7769 6467 6574  ass="text-widget
-00001830: 2072 6571 7569 7265 6420 696e 742d 6669   required int-fi
-00001840: 656c 6422 0a20 2020 2020 2020 2020 2069  eld".          i
-00001850: 643d 2273 7562 6f62 6a65 6374 2d77 6964  d="subobject-wid
-00001860: 6765 7473 2d66 6f6f 6669 656c 6422 0a20  gets-foofield". 
-00001870: 2020 2020 2020 2020 206e 616d 653d 2273           name="s
-00001880: 7562 6f62 6a65 6374 2e77 6964 6765 7473  ubobject.widgets
-00001890: 2e66 6f6f 6669 656c 6422 0a20 2020 2020  .foofield".     
-000018a0: 2020 2020 2074 7970 653d 2274 6578 7422       type="text"
-000018b0: 2076 616c 7565 3d22 3222 3e0a 2020 2020   value="2">.    
-000018c0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-000018d0: 2020 203c 6469 7620 636c 6173 733d 226c     <div class="l
-000018e0: 6162 656c 223e 0a20 2020 2020 2020 2020  abel">.         
-000018f0: 203c 6c61 6265 6c20 666f 723d 2273 7562   <label for="sub
-00001900: 6f62 6a65 6374 2d77 6964 6765 7473 2d62  object-widgets-b
-00001910: 6172 6669 656c 6422 3e0a 2020 2020 2020  arfield">.      
-00001920: 2020 2020 2020 3c73 7061 6e3e 4d79 2064        <span>My d
-00001930: 6561 7220 6261 723c 2f73 7061 6e3e 0a20  ear bar</span>. 
-00001940: 2020 2020 2020 2020 203c 2f6c 6162 656c           </label
-00001950: 3e0a 2020 2020 2020 2020 3c2f 6469 763e  >.        </div>
-00001960: 0a20 2020 2020 2020 203c 6469 7620 636c  .        <div cl
-00001970: 6173 733d 2277 6964 6765 7422 3e0a 2020  ass="widget">.  
-00001980: 2020 2020 2020 2020 3c69 6e70 7574 2063          <input c
-00001990: 6c61 7373 3d22 7465 7874 2d77 6964 6765  lass="text-widge
-000019a0: 7420 696e 742d 6669 656c 6422 0a20 2020  t int-field".   
-000019b0: 2020 2020 2020 2069 643d 2273 7562 6f62         id="subob
-000019c0: 6a65 6374 2d77 6964 6765 7473 2d62 6172  ject-widgets-bar
-000019d0: 6669 656c 6422 0a20 2020 2020 2020 2020  field".         
-000019e0: 206e 616d 653d 2273 7562 6f62 6a65 6374   name="subobject
-000019f0: 2e77 6964 6765 7473 2e62 6172 6669 656c  .widgets.barfiel
-00001a00: 6422 0a20 2020 2020 2020 2020 2074 7970  d".          typ
-00001a10: 653d 2274 6578 7422 2076 616c 7565 3d22  e="text" value="
-00001a20: 3939 3922 3e0a 2020 2020 2020 2020 3c2f  999">.        </
-00001a30: 6469 763e 0a20 2020 2020 2020 203c 696e  div>.        <in
-00001a40: 7075 7420 6e61 6d65 3d22 7375 626f 626a  put name="subobj
-00001a50: 6563 742d 656d 7074 792d 6d61 726b 6572  ect-empty-marker
-00001a60: 2220 7479 7065 3d22 6869 6464 656e 2220  " type="hidden" 
-00001a70: 7661 6c75 653d 2231 223e 0a20 2020 2020  value="1">.     
-00001a80: 203c 2f64 6976 3e0a 2020 2020 3c2f 626f   </div>.    </bo
-00001a90: 6479 3e0a 2020 3c2f 6874 6d6c 3e0a 0a57  dy>.  </html>..W
-00001aa0: 6964 6765 7420 7661 6c75 6520 636f 6d65  idget value come
-00001ab0: 7320 6672 6f6d 2074 6865 2072 6571 7565  s from the reque
-00001ac0: 7374 3a0a 0a20 203e 3e3e 2077 7620 3d20  st:..  >>> wv = 
-00001ad0: 7769 6467 6574 2e76 616c 7565 0a20 203e  widget.value.  >
-00001ae0: 3e3e 2070 7072 696e 7428 7776 290a 2020  >> pprint(wv).  
-00001af0: 7b27 6261 7266 6965 6c64 273a 2027 3939  {'barfield': '99
-00001b00: 3927 2c20 2766 6f6f 6669 656c 6427 3a20  9', 'foofield': 
-00001b10: 2732 277d 0a0a 4275 7420 6f75 7220 6f62  '2'}..But our ob
-00001b20: 6a65 6374 2077 696c 6c20 6e6f 7420 6265  ject will not be
-00001b30: 206d 6f64 6966 6965 642c 2073 696e 6365   modified, since
-00001b40: 2074 6865 7265 2077 6173 206e 6f20 2261   there was no "a
-00001b50: 7070 6c79 222d 6c69 6b65 2063 6f6e 7472  pply"-like contr
-00001b60: 6f6c 2e0a 0a20 203e 3e3e 2076 0a20 203c  ol...  >>> v.  <
-00001b70: 7a33 632e 666f 726d 2e74 6573 7469 6e67  z3c.form.testing
-00001b80: 2e4d 7953 7562 4f62 6a65 6374 206f 626a  .MySubObject obj
-00001b90: 6563 7420 6174 202e 2e2e 3e0a 2020 3e3e  ect at ...>.  >>
-00001ba0: 3e20 762e 666f 6f66 6965 6c64 0a20 2034  > v.foofield.  4
-00001bb0: 320a 2020 3e3e 3e20 762e 6261 7266 6965  2.  >>> v.barfie
-00001bc0: 6c64 0a20 2036 3636 0a0a 5468 6520 6d61  ld.  666..The ma
-00001bd0: 726b 6572 206d 7573 7420 7374 6179 2028  rker must stay (
-00001be0: 7765 2068 6176 6520 746f 206d 6f64 6966  we have to modif
-00001bf0: 7920 7468 6520 7361 6d65 206f 626a 6563  y the same objec
-00001c00: 7429 3a0a 0a20 203e 3e3e 2076 2e5f 5f6d  t):..  >>> v.__m
-00001c10: 6172 6b65 725f 5f0a 2020 2754 6869 734d  arker__.  'ThisM
-00001c20: 7573 7453 7461 7954 6865 5361 6d65 270a  ustStayTheSame'.
-00001c30: 0a0a 2020 3e3e 3e20 636f 6e76 6572 7465  ..  >>> converte
-00001c40: 7220 3d20 696e 7465 7266 6163 6573 2e49  r = interfaces.I
-00001c50: 4461 7461 436f 6e76 6572 7465 7228 7769  DataConverter(wi
-00001c60: 6467 6574 290a 0a20 203e 3e3e 2076 616c  dget)..  >>> val
-00001c70: 7565 203d 2063 6f6e 7665 7274 6572 2e74  ue = converter.t
-00001c80: 6f46 6965 6c64 5661 6c75 6528 7776 290a  oFieldValue(wv).
-00001c90: 2020 5472 6163 6562 6163 6b20 286d 6f73    Traceback (mos
-00001ca0: 7420 7265 6365 6e74 2063 616c 6c20 6c61  t recent call la
-00001cb0: 7374 293a 0a20 202e 2e2e 0a20 2052 756e  st):.  ....  Run
-00001cc0: 7469 6d65 4572 726f 723a 204e 6f20 494f  timeError: No IO
-00001cd0: 626a 6563 7446 6163 746f 7279 2061 6461  bjectFactory ada
-00001ce0: 7074 6572 2072 6567 6973 7465 7265 6420  pter registered 
-00001cf0: 666f 7220 7a33 632e 666f 726d 2e74 6573  for z3c.form.tes
-00001d00: 7469 6e67 2e49 4d79 5375 624f 626a 6563  ting.IMySubObjec
-00001d10: 740a 0a57 6520 6861 7665 2074 6f20 7265  t..We have to re
-00001d20: 6769 7374 6572 206f 626a 6563 7420 6661  gister object fa
-00001d30: 6374 6f72 7920 6164 6170 7465 7273 2074  ctory adapters t
-00001d40: 6f20 616c 6c6f 7720 7468 6520 6f62 6a65  o allow the obje
-00001d50: 6374 7769 6467 6574 2074 6f0a 6372 6561  ctwidget to.crea
-00001d60: 7465 206f 626a 6563 7473 3a0a 0a20 203e  te objects:..  >
-00001d70: 3e3e 2066 726f 6d20 7a33 632e 666f 726d  >> from z3c.form
-00001d80: 2e6f 626a 6563 7420 696d 706f 7274 2072  .object import r
-00001d90: 6567 6973 7465 7246 6163 746f 7279 4164  egisterFactoryAd
-00001da0: 6170 7465 720a 2020 3e3e 3e20 7265 6769  apter.  >>> regi
-00001db0: 7374 6572 4661 6374 6f72 7941 6461 7074  sterFactoryAdapt
-00001dc0: 6572 2849 4d79 5375 624f 626a 6563 742c  er(IMySubObject,
-00001dd0: 204d 7953 7562 4f62 6a65 6374 290a 2020   MySubObject).  
-00001de0: 3e3e 3e20 7265 6769 7374 6572 4661 6374  >>> registerFact
-00001df0: 6f72 7941 6461 7074 6572 2849 4d79 5365  oryAdapter(IMySe
-00001e00: 636f 6e64 2c20 4d79 5365 636f 6e64 290a  cond, MySecond).
-00001e10: 0a20 203e 3e3e 2076 616c 7565 203d 2063  .  >>> value = c
-00001e20: 6f6e 7665 7274 6572 2e74 6f46 6965 6c64  onverter.toField
-00001e30: 5661 6c75 6528 7776 290a 2020 3e3e 3e20  Value(wv).  >>> 
-00001e40: 7661 6c75 650a 2020 3c7a 3363 2e66 6f72  value.  <z3c.for
-00001e50: 6d2e 7465 7374 696e 672e 4d79 5375 624f  m.testing.MySubO
-00001e60: 626a 6563 7420 6f62 6a65 6374 2061 7420  bject object at 
-00001e70: 2e2e 2e3e 0a20 203e 3e3e 2076 616c 7565  ...>.  >>> value
-00001e80: 2e66 6f6f 6669 656c 640a 2020 320a 2020  .foofield.  2.  
-00001e90: 3e3e 3e20 7661 6c75 652e 6261 7266 6965  >>> value.barfie
-00001ea0: 6c64 0a20 2039 3939 0a0a 5468 6973 2069  ld.  999..This i
-00001eb0: 7320 6120 6469 6666 6572 656e 7420 6f62  s a different ob
-00001ec0: 6a65 6374 3a0a 0a20 203e 3e3e 2076 616c  ject:..  >>> val
-00001ed0: 7565 2e5f 5f6d 6172 6b65 725f 5f0a 2020  ue.__marker__.  
-00001ee0: 5472 6163 6562 6163 6b20 286d 6f73 7420  Traceback (most 
-00001ef0: 7265 6365 6e74 2063 616c 6c20 6c61 7374  recent call last
-00001f00: 293a 0a20 202e 2e2e 0a20 2041 7474 7269  ):.  ....  Attri
-00001f10: 6275 7465 4572 726f 723a 2027 4d79 5375  buteError: 'MySu
-00001f20: 624f 626a 6563 7427 206f 626a 6563 7420  bObject' object 
-00001f30: 6861 7320 6e6f 2061 7474 7269 6275 7465  has no attribute
-00001f40: 2027 5f5f 6d61 726b 6572 5f5f 270a 0a0a   '__marker__'...
-00001f50: 5365 7474 696e 6720 6d69 7373 696e 6720  Setting missing 
-00001f60: 7661 6c75 6573 206f 6e20 7468 6520 7769  values on the wi
-00001f70: 6467 6574 2077 6f72 6b73 2074 6f6f 3a0a  dget works too:.
-00001f80: 0a20 203e 3e3e 2077 6964 6765 742e 7661  .  >>> widget.va
-00001f90: 6c75 6520 3d20 636f 6e76 6572 7465 722e  lue = converter.
-00001fa0: 746f 5769 6467 6574 5661 6c75 6528 6669  toWidgetValue(fi
-00001fb0: 656c 642e 6d69 7373 696e 675f 7661 6c75  eld.missing_valu
-00001fc0: 6529 0a0a 2020 3e3e 3e20 7769 6467 6574  e)..  >>> widget
-00001fd0: 2e75 7064 6174 6528 290a 0a44 6566 6175  .update()..Defau
-00001fe0: 6c74 2076 616c 7565 7320 6765 7420 7265  lt values get re
-00001ff0: 6e64 6572 6564 3a0a 0a20 203e 3e3e 2070  ndered:..  >>> p
-00002000: 7269 6e74 2877 6964 6765 742e 7265 6e64  rint(widget.rend
-00002010: 6572 2829 290a 2020 3c64 6976 2063 6c61  er()).  <div cla
-00002020: 7373 3d22 6f62 6a65 6374 2d77 6964 6765  ss="object-widge
-00002030: 7420 7265 7175 6972 6564 223e 0a20 2020  t required">.   
-00002040: 203c 6469 7620 636c 6173 733d 226c 6162   <div class="lab
-00002050: 656c 223e 0a20 2020 2020 203c 6c61 6265  el">.      <labe
-00002060: 6c20 666f 723d 2273 7562 6f62 6a65 6374  l for="subobject
-00002070: 2d77 6964 6765 7473 2d66 6f6f 6669 656c  -widgets-foofiel
-00002080: 6422 3e0a 2020 2020 2020 2020 3c73 7061  d">.        <spa
-00002090: 6e3e 4d79 2066 6f6f 2066 6965 6c64 3c2f  n>My foo field</
-000020a0: 7370 616e 3e0a 2020 2020 2020 2020 3c73  span>.        <s
-000020b0: 7061 6e20 636c 6173 733d 2272 6571 7569  pan class="requi
-000020c0: 7265 6422 3e2a 3c2f 7370 616e 3e0a 2020  red">*</span>.  
-000020d0: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
-000020e0: 203c 2f64 6976 3e0a 2020 2020 3c64 6976   </div>.    <div
-000020f0: 2063 6c61 7373 3d22 7769 6467 6574 223e   class="widget">
-00002100: 0a20 2020 2020 203c 696e 7075 7420 6964  .      <input id
-00002110: 3d22 7375 626f 626a 6563 742d 7769 6467  ="subobject-widg
-00002120: 6574 732d 666f 6f66 6965 6c64 220a 2020  ets-foofield".  
-00002130: 2020 2020 2020 2020 2020 206e 616d 653d             name=
-00002140: 2273 7562 6f62 6a65 6374 2e77 6964 6765  "subobject.widge
-00002150: 7473 2e66 6f6f 6669 656c 6422 0a20 2020  ts.foofield".   
-00002160: 2020 2020 2020 2020 2020 636c 6173 733d            class=
-00002170: 2274 6578 742d 7769 6467 6574 2072 6571  "text-widget req
-00002180: 7569 7265 6420 696e 742d 6669 656c 6422  uired int-field"
-00002190: 2076 616c 7565 3d22 3222 2074 7970 653d   value="2" type=
-000021a0: 2274 6578 7422 202f 3e0a 2020 2020 3c2f  "text" />.    </
-000021b0: 6469 763e 0a20 2020 203c 6469 7620 636c  div>.    <div cl
-000021c0: 6173 733d 226c 6162 656c 223e 0a20 2020  ass="label">.   
-000021d0: 2020 203c 6c61 6265 6c20 666f 723d 2273     <label for="s
-000021e0: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
-000021f0: 2d62 6172 6669 656c 6422 3e0a 2020 2020  -barfield">.    
-00002200: 2020 2020 3c73 7061 6e3e 4d79 2064 6561      <span>My dea
-00002210: 7220 6261 723c 2f73 7061 6e3e 0a20 2020  r bar</span>.   
-00002220: 2020 203c 2f6c 6162 656c 3e0a 2020 2020     </label>.    
-00002230: 3c2f 6469 763e 0a20 2020 203c 6469 7620  </div>.    <div 
-00002240: 636c 6173 733d 2277 6964 6765 7422 3e0a  class="widget">.
-00002250: 2020 2020 2020 3c69 6e70 7574 2069 643d        <input id=
-00002260: 2273 7562 6f62 6a65 6374 2d77 6964 6765  "subobject-widge
-00002270: 7473 2d62 6172 6669 656c 6422 0a20 2020  ts-barfield".   
-00002280: 2020 2020 2020 2020 2020 6e61 6d65 3d22            name="
-00002290: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
-000022a0: 732e 6261 7266 6965 6c64 220a 2020 2020  s.barfield".    
-000022b0: 2020 2020 2020 2020 2063 6c61 7373 3d22           class="
-000022c0: 7465 7874 2d77 6964 6765 7420 696e 742d  text-widget int-
-000022d0: 6669 656c 6422 2076 616c 7565 3d22 3939  field" value="99
-000022e0: 3922 2074 7970 653d 2274 6578 7422 202f  9" type="text" /
-000022f0: 3e0a 2020 2020 3c2f 6469 763e 0a20 2020  >.    </div>.   
-00002300: 203c 696e 7075 7420 6e61 6d65 3d22 7375   <input name="su
-00002310: 626f 626a 6563 742d 656d 7074 792d 6d61  bobject-empty-ma
-00002320: 726b 6572 2220 7479 7065 3d22 6869 6464  rker" type="hidd
-00002330: 656e 2220 7661 6c75 653d 2231 2220 2f3e  en" value="1" />
-00002340: 0a20 203c 2f64 6976 3e0a 0a42 7574 206f  .  </div>..But o
-00002350: 6e20 7468 6520 7265 7475 726e 2077 6520  n the return we 
-00002360: 6765 7420 6465 6661 756c 7420 7661 6c75  get default valu
-00002370: 6573 2062 6163 6b3a 0a0a 2020 3e3e 3e20  es back:..  >>> 
-00002380: 7070 7269 6e74 2877 6964 6765 742e 7661  pprint(widget.va
-00002390: 6c75 6529 0a20 207b 2762 6172 6669 656c  lue).  {'barfiel
-000023a0: 6427 3a20 2739 3939 272c 2027 666f 6f66  d': '999', 'foof
-000023b0: 6965 6c64 273a 2027 3227 7d0a 0a20 203e  ield': '2'}..  >
-000023c0: 3e3e 2076 616c 7565 203d 2063 6f6e 7665  >> value = conve
-000023d0: 7274 6572 2e74 6f46 6965 6c64 5661 6c75  rter.toFieldValu
-000023e0: 6528 7769 6467 6574 2e76 616c 7565 290a  e(widget.value).
-000023f0: 2020 3e3e 3e20 7661 6c75 650a 2020 3c7a    >>> value.  <z
-00002400: 3363 2e66 6f72 6d2e 7465 7374 696e 672e  3c.form.testing.
-00002410: 4d79 5375 624f 626a 6563 7420 6f62 6a65  MySubObject obje
-00002420: 6374 2061 7420 2e2e 2e3e 0a0a 484d 4d4d  ct at ...>..HMMM
-00002430: 4d2e 2e2e 2e20 646f 2077 6520 6861 7665  M.... do we have
-00002440: 2074 6f20 7465 7374 2065 7272 6f72 2068   to test error h
-00002450: 616e 646c 696e 6720 6865 7265 3f0a 4927  andling here?.I'
-00002460: 6d20 7465 6d70 7465 6420 746f 206c 6561  m tempted to lea
-00002470: 7665 2069 7420 6f75 7420 6173 206e 6f20  ve it out as no 
-00002480: 7769 6467 6574 7320 7365 656d 2074 6f20  widgets seem to 
-00002490: 646f 2074 6869 732e 0a0a 2345 7272 6f72  do this...#Error
-000024a0: 2068 616e 646c 696e 6720 6973 206e 6578   handling is nex
-000024b0: 742e 204c 6574 2773 2075 7365 2074 6865  t. Let's use the
-000024c0: 2076 616c 7565 2022 6261 6422 2028 616e   value "bad" (an
-000024d0: 2069 6e76 616c 6964 2069 6e74 6567 6572   invalid integer
-000024e0: 206c 6974 6572 616c 290a 2361 7320 696e   literal).#as in
-000024f0: 7075 7420 666f 7220 6f75 7220 696e 7465  put for our inte
-00002500: 726e 616c 2028 7375 6229 2077 6964 6765  rnal (sub) widge
-00002510: 742e 0a23 0a23 2020 3e3e 3e20 7769 6467  t..#.#  >>> widg
-00002520: 6574 2e72 6571 7565 7374 203d 2054 6573  et.request = Tes
-00002530: 7452 6571 7565 7374 2866 6f72 6d3d 7b27  tRequest(form={'
-00002540: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
-00002550: 732e 666f 6f66 6965 6c64 273a 7527 3535  s.foofield':u'55
-00002560: 272c 0a23 2020 2e2e 2e20 2020 2020 2020  ',.#  ...       
+00001690: 2020 2020 2020 2020 2773 7562 6f62 6a65          'subobje
+000016a0: 6374 2d65 6d70 7479 2d6d 6172 6b65 7227  ct-empty-marker'
+000016b0: 3a27 3127 7d29 0a20 203e 3e3e 2077 6964  :'1'}).  >>> wid
+000016c0: 6765 742e 7570 6461 7465 2829 0a20 203e  get.update().  >
+000016d0: 3e3e 2070 7269 6e74 2877 6964 6765 742e  >> print(widget.
+000016e0: 7265 6e64 6572 2829 290a 2020 3c68 746d  render()).  <htm
+000016f0: 6c3e 0a20 2020 203c 626f 6479 3e0a 2020  l>.    <body>.  
+00001700: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00001710: 6f62 6a65 6374 2d77 6964 6765 7420 7265  object-widget re
+00001720: 7175 6972 6564 223e 0a20 2020 2020 2020  quired">.       
+00001730: 203c 6469 7620 636c 6173 733d 226c 6162   <div class="lab
+00001740: 656c 223e 0a20 2020 2020 2020 2020 203c  el">.          <
+00001750: 6c61 6265 6c20 666f 723d 2273 7562 6f62  label for="subob
+00001760: 6a65 6374 2d77 6964 6765 7473 2d66 6f6f  ject-widgets-foo
+00001770: 6669 656c 6422 3e0a 2020 2020 2020 2020  field">.        
+00001780: 2020 2020 3c73 7061 6e3e 4d79 2066 6f6f      <span>My foo
+00001790: 2066 6965 6c64 3c2f 7370 616e 3e0a 2020   field</span>.  
+000017a0: 2020 2020 2020 2020 2020 3c73 7061 6e20            <span 
+000017b0: 636c 6173 733d 2272 6571 7569 7265 6422  class="required"
+000017c0: 3e2a 3c2f 7370 616e 3e0a 2020 2020 2020  >*</span>.      
+000017d0: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
+000017e0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+000017f0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00001800: 7769 6467 6574 223e 0a20 2020 2020 2020  widget">.       
+00001810: 2020 203c 696e 7075 7420 636c 6173 733d     <input class=
+00001820: 2274 6578 742d 7769 6467 6574 2072 6571  "text-widget req
+00001830: 7569 7265 6420 696e 742d 6669 656c 6422  uired int-field"
+00001840: 0a20 2020 2020 2020 2020 2069 643d 2273  .          id="s
+00001850: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+00001860: 2d66 6f6f 6669 656c 6422 0a20 2020 2020  -foofield".     
+00001870: 2020 2020 206e 616d 653d 2273 7562 6f62       name="subob
+00001880: 6a65 6374 2e77 6964 6765 7473 2e66 6f6f  ject.widgets.foo
+00001890: 6669 656c 6422 0a20 2020 2020 2020 2020  field".         
+000018a0: 2074 7970 653d 2274 6578 7422 2076 616c   type="text" val
+000018b0: 7565 3d22 3222 3e0a 2020 2020 2020 2020  ue="2">.        
+000018c0: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
+000018d0: 6469 7620 636c 6173 733d 226c 6162 656c  div class="label
+000018e0: 223e 0a20 2020 2020 2020 2020 203c 6c61  ">.          <la
+000018f0: 6265 6c20 666f 723d 2273 7562 6f62 6a65  bel for="subobje
+00001900: 6374 2d77 6964 6765 7473 2d62 6172 6669  ct-widgets-barfi
+00001910: 656c 6422 3e0a 2020 2020 2020 2020 2020  eld">.          
+00001920: 2020 3c73 7061 6e3e 4d79 2064 6561 7220    <span>My dear 
+00001930: 6261 723c 2f73 7061 6e3e 0a20 2020 2020  bar</span>.     
+00001940: 2020 2020 203c 2f6c 6162 656c 3e0a 2020       </label>.  
+00001950: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00001960: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00001970: 2277 6964 6765 7422 3e0a 2020 2020 2020  "widget">.      
+00001980: 2020 2020 3c69 6e70 7574 2063 6c61 7373      <input class
+00001990: 3d22 7465 7874 2d77 6964 6765 7420 696e  ="text-widget in
+000019a0: 742d 6669 656c 6422 0a20 2020 2020 2020  t-field".       
+000019b0: 2020 2069 643d 2273 7562 6f62 6a65 6374     id="subobject
+000019c0: 2d77 6964 6765 7473 2d62 6172 6669 656c  -widgets-barfiel
+000019d0: 6422 0a20 2020 2020 2020 2020 206e 616d  d".          nam
+000019e0: 653d 2273 7562 6f62 6a65 6374 2e77 6964  e="subobject.wid
+000019f0: 6765 7473 2e62 6172 6669 656c 6422 0a20  gets.barfield". 
+00001a00: 2020 2020 2020 2020 2074 7970 653d 2274           type="t
+00001a10: 6578 7422 2076 616c 7565 3d22 3939 3922  ext" value="999"
+00001a20: 3e0a 2020 2020 2020 2020 3c2f 6469 763e  >.        </div>
+00001a30: 0a20 2020 2020 2020 203c 696e 7075 7420  .        <input 
+00001a40: 6e61 6d65 3d22 7375 626f 626a 6563 742d  name="subobject-
+00001a50: 656d 7074 792d 6d61 726b 6572 2220 7479  empty-marker" ty
+00001a60: 7065 3d22 6869 6464 656e 2220 7661 6c75  pe="hidden" valu
+00001a70: 653d 2231 223e 0a20 2020 2020 203c 2f64  e="1">.      </d
+00001a80: 6976 3e0a 2020 2020 3c2f 626f 6479 3e0a  iv>.    </body>.
+00001a90: 2020 3c2f 6874 6d6c 3e0a 0a57 6964 6765    </html>..Widge
+00001aa0: 7420 7661 6c75 6520 636f 6d65 7320 6672  t value comes fr
+00001ab0: 6f6d 2074 6865 2072 6571 7565 7374 3a0a  om the request:.
+00001ac0: 0a20 203e 3e3e 2077 7620 3d20 7769 6467  .  >>> wv = widg
+00001ad0: 6574 2e76 616c 7565 0a20 203e 3e3e 2070  et.value.  >>> p
+00001ae0: 7072 696e 7428 7776 290a 2020 7b27 6261  print(wv).  {'ba
+00001af0: 7266 6965 6c64 273a 2027 3939 3927 2c20  rfield': '999', 
+00001b00: 2766 6f6f 6669 656c 6427 3a20 2732 277d  'foofield': '2'}
+00001b10: 0a0a 4275 7420 6f75 7220 6f62 6a65 6374  ..But our object
+00001b20: 2077 696c 6c20 6e6f 7420 6265 206d 6f64   will not be mod
+00001b30: 6966 6965 642c 2073 696e 6365 2074 6865  ified, since the
+00001b40: 7265 2077 6173 206e 6f20 2261 7070 6c79  re was no "apply
+00001b50: 222d 6c69 6b65 2063 6f6e 7472 6f6c 2e0a  "-like control..
+00001b60: 0a20 203e 3e3e 2076 0a20 203c 7a33 632e  .  >>> v.  <z3c.
+00001b70: 666f 726d 2e74 6573 7469 6e67 2e4d 7953  form.testing.MyS
+00001b80: 7562 4f62 6a65 6374 206f 626a 6563 7420  ubObject object 
+00001b90: 6174 202e 2e2e 3e0a 2020 3e3e 3e20 762e  at ...>.  >>> v.
+00001ba0: 666f 6f66 6965 6c64 0a20 2034 320a 2020  foofield.  42.  
+00001bb0: 3e3e 3e20 762e 6261 7266 6965 6c64 0a20  >>> v.barfield. 
+00001bc0: 2036 3636 0a0a 5468 6520 6d61 726b 6572   666..The marker
+00001bd0: 206d 7573 7420 7374 6179 2028 7765 2068   must stay (we h
+00001be0: 6176 6520 746f 206d 6f64 6966 7920 7468  ave to modify th
+00001bf0: 6520 7361 6d65 206f 626a 6563 7429 3a0a  e same object):.
+00001c00: 0a20 203e 3e3e 2076 2e5f 5f6d 6172 6b65  .  >>> v.__marke
+00001c10: 725f 5f0a 2020 2754 6869 734d 7573 7453  r__.  'ThisMustS
+00001c20: 7461 7954 6865 5361 6d65 270a 0a0a 2020  tayTheSame'...  
+00001c30: 3e3e 3e20 636f 6e76 6572 7465 7220 3d20  >>> converter = 
+00001c40: 696e 7465 7266 6163 6573 2e49 4461 7461  interfaces.IData
+00001c50: 436f 6e76 6572 7465 7228 7769 6467 6574  Converter(widget
+00001c60: 290a 0a20 203e 3e3e 2076 616c 7565 203d  )..  >>> value =
+00001c70: 2063 6f6e 7665 7274 6572 2e74 6f46 6965   converter.toFie
+00001c80: 6c64 5661 6c75 6528 7776 290a 2020 5472  ldValue(wv).  Tr
+00001c90: 6163 6562 6163 6b20 286d 6f73 7420 7265  aceback (most re
+00001ca0: 6365 6e74 2063 616c 6c20 6c61 7374 293a  cent call last):
+00001cb0: 0a20 202e 2e2e 0a20 2052 756e 7469 6d65  .  ....  Runtime
+00001cc0: 4572 726f 723a 204e 6f20 494f 626a 6563  Error: No IObjec
+00001cd0: 7446 6163 746f 7279 2061 6461 7074 6572  tFactory adapter
+00001ce0: 2072 6567 6973 7465 7265 6420 666f 7220   registered for 
+00001cf0: 7a33 632e 666f 726d 2e74 6573 7469 6e67  z3c.form.testing
+00001d00: 2e49 4d79 5375 624f 626a 6563 740a 0a57  .IMySubObject..W
+00001d10: 6520 6861 7665 2074 6f20 7265 6769 7374  e have to regist
+00001d20: 6572 206f 626a 6563 7420 6661 6374 6f72  er object factor
+00001d30: 7920 6164 6170 7465 7273 2074 6f20 616c  y adapters to al
+00001d40: 6c6f 7720 7468 6520 6f62 6a65 6374 7769  low the objectwi
+00001d50: 6467 6574 2074 6f0a 6372 6561 7465 206f  dget to.create o
+00001d60: 626a 6563 7473 3a0a 0a20 203e 3e3e 2066  bjects:..  >>> f
+00001d70: 726f 6d20 7a33 632e 666f 726d 2e6f 626a  rom z3c.form.obj
+00001d80: 6563 7420 696d 706f 7274 2072 6567 6973  ect import regis
+00001d90: 7465 7246 6163 746f 7279 4164 6170 7465  terFactoryAdapte
+00001da0: 720a 2020 3e3e 3e20 7265 6769 7374 6572  r.  >>> register
+00001db0: 4661 6374 6f72 7941 6461 7074 6572 2849  FactoryAdapter(I
+00001dc0: 4d79 5375 624f 626a 6563 742c 204d 7953  MySubObject, MyS
+00001dd0: 7562 4f62 6a65 6374 290a 2020 3e3e 3e20  ubObject).  >>> 
+00001de0: 7265 6769 7374 6572 4661 6374 6f72 7941  registerFactoryA
+00001df0: 6461 7074 6572 2849 4d79 5365 636f 6e64  dapter(IMySecond
+00001e00: 2c20 4d79 5365 636f 6e64 290a 0a20 203e  , MySecond)..  >
+00001e10: 3e3e 2076 616c 7565 203d 2063 6f6e 7665  >> value = conve
+00001e20: 7274 6572 2e74 6f46 6965 6c64 5661 6c75  rter.toFieldValu
+00001e30: 6528 7776 290a 2020 3e3e 3e20 7661 6c75  e(wv).  >>> valu
+00001e40: 650a 2020 3c7a 3363 2e66 6f72 6d2e 7465  e.  <z3c.form.te
+00001e50: 7374 696e 672e 4d79 5375 624f 626a 6563  sting.MySubObjec
+00001e60: 7420 6f62 6a65 6374 2061 7420 2e2e 2e3e  t object at ...>
+00001e70: 0a20 203e 3e3e 2076 616c 7565 2e66 6f6f  .  >>> value.foo
+00001e80: 6669 656c 640a 2020 320a 2020 3e3e 3e20  field.  2.  >>> 
+00001e90: 7661 6c75 652e 6261 7266 6965 6c64 0a20  value.barfield. 
+00001ea0: 2039 3939 0a0a 5468 6973 2069 7320 6120   999..This is a 
+00001eb0: 6469 6666 6572 656e 7420 6f62 6a65 6374  different object
+00001ec0: 3a0a 0a20 203e 3e3e 2076 616c 7565 2e5f  :..  >>> value._
+00001ed0: 5f6d 6172 6b65 725f 5f0a 2020 5472 6163  _marker__.  Trac
+00001ee0: 6562 6163 6b20 286d 6f73 7420 7265 6365  eback (most rece
+00001ef0: 6e74 2063 616c 6c20 6c61 7374 293a 0a20  nt call last):. 
+00001f00: 202e 2e2e 0a20 2041 7474 7269 6275 7465   ....  Attribute
+00001f10: 4572 726f 723a 2027 4d79 5375 624f 626a  Error: 'MySubObj
+00001f20: 6563 7427 206f 626a 6563 7420 6861 7320  ect' object has 
+00001f30: 6e6f 2061 7474 7269 6275 7465 2027 5f5f  no attribute '__
+00001f40: 6d61 726b 6572 5f5f 270a 0a0a 5365 7474  marker__'...Sett
+00001f50: 696e 6720 6d69 7373 696e 6720 7661 6c75  ing missing valu
+00001f60: 6573 206f 6e20 7468 6520 7769 6467 6574  es on the widget
+00001f70: 2077 6f72 6b73 2074 6f6f 3a0a 0a20 203e   works too:..  >
+00001f80: 3e3e 2077 6964 6765 742e 7661 6c75 6520  >> widget.value 
+00001f90: 3d20 636f 6e76 6572 7465 722e 746f 5769  = converter.toWi
+00001fa0: 6467 6574 5661 6c75 6528 6669 656c 642e  dgetValue(field.
+00001fb0: 6d69 7373 696e 675f 7661 6c75 6529 0a0a  missing_value)..
+00001fc0: 2020 3e3e 3e20 7769 6467 6574 2e75 7064    >>> widget.upd
+00001fd0: 6174 6528 290a 0a44 6566 6175 6c74 2076  ate()..Default v
+00001fe0: 616c 7565 7320 6765 7420 7265 6e64 6572  alues get render
+00001ff0: 6564 3a0a 0a20 203e 3e3e 2070 7269 6e74  ed:..  >>> print
+00002000: 2877 6964 6765 742e 7265 6e64 6572 2829  (widget.render()
+00002010: 290a 2020 3c64 6976 2063 6c61 7373 3d22  ).  <div class="
+00002020: 6f62 6a65 6374 2d77 6964 6765 7420 7265  object-widget re
+00002030: 7175 6972 6564 223e 0a20 2020 203c 6469  quired">.    <di
+00002040: 7620 636c 6173 733d 226c 6162 656c 223e  v class="label">
+00002050: 0a20 2020 2020 203c 6c61 6265 6c20 666f  .      <label fo
+00002060: 723d 2273 7562 6f62 6a65 6374 2d77 6964  r="subobject-wid
+00002070: 6765 7473 2d66 6f6f 6669 656c 6422 3e0a  gets-foofield">.
+00002080: 2020 2020 2020 2020 3c73 7061 6e3e 4d79          <span>My
+00002090: 2066 6f6f 2066 6965 6c64 3c2f 7370 616e   foo field</span
+000020a0: 3e0a 2020 2020 2020 2020 3c73 7061 6e20  >.        <span 
+000020b0: 636c 6173 733d 2272 6571 7569 7265 6422  class="required"
+000020c0: 3e2a 3c2f 7370 616e 3e0a 2020 2020 2020  >*</span>.      
+000020d0: 3c2f 6c61 6265 6c3e 0a20 2020 203c 2f64  </label>.    </d
+000020e0: 6976 3e0a 2020 2020 3c64 6976 2063 6c61  iv>.    <div cla
+000020f0: 7373 3d22 7769 6467 6574 223e 0a20 2020  ss="widget">.   
+00002100: 2020 203c 696e 7075 7420 6964 3d22 7375     <input id="su
+00002110: 626f 626a 6563 742d 7769 6467 6574 732d  bobject-widgets-
+00002120: 666f 6f66 6965 6c64 220a 2020 2020 2020  foofield".      
+00002130: 2020 2020 2020 206e 616d 653d 2273 7562         name="sub
+00002140: 6f62 6a65 6374 2e77 6964 6765 7473 2e66  object.widgets.f
+00002150: 6f6f 6669 656c 6422 0a20 2020 2020 2020  oofield".       
+00002160: 2020 2020 2020 636c 6173 733d 2274 6578        class="tex
+00002170: 742d 7769 6467 6574 2072 6571 7569 7265  t-widget require
+00002180: 6420 696e 742d 6669 656c 6422 2076 616c  d int-field" val
+00002190: 7565 3d22 3222 2074 7970 653d 2274 6578  ue="2" type="tex
+000021a0: 7422 202f 3e0a 2020 2020 3c2f 6469 763e  t" />.    </div>
+000021b0: 0a20 2020 203c 6469 7620 636c 6173 733d  .    <div class=
+000021c0: 226c 6162 656c 223e 0a20 2020 2020 203c  "label">.      <
+000021d0: 6c61 6265 6c20 666f 723d 2273 7562 6f62  label for="subob
+000021e0: 6a65 6374 2d77 6964 6765 7473 2d62 6172  ject-widgets-bar
+000021f0: 6669 656c 6422 3e0a 2020 2020 2020 2020  field">.        
+00002200: 3c73 7061 6e3e 4d79 2064 6561 7220 6261  <span>My dear ba
+00002210: 723c 2f73 7061 6e3e 0a20 2020 2020 203c  r</span>.      <
+00002220: 2f6c 6162 656c 3e0a 2020 2020 3c2f 6469  /label>.    </di
+00002230: 763e 0a20 2020 203c 6469 7620 636c 6173  v>.    <div clas
+00002240: 733d 2277 6964 6765 7422 3e0a 2020 2020  s="widget">.    
+00002250: 2020 3c69 6e70 7574 2069 643d 2273 7562    <input id="sub
+00002260: 6f62 6a65 6374 2d77 6964 6765 7473 2d62  object-widgets-b
+00002270: 6172 6669 656c 6422 0a20 2020 2020 2020  arfield".       
+00002280: 2020 2020 2020 6e61 6d65 3d22 7375 626f        name="subo
+00002290: 626a 6563 742e 7769 6467 6574 732e 6261  bject.widgets.ba
+000022a0: 7266 6965 6c64 220a 2020 2020 2020 2020  rfield".        
+000022b0: 2020 2020 2063 6c61 7373 3d22 7465 7874       class="text
+000022c0: 2d77 6964 6765 7420 696e 742d 6669 656c  -widget int-fiel
+000022d0: 6422 2076 616c 7565 3d22 3939 3922 2074  d" value="999" t
+000022e0: 7970 653d 2274 6578 7422 202f 3e0a 2020  ype="text" />.  
+000022f0: 2020 3c2f 6469 763e 0a20 2020 203c 696e    </div>.    <in
+00002300: 7075 7420 6e61 6d65 3d22 7375 626f 626a  put name="subobj
+00002310: 6563 742d 656d 7074 792d 6d61 726b 6572  ect-empty-marker
+00002320: 2220 7479 7065 3d22 6869 6464 656e 2220  " type="hidden" 
+00002330: 7661 6c75 653d 2231 2220 2f3e 0a20 203c  value="1" />.  <
+00002340: 2f64 6976 3e0a 0a42 7574 206f 6e20 7468  /div>..But on th
+00002350: 6520 7265 7475 726e 2077 6520 6765 7420  e return we get 
+00002360: 6465 6661 756c 7420 7661 6c75 6573 2062  default values b
+00002370: 6163 6b3a 0a0a 2020 3e3e 3e20 7070 7269  ack:..  >>> ppri
+00002380: 6e74 2877 6964 6765 742e 7661 6c75 6529  nt(widget.value)
+00002390: 0a20 207b 2762 6172 6669 656c 6427 3a20  .  {'barfield': 
+000023a0: 2739 3939 272c 2027 666f 6f66 6965 6c64  '999', 'foofield
+000023b0: 273a 2027 3227 7d0a 0a20 203e 3e3e 2076  ': '2'}..  >>> v
+000023c0: 616c 7565 203d 2063 6f6e 7665 7274 6572  alue = converter
+000023d0: 2e74 6f46 6965 6c64 5661 6c75 6528 7769  .toFieldValue(wi
+000023e0: 6467 6574 2e76 616c 7565 290a 2020 3e3e  dget.value).  >>
+000023f0: 3e20 7661 6c75 650a 2020 3c7a 3363 2e66  > value.  <z3c.f
+00002400: 6f72 6d2e 7465 7374 696e 672e 4d79 5375  orm.testing.MySu
+00002410: 624f 626a 6563 7420 6f62 6a65 6374 2061  bObject object a
+00002420: 7420 2e2e 2e3e 0a0a 484d 4d4d 4d2e 2e2e  t ...>..HMMMM...
+00002430: 2e20 646f 2077 6520 6861 7665 2074 6f20  . do we have to 
+00002440: 7465 7374 2065 7272 6f72 2068 616e 646c  test error handl
+00002450: 696e 6720 6865 7265 3f0a 4927 6d20 7465  ing here?.I'm te
+00002460: 6d70 7465 6420 746f 206c 6561 7665 2069  mpted to leave i
+00002470: 7420 6f75 7420 6173 206e 6f20 7769 6467  t out as no widg
+00002480: 6574 7320 7365 656d 2074 6f20 646f 2074  ets seem to do t
+00002490: 6869 732e 0a0a 2345 7272 6f72 2068 616e  his...#Error han
+000024a0: 646c 696e 6720 6973 206e 6578 742e 204c  dling is next. L
+000024b0: 6574 2773 2075 7365 2074 6865 2076 616c  et's use the val
+000024c0: 7565 2022 6261 6422 2028 616e 2069 6e76  ue "bad" (an inv
+000024d0: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
+000024e0: 6572 616c 290a 2361 7320 696e 7075 7420  eral).#as input 
+000024f0: 666f 7220 6f75 7220 696e 7465 726e 616c  for our internal
+00002500: 2028 7375 6229 2077 6964 6765 742e 0a23   (sub) widget..#
+00002510: 0a23 2020 3e3e 3e20 7769 6467 6574 2e72  .#  >>> widget.r
+00002520: 6571 7565 7374 203d 2054 6573 7452 6571  equest = TestReq
+00002530: 7565 7374 2866 6f72 6d3d 7b27 7375 626f  uest(form={'subo
+00002540: 626a 6563 742e 7769 6467 6574 732e 666f  bject.widgets.fo
+00002550: 6f66 6965 6c64 273a 2735 3527 2c0a 2320  ofield':'55',.# 
+00002560: 202e 2e2e 2020 2020 2020 2020 2020 2020   ...            
 00002570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002580: 2020 2020 2020 2020 2020 2020 2027 7375               'su
-00002590: 626f 626a 6563 742e 7769 6467 6574 732e  bobject.widgets.
-000025a0: 6261 7266 6965 6c64 273a 7527 6261 6427  barfield':u'bad'
-000025b0: 2c0a 2320 202e 2e2e 2020 2020 2020 2020  ,.#  ...        
+00002580: 2020 2020 2020 2020 2773 7562 6f62 6a65          'subobje
+00002590: 6374 2e77 6964 6765 7473 2e62 6172 6669  ct.widgets.barfi
+000025a0: 656c 6427 3a27 6261 6427 2c0a 2320 202e  eld':'bad',.#  .
+000025b0: 2e2e 2020 2020 2020 2020 2020 2020 2020  ..              
 000025c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000025d0: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
-000025e0: 6f62 6a65 6374 2d65 6d70 7479 2d6d 6172  object-empty-mar
-000025f0: 6b65 7227 3a75 2731 277d 290a 230a 230a  ker':u'1'}).#.#.
-00002600: 2320 203e 3e3e 2077 6964 6765 742e 7570  #  >>> widget.up
-00002610: 6461 7465 2829 0a23 2020 3e3e 3e20 7072  date().#  >>> pr
-00002620: 696e 7428 7769 6467 6574 2e72 656e 6465  int(widget.rende
-00002630: 7228 2929 0a23 2020 3c68 746d 6c3e 0a23  r()).#  <html>.#
-00002640: 2020 2020 3c62 6f64 793e 0a23 2020 2020      <body>.#    
-00002650: 2020 3c64 6976 2063 6c61 7373 3d22 6f62    <div class="ob
-00002660: 6a65 6374 2d77 6964 6765 7420 7265 7175  ject-widget requ
-00002670: 6972 6564 223e 0a23 2020 2020 2020 2020  ired">.#        
-00002680: 3c64 6976 2063 6c61 7373 3d22 6c61 6265  <div class="labe
-00002690: 6c22 3e0a 2320 2020 2020 2020 2020 203c  l">.#          <
-000026a0: 6c61 6265 6c20 666f 723d 2273 7562 6f62  label for="subob
-000026b0: 6a65 6374 2d77 6964 6765 7473 2d66 6f6f  ject-widgets-foo
-000026c0: 6669 656c 6422 3e0a 2320 2020 2020 2020  field">.#       
-000026d0: 2020 2020 203c 7370 616e 3e4d 7920 666f       <span>My fo
-000026e0: 6f20 6669 656c 643c 2f73 7061 6e3e 0a23  o field</span>.#
-000026f0: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
-00002700: 6e20 636c 6173 733d 2272 6571 7569 7265  n class="require
-00002710: 6422 3e2a 3c2f 7370 616e 3e0a 2320 2020  d">*</span>.#   
-00002720: 2020 2020 2020 203c 2f6c 6162 656c 3e0a         </label>.
-00002730: 2320 2020 2020 2020 203c 2f64 6976 3e0a  #        </div>.
-00002740: 2320 2020 2020 2020 203c 6469 7620 636c  #        <div cl
-00002750: 6173 733d 2277 6964 6765 7422 3e0a 2320  ass="widget">.# 
-00002760: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
-00002770: 636c 6173 733d 2274 6578 742d 7769 6467  class="text-widg
-00002780: 6574 2072 6571 7569 7265 6420 696e 742d  et required int-
-00002790: 6669 656c 6422 0a23 2020 2020 2020 2020  field".#        
-000027a0: 2020 6964 3d22 7375 626f 626a 6563 742d    id="subobject-
-000027b0: 7769 6467 6574 732d 666f 6f66 6965 6c64  widgets-foofield
-000027c0: 220a 2320 2020 2020 2020 2020 206e 616d  ".#          nam
-000027d0: 653d 2273 7562 6f62 6a65 6374 2e77 6964  e="subobject.wid
-000027e0: 6765 7473 2e66 6f6f 6669 656c 6422 0a23  gets.foofield".#
-000027f0: 2020 2020 2020 2020 2020 7479 7065 3d22            type="
-00002800: 7465 7874 2220 7661 6c75 653d 2235 3522  text" value="55"
-00002810: 3e0a 2320 2020 2020 2020 203c 2f64 6976  >.#        </div
-00002820: 3e0a 2320 2020 2020 2020 203c 6469 7620  >.#        <div 
-00002830: 636c 6173 733d 226c 6162 656c 223e 0a23  class="label">.#
-00002840: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
-00002850: 2066 6f72 3d22 7375 626f 626a 6563 742d   for="subobject-
-00002860: 7769 6467 6574 732d 6261 7266 6965 6c64  widgets-barfield
-00002870: 223e 0a23 2020 2020 2020 2020 2020 2020  ">.#            
-00002880: 3c73 7061 6e3e 4d79 2064 6561 7220 6261  <span>My dear ba
-00002890: 723c 2f73 7061 6e3e 0a23 2020 2020 2020  r</span>.#      
-000028a0: 2020 2020 3c2f 6c61 6265 6c3e 0a23 2020      </label>.#  
-000028b0: 2020 2020 2020 3c2f 6469 763e 0a23 2020        </div>.#  
-000028c0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-000028d0: 3d22 6572 726f 7222 3e54 6865 2065 6e74  ="error">The ent
-000028e0: 6572 6564 2076 616c 7565 2069 7320 6e6f  ered value is no
-000028f0: 7420 6120 7661 6c69 6420 696e 7465 6765  t a valid intege
-00002900: 7220 6c69 7465 7261 6c2e 3c2f 6469 763e  r literal.</div>
-00002910: 0a23 2020 2020 2020 2020 3c64 6976 2063  .#        <div c
-00002920: 6c61 7373 3d22 7769 6467 6574 223e 0a23  lass="widget">.#
-00002930: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
-00002940: 2063 6c61 7373 3d22 7465 7874 2d77 6964   class="text-wid
-00002950: 6765 7420 696e 742d 6669 656c 6422 0a23  get int-field".#
-00002960: 2020 2020 2020 2020 2020 6964 3d22 7375            id="su
-00002970: 626f 626a 6563 742d 7769 6467 6574 732d  bobject-widgets-
-00002980: 6261 7266 6965 6c64 220a 2320 2020 2020  barfield".#     
-00002990: 2020 2020 206e 616d 653d 2273 7562 6f62       name="subob
-000029a0: 6a65 6374 2e77 6964 6765 7473 2e62 6172  ject.widgets.bar
-000029b0: 6669 656c 6422 0a23 2020 2020 2020 2020  field".#        
-000029c0: 2020 7479 7065 3d22 7465 7874 2220 7661    type="text" va
-000029d0: 6c75 653d 2262 6164 223e 0a23 2020 2020  lue="bad">.#    
-000029e0: 2020 2020 3c2f 6469 763e 0a23 2020 2020      </div>.#    
-000029f0: 2020 2020 3c69 6e70 7574 206e 616d 653d      <input name=
-00002a00: 2273 7562 6f62 6a65 6374 2d65 6d70 7479  "subobject-empty
-00002a10: 2d6d 6172 6b65 7222 2074 7970 653d 2268  -marker" type="h
-00002a20: 6964 6465 6e22 2076 616c 7565 3d22 3122  idden" value="1"
-00002a30: 3e0a 2320 2020 2020 203c 2f64 6976 3e0a  >.#      </div>.
-00002a40: 2320 2020 203c 2f62 6f64 793e 0a23 2020  #    </body>.#  
-00002a50: 3c2f 6874 6d6c 3e0a 230a 2347 6574 7469  </html>.#.#Getti
-00002a60: 6e67 2074 6865 2077 6964 6765 7420 7661  ng the widget va
-00002a70: 6c75 6520 7261 6973 6573 2074 6865 2077  lue raises the w
-00002a80: 6964 6765 7420 6572 726f 7273 3a0a 230a  idget errors:.#.
-00002a90: 2320 203e 3e3e 2077 6964 6765 742e 7661  #  >>> widget.va
-00002aa0: 6c75 650a 2320 2054 7261 6365 6261 636b  lue.#  Traceback
-00002ab0: 2028 6d6f 7374 2072 6563 656e 7420 6361   (most recent ca
-00002ac0: 6c6c 206c 6173 7429 3a0a 2320 202e 2e2e  ll last):.#  ...
-00002ad0: 0a23 2020 4d75 6c74 6970 6c65 4572 726f  .#  MultipleErro
-00002ae0: 7273 0a23 0a23 4f75 7220 6f62 6a65 6374  rs.#.#Our object
-00002af0: 2073 7469 6c6c 206d 7573 7420 7265 7461   still must reta
-00002b00: 696e 2074 6865 206f 6c64 2076 616c 7565  in the old value
-00002b10: 733a 0a23 0a23 2020 3e3e 3e20 760a 2320  s:.#.#  >>> v.# 
-00002b20: 203c 7a33 632e 666f 726d 2e74 6573 7469   <z3c.form.testi
-00002b30: 6e67 2e4d 7953 7562 4f62 6a65 6374 206f  ng.MySubObject o
-00002b40: 626a 6563 7420 6174 202e 2e2e 3e0a 2320  bject at ...>.# 
-00002b50: 203e 3e3e 2076 2e66 6f6f 6669 656c 640a   >>> v.foofield.
-00002b60: 2320 2034 320a 2320 203e 3e3e 2076 2e62  #  42.#  >>> v.b
-00002b70: 6172 6669 656c 640a 2320 2036 3636 0a23  arfield.#  666.#
-00002b80: 2020 3e3e 3e20 762e 5f5f 6d61 726b 6572    >>> v.__marker
-00002b90: 5f5f 0a23 2020 2754 6869 734d 7573 7453  __.#  'ThisMustS
-00002ba0: 7461 7954 6865 5361 6d65 270a 0a0a 0a49  tayTheSame'....I
-00002bb0: 6e20 666f 726d 730a 3d3d 3d3d 3d3d 3d3d  n forms.========
-00002bc0: 0a0a 446f 2061 6c6c 2074 6861 7420 6675  ..Do all that fu
-00002bd0: 6e20 696e 2061 6464 2061 6e64 2065 6469  n in add and edi
-00002be0: 7420 666f 726d 7320 746f 6f3a 0a0a 0a57  t forms too:...W
-00002bf0: 6520 6861 7665 2074 6f20 7072 6f76 6964  e have to provid
-00002c00: 6520 616e 2061 6461 7074 6572 2066 6972  e an adapter fir
-00002c10: 7374 3a0a 0a20 203e 3e3e 207a 6f70 652e  st:..  >>> zope.
-00002c20: 636f 6d70 6f6e 656e 742e 7072 6f76 6964  component.provid
-00002c30: 6541 6461 7074 6572 287a 3363 2e66 6f72  eAdapter(z3c.for
-00002c40: 6d2e 6272 6f77 7365 722e 6f62 6a65 6374  m.browser.object
-00002c50: 2e4f 626a 6563 7446 6965 6c64 5769 6467  .ObjectFieldWidg
-00002c60: 6574 290a 0a46 6f72 6d73 2061 6e64 206f  et)..Forms and o
-00002c70: 7572 206f 626a 6563 7477 6964 6765 7420  ur objectwidget 
-00002c80: 6669 7265 2065 7665 6e74 7320 6f6e 2061  fire events on a
-00002c90: 6464 2061 6e64 2065 6469 742c 2073 6574  dd and edit, set
-00002ca0: 7570 2061 2073 7562 7363 7269 6265 720a  up a subscriber.
-00002cb0: 666f 7220 7468 6f73 653a 0a0a 2020 3e3e  for those:..  >>
-00002cc0: 3e20 6576 656e 746c 6f67 203d 205b 5d0a  > eventlog = [].
-00002cd0: 2020 3e3e 3e20 696d 706f 7274 207a 6f70    >>> import zop
-00002ce0: 652e 6c69 6665 6379 636c 6565 7665 6e74  e.lifecycleevent
-00002cf0: 0a20 203e 3e3e 2040 7a6f 7065 2e63 6f6d  .  >>> @zope.com
-00002d00: 706f 6e65 6e74 2e61 6461 7074 6572 287a  ponent.adapter(z
-00002d10: 6f70 652e 6c69 6665 6379 636c 6565 7665  ope.lifecycleeve
-00002d20: 6e74 2e4f 626a 6563 744d 6f64 6966 6965  nt.ObjectModifie
-00002d30: 6445 7665 6e74 290a 2020 2e2e 2e20 6465  dEvent).  ... de
-00002d40: 6620 6c6f 6745 7665 6e74 2865 7665 6e74  f logEvent(event
-00002d50: 293a 0a20 202e 2e2e 2020 2020 2065 7665  ):.  ...     eve
-00002d60: 6e74 6c6f 672e 6170 7065 6e64 2865 7665  ntlog.append(eve
-00002d70: 6e74 290a 2020 3e3e 3e20 7a6f 7065 2e63  nt).  >>> zope.c
-00002d80: 6f6d 706f 6e65 6e74 2e70 726f 7669 6465  omponent.provide
-00002d90: 4861 6e64 6c65 7228 6c6f 6745 7665 6e74  Handler(logEvent
-00002da0: 290a 2020 3e3e 3e20 407a 6f70 652e 636f  ).  >>> @zope.co
-00002db0: 6d70 6f6e 656e 742e 6164 6170 7465 7228  mponent.adapter(
-00002dc0: 7a6f 7065 2e6c 6966 6563 7963 6c65 6576  zope.lifecycleev
-00002dd0: 656e 742e 4f62 6a65 6374 4372 6561 7465  ent.ObjectCreate
-00002de0: 6445 7665 6e74 290a 2020 2e2e 2e20 6465  dEvent).  ... de
-00002df0: 6620 6c6f 6745 7665 6e74 3228 6576 656e  f logEvent2(even
-00002e00: 7429 3a0a 2020 2e2e 2e20 2020 2020 6576  t):.  ...     ev
-00002e10: 656e 746c 6f67 2e61 7070 656e 6428 6576  entlog.append(ev
-00002e20: 656e 7429 0a20 203e 3e3e 207a 6f70 652e  ent).  >>> zope.
-00002e30: 636f 6d70 6f6e 656e 742e 7072 6f76 6964  component.provid
-00002e40: 6548 616e 646c 6572 286c 6f67 4576 656e  eHandler(logEven
-00002e50: 7432 290a 0a20 203e 3e3e 2064 6566 2070  t2)..  >>> def p
-00002e60: 7269 6e74 4576 656e 7473 2829 3a0a 2020  rintEvents():.  
-00002e70: 2e2e 2e20 2020 2020 666f 7220 6576 656e  ...     for even
-00002e80: 7420 696e 2065 7665 6e74 6c6f 673a 0a20  t in eventlog:. 
-00002e90: 202e 2e2e 2020 2020 2020 2020 2070 7269   ...         pri
-00002ea0: 6e74 2873 7472 2865 7665 6e74 2929 0a20  nt(str(event)). 
-00002eb0: 202e 2e2e 2020 2020 2020 2020 2069 6620   ...         if 
-00002ec0: 6973 696e 7374 616e 6365 2865 7665 6e74  isinstance(event
-00002ed0: 2c20 7a6f 7065 2e6c 6966 6563 7963 6c65  , zope.lifecycle
-00002ee0: 6576 656e 742e 4f62 6a65 6374 4d6f 6469  event.ObjectModi
-00002ef0: 6669 6564 4576 656e 7429 3a0a 2020 2e2e  fiedEvent):.  ..
-00002f00: 2e20 2020 2020 2020 2020 2020 2020 666f  .             fo
-00002f10: 7220 6174 7472 2069 6e20 6576 656e 742e  r attr in event.
-00002f20: 6465 7363 7269 7074 696f 6e73 3a0a 2020  descriptions:.  
-00002f30: 2e2e 2e20 2020 2020 2020 2020 2020 2020  ...             
-00002f40: 2020 2020 7072 696e 7428 6174 7472 2e69      print(attr.i
-00002f50: 6e74 6572 6661 6365 290a 2020 2e2e 2e20  nterface).  ... 
-00002f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f70: 7072 696e 7428 736f 7274 6564 2861 7474  print(sorted(att
-00002f80: 722e 6174 7472 6962 7574 6573 2929 0a0a  r.attributes))..
-00002f90: 5765 2064 6566 696e 6520 616e 2069 6e74  We define an int
-00002fa0: 6572 6661 6365 2063 6f6e 7461 696e 696e  erface containin
-00002fb0: 6720 6120 7375 626f 626a 6563 742c 2061  g a subobject, a
-00002fc0: 6e64 2061 6e20 6164 6466 6f72 6d20 666f  nd an addform fo
-00002fd0: 7220 6974 3a0a 0a20 203e 3e3e 2066 726f  r it:..  >>> fro
-00002fe0: 6d20 7a33 632e 666f 726d 2069 6d70 6f72  m z3c.form impor
-00002ff0: 7420 666f 726d 2c20 6669 656c 640a 2020  t form, field.  
-00003000: 3e3e 3e20 6672 6f6d 207a 3363 2e66 6f72  >>> from z3c.for
-00003010: 6d2e 7465 7374 696e 6720 696d 706f 7274  m.testing import
-00003020: 204d 794f 626a 6563 742c 2049 4d79 4f62   MyObject, IMyOb
-00003030: 6a65 6374 0a0a 4e6f 7465 2c20 7468 6174  ject..Note, that
-00003040: 2063 7265 6174 696e 6720 616e 206f 626a   creating an obj
-00003050: 6563 7420 7769 6c6c 2070 7269 6e74 2873  ect will print(s
-00003060: 6f6d 6520 696e 666f 726d 6174 696f 6e20  ome information 
-00003070: 6162 6f75 7420 6974 3a29 0a0a 2020 3e3e  about it:)..  >>
-00003080: 3e20 636c 6173 7320 4d79 4164 6446 6f72  > class MyAddFor
-00003090: 6d28 666f 726d 2e41 6464 466f 726d 293a  m(form.AddForm):
-000030a0: 0a20 202e 2e2e 2020 2020 2066 6965 6c64  .  ...     field
-000030b0: 7320 3d20 6669 656c 642e 4669 656c 6473  s = field.Fields
-000030c0: 2849 4d79 4f62 6a65 6374 290a 2020 2e2e  (IMyObject).  ..
-000030d0: 2e20 2020 2020 6465 6620 6372 6561 7465  .     def create
-000030e0: 2873 656c 662c 2064 6174 6129 3a0a 2020  (self, data):.  
-000030f0: 2e2e 2e20 2020 2020 2020 2020 7072 696e  ...         prin
-00003100: 7428 224d 7941 6464 466f 726d 2e63 7265  t("MyAddForm.cre
-00003110: 6174 6522 290a 2020 2e2e 2e20 2020 2020  ate").  ...     
-00003120: 2020 2020 7070 7269 6e74 2864 6174 6129      pprint(data)
-00003130: 0a20 202e 2e2e 2020 2020 2020 2020 2072  .  ...         r
-00003140: 6574 7572 6e20 4d79 4f62 6a65 6374 282a  eturn MyObject(*
-00003150: 2a64 6174 6129 0a20 202e 2e2e 2020 2020  *data).  ...    
-00003160: 2064 6566 2061 6464 2873 656c 662c 206f   def add(self, o
-00003170: 626a 293a 0a20 202e 2e2e 2020 2020 2020  bj):.  ...      
-00003180: 2020 2073 656c 662e 636f 6e74 6578 745b     self.context[
-00003190: 6f62 6a2e 6e61 6d65 5d20 3d20 6f62 6a0a  obj.name] = obj.
-000031a0: 2020 2e2e 2e20 2020 2020 6465 6620 6e65    ...     def ne
-000031b0: 7874 5552 4c28 7365 6c66 293a 0a20 202e  xtURL(self):.  .
-000031c0: 2e2e 2020 2020 2020 2020 2070 6173 730a  ..         pass.
-000031d0: 0a57 6520 6372 6561 7465 2074 6865 2066  .We create the f
-000031e0: 6f72 6d20 616e 6420 7472 7920 746f 2075  orm and try to u
-000031f0: 7064 6174 6520 6974 3a0a 0a20 203e 3e3e  pdate it:..  >>>
-00003200: 2072 6571 7565 7374 203d 2054 6573 7452   request = TestR
-00003210: 6571 7565 7374 2829 0a20 203e 3e3e 206d  equest().  >>> m
-00003220: 7961 6464 666f 726d 203d 2020 4d79 4164  yaddform =  MyAd
-00003230: 6446 6f72 6d28 726f 6f74 2c20 7265 7175  dForm(root, requ
-00003240: 6573 7429 0a0a 0a20 203e 3e3e 206d 7961  est)...  >>> mya
-00003250: 6464 666f 726d 2e75 7064 6174 6528 290a  ddform.update().
-00003260: 0a41 7320 7573 7561 6c2c 2074 6865 2066  .As usual, the f
-00003270: 6f72 6d20 636f 6e74 6169 6e73 2061 2077  orm contains a w
-00003280: 6964 6765 7420 6d61 6e61 6765 7220 7769  idget manager wi
-00003290: 7468 2074 6865 2065 7870 6563 7465 6420  th the expected 
-000032a0: 7769 6467 6574 0a0a 2020 3e3e 3e20 6c69  widget..  >>> li
-000032b0: 7374 286d 7961 6464 666f 726d 2e77 6964  st(myaddform.wid
-000032c0: 6765 7473 2e6b 6579 7328 2929 0a20 205b  gets.keys()).  [
-000032d0: 2773 7562 6f62 6a65 6374 272c 2027 6e61  'subobject', 'na
-000032e0: 6d65 275d 0a20 203e 3e3e 206c 6973 7428  me'].  >>> list(
-000032f0: 6d79 6164 6466 6f72 6d2e 7769 6467 6574  myaddform.widget
-00003300: 732e 7661 6c75 6573 2829 290a 2020 5b3c  s.values()).  [<
-00003310: 4f62 6a65 6374 5769 6467 6574 2027 666f  ObjectWidget 'fo
-00003320: 726d 2e77 6964 6765 7473 2e73 7562 6f62  rm.widgets.subob
-00003330: 6a65 6374 273e 2c20 3c54 6578 7457 6964  ject'>, <TextWid
-00003340: 6765 7420 2766 6f72 6d2e 7769 6467 6574  get 'form.widget
-00003350: 732e 6e61 6d65 273e 5d0a 0a54 6865 2077  s.name'>]..The w
-00003360: 6964 6765 7420 6861 7320 7375 622d 7769  idget has sub-wi
-00003370: 6467 6574 733a 0a0a 2020 3e3e 3e20 6c69  dgets:..  >>> li
-00003380: 7374 286d 7961 6464 666f 726d 2e77 6964  st(myaddform.wid
-00003390: 6765 7473 5b27 7375 626f 626a 6563 7427  gets['subobject'
-000033a0: 5d2e 7769 6467 6574 732e 6b65 7973 2829  ].widgets.keys()
-000033b0: 290a 2020 5b27 666f 6f66 6965 6c64 272c  ).  ['foofield',
-000033c0: 2027 6261 7266 6965 6c64 275d 0a0a 4966   'barfield']..If
-000033d0: 2077 6520 7761 6e74 2074 6f20 7265 6e64   we want to rend
-000033e0: 6572 2074 6865 2061 6464 666f 726d 2c20  er the addform, 
-000033f0: 7765 206d 7573 7420 6769 7665 2069 7420  we must give it 
-00003400: 6120 7465 6d70 6c61 7465 3a0a 0a20 203e  a template:..  >
-00003410: 3e3e 2069 6d70 6f72 7420 6f73 0a20 203e  >> import os.  >
-00003420: 3e3e 2066 726f 6d20 7a6f 7065 2e62 726f  >> from zope.bro
-00003430: 7773 6572 7061 6765 2e76 6965 7770 6167  wserpage.viewpag
-00003440: 6574 656d 706c 6174 6566 696c 6520 696d  etemplatefile im
-00003450: 706f 7274 2056 6965 7750 6167 6554 656d  port ViewPageTem
-00003460: 706c 6174 6546 696c 650a 2020 3e3e 3e20  plateFile.  >>> 
-00003470: 6672 6f6d 207a 6f70 652e 6272 6f77 7365  from zope.browse
-00003480: 7270 6167 652e 7669 6577 7061 6765 7465  rpage.viewpagete
-00003490: 6d70 6c61 7465 6669 6c65 2069 6d70 6f72  mplatefile impor
-000034a0: 7420 426f 756e 6450 6167 6554 656d 706c  t BoundPageTempl
-000034b0: 6174 650a 2020 3e3e 3e20 6672 6f6d 207a  ate.  >>> from z
-000034c0: 3363 2e66 6f72 6d20 696d 706f 7274 2074  3c.form import t
-000034d0: 6573 7473 0a20 203e 3e3e 2064 6566 2061  ests.  >>> def a
-000034e0: 6464 5465 6d70 6c61 7465 2866 6f72 6d29  ddTemplate(form)
-000034f0: 3a0a 2020 2e2e 2e20 2020 2020 666f 726d  :.  ...     form
-00003500: 2e74 656d 706c 6174 6520 3d20 426f 756e  .template = Boun
-00003510: 6450 6167 6554 656d 706c 6174 6528 0a20  dPageTemplate(. 
-00003520: 202e 2e2e 2020 2020 2020 2020 2056 6965   ...         Vie
-00003530: 7750 6167 6554 656d 706c 6174 6546 696c  wPageTemplateFil
-00003540: 6528 0a20 202e 2e2e 2020 2020 2020 2020  e(.  ...        
-00003550: 2020 2020 2027 7369 6d70 6c65 5f65 6469       'simple_edi
-00003560: 742e 7074 272c 206f 732e 7061 7468 2e64  t.pt', os.path.d
-00003570: 6972 6e61 6d65 2874 6573 7473 2e5f 5f66  irname(tests.__f
-00003580: 696c 655f 5f29 292c 2066 6f72 6d29 0a20  ile__)), form). 
-00003590: 203e 3e3e 2061 6464 5465 6d70 6c61 7465   >>> addTemplate
-000035a0: 286d 7961 6464 666f 726d 290a 0a4e 6f77  (myaddform)..Now
-000035b0: 2072 656e 6465 7269 6e67 2074 6865 2061   rendering the a
-000035c0: 6464 666f 726d 2072 656e 6465 7273 2074  ddform renders t
-000035d0: 6865 2073 7562 666f 726d 2061 7320 7765  he subform as we
-000035e0: 6c6c 3a0a 0a20 203e 3e3e 2070 7269 6e74  ll:..  >>> print
-000035f0: 286d 7961 6464 666f 726d 2e72 656e 6465  (myaddform.rende
-00003600: 7228 2929 0a20 203c 6874 6d6c 2078 6d6c  r()).  <html xml
-00003610: 6e73 3d22 6874 7470 3a2f 2f77 7777 2e77  ns="http://www.w
-00003620: 332e 6f72 672f 3139 3939 2f78 6874 6d6c  3.org/1999/xhtml
-00003630: 223e 0a20 2020 203c 626f 6479 3e0a 2020  ">.    <body>.  
-00003640: 2020 2020 3c66 6f72 6d20 6163 7469 6f6e      <form action
-00003650: 3d22 2e22 3e0a 2020 2020 2020 2020 3c64  =".">.        <d
-00003660: 6976 2063 6c61 7373 3d22 726f 7722 3e0a  iv class="row">.
-00003670: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
-00003680: 2066 6f72 3d22 666f 726d 2d77 6964 6765   for="form-widge
-00003690: 7473 2d73 7562 6f62 6a65 6374 223e 6d79  ts-subobject">my
-000036a0: 206f 626a 6563 743c 2f6c 6162 656c 3e0a   object</label>.
-000036b0: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
-000036c0: 6c61 7373 3d22 6f62 6a65 6374 2d77 6964  lass="object-wid
-000036d0: 6765 7420 7265 7175 6972 6564 223e 0a20  get required">. 
-000036e0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
-000036f0: 636c 6173 733d 226c 6162 656c 223e 0a20  class="label">. 
-00003700: 2020 2020 2020 2020 2020 2020 203c 6c61               <la
-00003710: 6265 6c20 666f 723d 2266 6f72 6d2d 7769  bel for="form-wi
-00003720: 6467 6574 732d 7375 626f 626a 6563 742d  dgets-subobject-
-00003730: 7769 6467 6574 732d 666f 6f66 6965 6c64  widgets-foofield
-00003740: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
-00003750: 2020 203c 7370 616e 3e4d 7920 666f 6f20     <span>My foo 
-00003760: 6669 656c 643c 2f73 7061 6e3e 0a20 2020  field</span>.   
-00003770: 2020 2020 2020 2020 2020 2020 203c 7370               <sp
-00003780: 616e 2063 6c61 7373 3d22 7265 7175 6972  an class="requir
-00003790: 6564 223e 2a3c 2f73 7061 6e3e 0a20 2020  ed">*</span>.   
-000037a0: 2020 2020 2020 2020 2020 203c 2f6c 6162             </lab
-000037b0: 656c 3e0a 2020 2020 2020 2020 2020 2020  el>.            
-000037c0: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
-000037d0: 2020 203c 6469 7620 636c 6173 733d 2277     <div class="w
-000037e0: 6964 6765 7422 3e0a 2020 2020 2020 2020  idget">.        
-000037f0: 2020 2020 2020 3c69 6e70 7574 2063 6c61        <input cla
-00003800: 7373 3d22 7465 7874 2d77 6964 6765 7420  ss="text-widget 
-00003810: 7265 7175 6972 6564 2069 6e74 2d66 6965  required int-fie
-00003820: 6c64 220a 2020 2020 2020 2020 2020 2020  ld".            
-00003830: 2020 6964 3d22 666f 726d 2d77 6964 6765    id="form-widge
-00003840: 7473 2d73 7562 6f62 6a65 6374 2d77 6964  ts-subobject-wid
-00003850: 6765 7473 2d66 6f6f 6669 656c 6422 0a20  gets-foofield". 
-00003860: 2020 2020 2020 2020 2020 2020 206e 616d               nam
-00003870: 653d 2266 6f72 6d2e 7769 6467 6574 732e  e="form.widgets.
-00003880: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
-00003890: 732e 666f 6f66 6965 6c64 220a 2020 2020  s.foofield".    
-000038a0: 2020 2020 2020 2020 2020 7479 7065 3d22            type="
-000038b0: 7465 7874 2220 7661 6c75 653d 2231 2c31  text" value="1,1
-000038c0: 3131 223e 0a20 2020 2020 2020 2020 2020  11">.           
-000038d0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-000038e0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-000038f0: 6c61 6265 6c22 3e0a 2020 2020 2020 2020  label">.        
-00003900: 2020 2020 2020 3c6c 6162 656c 2066 6f72        <label for
-00003910: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
-00003920: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
-00003930: 2d62 6172 6669 656c 6422 3e0a 2020 2020  -barfield">.    
-00003940: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
-00003950: 6e3e 4d79 2064 6561 7220 6261 723c 2f73  n>My dear bar</s
-00003960: 7061 6e3e 0a20 2020 2020 2020 2020 2020  pan>.           
-00003970: 2020 203c 2f6c 6162 656c 3e0a 2020 2020     </label>.    
-00003980: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
-00003990: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
-000039a0: 636c 6173 733d 2277 6964 6765 7422 3e0a  class="widget">.
-000039b0: 2020 2020 2020 2020 2020 2020 2020 3c69                <i
-000039c0: 6e70 7574 2063 6c61 7373 3d22 7465 7874  nput class="text
-000039d0: 2d77 6964 6765 7420 696e 742d 6669 656c  -widget int-fiel
-000039e0: 6422 0a20 2020 2020 2020 2020 2020 2020  d".             
-000039f0: 2069 643d 2266 6f72 6d2d 7769 6467 6574   id="form-widget
-00003a00: 732d 7375 626f 626a 6563 742d 7769 6467  s-subobject-widg
-00003a10: 6574 732d 6261 7266 6965 6c64 220a 2020  ets-barfield".  
-00003a20: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00003a30: 3d22 666f 726d 2e77 6964 6765 7473 2e73  ="form.widgets.s
-00003a40: 7562 6f62 6a65 6374 2e77 6964 6765 7473  ubobject.widgets
-00003a50: 2e62 6172 6669 656c 6422 0a20 2020 2020  .barfield".     
-00003a60: 2020 2020 2020 2020 2074 7970 653d 2274           type="t
-00003a70: 6578 7422 2076 616c 7565 3d22 322c 3232  ext" value="2,22
-00003a80: 3222 3e0a 2020 2020 2020 2020 2020 2020  2">.            
-00003a90: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
-00003aa0: 2020 203c 696e 7075 7420 6e61 6d65 3d22     <input name="
-00003ab0: 666f 726d 2e77 6964 6765 7473 2e73 7562  form.widgets.sub
-00003ac0: 6f62 6a65 6374 2d65 6d70 7479 2d6d 6172  object-empty-mar
-00003ad0: 6b65 7222 2074 7970 653d 2268 6964 6465  ker" type="hidde
-00003ae0: 6e22 0a20 2020 2020 2020 2020 2020 2076  n".            v
-00003af0: 616c 7565 3d22 3122 3e0a 2020 2020 2020  alue="1">.      
-00003b00: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-00003b10: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-00003b20: 2020 3c64 6976 2063 6c61 7373 3d22 726f    <div class="ro
-00003b30: 7722 3e0a 2020 2020 2020 2020 2020 3c6c  w">.          <l
-00003b40: 6162 656c 2066 6f72 3d22 666f 726d 2d77  abel for="form-w
-00003b50: 6964 6765 7473 2d6e 616d 6522 3e6e 616d  idgets-name">nam
-00003b60: 653c 2f6c 6162 656c 3e0a 2020 2020 2020  e</label>.      
-00003b70: 2020 2020 3c69 6e70 7574 2063 6c61 7373      <input class
-00003b80: 3d22 7465 7874 2d77 6964 6765 7420 7265  ="text-widget re
-00003b90: 7175 6972 6564 2074 6578 746c 696e 652d  quired textline-
-00003ba0: 6669 656c 6422 2069 643d 2266 6f72 6d2d  field" id="form-
-00003bb0: 7769 6467 6574 732d 6e61 6d65 2220 6e61  widgets-name" na
-00003bc0: 6d65 3d22 666f 726d 2e77 6964 6765 7473  me="form.widgets
-00003bd0: 2e6e 616d 6522 2074 7970 653d 2274 6578  .name" type="tex
-00003be0: 7422 2076 616c 7565 3d22 223e 0a20 2020  t" value="">.   
-00003bf0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-00003c00: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00003c10: 6163 7469 6f6e 223e 0a20 2020 2020 2020  action">.       
-00003c20: 2020 203c 696e 7075 7420 636c 6173 733d     <input class=
-00003c30: 2273 7562 6d69 742d 7769 6467 6574 2062  "submit-widget b
-00003c40: 7574 746f 6e2d 6669 656c 6422 2069 643d  utton-field" id=
-00003c50: 2266 6f72 6d2d 6275 7474 6f6e 732d 6164  "form-buttons-ad
-00003c60: 6422 0a20 2020 2020 2020 2020 206e 616d  d".          nam
-00003c70: 653d 2266 6f72 6d2e 6275 7474 6f6e 732e  e="form.buttons.
-00003c80: 6164 6422 2074 7970 653d 2273 7562 6d69  add" type="submi
-00003c90: 7422 2076 616c 7565 3d22 4164 6422 3e0a  t" value="Add">.
-00003ca0: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
-00003cb0: 2020 2020 203c 2f66 6f72 6d3e 0a20 2020       </form>.   
-00003cc0: 203c 2f62 6f64 793e 0a20 203c 2f68 746d   </body>.  </htm
-00003cd0: 6c3e 0a0a 0a57 6520 646f 6e27 7420 6861  l>...We don't ha
-00003ce0: 7665 2074 6865 206f 626a 6563 7420 2879  ve the object (y
-00003cf0: 6574 2920 696e 2074 6865 2072 6f6f 743a  et) in the root:
-00003d00: 0a0a 2020 3e3e 3e20 726f 6f74 5b27 6669  ..  >>> root['fi
-00003d10: 7273 7427 5d0a 2020 5472 6163 6562 6163  rst'].  Tracebac
-00003d20: 6b20 286d 6f73 7420 7265 6365 6e74 2063  k (most recent c
-00003d30: 616c 6c20 6c61 7374 293a 0a20 202e 2e2e  all last):.  ...
-00003d40: 0a20 204b 6579 4572 726f 723a 2027 6669  .  KeyError: 'fi
-00003d50: 7273 7427 0a0a 4c65 7427 7320 7472 7920  rst'..Let's try 
-00003d60: 746f 2061 6464 2061 6e20 6f62 6a65 6374  to add an object
-00003d70: 3a0a 0a20 203e 3e3e 2072 6571 7565 7374  :..  >>> request
-00003d80: 203d 2054 6573 7452 6571 7565 7374 2866   = TestRequest(f
-00003d90: 6f72 6d3d 7b0a 2020 2e2e 2e20 2020 2020  orm={.  ...     
-00003da0: 2766 6f72 6d2e 7769 6467 6574 732e 7375  'form.widgets.su
-00003db0: 626f 626a 6563 742e 7769 6467 6574 732e  bobject.widgets.
-00003dc0: 666f 6f66 6965 6c64 273a 7527 3636 272c  foofield':u'66',
-00003dd0: 0a20 202e 2e2e 2020 2020 2027 666f 726d  .  ...     'form
-00003de0: 2e77 6964 6765 7473 2e73 7562 6f62 6a65  .widgets.subobje
-00003df0: 6374 2e77 6964 6765 7473 2e62 6172 6669  ct.widgets.barfi
-00003e00: 656c 6427 3a75 2739 3927 2c0a 2020 2e2e  eld':u'99',.  ..
-00003e10: 2e20 2020 2020 2766 6f72 6d2e 7769 6467  .     'form.widg
-00003e20: 6574 732e 6e61 6d65 273a 7527 6669 7273  ets.name':u'firs
-00003e30: 7427 2c0a 2020 2e2e 2e20 2020 2020 2766  t',.  ...     'f
-00003e40: 6f72 6d2e 7769 6467 6574 732e 7375 626f  orm.widgets.subo
-00003e50: 626a 6563 742d 656d 7074 792d 6d61 726b  bject-empty-mark
-00003e60: 6572 273a 7527 3127 2c0a 2020 2e2e 2e20  er':u'1',.  ... 
-00003e70: 2020 2020 2766 6f72 6d2e 6275 7474 6f6e      'form.button
-00003e80: 732e 6164 6427 3a27 4164 6427 7d29 0a20  s.add':'Add'}). 
-00003e90: 203e 3e3e 206d 7961 6464 666f 726d 2e72   >>> myaddform.r
-00003ea0: 6571 7565 7374 203d 2072 6571 7565 7374  equest = request
-00003eb0: 0a0a 2020 3e3e 3e20 6d79 6164 6466 6f72  ..  >>> myaddfor
-00003ec0: 6d2e 7570 6461 7465 2829 0a20 204d 7941  m.update().  MyA
-00003ed0: 6464 466f 726d 2e63 7265 6174 650a 2020  ddForm.create.  
-00003ee0: 7b27 6e61 6d65 273a 2075 2766 6972 7374  {'name': u'first
-00003ef0: 272c 0a20 2020 2773 7562 6f62 6a65 6374  ',.   'subobject
-00003f00: 273a 203c 7a33 632e 666f 726d 2e74 6573  ': <z3c.form.tes
-00003f10: 7469 6e67 2e4d 7953 7562 4f62 6a65 6374  ting.MySubObject
-00003f20: 206f 626a 6563 7420 6174 202e 2e2e 3e7d   object at ...>}
-00003f30: 0a0a 576f 772c 2069 7420 676f 7420 6164  ..Wow, it got ad
-00003f40: 6465 643a 0a0a 2020 3e3e 3e20 726f 6f74  ded:..  >>> root
-00003f50: 5b27 6669 7273 7427 5d0a 2020 3c7a 3363  ['first'].  <z3c
-00003f60: 2e66 6f72 6d2e 7465 7374 696e 672e 4d79  .form.testing.My
-00003f70: 4f62 6a65 6374 206f 626a 6563 7420 6174  Object object at
-00003f80: 202e 2e2e 3e0a 0a20 203e 3e3e 2072 6f6f   ...>..  >>> roo
-00003f90: 745b 2766 6972 7374 275d 2e73 7562 6f62  t['first'].subob
-00003fa0: 6a65 6374 0a20 203c 7a33 632e 666f 726d  ject.  <z3c.form
-00003fb0: 2e74 6573 7469 6e67 2e4d 7953 7562 4f62  .testing.MySubOb
-00003fc0: 6a65 6374 206f 626a 6563 7420 6174 202e  ject object at .
-00003fd0: 2e2e 3e0a 0a46 6965 6c64 2076 616c 7565  ..>..Field value
-00003fe0: 7320 6e65 6564 2074 6f20 6265 2072 6967  s need to be rig
-00003ff0: 6874 3a0a 0a20 203e 3e3e 2072 6f6f 745b  ht:..  >>> root[
-00004000: 2766 6972 7374 275d 2e73 7562 6f62 6a65  'first'].subobje
-00004010: 6374 2e66 6f6f 6669 656c 640a 2020 3636  ct.foofield.  66
-00004020: 0a20 203e 3e3e 2072 6f6f 745b 2766 6972  .  >>> root['fir
-00004030: 7374 275d 2e73 7562 6f62 6a65 6374 2e62  st'].subobject.b
-00004040: 6172 6669 656c 640a 2020 3939 0a0a 4c65  arfield.  99..Le
-00004050: 7427 7320 7365 6520 6f75 7220 6576 656e  t's see our even
-00004060: 7420 6c6f 673a 0a0a 2020 3e3e 3e20 6c65  t log:..  >>> le
-00004070: 6e28 6576 656e 746c 6f67 290a 2020 340a  n(eventlog).  4.
-00004080: 0a20 203e 3e3e 2070 7269 6e74 4576 656e  .  >>> printEven
-00004090: 7473 2829 0a20 203c 7a6f 7065 2e2e 2e4f  ts().  <zope...O
-000040a0: 626a 6563 7443 7265 6174 6564 4576 656e  bjectCreatedEven
-000040b0: 7420 6f62 6a65 6374 2061 7420 2e2e 2e3e  t object at ...>
-000040c0: 0a20 203c 7a6f 7065 2e2e 2e4f 626a 6563  .  <zope...Objec
-000040d0: 744d 6f64 6966 6965 6445 7665 6e74 206f  tModifiedEvent o
-000040e0: 626a 6563 7420 6174 202e 2e2e 3e0a 2020  bject at ...>.  
-000040f0: 7a33 632e 666f 726d 2e74 6573 7469 6e67  z3c.form.testing
-00004100: 2e49 4d79 5375 624f 626a 6563 740a 2020  .IMySubObject.  
-00004110: 5b27 6261 7266 6965 6c64 272c 2027 666f  ['barfield', 'fo
-00004120: 6f66 6965 6c64 275d 0a20 203c 7a6f 7065  ofield'].  <zope
-00004130: 2e2e 2e4f 626a 6563 7443 7265 6174 6564  ...ObjectCreated
-00004140: 4576 656e 7420 6f62 6a65 6374 2061 7420  Event object at 
-00004150: 2e2e 2e3e 0a20 203c 7a6f 7065 2e2e 2e63  ...>.  <zope...c
-00004160: 6f6e 7461 696e 6564 2e43 6f6e 7461 696e  ontained.Contain
-00004170: 6572 4d6f 6469 6669 6564 4576 656e 7420  erModifiedEvent 
-00004180: 6f62 6a65 6374 2061 7420 2e2e 2e3e 0a0a  object at ...>..
-00004190: 0a20 203e 3e3e 2065 7665 6e74 6c6f 673d  .  >>> eventlog=
-000041a0: 5b5d 0a0a 4c65 7427 7320 7472 7920 746f  []..Let's try to
-000041b0: 2065 6469 7420 7468 6174 206e 6577 6c79   edit that newly
-000041c0: 2061 6464 6564 206f 626a 6563 743a 0a0a   added object:..
-000041d0: 2020 3e3e 3e20 636c 6173 7320 4d79 4564    >>> class MyEd
-000041e0: 6974 466f 726d 2866 6f72 6d2e 4564 6974  itForm(form.Edit
-000041f0: 466f 726d 293a 0a20 202e 2e2e 2020 2020  Form):.  ...    
-00004200: 2066 6965 6c64 7320 3d20 6669 656c 642e   fields = field.
-00004210: 4669 656c 6473 2849 4d79 4f62 6a65 6374  Fields(IMyObject
-00004220: 290a 0a20 203e 3e3e 2065 6469 7466 6f72  )..  >>> editfor
-00004230: 6d20 3d20 4d79 4564 6974 466f 726d 2872  m = MyEditForm(r
-00004240: 6f6f 745b 2766 6972 7374 275d 2c20 5465  oot['first'], Te
-00004250: 7374 5265 7175 6573 7428 2929 0a20 203e  stRequest()).  >
-00004260: 3e3e 2061 6464 5465 6d70 6c61 7465 2865  >> addTemplate(e
-00004270: 6469 7466 6f72 6d29 0a20 203e 3e3e 2065  ditform).  >>> e
-00004280: 6469 7466 6f72 6d2e 7570 6461 7465 2829  ditform.update()
-00004290: 0a0a 5761 7463 6820 666f 7220 7468 6520  ..Watch for the 
-000042a0: 7769 6467 6574 2076 616c 7565 7320 696e  widget values in
-000042b0: 2074 6865 2048 544d 4c3a 0a0a 2020 3e3e   the HTML:..  >>
-000042c0: 3e20 7072 696e 7428 6564 6974 666f 726d  > print(editform
-000042d0: 2e72 656e 6465 7228 2929 0a20 203c 6874  .render()).  <ht
-000042e0: 6d6c 2078 6d6c 6e73 3d22 6874 7470 3a2f  ml xmlns="http:/
-000042f0: 2f77 7777 2e77 332e 6f72 672f 3139 3939  /www.w3.org/1999
-00004300: 2f78 6874 6d6c 223e 0a20 2020 203c 626f  /xhtml">.    <bo
-00004310: 6479 3e0a 2020 2020 2020 3c66 6f72 6d20  dy>.      <form 
-00004320: 6163 7469 6f6e 3d22 2e22 3e0a 2020 2020  action=".">.    
-00004330: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00004340: 726f 7722 3e0a 2020 2020 2020 2020 2020  row">.          
-00004350: 3c6c 6162 656c 2066 6f72 3d22 666f 726d  <label for="form
-00004360: 2d77 6964 6765 7473 2d73 7562 6f62 6a65  -widgets-subobje
-00004370: 6374 223e 6d79 206f 626a 6563 743c 2f6c  ct">my object</l
-00004380: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
-00004390: 3c64 6976 2063 6c61 7373 3d22 6f62 6a65  <div class="obje
-000043a0: 6374 2d77 6964 6765 7420 7265 7175 6972  ct-widget requir
-000043b0: 6564 223e 0a20 2020 2020 2020 2020 2020  ed">.           
-000043c0: 203c 6469 7620 636c 6173 733d 226c 6162   <div class="lab
-000043d0: 656c 223e 0a20 2020 2020 2020 2020 2020  el">.           
-000043e0: 2020 203c 6c61 6265 6c20 666f 723d 2266     <label for="f
-000043f0: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
-00004400: 626a 6563 742d 7769 6467 6574 732d 666f  bject-widgets-fo
-00004410: 6f66 6965 6c64 223e 0a20 2020 2020 2020  ofield">.       
-00004420: 2020 2020 2020 2020 203c 7370 616e 3e4d           <span>M
-00004430: 7920 666f 6f20 6669 656c 643c 2f73 7061  y foo field</spa
-00004440: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
-00004450: 2020 203c 7370 616e 2063 6c61 7373 3d22     <span class="
-00004460: 7265 7175 6972 6564 223e 2a3c 2f73 7061  required">*</spa
-00004470: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
-00004480: 203c 2f6c 6162 656c 3e0a 2020 2020 2020   </label>.      
-00004490: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-000044a0: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-000044b0: 6173 733d 2277 6964 6765 7422 3e0a 2020  ass="widget">.  
-000044c0: 2020 2020 2020 2020 2020 2020 3c69 6e70              <inp
-000044d0: 7574 2063 6c61 7373 3d22 7465 7874 2d77  ut class="text-w
-000044e0: 6964 6765 7420 7265 7175 6972 6564 2069  idget required i
-000044f0: 6e74 2d66 6965 6c64 220a 2020 2020 2020  nt-field".      
-00004500: 2020 2020 2020 2020 6964 3d22 666f 726d          id="form
-00004510: 2d77 6964 6765 7473 2d73 7562 6f62 6a65  -widgets-subobje
-00004520: 6374 2d77 6964 6765 7473 2d66 6f6f 6669  ct-widgets-foofi
-00004530: 656c 6422 0a20 2020 2020 2020 2020 2020  eld".           
-00004540: 2020 206e 616d 653d 2266 6f72 6d2e 7769     name="form.wi
-00004550: 6467 6574 732e 7375 626f 626a 6563 742e  dgets.subobject.
-00004560: 7769 6467 6574 732e 666f 6f66 6965 6c64  widgets.foofield
-00004570: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00004580: 7479 7065 3d22 7465 7874 2220 7661 6c75  type="text" valu
-00004590: 653d 2236 3622 3e0a 2020 2020 2020 2020  e="66">.        
-000045a0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-000045b0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
-000045c0: 733d 226c 6162 656c 223e 0a20 2020 2020  s="label">.     
-000045d0: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
-000045e0: 666f 723d 2266 6f72 6d2d 7769 6467 6574  for="form-widget
-000045f0: 732d 7375 626f 626a 6563 742d 7769 6467  s-subobject-widg
-00004600: 6574 732d 6261 7266 6965 6c64 223e 0a20  ets-barfield">. 
-00004610: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-00004620: 7370 616e 3e4d 7920 6465 6172 2062 6172  span>My dear bar
-00004630: 3c2f 7370 616e 3e0a 2020 2020 2020 2020  </span>.        
-00004640: 2020 2020 2020 3c2f 6c61 6265 6c3e 0a20        </label>. 
-00004650: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
-00004660: 3e0a 2020 2020 2020 2020 2020 2020 3c64  >.            <d
-00004670: 6976 2063 6c61 7373 3d22 7769 6467 6574  iv class="widget
-00004680: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
-00004690: 203c 696e 7075 7420 636c 6173 733d 2274   <input class="t
-000046a0: 6578 742d 7769 6467 6574 2069 6e74 2d66  ext-widget int-f
-000046b0: 6965 6c64 220a 2020 2020 2020 2020 2020  ield".          
-000046c0: 2020 2020 6964 3d22 666f 726d 2d77 6964      id="form-wid
-000046d0: 6765 7473 2d73 7562 6f62 6a65 6374 2d77  gets-subobject-w
-000046e0: 6964 6765 7473 2d62 6172 6669 656c 6422  idgets-barfield"
-000046f0: 0a20 2020 2020 2020 2020 2020 2020 206e  .              n
-00004700: 616d 653d 2266 6f72 6d2e 7769 6467 6574  ame="form.widget
-00004710: 732e 7375 626f 626a 6563 742e 7769 6467  s.subobject.widg
-00004720: 6574 732e 6261 7266 6965 6c64 220a 2020  ets.barfield".  
-00004730: 2020 2020 2020 2020 2020 2020 7479 7065              type
-00004740: 3d22 7465 7874 2220 7661 6c75 653d 2239  ="text" value="9
-00004750: 3922 3e0a 2020 2020 2020 2020 2020 2020  9">.            
-00004760: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
-00004770: 2020 203c 696e 7075 7420 6e61 6d65 3d22     <input name="
-00004780: 666f 726d 2e77 6964 6765 7473 2e73 7562  form.widgets.sub
-00004790: 6f62 6a65 6374 2d65 6d70 7479 2d6d 6172  object-empty-mar
-000047a0: 6b65 7222 2074 7970 653d 2268 6964 6465  ker" type="hidde
-000047b0: 6e22 0a20 2020 2020 2020 2020 2020 2076  n".            v
-000047c0: 616c 7565 3d22 3122 3e0a 2020 2020 2020  alue="1">.      
-000047d0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-000047e0: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-000047f0: 2020 3c64 6976 2063 6c61 7373 3d22 726f    <div class="ro
-00004800: 7722 3e0a 2020 2020 2020 2020 2020 3c6c  w">.          <l
-00004810: 6162 656c 2066 6f72 3d22 666f 726d 2d77  abel for="form-w
-00004820: 6964 6765 7473 2d6e 616d 6522 3e6e 616d  idgets-name">nam
-00004830: 653c 2f6c 6162 656c 3e0a 2020 2020 2020  e</label>.      
-00004840: 2020 2020 3c69 6e70 7574 2063 6c61 7373      <input class
-00004850: 3d22 7465 7874 2d77 6964 6765 7420 7265  ="text-widget re
-00004860: 7175 6972 6564 2074 6578 746c 696e 652d  quired textline-
-00004870: 6669 656c 6422 2069 643d 2266 6f72 6d2d  field" id="form-
-00004880: 7769 6467 6574 732d 6e61 6d65 220a 2020  widgets-name".  
-00004890: 2020 2020 2020 2020 6e61 6d65 3d22 666f          name="fo
-000048a0: 726d 2e77 6964 6765 7473 2e6e 616d 6522  rm.widgets.name"
-000048b0: 2074 7970 653d 2274 6578 7422 2076 616c   type="text" val
-000048c0: 7565 3d22 6669 7273 7422 3e0a 2020 2020  ue="first">.    
-000048d0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-000048e0: 2020 203c 6469 7620 636c 6173 733d 2261     <div class="a
-000048f0: 6374 696f 6e22 3e0a 2020 2020 2020 2020  ction">.        
-00004900: 2020 3c69 6e70 7574 2063 6c61 7373 3d22    <input class="
-00004910: 7375 626d 6974 2d77 6964 6765 7420 6275  submit-widget bu
-00004920: 7474 6f6e 2d66 6965 6c64 2220 6964 3d22  tton-field" id="
-00004930: 666f 726d 2d62 7574 746f 6e73 2d61 7070  form-buttons-app
-00004940: 6c79 220a 2020 2020 2020 2020 2020 6e61  ly".          na
-00004950: 6d65 3d22 666f 726d 2e62 7574 746f 6e73  me="form.buttons
-00004960: 2e61 7070 6c79 2220 7479 7065 3d22 7375  .apply" type="su
-00004970: 626d 6974 2220 7661 6c75 653d 2241 7070  bmit" value="App
-00004980: 6c79 223e 0a20 2020 2020 2020 203c 2f64  ly">.        </d
-00004990: 6976 3e0a 2020 2020 2020 3c2f 666f 726d  iv>.      </form
-000049a0: 3e0a 2020 2020 3c2f 626f 6479 3e0a 2020  >.    </body>.  
-000049b0: 3c2f 6874 6d6c 3e0a 0a4c 6574 2773 206d  </html>..Let's m
-000049c0: 6f64 6966 7920 7468 6520 7661 6c75 6573  odify the values
-000049d0: 3a0a 0a20 203e 3e3e 2072 6571 7565 7374  :..  >>> request
-000049e0: 203d 2054 6573 7452 6571 7565 7374 2866   = TestRequest(f
-000049f0: 6f72 6d3d 7b0a 2020 2e2e 2e20 2020 2020  orm={.  ...     
-00004a00: 2766 6f72 6d2e 7769 6467 6574 732e 7375  'form.widgets.su
-00004a10: 626f 626a 6563 742e 7769 6467 6574 732e  bobject.widgets.
-00004a20: 666f 6f66 6965 6c64 273a 7527 3433 272c  foofield':u'43',
-00004a30: 0a20 202e 2e2e 2020 2020 2027 666f 726d  .  ...     'form
-00004a40: 2e77 6964 6765 7473 2e73 7562 6f62 6a65  .widgets.subobje
-00004a50: 6374 2e77 6964 6765 7473 2e62 6172 6669  ct.widgets.barfi
-00004a60: 656c 6427 3a75 2735 3527 2c0a 2020 2e2e  eld':u'55',.  ..
-00004a70: 2e20 2020 2020 2766 6f72 6d2e 7769 6467  .     'form.widg
-00004a80: 6574 732e 6e61 6d65 273a 7527 6669 7273  ets.name':u'firs
-00004a90: 7427 2c0a 2020 2e2e 2e20 2020 2020 2766  t',.  ...     'f
-00004aa0: 6f72 6d2e 7769 6467 6574 732e 7375 626f  orm.widgets.subo
-00004ab0: 626a 6563 742d 656d 7074 792d 6d61 726b  bject-empty-mark
-00004ac0: 6572 273a 7527 3127 2c0a 2020 2e2e 2e20  er':u'1',.  ... 
-00004ad0: 2020 2020 2766 6f72 6d2e 6275 7474 6f6e      'form.button
-00004ae0: 732e 6170 706c 7927 3a27 4170 706c 7927  s.apply':'Apply'
-00004af0: 7d29 0a0a 5468 6579 2061 7265 2073 7469  })..They are sti
-00004b00: 6c6c 2074 6865 2073 616d 653a 0a0a 2020  ll the same:..  
-00004b10: 3e3e 3e20 726f 6f74 5b27 6669 7273 7427  >>> root['first'
-00004b20: 5d2e 7375 626f 626a 6563 742e 666f 6f66  ].subobject.foof
-00004b30: 6965 6c64 0a20 2036 360a 2020 3e3e 3e20  ield.  66.  >>> 
-00004b40: 726f 6f74 5b27 6669 7273 7427 5d2e 7375  root['first'].su
-00004b50: 626f 626a 6563 742e 6261 7266 6965 6c64  bobject.barfield
-00004b60: 0a20 2039 390a 0a20 203e 3e3e 2065 6469  .  99..  >>> edi
-00004b70: 7466 6f72 6d2e 7265 7175 6573 7420 3d20  tform.request = 
-00004b80: 7265 7175 6573 740a 2020 3e3e 3e20 6564  request.  >>> ed
-00004b90: 6974 666f 726d 2e75 7064 6174 6528 290a  itform.update().
-00004ba0: 0a55 6e74 696c 2077 6520 6861 7665 2075  .Until we have u
-00004bb0: 7064 6174 6564 2074 6865 2066 6f72 6d3a  pdated the form:
-00004bc0: 0a0a 2020 3e3e 3e20 726f 6f74 5b27 6669  ..  >>> root['fi
-00004bd0: 7273 7427 5d2e 7375 626f 626a 6563 742e  rst'].subobject.
-00004be0: 666f 6f66 6965 6c64 0a20 2034 330a 2020  foofield.  43.  
-00004bf0: 3e3e 3e20 726f 6f74 5b27 6669 7273 7427  >>> root['first'
-00004c00: 5d2e 7375 626f 626a 6563 742e 6261 7266  ].subobject.barf
-00004c10: 6965 6c64 0a20 2035 350a 0a4c 6574 2773  ield.  55..Let's
-00004c20: 2073 6565 206f 7572 2065 7665 6e74 206c   see our event l
-00004c30: 6f67 3a0a 0a20 203e 3e3e 206c 656e 2865  og:..  >>> len(e
-00004c40: 7665 6e74 6c6f 6729 0a20 2032 0a0a 2020  ventlog).  2..  
-00004c50: 3e3e 3e20 7072 696e 7445 7665 6e74 7328  >>> printEvents(
-00004c60: 290a 2020 3c7a 6f70 652e 2e2e 4f62 6a65  ).  <zope...Obje
-00004c70: 6374 4d6f 6469 6669 6564 4576 656e 7420  ctModifiedEvent 
-00004c80: 6f62 6a65 6374 2061 7420 2e2e 2e3e 0a20  object at ...>. 
-00004c90: 207a 3363 2e66 6f72 6d2e 7465 7374 696e   z3c.form.testin
-00004ca0: 672e 494d 7953 7562 4f62 6a65 6374 0a20  g.IMySubObject. 
-00004cb0: 205b 2762 6172 6669 656c 6427 2c20 2766   ['barfield', 'f
-00004cc0: 6f6f 6669 656c 6427 5d0a 2020 3c7a 6f70  oofield'].  <zop
-00004cd0: 652e 2e2e 4f62 6a65 6374 4d6f 6469 6669  e...ObjectModifi
-00004ce0: 6564 4576 656e 7420 6f62 6a65 6374 2061  edEvent object a
-00004cf0: 7420 2e2e 2e3e 0a20 207a 3363 2e66 6f72  t ...>.  z3c.for
-00004d00: 6d2e 7465 7374 696e 672e 494d 794f 626a  m.testing.IMyObj
-00004d10: 6563 740a 2020 5b27 7375 626f 626a 6563  ect.  ['subobjec
-00004d20: 7427 5d0a 0a0a 2020 3e3e 3e20 6576 656e  t']...  >>> even
-00004d30: 746c 6f67 3d5b 5d0a 0a0a 4166 7465 7220  tlog=[]...After 
-00004d40: 7468 6520 7570 6461 7465 2074 6865 2066  the update the f
-00004d50: 6f72 6d20 7361 7973 2074 6861 7420 7468  orm says that th
-00004d60: 6520 7661 6c75 6573 2067 6f74 2075 7064  e values got upd
-00004d70: 6174 6564 2061 6e64 2072 656e 6465 7273  ated and renders
-00004d80: 2074 6865 206e 6577 0a76 616c 7565 733a   the new.values:
-00004d90: 0a0a 2020 3e3e 3e20 7072 696e 7428 6564  ..  >>> print(ed
-00004da0: 6974 666f 726d 2e72 656e 6465 7228 2929  itform.render())
-00004db0: 0a20 203c 6874 6d6c 2078 6d6c 6e73 3d22  .  <html xmlns="
-00004dc0: 6874 7470 3a2f 2f77 7777 2e77 332e 6f72  http://www.w3.or
-00004dd0: 672f 3139 3939 2f78 6874 6d6c 223e 0a20  g/1999/xhtml">. 
-00004de0: 2020 203c 626f 6479 3e0a 2020 2020 2020     <body>.      
-00004df0: 3c69 3e44 6174 6120 7375 6363 6573 7366  <i>Data successf
-00004e00: 756c 6c79 2075 7064 6174 6564 2e3c 2f69  ully updated.</i
-00004e10: 3e0a 2020 2020 2020 3c66 6f72 6d20 6163  >.      <form ac
-00004e20: 7469 6f6e 3d22 2e22 3e0a 2020 2020 2020  tion=".">.      
-00004e30: 2020 3c64 6976 2063 6c61 7373 3d22 726f    <div class="ro
-00004e40: 7722 3e0a 2020 2020 2020 2020 2020 3c6c  w">.          <l
-00004e50: 6162 656c 2066 6f72 3d22 666f 726d 2d77  abel for="form-w
-00004e60: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
-00004e70: 223e 6d79 206f 626a 6563 743c 2f6c 6162  ">my object</lab
-00004e80: 656c 3e0a 2020 2020 2020 2020 2020 3c64  el>.          <d
-00004e90: 6976 2063 6c61 7373 3d22 6f62 6a65 6374  iv class="object
-00004ea0: 2d77 6964 6765 7420 7265 7175 6972 6564  -widget required
-00004eb0: 223e 0a20 2020 2020 2020 2020 2020 203c  ">.            <
-00004ec0: 6469 7620 636c 6173 733d 226c 6162 656c  div class="label
-00004ed0: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
-00004ee0: 203c 6c61 6265 6c20 666f 723d 2266 6f72   <label for="for
-00004ef0: 6d2d 7769 6467 6574 732d 7375 626f 626a  m-widgets-subobj
-00004f00: 6563 742d 7769 6467 6574 732d 666f 6f66  ect-widgets-foof
-00004f10: 6965 6c64 223e 0a20 2020 2020 2020 2020  ield">.         
-00004f20: 2020 2020 2020 203c 7370 616e 3e4d 7920         <span>My 
-00004f30: 666f 6f20 6669 656c 643c 2f73 7061 6e3e  foo field</span>
-00004f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004f50: 203c 7370 616e 2063 6c61 7373 3d22 7265   <span class="re
-00004f60: 7175 6972 6564 223e 2a3c 2f73 7061 6e3e  quired">*</span>
-00004f70: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
-00004f80: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
-00004f90: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-00004fa0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
-00004fb0: 733d 2277 6964 6765 7422 3e0a 2020 2020  s="widget">.    
-00004fc0: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
-00004fd0: 2063 6c61 7373 3d22 7465 7874 2d77 6964   class="text-wid
-00004fe0: 6765 7420 7265 7175 6972 6564 2069 6e74  get required int
-00004ff0: 2d66 6965 6c64 220a 2020 2020 2020 2020  -field".        
-00005000: 2020 2020 2020 6964 3d22 666f 726d 2d77        id="form-w
-00005010: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
-00005020: 2d77 6964 6765 7473 2d66 6f6f 6669 656c  -widgets-foofiel
-00005030: 6422 0a20 2020 2020 2020 2020 2020 2020  d".             
-00005040: 206e 616d 653d 2266 6f72 6d2e 7769 6467   name="form.widg
-00005050: 6574 732e 7375 626f 626a 6563 742e 7769  ets.subobject.wi
-00005060: 6467 6574 732e 666f 6f66 6965 6c64 220a  dgets.foofield".
-00005070: 2020 2020 2020 2020 2020 2020 2020 7479                ty
-00005080: 7065 3d22 7465 7874 2220 7661 6c75 653d  pe="text" value=
-00005090: 2234 3322 3e0a 2020 2020 2020 2020 2020  "43">.          
-000050a0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-000050b0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-000050c0: 226c 6162 656c 223e 0a20 2020 2020 2020  "label">.       
-000050d0: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
-000050e0: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
-000050f0: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
-00005100: 732d 6261 7266 6965 6c64 223e 0a20 2020  s-barfield">.   
-00005110: 2020 2020 2020 2020 2020 2020 203c 7370               <sp
-00005120: 616e 3e4d 7920 6465 6172 2062 6172 3c2f  an>My dear bar</
-00005130: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
-00005140: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
-00005150: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
-00005160: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
-00005170: 2063 6c61 7373 3d22 7769 6467 6574 223e   class="widget">
-00005180: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
-00005190: 696e 7075 7420 636c 6173 733d 2274 6578  input class="tex
-000051a0: 742d 7769 6467 6574 2069 6e74 2d66 6965  t-widget int-fie
-000051b0: 6c64 220a 2020 2020 2020 2020 2020 2020  ld".            
-000051c0: 2020 6964 3d22 666f 726d 2d77 6964 6765    id="form-widge
-000051d0: 7473 2d73 7562 6f62 6a65 6374 2d77 6964  ts-subobject-wid
-000051e0: 6765 7473 2d62 6172 6669 656c 6422 0a20  gets-barfield". 
-000051f0: 2020 2020 2020 2020 2020 2020 206e 616d               nam
-00005200: 653d 2266 6f72 6d2e 7769 6467 6574 732e  e="form.widgets.
-00005210: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
-00005220: 732e 6261 7266 6965 6c64 220a 2020 2020  s.barfield".    
-00005230: 2020 2020 2020 2020 2020 7479 7065 3d22            type="
-00005240: 7465 7874 2220 7661 6c75 653d 2235 3522  text" value="55"
-00005250: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
-00005260: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00005270: 203c 696e 7075 7420 6e61 6d65 3d22 666f   <input name="fo
-00005280: 726d 2e77 6964 6765 7473 2e73 7562 6f62  rm.widgets.subob
-00005290: 6a65 6374 2d65 6d70 7479 2d6d 6172 6b65  ject-empty-marke
-000052a0: 7222 2074 7970 653d 2268 6964 6465 6e22  r" type="hidden"
-000052b0: 0a20 2020 2020 2020 2020 2020 2076 616c  .            val
-000052c0: 7565 3d22 3122 3e0a 2020 2020 2020 2020  ue="1">.        
-000052d0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-000052e0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-000052f0: 3c64 6976 2063 6c61 7373 3d22 726f 7722  <div class="row"
-00005300: 3e0a 2020 2020 2020 2020 2020 3c6c 6162  >.          <lab
-00005310: 656c 2066 6f72 3d22 666f 726d 2d77 6964  el for="form-wid
-00005320: 6765 7473 2d6e 616d 6522 3e6e 616d 653c  gets-name">name<
-00005330: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
-00005340: 2020 3c69 6e70 7574 2063 6c61 7373 3d22    <input class="
-00005350: 7465 7874 2d77 6964 6765 7420 7265 7175  text-widget requ
-00005360: 6972 6564 2074 6578 746c 696e 652d 6669  ired textline-fi
-00005370: 656c 6422 2069 643d 2266 6f72 6d2d 7769  eld" id="form-wi
-00005380: 6467 6574 732d 6e61 6d65 220a 2020 2020  dgets-name".    
-00005390: 2020 2020 2020 6e61 6d65 3d22 666f 726d        name="form
-000053a0: 2e77 6964 6765 7473 2e6e 616d 6522 2074  .widgets.name" t
-000053b0: 7970 653d 2274 6578 7422 2076 616c 7565  ype="text" value
-000053c0: 3d22 6669 7273 7422 3e0a 2020 2020 2020  ="first">.      
-000053d0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-000053e0: 203c 6469 7620 636c 6173 733d 2261 6374   <div class="act
-000053f0: 696f 6e22 3e0a 2020 2020 2020 2020 2020  ion">.          
-00005400: 3c69 6e70 7574 2063 6c61 7373 3d22 7375  <input class="su
-00005410: 626d 6974 2d77 6964 6765 7420 6275 7474  bmit-widget butt
-00005420: 6f6e 2d66 6965 6c64 2220 6964 3d22 666f  on-field" id="fo
-00005430: 726d 2d62 7574 746f 6e73 2d61 7070 6c79  rm-buttons-apply
-00005440: 220a 2020 2020 2020 2020 2020 6e61 6d65  ".          name
-00005450: 3d22 666f 726d 2e62 7574 746f 6e73 2e61  ="form.buttons.a
-00005460: 7070 6c79 2220 7479 7065 3d22 7375 626d  pply" type="subm
-00005470: 6974 2220 7661 6c75 653d 2241 7070 6c79  it" value="Apply
-00005480: 223e 0a20 2020 2020 2020 203c 2f64 6976  ">.        </div
-00005490: 3e0a 2020 2020 2020 3c2f 666f 726d 3e0a  >.      </form>.
-000054a0: 2020 2020 3c2f 626f 6479 3e0a 2020 3c2f      </body>.  </
-000054b0: 6874 6d6c 3e0a 0a0a 4c65 7427 7320 7365  html>...Let's se
-000054c0: 6520 6966 2074 6865 2077 6964 6765 7420  e if the widget 
-000054d0: 6b65 6570 7320 7468 6520 6f6c 6420 6f62  keeps the old ob
-000054e0: 6a65 6374 206f 6e20 6564 6974 696e 673a  ject on editing:
-000054f0: 0a0a 5765 2061 6464 2061 2073 7065 6369  ..We add a speci
-00005500: 616c 2070 726f 7065 7274 7920 746f 206b  al property to k
-00005510: 6565 7020 7472 6163 6b20 6f66 2074 6865  eep track of the
-00005520: 206f 626a 6563 743a 0a0a 2020 3e3e 3e20   object:..  >>> 
-00005530: 726f 6f74 5b27 6669 7273 7427 5d2e 5f5f  root['first'].__
-00005540: 6d61 726b 6572 5f5f 203d 2022 5468 6973  marker__ = "This
-00005550: 4d75 7374 5374 6179 5468 6553 616d 6522  MustStayTheSame"
-00005560: 0a0a 2020 3e3e 3e20 726f 6f74 5b27 6669  ..  >>> root['fi
-00005570: 7273 7427 5d2e 7375 626f 626a 6563 742e  rst'].subobject.
-00005580: 666f 6f66 6965 6c64 0a20 2034 330a 2020  foofield.  43.  
-00005590: 3e3e 3e20 726f 6f74 5b27 6669 7273 7427  >>> root['first'
-000055a0: 5d2e 7375 626f 626a 6563 742e 6261 7266  ].subobject.barf
-000055b0: 6965 6c64 0a20 2035 350a 0a4c 6574 2773  ield.  55..Let's
-000055c0: 206d 6f64 6966 7920 7468 6520 7661 6c75   modify the valu
-000055d0: 6573 3a0a 0a20 203e 3e3e 2072 6571 7565  es:..  >>> reque
-000055e0: 7374 203d 2054 6573 7452 6571 7565 7374  st = TestRequest
-000055f0: 2866 6f72 6d3d 7b0a 2020 2e2e 2e20 2020  (form={.  ...   
-00005600: 2020 2766 6f72 6d2e 7769 6467 6574 732e    'form.widgets.
-00005610: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
-00005620: 732e 666f 6f66 6965 6c64 273a 7527 3636  s.foofield':u'66
-00005630: 3627 2c0a 2020 2e2e 2e20 2020 2020 2766  6',.  ...     'f
-00005640: 6f72 6d2e 7769 6467 6574 732e 7375 626f  orm.widgets.subo
-00005650: 626a 6563 742e 7769 6467 6574 732e 6261  bject.widgets.ba
-00005660: 7266 6965 6c64 273a 7527 3939 3927 2c0a  rfield':u'999',.
-00005670: 2020 2e2e 2e20 2020 2020 2766 6f72 6d2e    ...     'form.
-00005680: 7769 6467 6574 732e 6e61 6d65 273a 7527  widgets.name':u'
-00005690: 6669 7273 7427 2c0a 2020 2e2e 2e20 2020  first',.  ...   
-000056a0: 2020 2766 6f72 6d2e 7769 6467 6574 732e    'form.widgets.
-000056b0: 7375 626f 626a 6563 742d 656d 7074 792d  subobject-empty-
-000056c0: 6d61 726b 6572 273a 7527 3127 2c0a 2020  marker':u'1',.  
-000056d0: 2e2e 2e20 2020 2020 2766 6f72 6d2e 6275  ...     'form.bu
-000056e0: 7474 6f6e 732e 6170 706c 7927 3a27 4170  ttons.apply':'Ap
-000056f0: 706c 7927 7d29 0a0a 2020 3e3e 3e20 6564  ply'})..  >>> ed
-00005700: 6974 666f 726d 2e72 6571 7565 7374 203d  itform.request =
-00005710: 2072 6571 7565 7374 0a0a 2020 3e3e 3e20   request..  >>> 
-00005720: 6564 6974 666f 726d 2e75 7064 6174 6528  editform.update(
-00005730: 290a 0a4c 6574 2773 2063 6865 636b 2077  )..Let's check w
-00005740: 6861 7420 6172 6520 7468 6572 2065 7375  hat are ther esu
-00005750: 6c74 7320 6f66 2074 6865 2075 7064 6174  lts of the updat
-00005760: 653a 0a0a 2020 3e3e 3e20 726f 6f74 5b27  e:..  >>> root['
-00005770: 6669 7273 7427 5d2e 7375 626f 626a 6563  first'].subobjec
-00005780: 742e 666f 6f66 6965 6c64 0a20 2036 3636  t.foofield.  666
-00005790: 0a20 203e 3e3e 2072 6f6f 745b 2766 6972  .  >>> root['fir
-000057a0: 7374 275d 2e73 7562 6f62 6a65 6374 2e62  st'].subobject.b
-000057b0: 6172 6669 656c 640a 2020 3939 390a 2020  arfield.  999.  
-000057c0: 3e3e 3e20 726f 6f74 5b27 6669 7273 7427  >>> root['first'
-000057d0: 5d2e 5f5f 6d61 726b 6572 5f5f 0a20 2027  ].__marker__.  '
-000057e0: 5468 6973 4d75 7374 5374 6179 5468 6553  ThisMustStayTheS
-000057f0: 616d 6527 0a0a 0a4c 6574 2773 206d 616b  ame'...Let's mak
-00005800: 6520 6120 6e61 7374 7920 6572 726f 722c  e a nasty error,
-00005810: 2062 7920 7479 7069 6e67 2027 6261 6427   by typing 'bad'
-00005820: 2069 6e73 7465 6164 206f 6620 616e 2069   instead of an i
-00005830: 6e74 6567 6572 3a0a 0a20 203e 3e3e 2072  nteger:..  >>> r
-00005840: 6571 7565 7374 203d 2054 6573 7452 6571  equest = TestReq
-00005850: 7565 7374 2866 6f72 6d3d 7b0a 2020 2e2e  uest(form={.  ..
-00005860: 2e20 2020 2020 2766 6f72 6d2e 7769 6467  .     'form.widg
-00005870: 6574 732e 7375 626f 626a 6563 742e 7769  ets.subobject.wi
-00005880: 6467 6574 732e 666f 6f66 6965 6c64 273a  dgets.foofield':
-00005890: 7527 3939 272c 0a20 202e 2e2e 2020 2020  u'99',.  ...    
-000058a0: 2027 666f 726d 2e77 6964 6765 7473 2e73   'form.widgets.s
-000058b0: 7562 6f62 6a65 6374 2e77 6964 6765 7473  ubobject.widgets
-000058c0: 2e62 6172 6669 656c 6427 3a75 2762 6164  .barfield':u'bad
-000058d0: 272c 0a20 202e 2e2e 2020 2020 2027 666f  ',.  ...     'fo
-000058e0: 726d 2e77 6964 6765 7473 2e6e 616d 6527  rm.widgets.name'
-000058f0: 3a75 2766 6972 7374 272c 0a20 202e 2e2e  :u'first',.  ...
-00005900: 2020 2020 2027 666f 726d 2e77 6964 6765       'form.widge
-00005910: 7473 2e73 7562 6f62 6a65 6374 2d65 6d70  ts.subobject-emp
-00005920: 7479 2d6d 6172 6b65 7227 3a75 2731 272c  ty-marker':u'1',
-00005930: 0a20 202e 2e2e 2020 2020 2027 666f 726d  .  ...     'form
-00005940: 2e62 7574 746f 6e73 2e61 7070 6c79 273a  .buttons.apply':
-00005950: 2741 7070 6c79 277d 290a 0a20 203e 3e3e  'Apply'})..  >>>
-00005960: 2065 6469 7466 6f72 6d2e 7265 7175 6573   editform.reques
-00005970: 7420 3d20 7265 7175 6573 740a 2020 3e3e  t = request.  >>
-00005980: 3e20 6576 656e 746c 6f67 3d5b 5d0a 2020  > eventlog=[].  
-00005990: 3e3e 3e20 6564 6974 666f 726d 2e75 7064  >>> editform.upd
-000059a0: 6174 6528 290a 0a45 7665 6e74 6c6f 6720  ate()..Eventlog 
-000059b0: 6d75 7374 2062 6520 636c 6561 6e3a 0a0a  must be clean:..
-000059c0: 2020 3e3e 3e20 6c65 6e28 6576 656e 746c    >>> len(eventl
-000059d0: 6f67 290a 2020 300a 0a57 6174 6368 2066  og).  0..Watch f
-000059e0: 6f72 2074 6865 2065 7272 6f72 206d 6573  or the error mes
-000059f0: 7361 6765 2069 6e20 7468 6520 4854 4d4c  sage in the HTML
-00005a00: 3a0a 6974 2068 6173 2074 6f20 6170 7065  :.it has to appe
-00005a10: 6172 2061 7420 7468 6520 6669 656c 6420  ar at the field 
-00005a20: 6974 7365 6c66 2061 6e64 2061 7420 7468  itself and at th
-00005a30: 6520 746f 7020 6f66 2074 6865 2066 6f72  e top of the for
-00005a40: 6d3a 0a0a 2020 3e3e 3e20 7072 696e 7428  m:..  >>> print(
-00005a50: 6564 6974 666f 726d 2e72 656e 6465 7228  editform.render(
-00005a60: 2929 0a20 203c 6874 6d6c 2078 6d6c 6e73  )).  <html xmlns
-00005a70: 3d22 6874 7470 3a2f 2f77 7777 2e77 332e  ="http://www.w3.
-00005a80: 6f72 672f 3139 3939 2f78 6874 6d6c 223e  org/1999/xhtml">
-00005a90: 0a20 2020 203c 626f 6479 3e0a 2020 2020  .    <body>.    
-00005aa0: 2020 3c69 3e54 6865 7265 2077 6572 6520    <i>There were 
-00005ab0: 736f 6d65 2065 7272 6f72 732e 3c2f 693e  some errors.</i>
-00005ac0: 0a20 2020 2020 203c 756c 3e0a 2020 2020  .      <ul>.    
-00005ad0: 2020 2020 3c6c 693e 0a20 2020 2020 2020      <li>.       
-00005ae0: 206d 7920 6f62 6a65 6374 3a0a 2020 2020   my object:.    
-00005af0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-00005b00: 3d22 6572 726f 7222 3e54 6865 2065 6e74  ="error">The ent
-00005b10: 6572 6564 2076 616c 7565 2069 7320 6e6f  ered value is no
-00005b20: 7420 6120 7661 6c69 6420 696e 7465 6765  t a valid intege
-00005b30: 7220 6c69 7465 7261 6c2e 3c2f 6469 763e  r literal.</div>
-00005b40: 0a20 2020 2020 2020 203c 2f6c 693e 0a20  .        </li>. 
-00005b50: 2020 2020 203c 2f75 6c3e 0a20 2020 2020       </ul>.     
-00005b60: 203c 666f 726d 2061 6374 696f 6e3d 222e   <form action=".
-00005b70: 223e 0a20 2020 2020 2020 203c 6469 7620  ">.        <div 
-00005b80: 636c 6173 733d 2272 6f77 223e 0a20 2020  class="row">.   
-00005b90: 2020 2020 2020 203c 623e 0a20 2020 2020         <b>.     
-00005ba0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
-00005bb0: 733d 2265 7272 6f72 223e 5468 6520 656e  s="error">The en
-00005bc0: 7465 7265 6420 7661 6c75 6520 6973 206e  tered value is n
-00005bd0: 6f74 2061 2076 616c 6964 2069 6e74 6567  ot a valid integ
-00005be0: 6572 206c 6974 6572 616c 2e3c 2f64 6976  er literal.</div
-00005bf0: 3e0a 2020 2020 2020 2020 2020 3c2f 623e  >.          </b>
-00005c00: 0a20 2020 2020 2020 2020 203c 6c61 6265  .          <labe
-00005c10: 6c20 666f 723d 2266 6f72 6d2d 7769 6467  l for="form-widg
-00005c20: 6574 732d 7375 626f 626a 6563 7422 3e6d  ets-subobject">m
-00005c30: 7920 6f62 6a65 6374 3c2f 6c61 6265 6c3e  y object</label>
-00005c40: 0a20 2020 2020 2020 2020 203c 6469 7620  .          <div 
-00005c50: 636c 6173 733d 226f 626a 6563 742d 7769  class="object-wi
-00005c60: 6467 6574 2072 6571 7569 7265 6422 3e0a  dget required">.
-00005c70: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
-00005c80: 2063 6c61 7373 3d22 6c61 6265 6c22 3e0a   class="label">.
-00005c90: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
-00005ca0: 6162 656c 2066 6f72 3d22 666f 726d 2d77  abel for="form-w
-00005cb0: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
-00005cc0: 2d77 6964 6765 7473 2d66 6f6f 6669 656c  -widgets-foofiel
-00005cd0: 6422 3e0a 2020 2020 2020 2020 2020 2020  d">.            
-00005ce0: 2020 2020 3c73 7061 6e3e 4d79 2066 6f6f      <span>My foo
-00005cf0: 2066 6965 6c64 3c2f 7370 616e 3e0a 2020   field</span>.  
-00005d00: 2020 2020 2020 2020 2020 2020 2020 3c73                <s
-00005d10: 7061 6e20 636c 6173 733d 2272 6571 7569  pan class="requi
-00005d20: 7265 6422 3e2a 3c2f 7370 616e 3e0a 2020  red">*</span>.  
-00005d30: 2020 2020 2020 2020 2020 2020 3c2f 6c61              </la
-00005d40: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
-00005d50: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-00005d60: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00005d70: 7769 6467 6574 223e 0a20 2020 2020 2020  widget">.       
-00005d80: 2020 2020 2020 203c 696e 7075 7420 636c         <input cl
-00005d90: 6173 733d 2274 6578 742d 7769 6467 6574  ass="text-widget
-00005da0: 2072 6571 7569 7265 6420 696e 742d 6669   required int-fi
-00005db0: 656c 6422 0a20 2020 2020 2020 2020 2020  eld".           
-00005dc0: 2020 2069 643d 2266 6f72 6d2d 7769 6467     id="form-widg
-00005dd0: 6574 732d 7375 626f 626a 6563 742d 7769  ets-subobject-wi
-00005de0: 6467 6574 732d 666f 6f66 6965 6c64 220a  dgets-foofield".
-00005df0: 2020 2020 2020 2020 2020 2020 2020 6e61                na
-00005e00: 6d65 3d22 666f 726d 2e77 6964 6765 7473  me="form.widgets
-00005e10: 2e73 7562 6f62 6a65 6374 2e77 6964 6765  .subobject.widge
-00005e20: 7473 2e66 6f6f 6669 656c 6422 0a20 2020  ts.foofield".   
-00005e30: 2020 2020 2020 2020 2020 2074 7970 653d             type=
-00005e40: 2274 6578 7422 2076 616c 7565 3d22 3939  "text" value="99
-00005e50: 223e 0a20 2020 2020 2020 2020 2020 203c  ">.            <
-00005e60: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
-00005e70: 2020 3c64 6976 2063 6c61 7373 3d22 6c61    <div class="la
-00005e80: 6265 6c22 3e0a 2020 2020 2020 2020 2020  bel">.          
-00005e90: 2020 2020 3c6c 6162 656c 2066 6f72 3d22      <label for="
-00005ea0: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
-00005eb0: 6f62 6a65 6374 2d77 6964 6765 7473 2d62  object-widgets-b
-00005ec0: 6172 6669 656c 6422 3e0a 2020 2020 2020  arfield">.      
-00005ed0: 2020 2020 2020 2020 2020 3c73 7061 6e3e            <span>
-00005ee0: 4d79 2064 6561 7220 6261 723c 2f73 7061  My dear bar</spa
-00005ef0: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
-00005f00: 203c 2f6c 6162 656c 3e0a 2020 2020 2020   </label>.      
-00005f10: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00005f20: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-00005f30: 6173 733d 2265 7272 6f72 223e 5468 6520  ass="error">The 
-00005f40: 656e 7465 7265 6420 7661 6c75 6520 6973  entered value is
-00005f50: 206e 6f74 2061 2076 616c 6964 2069 6e74   not a valid int
-00005f60: 6567 6572 206c 6974 6572 616c 2e3c 2f64  eger literal.</d
-00005f70: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
-00005f80: 3c64 6976 2063 6c61 7373 3d22 7769 6467  <div class="widg
-00005f90: 6574 223e 0a20 2020 2020 2020 2020 2020  et">.           
-00005fa0: 2020 203c 696e 7075 7420 636c 6173 733d     <input class=
-00005fb0: 2274 6578 742d 7769 6467 6574 2069 6e74  "text-widget int
-00005fc0: 2d66 6965 6c64 220a 2020 2020 2020 2020  -field".        
-00005fd0: 2020 2020 2020 6964 3d22 666f 726d 2d77        id="form-w
-00005fe0: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
-00005ff0: 2d77 6964 6765 7473 2d62 6172 6669 656c  -widgets-barfiel
-00006000: 6422 0a20 2020 2020 2020 2020 2020 2020  d".             
-00006010: 206e 616d 653d 2266 6f72 6d2e 7769 6467   name="form.widg
-00006020: 6574 732e 7375 626f 626a 6563 742e 7769  ets.subobject.wi
-00006030: 6467 6574 732e 6261 7266 6965 6c64 220a  dgets.barfield".
-00006040: 2020 2020 2020 2020 2020 2020 2020 7479                ty
-00006050: 7065 3d22 7465 7874 2220 7661 6c75 653d  pe="text" value=
-00006060: 2262 6164 223e 0a20 2020 2020 2020 2020  "bad">.         
-00006070: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-00006080: 2020 2020 2020 3c69 6e70 7574 206e 616d        <input nam
-00006090: 653d 2266 6f72 6d2e 7769 6467 6574 732e  e="form.widgets.
-000060a0: 7375 626f 626a 6563 742d 656d 7074 792d  subobject-empty-
-000060b0: 6d61 726b 6572 2220 7479 7065 3d22 6869  marker" type="hi
-000060c0: 6464 656e 220a 2020 2020 2020 2020 2020  dden".          
-000060d0: 2020 7661 6c75 653d 2231 223e 0a20 2020    value="1">.   
-000060e0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
-000060f0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00006100: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-00006110: 2272 6f77 223e 0a20 2020 2020 2020 2020  "row">.         
-00006120: 203c 6c61 6265 6c20 666f 723d 2266 6f72   <label for="for
-00006130: 6d2d 7769 6467 6574 732d 6e61 6d65 223e  m-widgets-name">
-00006140: 6e61 6d65 3c2f 6c61 6265 6c3e 0a20 2020  name</label>.   
-00006150: 2020 2020 2020 203c 696e 7075 7420 636c         <input cl
-00006160: 6173 733d 2274 6578 742d 7769 6467 6574  ass="text-widget
-00006170: 2072 6571 7569 7265 6420 7465 7874 6c69   required textli
-00006180: 6e65 2d66 6965 6c64 2220 6964 3d22 666f  ne-field" id="fo
-00006190: 726d 2d77 6964 6765 7473 2d6e 616d 6522  rm-widgets-name"
-000061a0: 0a20 2020 2020 2020 2020 206e 616d 653d  .          name=
-000061b0: 2266 6f72 6d2e 7769 6467 6574 732e 6e61  "form.widgets.na
-000061c0: 6d65 2220 7479 7065 3d22 7465 7874 2220  me" type="text" 
-000061d0: 7661 6c75 653d 2266 6972 7374 223e 0a20  value="first">. 
-000061e0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
-000061f0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-00006200: 3d22 6163 7469 6f6e 223e 0a20 2020 2020  ="action">.     
-00006210: 2020 2020 203c 696e 7075 7420 636c 6173       <input clas
-00006220: 733d 2273 7562 6d69 742d 7769 6467 6574  s="submit-widget
-00006230: 2062 7574 746f 6e2d 6669 656c 6422 2069   button-field" i
-00006240: 643d 2266 6f72 6d2d 6275 7474 6f6e 732d  d="form-buttons-
-00006250: 6170 706c 7922 0a20 2020 2020 2020 2020  apply".         
-00006260: 206e 616d 653d 2266 6f72 6d2e 6275 7474   name="form.butt
-00006270: 6f6e 732e 6170 706c 7922 2074 7970 653d  ons.apply" type=
-00006280: 2273 7562 6d69 7422 2076 616c 7565 3d22  "submit" value="
-00006290: 4170 706c 7922 3e0a 2020 2020 2020 2020  Apply">.        
-000062a0: 3c2f 6469 763e 0a20 2020 2020 203c 2f66  </div>.      </f
-000062b0: 6f72 6d3e 0a20 2020 203c 2f62 6f64 793e  orm>.    </body>
-000062c0: 0a20 203c 2f68 746d 6c3e 0a0a 5468 6520  .  </html>..The 
-000062d0: 6f62 6a65 6374 2076 616c 7565 7320 6d75  object values mu
-000062e0: 7374 2073 7461 7920 6174 2074 6865 206f  st stay at the o
-000062f0: 6c64 206f 6e65 733a 0a0a 2020 3e3e 3e20  ld ones:..  >>> 
-00006300: 726f 6f74 5b27 6669 7273 7427 5d2e 7375  root['first'].su
-00006310: 626f 626a 6563 742e 666f 6f66 6965 6c64  bobject.foofield
-00006320: 0a20 2036 3636 0a20 203e 3e3e 2072 6f6f  .  666.  >>> roo
-00006330: 745b 2766 6972 7374 275d 2e73 7562 6f62  t['first'].subob
-00006340: 6a65 6374 2e62 6172 6669 656c 640a 2020  ject.barfield.  
-00006350: 3939 390a 0a4c 6574 2773 206d 616b 6520  999..Let's make 
-00006360: 6d6f 7265 2065 7272 6f72 733a 0a4e 6f77  more errors:.Now
-00006370: 2077 6520 656e 7465 7220 2762 6164 2720   we enter 'bad' 
-00006380: 616e 6420 2739 3939 3939 3927 2c20 7768  and '999999', wh
-00006390: 6572 6520 2739 3939 3939 3927 2068 6974  ere '999999' hit
-000063a0: 7320 7468 6520 7570 7065 7220 6c69 6d69  s the upper limi
-000063b0: 7420 6f66 2074 6865 2066 6965 6c64 2e0a  t of the field..
-000063c0: 0a20 203e 3e3e 2072 6571 7565 7374 203d  .  >>> request =
-000063d0: 2054 6573 7452 6571 7565 7374 2866 6f72   TestRequest(for
-000063e0: 6d3d 7b0a 2020 2e2e 2e20 2020 2020 2766  m={.  ...     'f
-000063f0: 6f72 6d2e 7769 6467 6574 732e 7375 626f  orm.widgets.subo
-00006400: 626a 6563 742e 7769 6467 6574 732e 666f  bject.widgets.fo
-00006410: 6f66 6965 6c64 273a 7527 3939 3939 3939  ofield':u'999999
-00006420: 272c 0a20 202e 2e2e 2020 2020 2027 666f  ',.  ...     'fo
-00006430: 726d 2e77 6964 6765 7473 2e73 7562 6f62  rm.widgets.subob
-00006440: 6a65 6374 2e77 6964 6765 7473 2e62 6172  ject.widgets.bar
-00006450: 6669 656c 6427 3a75 2762 6164 272c 0a20  field':u'bad',. 
-00006460: 202e 2e2e 2020 2020 2027 666f 726d 2e77   ...     'form.w
-00006470: 6964 6765 7473 2e6e 616d 6527 3a75 2766  idgets.name':u'f
-00006480: 6972 7374 272c 0a20 202e 2e2e 2020 2020  irst',.  ...    
-00006490: 2027 666f 726d 2e77 6964 6765 7473 2e73   'form.widgets.s
-000064a0: 7562 6f62 6a65 6374 2d65 6d70 7479 2d6d  ubobject-empty-m
-000064b0: 6172 6b65 7227 3a75 2731 272c 0a20 202e  arker':u'1',.  .
-000064c0: 2e2e 2020 2020 2027 666f 726d 2e62 7574  ..     'form.but
-000064d0: 746f 6e73 2e61 7070 6c79 273a 2741 7070  tons.apply':'App
-000064e0: 6c79 277d 290a 0a20 203e 3e3e 2065 6469  ly'})..  >>> edi
-000064f0: 7466 6f72 6d2e 7265 7175 6573 7420 3d20  tform.request = 
-00006500: 7265 7175 6573 740a 2020 3e3e 3e20 6564  request.  >>> ed
-00006510: 6974 666f 726d 2e75 7064 6174 6528 290a  itform.update().
-00006520: 0a42 6f74 6820 6572 726f 7273 206d 7573  .Both errors mus
-00006530: 7420 6170 7065 6172 2061 7420 7468 6520  t appear at the 
-00006540: 746f 7020 6f66 2074 6865 2066 6f72 6d3a  top of the form:
-00006550: 0a0a 2020 3e3e 3e20 7072 696e 7428 6564  ..  >>> print(ed
-00006560: 6974 666f 726d 2e72 656e 6465 7228 2929  itform.render())
-00006570: 0a20 203c 6874 6d6c 2078 6d6c 6e73 3d22  .  <html xmlns="
-00006580: 6874 7470 3a2f 2f77 7777 2e77 332e 6f72  http://www.w3.or
-00006590: 672f 3139 3939 2f78 6874 6d6c 223e 0a20  g/1999/xhtml">. 
-000065a0: 2020 203c 626f 6479 3e0a 2020 2020 2020     <body>.      
-000065b0: 3c69 3e54 6865 7265 2077 6572 6520 736f  <i>There were so
-000065c0: 6d65 2065 7272 6f72 732e 3c2f 693e 0a20  me errors.</i>. 
-000065d0: 2020 2020 203c 756c 3e0a 2020 2020 2020       <ul>.      
-000065e0: 2020 3c6c 693e 0a20 2020 2020 2020 206d    <li>.        m
-000065f0: 7920 6f62 6a65 6374 3a0a 2020 2020 2020  y object:.      
-00006600: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00006610: 6572 726f 7222 3e56 616c 7565 2069 7320  error">Value is 
-00006620: 746f 6f20 6269 673c 2f64 6976 3e0a 2020  too big</div>.  
-00006630: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00006640: 7373 3d22 6572 726f 7222 3e54 6865 2065  ss="error">The e
-00006650: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
-00006660: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
-00006670: 6765 7220 6c69 7465 7261 6c2e 3c2f 6469  ger literal.</di
-00006680: 763e 0a20 2020 2020 2020 203c 2f6c 693e  v>.        </li>
-00006690: 0a20 2020 2020 203c 2f75 6c3e 0a20 2020  .      </ul>.   
-000066a0: 2020 203c 666f 726d 2061 6374 696f 6e3d     <form action=
-000066b0: 222e 223e 0a20 2020 2020 2020 203c 6469  ".">.        <di
-000066c0: 7620 636c 6173 733d 2272 6f77 223e 0a20  v class="row">. 
-000066d0: 2020 2020 2020 2020 203c 623e 0a20 2020           <b>.   
-000066e0: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-000066f0: 6173 733d 2265 7272 6f72 223e 5661 6c75  ass="error">Valu
-00006700: 6520 6973 2074 6f6f 2062 6967 3c2f 6469  e is too big</di
-00006710: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
-00006720: 6469 7620 636c 6173 733d 2265 7272 6f72  div class="error
-00006730: 223e 5468 6520 656e 7465 7265 6420 7661  ">The entered va
-00006740: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
-00006750: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
-00006760: 616c 2e3c 2f64 6976 3e0a 2020 2020 2020  al.</div>.      
-00006770: 2020 2020 3c2f 623e 0a20 2020 2020 2020      </b>.       
-00006780: 2020 203c 6c61 6265 6c20 666f 723d 2266     <label for="f
-00006790: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
-000067a0: 626a 6563 7422 3e6d 7920 6f62 6a65 6374  bject">my object
-000067b0: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
-000067c0: 2020 203c 6469 7620 636c 6173 733d 226f     <div class="o
-000067d0: 626a 6563 742d 7769 6467 6574 2072 6571  bject-widget req
-000067e0: 7569 7265 6422 3e0a 2020 2020 2020 2020  uired">.        
-000067f0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00006800: 6c61 6265 6c22 3e0a 2020 2020 2020 2020  label">.        
-00006810: 2020 2020 2020 3c6c 6162 656c 2066 6f72        <label for
-00006820: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
-00006830: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
-00006840: 2d66 6f6f 6669 656c 6422 3e0a 2020 2020  -foofield">.    
-00006850: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
-00006860: 6e3e 4d79 2066 6f6f 2066 6965 6c64 3c2f  n>My foo field</
-00006870: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
-00006880: 2020 2020 2020 3c73 7061 6e20 636c 6173        <span clas
-00006890: 733d 2272 6571 7569 7265 6422 3e2a 3c2f  s="required">*</
-000068a0: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
-000068b0: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
-000068c0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
-000068d0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
-000068e0: 2063 6c61 7373 3d22 6572 726f 7222 3e56   class="error">V
-000068f0: 616c 7565 2069 7320 746f 6f20 6269 673c  alue is too big<
-00006900: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
-00006910: 2020 3c64 6976 2063 6c61 7373 3d22 7769    <div class="wi
-00006920: 6467 6574 223e 0a20 2020 2020 2020 2020  dget">.         
-00006930: 2020 2020 203c 696e 7075 7420 636c 6173       <input clas
-00006940: 733d 2274 6578 742d 7769 6467 6574 2072  s="text-widget r
-00006950: 6571 7569 7265 6420 696e 742d 6669 656c  equired int-fiel
-00006960: 6422 0a20 2020 2020 2020 2020 2020 2020  d".             
-00006970: 2069 643d 2266 6f72 6d2d 7769 6467 6574   id="form-widget
-00006980: 732d 7375 626f 626a 6563 742d 7769 6467  s-subobject-widg
-00006990: 6574 732d 666f 6f66 6965 6c64 220a 2020  ets-foofield".  
-000069a0: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-000069b0: 3d22 666f 726d 2e77 6964 6765 7473 2e73  ="form.widgets.s
-000069c0: 7562 6f62 6a65 6374 2e77 6964 6765 7473  ubobject.widgets
-000069d0: 2e66 6f6f 6669 656c 6422 0a20 2020 2020  .foofield".     
-000069e0: 2020 2020 2020 2020 2074 7970 653d 2274           type="t
-000069f0: 6578 7422 2076 616c 7565 3d22 3939 3939  ext" value="9999
-00006a00: 3939 223e 0a20 2020 2020 2020 2020 2020  99">.           
-00006a10: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-00006a20: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00006a30: 6c61 6265 6c22 3e0a 2020 2020 2020 2020  label">.        
-00006a40: 2020 2020 2020 3c6c 6162 656c 2066 6f72        <label for
-00006a50: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
-00006a60: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
-00006a70: 2d62 6172 6669 656c 6422 3e0a 2020 2020  -barfield">.    
-00006a80: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
-00006a90: 6e3e 4d79 2064 6561 7220 6261 723c 2f73  n>My dear bar</s
-00006aa0: 7061 6e3e 0a20 2020 2020 2020 2020 2020  pan>.           
-00006ab0: 2020 203c 2f6c 6162 656c 3e0a 2020 2020     </label>.    
-00006ac0: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
-00006ad0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
-00006ae0: 636c 6173 733d 2265 7272 6f72 223e 5468  class="error">Th
-00006af0: 6520 656e 7465 7265 6420 7661 6c75 6520  e entered value 
-00006b00: 6973 206e 6f74 2061 2076 616c 6964 2069  is not a valid i
-00006b10: 6e74 6567 6572 206c 6974 6572 616c 2e3c  nteger literal.<
-00006b20: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
-00006b30: 2020 3c64 6976 2063 6c61 7373 3d22 7769    <div class="wi
-00006b40: 6467 6574 223e 0a20 2020 2020 2020 2020  dget">.         
-00006b50: 2020 2020 203c 696e 7075 7420 636c 6173       <input clas
-00006b60: 733d 2274 6578 742d 7769 6467 6574 2069  s="text-widget i
-00006b70: 6e74 2d66 6965 6c64 220a 2020 2020 2020  nt-field".      
-00006b80: 2020 2020 2020 2020 6964 3d22 666f 726d          id="form
-00006b90: 2d77 6964 6765 7473 2d73 7562 6f62 6a65  -widgets-subobje
-00006ba0: 6374 2d77 6964 6765 7473 2d62 6172 6669  ct-widgets-barfi
-00006bb0: 656c 6422 0a20 2020 2020 2020 2020 2020  eld".           
-00006bc0: 2020 206e 616d 653d 2266 6f72 6d2e 7769     name="form.wi
-00006bd0: 6467 6574 732e 7375 626f 626a 6563 742e  dgets.subobject.
-00006be0: 7769 6467 6574 732e 6261 7266 6965 6c64  widgets.barfield
-00006bf0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00006c00: 7479 7065 3d22 7465 7874 2220 7661 6c75  type="text" valu
-00006c10: 653d 2262 6164 223e 0a20 2020 2020 2020  e="bad">.       
-00006c20: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-00006c30: 2020 2020 2020 2020 3c69 6e70 7574 206e          <input n
-00006c40: 616d 653d 2266 6f72 6d2e 7769 6467 6574  ame="form.widget
-00006c50: 732e 7375 626f 626a 6563 742d 656d 7074  s.subobject-empt
-00006c60: 792d 6d61 726b 6572 2220 7479 7065 3d22  y-marker" type="
-00006c70: 6869 6464 656e 220a 2020 2020 2020 2020  hidden".        
-00006c80: 2020 2020 7661 6c75 653d 2231 223e 0a20      value="1">. 
-00006c90: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
-00006ca0: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
-00006cb0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
-00006cc0: 733d 2272 6f77 223e 0a20 2020 2020 2020  s="row">.       
-00006cd0: 2020 203c 6c61 6265 6c20 666f 723d 2266     <label for="f
-00006ce0: 6f72 6d2d 7769 6467 6574 732d 6e61 6d65  orm-widgets-name
-00006cf0: 223e 6e61 6d65 3c2f 6c61 6265 6c3e 0a20  ">name</label>. 
-00006d00: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
-00006d10: 636c 6173 733d 2274 6578 742d 7769 6467  class="text-widg
-00006d20: 6574 2072 6571 7569 7265 6420 7465 7874  et required text
-00006d30: 6c69 6e65 2d66 6965 6c64 2220 6964 3d22  line-field" id="
-00006d40: 666f 726d 2d77 6964 6765 7473 2d6e 616d  form-widgets-nam
-00006d50: 6522 0a20 2020 2020 2020 2020 206e 616d  e".          nam
-00006d60: 653d 2266 6f72 6d2e 7769 6467 6574 732e  e="form.widgets.
-00006d70: 6e61 6d65 2220 7479 7065 3d22 7465 7874  name" type="text
-00006d80: 2220 7661 6c75 653d 2266 6972 7374 223e  " value="first">
-00006d90: 0a20 2020 2020 2020 203c 2f64 6976 3e0a  .        </div>.
-00006da0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00006db0: 7373 3d22 6163 7469 6f6e 223e 0a20 2020  ss="action">.   
-00006dc0: 2020 2020 2020 203c 696e 7075 7420 636c         <input cl
-00006dd0: 6173 733d 2273 7562 6d69 742d 7769 6467  ass="submit-widg
-00006de0: 6574 2062 7574 746f 6e2d 6669 656c 6422  et button-field"
-00006df0: 2069 643d 2266 6f72 6d2d 6275 7474 6f6e   id="form-button
-00006e00: 732d 6170 706c 7922 0a20 2020 2020 2020  s-apply".       
-00006e10: 2020 206e 616d 653d 2266 6f72 6d2e 6275     name="form.bu
-00006e20: 7474 6f6e 732e 6170 706c 7922 2074 7970  ttons.apply" typ
-00006e30: 653d 2273 7562 6d69 7422 2076 616c 7565  e="submit" value
-00006e40: 3d22 4170 706c 7922 3e0a 2020 2020 2020  ="Apply">.      
-00006e50: 2020 3c2f 6469 763e 0a20 2020 2020 203c    </div>.      <
-00006e60: 2f66 6f72 6d3e 0a20 2020 203c 2f62 6f64  /form>.    </bod
-00006e70: 793e 0a20 203c 2f68 746d 6c3e 0a0a 416e  y>.  </html>..An
-00006e80: 6420 6f66 2063 6f75 7273 652c 2074 6865  d of course, the
-00006e90: 206f 626a 6563 7420 7661 6c75 6573 2064   object values d
-00006ea0: 6f20 6e6f 7420 6765 7420 6d6f 6469 6669  o not get modifi
-00006eb0: 6564 3a0a 0a20 203e 3e3e 2072 6f6f 745b  ed:..  >>> root[
-00006ec0: 2766 6972 7374 275d 2e73 7562 6f62 6a65  'first'].subobje
-00006ed0: 6374 2e66 6f6f 6669 656c 640a 2020 3636  ct.foofield.  66
-00006ee0: 360a 2020 3e3e 3e20 726f 6f74 5b27 6669  6.  >>> root['fi
-00006ef0: 7273 7427 5d2e 7375 626f 626a 6563 742e  rst'].subobject.
-00006f00: 6261 7266 6965 6c64 0a20 2039 3939 0a0a  barfield.  999..
-00006f10: 5369 6d70 6c65 2062 7574 206f 6674 656e  Simple but often
-00006f20: 2075 7365 6420 7573 652d 6361 7365 2069   used use-case i
-00006f30: 7320 7468 6520 6469 7370 6c61 7920 666f  s the display fo
-00006f40: 726d 3a0a 0a20 203e 3e3e 2065 6469 7466  rm:..  >>> editf
-00006f50: 6f72 6d20 3d20 4d79 4564 6974 466f 726d  orm = MyEditForm
-00006f60: 2872 6f6f 745b 2766 6972 7374 275d 2c20  (root['first'], 
-00006f70: 5465 7374 5265 7175 6573 7428 2929 0a20  TestRequest()). 
-00006f80: 203e 3e3e 2061 6464 5465 6d70 6c61 7465   >>> addTemplate
-00006f90: 2865 6469 7466 6f72 6d29 0a20 203e 3e3e  (editform).  >>>
-00006fa0: 2065 6469 7466 6f72 6d2e 6d6f 6465 203d   editform.mode =
-00006fb0: 2069 6e74 6572 6661 6365 732e 4449 5350   interfaces.DISP
-00006fc0: 4c41 595f 4d4f 4445 0a20 203e 3e3e 2065  LAY_MODE.  >>> e
-00006fd0: 6469 7466 6f72 6d2e 7570 6461 7465 2829  ditform.update()
-00006fe0: 0a20 203e 3e3e 2070 7269 6e74 2865 6469  .  >>> print(edi
-00006ff0: 7466 6f72 6d2e 7265 6e64 6572 2829 290a  tform.render()).
-00007000: 2020 3c68 746d 6c20 786d 6c6e 733d 2268    <html xmlns="h
-00007010: 7474 703a 2f2f 7777 772e 7733 2e6f 7267  ttp://www.w3.org
-00007020: 2f31 3939 392f 7868 746d 6c22 3e0a 2020  /1999/xhtml">.  
-00007030: 2020 3c62 6f64 793e 0a20 2020 2020 203c    <body>.      <
-00007040: 666f 726d 2061 6374 696f 6e3d 222e 223e  form action=".">
-00007050: 0a20 2020 2020 2020 203c 6469 7620 636c  .        <div cl
-00007060: 6173 733d 2272 6f77 223e 0a20 2020 2020  ass="row">.     
-00007070: 2020 2020 203c 6c61 6265 6c20 666f 723d       <label for=
-00007080: 2266 6f72 6d2d 7769 6467 6574 732d 7375  "form-widgets-su
-00007090: 626f 626a 6563 7422 3e6d 7920 6f62 6a65  bobject">my obje
-000070a0: 6374 3c2f 6c61 6265 6c3e 0a20 2020 2020  ct</label>.     
-000070b0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-000070c0: 226f 626a 6563 742d 7769 6467 6574 223e  "object-widget">
-000070d0: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
-000070e0: 7620 636c 6173 733d 226c 6162 656c 223e  v class="label">
-000070f0: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
-00007100: 6c61 6265 6c20 666f 723d 2266 6f72 6d2d  label for="form-
-00007110: 7769 6467 6574 732d 7375 626f 626a 6563  widgets-subobjec
-00007120: 742d 7769 6467 6574 732d 666f 6f66 6965  t-widgets-foofie
-00007130: 6c64 223e 0a20 2020 2020 2020 2020 2020  ld">.           
-00007140: 2020 2020 203c 7370 616e 3e4d 7920 666f       <span>My fo
-00007150: 6f20 6669 656c 643c 2f73 7061 6e3e 0a20  o field</span>. 
-00007160: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-00007170: 7370 616e 2063 6c61 7373 3d22 7265 7175  span class="requ
-00007180: 6972 6564 223e 2a3c 2f73 7061 6e3e 0a20  ired">*</span>. 
-00007190: 2020 2020 2020 2020 2020 2020 203c 2f6c               </l
-000071a0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
-000071b0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-000071c0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-000071d0: 2277 6964 6765 7422 3e0a 2020 2020 2020  "widget">.      
-000071e0: 2020 2020 2020 2020 3c73 7061 6e20 636c          <span cl
-000071f0: 6173 733d 2274 6578 742d 7769 6467 6574  ass="text-widget
-00007200: 2069 6e74 2d66 6965 6c64 220a 2020 2020   int-field".    
-00007210: 2020 2020 2020 2020 2020 6964 3d22 666f            id="fo
-00007220: 726d 2d77 6964 6765 7473 2d73 7562 6f62  rm-widgets-subob
-00007230: 6a65 6374 2d77 6964 6765 7473 2d66 6f6f  ject-widgets-foo
-00007240: 6669 656c 6422 3e36 3636 3c2f 7370 616e  field">666</span
-00007250: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
-00007260: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00007270: 203c 6469 7620 636c 6173 733d 226c 6162   <div class="lab
-00007280: 656c 223e 0a20 2020 2020 2020 2020 2020  el">.           
-00007290: 2020 203c 6c61 6265 6c20 666f 723d 2266     <label for="f
-000072a0: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
-000072b0: 626a 6563 742d 7769 6467 6574 732d 6261  bject-widgets-ba
-000072c0: 7266 6965 6c64 223e 0a20 2020 2020 2020  rfield">.       
-000072d0: 2020 2020 2020 2020 203c 7370 616e 3e4d           <span>M
-000072e0: 7920 6465 6172 2062 6172 3c2f 7370 616e  y dear bar</span
-000072f0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00007300: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
-00007310: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-00007320: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00007330: 7373 3d22 7769 6467 6574 223e 0a20 2020  ss="widget">.   
-00007340: 2020 2020 2020 2020 2020 203c 7370 616e             <span
-00007350: 2063 6c61 7373 3d22 7465 7874 2d77 6964   class="text-wid
-00007360: 6765 7420 696e 742d 6669 656c 6422 0a20  get int-field". 
-00007370: 2020 2020 2020 2020 2020 2020 2069 643d               id=
-00007380: 2266 6f72 6d2d 7769 6467 6574 732d 7375  "form-widgets-su
-00007390: 626f 626a 6563 742d 7769 6467 6574 732d  bobject-widgets-
-000073a0: 6261 7266 6965 6c64 223e 3939 393c 2f73  barfield">999</s
-000073b0: 7061 6e3e 0a20 2020 2020 2020 2020 2020  pan>.           
-000073c0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-000073d0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-000073e0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-000073f0: 3c64 6976 2063 6c61 7373 3d22 726f 7722  <div class="row"
-00007400: 3e0a 2020 2020 2020 2020 2020 3c6c 6162  >.          <lab
-00007410: 656c 2066 6f72 3d22 666f 726d 2d77 6964  el for="form-wid
-00007420: 6765 7473 2d6e 616d 6522 3e6e 616d 653c  gets-name">name<
-00007430: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
-00007440: 2020 3c73 7061 6e20 636c 6173 733d 2274    <span class="t
-00007450: 6578 742d 7769 6467 6574 2074 6578 746c  ext-widget textl
-00007460: 696e 652d 6669 656c 6422 0a20 2020 2020  ine-field".     
-00007470: 2020 2020 2069 643d 2266 6f72 6d2d 7769       id="form-wi
-00007480: 6467 6574 732d 6e61 6d65 223e 6669 7273  dgets-name">firs
-00007490: 743c 2f73 7061 6e3e 0a20 2020 2020 2020  t</span>.       
-000074a0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
-000074b0: 3c64 6976 2063 6c61 7373 3d22 6163 7469  <div class="acti
-000074c0: 6f6e 223e 0a20 2020 2020 2020 2020 203c  on">.          <
-000074d0: 696e 7075 7420 636c 6173 733d 2273 7562  input class="sub
-000074e0: 6d69 742d 7769 6467 6574 2062 7574 746f  mit-widget butto
-000074f0: 6e2d 6669 656c 6422 0a20 2020 2020 2020  n-field".       
-00007500: 2020 2069 643d 2266 6f72 6d2d 6275 7474     id="form-butt
-00007510: 6f6e 732d 6170 706c 7922 206e 616d 653d  ons-apply" name=
-00007520: 2266 6f72 6d2e 6275 7474 6f6e 732e 6170  "form.buttons.ap
-00007530: 706c 7922 2074 7970 653d 2273 7562 6d69  ply" type="submi
-00007540: 7422 2076 616c 7565 3d22 4170 706c 7922  t" value="Apply"
-00007550: 3e0a 2020 2020 2020 2020 3c2f 6469 763e  >.        </div>
-00007560: 0a20 2020 2020 203c 2f66 6f72 6d3e 0a20  .      </form>. 
-00007570: 2020 203c 2f62 6f64 793e 0a20 203c 2f68     </body>.  </h
-00007580: 746d 6c3e 0a0a 0a4c 6574 2773 2073 6565  tml>...Let's see
-00007590: 2077 6861 7420 6861 7070 656e 7320 696e   what happens in
-000075a0: 2048 4944 4445 4e5f 4d4f 4445 3a0a 286e   HIDDEN_MODE:.(n
-000075b0: 6f74 2071 7569 7465 2073 616e 6520 7468  ot quite sane th
-000075c0: 696e 672c 2062 7574 2077 6520 7761 6e74  ing, but we want
-000075d0: 2074 6f20 7365 6520 7468 6520 6f62 6a65   to see the obje
-000075e0: 6374 7769 6467 6574 2072 656e 6465 7265  ctwidget rendere
-000075f0: 6420 696e 2068 6964 6465 6e0a 6d6f 6465  d in hidden.mode
-00007600: 290a 0a20 203e 3e3e 207a 6f70 652e 636f  )..  >>> zope.co
-00007610: 6d70 6f6e 656e 742e 7072 6f76 6964 6541  mponent.provideA
-00007620: 6461 7074 6572 280a 2020 2e2e 2e20 2020  dapter(.  ...   
-00007630: 2020 5769 6467 6574 5465 6d70 6c61 7465    WidgetTemplate
-00007640: 4661 6374 6f72 7928 6765 7450 6174 6828  Factory(getPath(
-00007650: 276f 626a 6563 745f 6869 6464 656e 2e70  'object_hidden.p
-00007660: 7427 292c 2027 7465 7874 2f68 746d 6c27  t'), 'text/html'
-00007670: 292c 0a20 202e 2e2e 2020 2020 2028 4e6f  ),.  ...     (No
-00007680: 6e65 2c20 4e6f 6e65 2c20 4e6f 6e65 2c20  ne, None, None, 
-00007690: 4e6f 6e65 2c20 696e 7465 7266 6163 6573  None, interfaces
-000076a0: 2e49 4f62 6a65 6374 5769 6467 6574 292c  .IObjectWidget),
-000076b0: 0a20 202e 2e2e 2020 2020 2049 5061 6765  .  ...     IPage
-000076c0: 5465 6d70 6c61 7465 2c20 6e61 6d65 3d69  Template, name=i
-000076d0: 6e74 6572 6661 6365 732e 4849 4444 454e  nterfaces.HIDDEN
-000076e0: 5f4d 4f44 4529 0a0a 0a20 203e 3e3e 2065  _MODE)...  >>> e
-000076f0: 6469 7466 6f72 6d20 3d20 4d79 4564 6974  ditform = MyEdit
-00007700: 466f 726d 2872 6f6f 745b 2766 6972 7374  Form(root['first
-00007710: 275d 2c20 5465 7374 5265 7175 6573 7428  '], TestRequest(
-00007720: 2929 0a20 203e 3e3e 2061 6464 5465 6d70  )).  >>> addTemp
-00007730: 6c61 7465 2865 6469 7466 6f72 6d29 0a20  late(editform). 
-00007740: 203e 3e3e 2065 6469 7466 6f72 6d2e 6d6f   >>> editform.mo
-00007750: 6465 203d 2069 6e74 6572 6661 6365 732e  de = interfaces.
-00007760: 4849 4444 454e 5f4d 4f44 450a 2020 3e3e  HIDDEN_MODE.  >>
-00007770: 3e20 6564 6974 666f 726d 2e75 7064 6174  > editform.updat
-00007780: 6528 290a 0a4e 6f74 652c 2074 6861 7420  e()..Note, that 
-00007790: 7468 6520 6c61 6265 6c73 2061 6e64 2074  the labels and t
-000077a0: 6865 2062 7574 746f 6e20 6973 2074 6865  he button is the
-000077b0: 7265 2062 6563 6175 7365 2074 6865 2066  re because the f
-000077c0: 6f72 6d20 7465 6d70 6c61 7465 2066 6f72  orm template for
-000077d0: 2074 6573 7469 6e67 0a64 6f65 732f 7368   testing.does/sh
-000077e0: 6f75 6c64 206e 6f74 2063 6172 6520 6162  ould not care ab
-000077f0: 6f75 7420 7468 6520 666f 726d 2062 6569  out the form bei
-00007800: 6e67 2068 6964 6465 6e2e 0a57 6861 7420  ng hidden..What 
-00007810: 6d61 7474 6572 7320 6973 2074 6861 7420  matters is that 
-00007820: 7468 6520 6f62 6a65 6374 7769 6467 6574  the objectwidget
-00007830: 2069 7320 7265 6e64 6572 6564 2068 6964   is rendered hid
-00007840: 6465 6e2e 0a0a 2020 3e3e 3e20 7072 696e  den...  >>> prin
-00007850: 7428 6564 6974 666f 726d 2e72 656e 6465  t(editform.rende
-00007860: 7228 2929 0a20 203c 6874 6d6c 2078 6d6c  r()).  <html xml
-00007870: 6e73 3d22 6874 7470 3a2f 2f77 7777 2e77  ns="http://www.w
-00007880: 332e 6f72 672f 3139 3939 2f78 6874 6d6c  3.org/1999/xhtml
-00007890: 223e 0a20 2020 203c 626f 6479 3e0a 2020  ">.    <body>.  
-000078a0: 2020 2020 3c66 6f72 6d20 6163 7469 6f6e      <form action
-000078b0: 3d22 2e22 3e0a 2020 2020 2020 2020 3c64  =".">.        <d
-000078c0: 6976 2063 6c61 7373 3d22 726f 7722 3e0a  iv class="row">.
-000078d0: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
-000078e0: 2066 6f72 3d22 666f 726d 2d77 6964 6765   for="form-widge
-000078f0: 7473 2d73 7562 6f62 6a65 6374 223e 6d79  ts-subobject">my
-00007900: 206f 626a 6563 743c 2f6c 6162 656c 3e0a   object</label>.
-00007910: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
-00007920: 2069 643d 2266 6f72 6d2d 7769 6467 6574   id="form-widget
-00007930: 732d 7375 626f 626a 6563 742d 7769 6467  s-subobject-widg
-00007940: 6574 732d 666f 6f66 6965 6c64 220a 2020  ets-foofield".  
-00007950: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00007960: 616d 653d 2266 6f72 6d2e 7769 6467 6574  ame="form.widget
-00007970: 732e 7375 626f 626a 6563 742e 7769 6467  s.subobject.widg
-00007980: 6574 732e 666f 6f66 6965 6c64 220a 2020  ets.foofield".  
-00007990: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-000079a0: 616c 7565 3d22 3636 3622 2063 6c61 7373  alue="666" class
-000079b0: 3d22 6869 6464 656e 2d77 6964 6765 7422  ="hidden-widget"
-000079c0: 2074 7970 653d 2268 6964 6465 6e22 202f   type="hidden" /
-000079d0: 3e0a 2020 2020 2020 2020 2020 3c69 6e70  >.          <inp
-000079e0: 7574 2069 643d 2266 6f72 6d2d 7769 6467  ut id="form-widg
-000079f0: 6574 732d 7375 626f 626a 6563 742d 7769  ets-subobject-wi
-00007a00: 6467 6574 732d 6261 7266 6965 6c64 220a  dgets-barfield".
-00007a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a20: 206e 616d 653d 2266 6f72 6d2e 7769 6467   name="form.widg
-00007a30: 6574 732e 7375 626f 626a 6563 742e 7769  ets.subobject.wi
-00007a40: 6467 6574 732e 6261 7266 6965 6c64 220a  dgets.barfield".
-00007a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007a60: 2076 616c 7565 3d22 3939 3922 2063 6c61   value="999" cla
-00007a70: 7373 3d22 6869 6464 656e 2d77 6964 6765  ss="hidden-widge
-00007a80: 7422 2074 7970 653d 2268 6964 6465 6e22  t" type="hidden"
-00007a90: 202f 3e0a 2020 2020 2020 2020 3c2f 6469   />.        </di
-00007aa0: 763e 0a20 2020 2020 2020 203c 6469 7620  v>.        <div 
-00007ab0: 636c 6173 733d 2272 6f77 223e 0a20 2020  class="row">.   
-00007ac0: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
-00007ad0: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
-00007ae0: 6e61 6d65 223e 6e61 6d65 3c2f 6c61 6265  name">name</labe
-00007af0: 6c3e 0a20 2020 2020 2020 2020 203c 696e  l>.          <in
-00007b00: 7075 7420 6964 3d22 666f 726d 2d77 6964  put id="form-wid
-00007b10: 6765 7473 2d6e 616d 6522 206e 616d 653d  gets-name" name=
-00007b20: 2266 6f72 6d2e 7769 6467 6574 732e 6e61  "form.widgets.na
-00007b30: 6d65 220a 2020 2020 2020 2020 2020 2020  me".            
-00007b40: 2020 2020 2076 616c 7565 3d22 6669 7273       value="firs
-00007b50: 7422 2063 6c61 7373 3d22 6869 6464 656e  t" class="hidden
-00007b60: 2d77 6964 6765 7422 2074 7970 653d 2268  -widget" type="h
-00007b70: 6964 6465 6e22 202f 3e0a 2020 2020 2020  idden" />.      
-00007b80: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
-00007b90: 203c 6469 7620 636c 6173 733d 2261 6374   <div class="act
-00007ba0: 696f 6e22 3e0a 2020 2020 2020 2020 203c  ion">.         <
-00007bb0: 696e 7075 7420 6964 3d22 666f 726d 2d62  input id="form-b
-00007bc0: 7574 746f 6e73 2d61 7070 6c79 2220 6e61  uttons-apply" na
-00007bd0: 6d65 3d22 666f 726d 2e62 7574 746f 6e73  me="form.buttons
-00007be0: 2e61 7070 6c79 220a 2020 2020 2020 2020  .apply".        
-00007bf0: 2020 2020 2020 2020 636c 6173 733d 2273          class="s
-00007c00: 7562 6d69 742d 7769 6467 6574 2062 7574  ubmit-widget but
-00007c10: 746f 6e2d 6669 656c 6422 2076 616c 7565  ton-field" value
-00007c20: 3d22 4170 706c 7922 2074 7970 653d 2273  ="Apply" type="s
-00007c30: 7562 6d69 7422 202f 3e0a 2020 2020 2020  ubmit" />.      
-00007c40: 2020 3c2f 6469 763e 0a20 2020 2020 203c    </div>.      <
-00007c50: 2f66 6f72 6d3e 0a20 2020 203c 2f62 6f64  /form>.    </bod
-00007c60: 793e 0a20 203c 2f68 746d 6c3e 0a0a 0a0a  y>.  </html>....
-00007c70: 4564 6974 666f 726d 7320 6d69 6768 7420  Editforms might 
-00007c80: 7573 6520 6469 6374 7320 6173 2063 6f6e  use dicts as con
-00007c90: 7465 7874 3a0a 0a20 203e 3e3e 206e 6577  text:..  >>> new
-00007ca0: 7375 6220 3d20 4d79 5375 624f 626a 6563  sub = MySubObjec
-00007cb0: 7428 290a 2020 3e3e 3e20 6e65 7773 7562  t().  >>> newsub
-00007cc0: 2e66 6f6f 6669 656c 6420 3d20 3738 0a20  .foofield = 78. 
-00007cd0: 203e 3e3e 206e 6577 7375 622e 6261 7266   >>> newsub.barf
-00007ce0: 6965 6c64 203d 2038 370a 0a20 203e 3e3e  ield = 87..  >>>
-00007cf0: 2063 6c61 7373 204d 7945 6469 7446 6f72   class MyEditFor
-00007d00: 6d44 6963 7428 666f 726d 2e45 6469 7446  mDict(form.EditF
-00007d10: 6f72 6d29 3a0a 2020 2e2e 2e20 2020 2020  orm):.  ...     
-00007d20: 6669 656c 6473 203d 2066 6965 6c64 2e46  fields = field.F
-00007d30: 6965 6c64 7328 494d 794f 626a 6563 7429  ields(IMyObject)
-00007d40: 0a20 202e 2e2e 2020 2020 2064 6566 2067  .  ...     def g
-00007d50: 6574 436f 6e74 656e 7428 7365 6c66 293a  etContent(self):
-00007d60: 0a20 202e 2e2e 2020 2020 2020 2020 2072  .  ...         r
-00007d70: 6574 7572 6e20 7b27 7375 626f 626a 6563  eturn {'subobjec
-00007d80: 7427 3a20 6e65 7773 7562 2c20 276e 616d  t': newsub, 'nam
-00007d90: 6527 3a20 7527 626c 6f6f 6b69 277d 0a0a  e': u'blooki'}..
-00007da0: 2020 3e3e 3e20 6564 6974 666f 726d 203d    >>> editform =
-00007db0: 204d 7945 6469 7446 6f72 6d44 6963 7428   MyEditFormDict(
-00007dc0: 4e6f 6e65 2c20 5465 7374 5265 7175 6573  None, TestReques
-00007dd0: 7428 2929 0a20 203e 3e3e 2061 6464 5465  t()).  >>> addTe
-00007de0: 6d70 6c61 7465 2865 6469 7466 6f72 6d29  mplate(editform)
-00007df0: 0a20 203e 3e3e 2065 6469 7466 6f72 6d2e  .  >>> editform.
-00007e00: 7570 6461 7465 2829 0a0a 5761 7463 6820  update()..Watch 
-00007e10: 666f 7220 7468 6520 7769 6467 6574 2076  for the widget v
-00007e20: 616c 7565 7320 696e 2074 6865 2048 544d  alues in the HTM
-00007e30: 4c3a 0a0a 2020 3e3e 3e20 7072 696e 7428  L:..  >>> print(
-00007e40: 6564 6974 666f 726d 2e72 656e 6465 7228  editform.render(
-00007e50: 2929 0a20 203c 6874 6d6c 2078 6d6c 6e73  )).  <html xmlns
-00007e60: 3d22 6874 7470 3a2f 2f77 7777 2e77 332e  ="http://www.w3.
-00007e70: 6f72 672f 3139 3939 2f78 6874 6d6c 223e  org/1999/xhtml">
-00007e80: 0a20 2020 203c 626f 6479 3e0a 2020 2020  .    <body>.    
-00007e90: 2020 3c66 6f72 6d20 6163 7469 6f6e 3d22    <form action="
-00007ea0: 2e22 3e0a 2020 2020 2020 2020 3c64 6976  .">.        <div
-00007eb0: 2063 6c61 7373 3d22 726f 7722 3e0a 2020   class="row">.  
-00007ec0: 2020 2020 2020 2020 3c6c 6162 656c 2066          <label f
-00007ed0: 6f72 3d22 666f 726d 2d77 6964 6765 7473  or="form-widgets
-00007ee0: 2d73 7562 6f62 6a65 6374 223e 6d79 206f  -subobject">my o
-00007ef0: 626a 6563 743c 2f6c 6162 656c 3e0a 2020  bject</label>.  
-00007f00: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00007f10: 7373 3d22 6f62 6a65 6374 2d77 6964 6765  ss="object-widge
-00007f20: 7420 7265 7175 6972 6564 223e 0a20 2020  t required">.   
-00007f30: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-00007f40: 6173 733d 226c 6162 656c 223e 0a20 2020  ass="label">.   
-00007f50: 2020 2020 2020 2020 2020 203c 6c61 6265             <labe
-00007f60: 6c20 666f 723d 2266 6f72 6d2d 7769 6467  l for="form-widg
-00007f70: 6574 732d 7375 626f 626a 6563 742d 7769  ets-subobject-wi
-00007f80: 6467 6574 732d 666f 6f66 6965 6c64 223e  dgets-foofield">
-00007f90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007fa0: 203c 7370 616e 3e4d 7920 666f 6f20 6669   <span>My foo fi
-00007fb0: 656c 643c 2f73 7061 6e3e 0a20 2020 2020  eld</span>.     
-00007fc0: 2020 2020 2020 2020 2020 203c 7370 616e             <span
-00007fd0: 2063 6c61 7373 3d22 7265 7175 6972 6564   class="required
-00007fe0: 223e 2a3c 2f73 7061 6e3e 0a20 2020 2020  ">*</span>.     
-00007ff0: 2020 2020 2020 2020 203c 2f6c 6162 656c           </label
-00008000: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
-00008010: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00008020: 203c 6469 7620 636c 6173 733d 2277 6964   <div class="wid
-00008030: 6765 7422 3e0a 2020 2020 2020 2020 2020  get">.          
-00008040: 2020 2020 3c69 6e70 7574 2063 6c61 7373      <input class
-00008050: 3d22 7465 7874 2d77 6964 6765 7420 7265  ="text-widget re
-00008060: 7175 6972 6564 2069 6e74 2d66 6965 6c64  quired int-field
-00008070: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00008080: 6964 3d22 666f 726d 2d77 6964 6765 7473  id="form-widgets
-00008090: 2d73 7562 6f62 6a65 6374 2d77 6964 6765  -subobject-widge
-000080a0: 7473 2d66 6f6f 6669 656c 6422 0a20 2020  ts-foofield".   
-000080b0: 2020 2020 2020 2020 2020 206e 616d 653d             name=
-000080c0: 2266 6f72 6d2e 7769 6467 6574 732e 7375  "form.widgets.su
-000080d0: 626f 626a 6563 742e 7769 6467 6574 732e  bobject.widgets.
-000080e0: 666f 6f66 6965 6c64 220a 2020 2020 2020  foofield".      
-000080f0: 2020 2020 2020 2020 7479 7065 3d22 7465          type="te
-00008100: 7874 2220 7661 6c75 653d 2237 3822 3e0a  xt" value="78">.
-00008110: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-00008120: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
-00008130: 6469 7620 636c 6173 733d 226c 6162 656c  div class="label
-00008140: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
-00008150: 203c 6c61 6265 6c20 666f 723d 2266 6f72   <label for="for
-00008160: 6d2d 7769 6467 6574 732d 7375 626f 626a  m-widgets-subobj
-00008170: 6563 742d 7769 6467 6574 732d 6261 7266  ect-widgets-barf
-00008180: 6965 6c64 223e 0a20 2020 2020 2020 2020  ield">.         
-00008190: 2020 2020 2020 203c 7370 616e 3e4d 7920         <span>My 
-000081a0: 6465 6172 2062 6172 3c2f 7370 616e 3e0a  dear bar</span>.
-000081b0: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
-000081c0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
-000081d0: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-000081e0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
-000081f0: 3d22 7769 6467 6574 223e 0a20 2020 2020  ="widget">.     
-00008200: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
-00008210: 636c 6173 733d 2274 6578 742d 7769 6467  class="text-widg
-00008220: 6574 2069 6e74 2d66 6965 6c64 220a 2020  et int-field".  
-00008230: 2020 2020 2020 2020 2020 2020 6964 3d22              id="
-00008240: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
-00008250: 6f62 6a65 6374 2d77 6964 6765 7473 2d62  object-widgets-b
-00008260: 6172 6669 656c 6422 0a20 2020 2020 2020  arfield".       
-00008270: 2020 2020 2020 206e 616d 653d 2266 6f72         name="for
-00008280: 6d2e 7769 6467 6574 732e 7375 626f 626a  m.widgets.subobj
-00008290: 6563 742e 7769 6467 6574 732e 6261 7266  ect.widgets.barf
-000082a0: 6965 6c64 220a 2020 2020 2020 2020 2020  ield".          
-000082b0: 2020 2020 7479 7065 3d22 7465 7874 2220      type="text" 
-000082c0: 7661 6c75 653d 2238 3722 3e0a 2020 2020  value="87">.    
-000082d0: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
-000082e0: 2020 2020 2020 2020 2020 203c 696e 7075             <inpu
-000082f0: 7420 6e61 6d65 3d22 666f 726d 2e77 6964  t name="form.wid
-00008300: 6765 7473 2e73 7562 6f62 6a65 6374 2d65  gets.subobject-e
-00008310: 6d70 7479 2d6d 6172 6b65 7222 2074 7970  mpty-marker" typ
-00008320: 653d 2268 6964 6465 6e22 0a20 2020 2020  e="hidden".     
-00008330: 2020 2020 2020 2076 616c 7565 3d22 3122         value="1"
-00008340: 3e0a 2020 2020 2020 2020 2020 3c2f 6469  >.          </di
-00008350: 763e 0a20 2020 2020 2020 203c 2f64 6976  v>.        </div
-00008360: 3e0a 2020 2020 2020 2020 3c64 6976 2063  >.        <div c
-00008370: 6c61 7373 3d22 726f 7722 3e0a 2020 2020  lass="row">.    
-00008380: 2020 2020 2020 3c6c 6162 656c 2066 6f72        <label for
-00008390: 3d22 666f 726d 2d77 6964 6765 7473 2d6e  ="form-widgets-n
-000083a0: 616d 6522 3e6e 616d 653c 2f6c 6162 656c  ame">name</label
-000083b0: 3e0a 2020 2020 2020 2020 2020 3c69 6e70  >.          <inp
-000083c0: 7574 2063 6c61 7373 3d22 7465 7874 2d77  ut class="text-w
-000083d0: 6964 6765 7420 7265 7175 6972 6564 2074  idget required t
-000083e0: 6578 746c 696e 652d 6669 656c 6422 2069  extline-field" i
-000083f0: 643d 2266 6f72 6d2d 7769 6467 6574 732d  d="form-widgets-
-00008400: 6e61 6d65 220a 2020 2020 2020 2020 2020  name".          
-00008410: 6e61 6d65 3d22 666f 726d 2e77 6964 6765  name="form.widge
-00008420: 7473 2e6e 616d 6522 2074 7970 653d 2274  ts.name" type="t
-00008430: 6578 7422 2076 616c 7565 3d22 626c 6f6f  ext" value="bloo
-00008440: 6b69 223e 0a20 2020 2020 2020 203c 2f64  ki">.        </d
-00008450: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
-00008460: 2063 6c61 7373 3d22 6163 7469 6f6e 223e   class="action">
-00008470: 0a20 2020 2020 2020 2020 203c 696e 7075  .          <inpu
-00008480: 7420 636c 6173 733d 2273 7562 6d69 742d  t class="submit-
-00008490: 7769 6467 6574 2062 7574 746f 6e2d 6669  widget button-fi
-000084a0: 656c 6422 2069 643d 2266 6f72 6d2d 6275  eld" id="form-bu
-000084b0: 7474 6f6e 732d 6170 706c 7922 0a20 2020  ttons-apply".   
-000084c0: 2020 2020 2020 206e 616d 653d 2266 6f72         name="for
-000084d0: 6d2e 6275 7474 6f6e 732e 6170 706c 7922  m.buttons.apply"
-000084e0: 2074 7970 653d 2273 7562 6d69 7422 2076   type="submit" v
-000084f0: 616c 7565 3d22 4170 706c 7922 3e0a 2020  alue="Apply">.  
-00008500: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
-00008510: 2020 203c 2f66 6f72 6d3e 0a20 2020 203c     </form>.    <
-00008520: 2f62 6f64 793e 0a20 203c 2f68 746d 6c3e  /body>.  </html>
-00008530: 0a0a 4c65 7427 7320 6d6f 6469 6679 2074  ..Let's modify t
-00008540: 6865 2076 616c 7565 733a 0a0a 2020 3e3e  he values:..  >>
-00008550: 3e20 7265 7175 6573 7420 3d20 5465 7374  > request = Test
-00008560: 5265 7175 6573 7428 666f 726d 3d7b 0a20  Request(form={. 
-00008570: 202e 2e2e 2020 2020 2027 666f 726d 2e77   ...     'form.w
-00008580: 6964 6765 7473 2e73 7562 6f62 6a65 6374  idgets.subobject
-00008590: 2e77 6964 6765 7473 2e66 6f6f 6669 656c  .widgets.foofiel
-000085a0: 6427 3a75 2734 3327 2c0a 2020 2e2e 2e20  d':u'43',.  ... 
-000085b0: 2020 2020 2766 6f72 6d2e 7769 6467 6574      'form.widget
-000085c0: 732e 7375 626f 626a 6563 742e 7769 6467  s.subobject.widg
-000085d0: 6574 732e 6261 7266 6965 6c64 273a 7527  ets.barfield':u'
-000085e0: 3535 272c 0a20 202e 2e2e 2020 2020 2027  55',.  ...     '
-000085f0: 666f 726d 2e77 6964 6765 7473 2e6e 616d  form.widgets.nam
-00008600: 6527 3a75 2766 6972 7374 272c 0a20 202e  e':u'first',.  .
-00008610: 2e2e 2020 2020 2027 666f 726d 2e77 6964  ..     'form.wid
-00008620: 6765 7473 2e73 7562 6f62 6a65 6374 2d65  gets.subobject-e
-00008630: 6d70 7479 2d6d 6172 6b65 7227 3a75 2731  mpty-marker':u'1
-00008640: 272c 0a20 202e 2e2e 2020 2020 2027 666f  ',.  ...     'fo
-00008650: 726d 2e62 7574 746f 6e73 2e61 7070 6c79  rm.buttons.apply
-00008660: 273a 2741 7070 6c79 277d 290a 0a54 6865  ':'Apply'})..The
-00008670: 7920 6172 6520 7374 696c 6c20 7468 6520  y are still the 
-00008680: 7361 6d65 3a0a 0a20 203e 3e3e 206e 6577  same:..  >>> new
-00008690: 7375 622e 666f 6f66 6965 6c64 0a20 2037  sub.foofield.  7
-000086a0: 380a 2020 3e3e 3e20 6e65 7773 7562 2e62  8.  >>> newsub.b
-000086b0: 6172 6669 656c 640a 2020 3837 0a0a 556e  arfield.  87..Un
-000086c0: 7469 6c20 7570 6461 7469 6e67 2074 6865  til updating the
-000086d0: 2066 6f72 6d3a 0a0a 2020 3e3e 3e20 6564   form:..  >>> ed
-000086e0: 6974 666f 726d 2e72 6571 7565 7374 203d  itform.request =
-000086f0: 2072 6571 7565 7374 0a20 203e 3e3e 2065   request.  >>> e
-00008700: 7665 6e74 6c6f 673d 5b5d 0a0a 2020 3e3e  ventlog=[]..  >>
-00008710: 3e20 6564 6974 666f 726d 2e75 7064 6174  > editform.updat
-00008720: 6528 290a 0a20 203e 3e3e 206e 6577 7375  e()..  >>> newsu
-00008730: 622e 666f 6f66 6965 6c64 0a20 2034 330a  b.foofield.  43.
-00008740: 2020 3e3e 3e20 6e65 7773 7562 2e62 6172    >>> newsub.bar
-00008750: 6669 656c 640a 2020 3535 0a0a 2020 3e3e  field.  55..  >>
-00008760: 3e20 6c65 6e28 6576 656e 746c 6f67 290a  > len(eventlog).
-00008770: 2020 320a 2020 3e3e 3e20 7072 696e 7445    2.  >>> printE
-00008780: 7665 6e74 7328 290a 2020 3c7a 6f70 652e  vents().  <zope.
-00008790: 2e2e 4f62 6a65 6374 4d6f 6469 6669 6564  ..ObjectModified
-000087a0: 4576 656e 7420 6f62 6a65 6374 2061 7420  Event object at 
-000087b0: 2e2e 2e3e 0a20 207a 3363 2e66 6f72 6d2e  ...>.  z3c.form.
-000087c0: 7465 7374 696e 672e 494d 7953 7562 4f62  testing.IMySubOb
-000087d0: 6a65 6374 0a20 205b 2762 6172 6669 656c  ject.  ['barfiel
-000087e0: 6427 2c20 2766 6f6f 6669 656c 6427 5d0a  d', 'foofield'].
-000087f0: 2020 3c7a 6f70 652e 2e2e 4f62 6a65 6374    <zope...Object
-00008800: 4d6f 6469 6669 6564 4576 656e 7420 6f62  ModifiedEvent ob
-00008810: 6a65 6374 2061 7420 2e2e 2e3e 0a20 207a  ject at ...>.  z
-00008820: 3363 2e66 6f72 6d2e 7465 7374 696e 672e  3c.form.testing.
-00008830: 494d 794f 626a 6563 740a 2020 5b27 6e61  IMyObject.  ['na
-00008840: 6d65 272c 2027 7375 626f 626a 6563 7427  me', 'subobject'
-00008850: 5d0a 0a0a 4f62 6a65 6374 2069 6e20 616e  ]...Object in an
-00008860: 204f 626a 6563 7420 7369 7475 6174 696f   Object situatio
-00008870: 6e0a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  n.==============
-00008880: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00008890: 0a0a 5765 2064 6566 696e 6520 616e 2069  ..We define an i
-000088a0: 6e74 6572 6661 6365 2063 6f6e 7461 696e  nterface contain
-000088b0: 696e 6720 6120 7375 626f 626a 6563 742c  ing a subobject,
-000088c0: 2061 6e64 2061 6e20 6164 6466 6f72 6d20   and an addform 
-000088d0: 666f 7220 6974 3a0a 0a20 203e 3e3e 2066  for it:..  >>> f
-000088e0: 726f 6d20 7a33 632e 666f 726d 2069 6d70  rom z3c.form imp
-000088f0: 6f72 7420 666f 726d 2c20 6669 656c 640a  ort form, field.
-00008900: 2020 3e3e 3e20 6672 6f6d 207a 3363 2e66    >>> from z3c.f
-00008910: 6f72 6d2e 7465 7374 696e 6720 696d 706f  orm.testing impo
-00008920: 7274 2049 4d79 436f 6d70 6c65 784f 626a  rt IMyComplexObj
-00008930: 6563 740a 0a4e 6f74 652c 2074 6861 7420  ect..Note, that 
-00008940: 6372 6561 7469 6e67 2061 6e20 6f62 6a65  creating an obje
-00008950: 6374 2077 696c 6c20 7072 696e 7420 736f  ct will print so
-00008960: 6d65 2069 6e66 6f72 6d61 7469 6f6e 2061  me information a
-00008970: 626f 7574 2069 743a 0a0a 2020 3e3e 3e20  bout it:..  >>> 
-00008980: 636c 6173 7320 4d79 4164 6446 6f72 6d28  class MyAddForm(
-00008990: 666f 726d 2e41 6464 466f 726d 293a 0a20  form.AddForm):. 
-000089a0: 202e 2e2e 2020 2020 2066 6965 6c64 7320   ...     fields 
-000089b0: 3d20 6669 656c 642e 4669 656c 6473 2849  = field.Fields(I
-000089c0: 4d79 436f 6d70 6c65 784f 626a 6563 7429  MyComplexObject)
-000089d0: 0a20 202e 2e2e 2020 2020 2064 6566 2063  .  ...     def c
-000089e0: 7265 6174 6528 7365 6c66 2c20 6461 7461  reate(self, data
-000089f0: 293a 0a20 202e 2e2e 2020 2020 2020 2020  ):.  ...        
-00008a00: 2070 7269 6e74 2822 4d79 4164 6446 6f72   print("MyAddFor
-00008a10: 6d2e 6372 6561 7465 222c 2073 7472 2864  m.create", str(d
-00008a20: 6174 6129 290a 2020 2e2e 2e20 2020 2020  ata)).  ...     
-00008a30: 2020 2020 7265 7475 726e 204d 794f 626a      return MyObj
-00008a40: 6563 7428 2a2a 6461 7461 290a 2020 2e2e  ect(**data).  ..
-00008a50: 2e20 2020 2020 6465 6620 6164 6428 7365  .     def add(se
-00008a60: 6c66 2c20 6f62 6a29 3a0a 2020 2e2e 2e20  lf, obj):.  ... 
-00008a70: 2020 2020 2020 2020 7365 6c66 2e63 6f6e          self.con
-00008a80: 7465 7874 5b6f 626a 2e6e 616d 655d 203d  text[obj.name] =
-00008a90: 206f 626a 0a20 202e 2e2e 2020 2020 2064   obj.  ...     d
-00008aa0: 6566 206e 6578 7455 524c 2873 656c 6629  ef nextURL(self)
-00008ab0: 3a0a 2020 2e2e 2e20 2020 2020 2020 2020  :.  ...         
-00008ac0: 7061 7373 0a0a 5765 2063 7265 6174 6520  pass..We create 
-00008ad0: 7468 6520 666f 726d 2061 6e64 2074 7279  the form and try
-00008ae0: 2074 6f20 7570 6461 7465 2069 743a 0a0a   to update it:..
-00008af0: 2020 3e3e 3e20 7265 7175 6573 7420 3d20    >>> request = 
-00008b00: 5465 7374 5265 7175 6573 7428 290a 0a20  TestRequest().. 
-00008b10: 203e 3e3e 206d 7961 6464 666f 726d 203d   >>> myaddform =
-00008b20: 2020 4d79 4164 6446 6f72 6d28 726f 6f74    MyAddForm(root
-00008b30: 2c20 7265 7175 6573 7429 0a0a 2020 3e3e  , request)..  >>
-00008b40: 3e20 6d79 6164 6466 6f72 6d2e 7570 6461  > myaddform.upda
-00008b50: 7465 2829 0a0a 4173 2075 7375 616c 2c20  te()..As usual, 
-00008b60: 7468 6520 666f 726d 2063 6f6e 7461 696e  the form contain
-00008b70: 7320 6120 7769 6467 6574 206d 616e 6167  s a widget manag
-00008b80: 6572 2077 6974 6820 7468 6520 6578 7065  er with the expe
-00008b90: 6374 6564 2077 6964 6765 740a 0a20 203e  cted widget..  >
-00008ba0: 3e3e 206c 6973 7428 6d79 6164 6466 6f72  >> list(myaddfor
-00008bb0: 6d2e 7769 6467 6574 732e 6b65 7973 2829  m.widgets.keys()
-00008bc0: 290a 2020 5b27 7375 626f 626a 6563 7427  ).  ['subobject'
-00008bd0: 2c20 276e 616d 6527 5d0a 2020 3e3e 3e20  , 'name'].  >>> 
-00008be0: 6c69 7374 286d 7961 6464 666f 726d 2e77  list(myaddform.w
-00008bf0: 6964 6765 7473 2e76 616c 7565 7328 2929  idgets.values())
-00008c00: 0a20 205b 3c4f 626a 6563 7457 6964 6765  .  [<ObjectWidge
-00008c10: 7420 2766 6f72 6d2e 7769 6467 6574 732e  t 'form.widgets.
-00008c20: 7375 626f 626a 6563 7427 3e2c 203c 5465  subobject'>, <Te
-00008c30: 7874 5769 6467 6574 2027 666f 726d 2e77  xtWidget 'form.w
-00008c40: 6964 6765 7473 2e6e 616d 6527 3e5d 0a0a  idgets.name'>]..
-00008c50: 5468 6520 6164 6466 6f72 6d20 6861 7320  The addform has 
-00008c60: 6f75 7220 4f62 6a65 6374 5769 6467 6574  our ObjectWidget
-00008c70: 2077 6869 6368 2069 6e20 7475 726e 2063   which in turn c
-00008c80: 6f6e 7461 696e 7320 7468 6520 7375 622d  ontains the sub-
-00008c90: 7769 6467 6574 733a 0a0a 2020 3e3e 3e20  widgets:..  >>> 
-00008ca0: 6c69 7374 286d 7961 6464 666f 726d 2e77  list(myaddform.w
-00008cb0: 6964 6765 7473 5b27 7375 626f 626a 6563  idgets['subobjec
-00008cc0: 7427 5d2e 7769 6467 6574 732e 6b65 7973  t'].widgets.keys
-00008cd0: 2829 290a 2020 5b27 7375 6266 6965 6c64  ()).  ['subfield
-00008ce0: 272c 2027 6d6f 6f66 6965 6c64 275d 0a0a  ', 'moofield']..
-00008cf0: 2020 3e3e 3e20 6c69 7374 286d 7961 6464    >>> list(myadd
-00008d00: 666f 726d 2e77 6964 6765 7473 5b27 7375  form.widgets['su
-00008d10: 626f 626a 6563 7427 5d2e 7769 6467 6574  bobject'].widget
-00008d20: 735b 2773 7562 6669 656c 6427 5d2e 7769  s['subfield'].wi
-00008d30: 6467 6574 732e 6b65 7973 2829 290a 2020  dgets.keys()).  
-00008d40: 5b27 666f 6f66 6965 6c64 272c 2027 6261  ['foofield', 'ba
-00008d50: 7266 6965 6c64 275d 0a0a 4966 2077 6520  rfield']..If we 
-00008d60: 7761 6e74 2074 6f20 7265 6e64 6572 2074  want to render t
-00008d70: 6865 2061 6464 666f 726d 2c20 7765 206d  he addform, we m
-00008d80: 7573 7420 6769 7665 2069 7420 6120 7465  ust give it a te
-00008d90: 6d70 6c61 7465 3a0a 0a20 203e 3e3e 2061  mplate:..  >>> a
-00008da0: 6464 5465 6d70 6c61 7465 286d 7961 6464  ddTemplate(myadd
-00008db0: 666f 726d 290a 0a4e 6f77 2072 656e 6465  form)..Now rende
-00008dc0: 7269 6e67 2074 6865 2061 6464 666f 726d  ring the addform
-00008dd0: 2072 656e 6465 7273 2074 6865 2073 7562   renders the sub
-00008de0: 666f 726d 2061 7320 7765 6c6c 3a0a 0a20  form as well:.. 
-00008df0: 203e 3e3e 2070 7269 6e74 286d 7961 6464   >>> print(myadd
-00008e00: 666f 726d 2e72 656e 6465 7228 2929 0a20  form.render()). 
-00008e10: 203c 6874 6d6c 2078 6d6c 6e73 3d22 6874   <html xmlns="ht
-00008e20: 7470 3a2f 2f77 7777 2e77 332e 6f72 672f  tp://www.w3.org/
-00008e30: 3139 3939 2f78 6874 6d6c 223e 0a20 2020  1999/xhtml">.   
-00008e40: 203c 626f 6479 3e0a 2020 2020 2020 3c66   <body>.      <f
-00008e50: 6f72 6d20 6163 7469 6f6e 3d22 2e22 3e0a  orm action=".">.
-00008e60: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00008e70: 7373 3d22 726f 7722 3e0a 2020 2020 2020  ss="row">.      
-00008e80: 2020 2020 3c6c 6162 656c 2066 6f72 3d22      <label for="
-00008e90: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
-00008ea0: 6f62 6a65 6374 223e 6d79 206f 626a 6563  object">my objec
-00008eb0: 743c 2f6c 6162 656c 3e0a 2020 2020 2020  t</label>.      
-00008ec0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00008ed0: 6f62 6a65 6374 2d77 6964 6765 7420 7265  object-widget re
-00008ee0: 7175 6972 6564 223e 0a20 2020 2020 2020  quired">.       
-00008ef0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-00008f00: 226c 6162 656c 223e 0a20 2020 2020 2020  "label">.       
-00008f10: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
-00008f20: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
-00008f30: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
-00008f40: 732d 7375 6266 6965 6c64 223e 0a20 2020  s-subfield">.   
-00008f50: 2020 2020 2020 2020 2020 2020 203c 7370               <sp
-00008f60: 616e 3e53 6563 6f6e 642d 7375 626f 626a  an>Second-subobj
-00008f70: 6563 743c 2f73 7061 6e3e 0a20 2020 2020  ect</span>.     
-00008f80: 2020 2020 2020 2020 2020 203c 7370 616e             <span
-00008f90: 2063 6c61 7373 3d22 7265 7175 6972 6564   class="required
-00008fa0: 223e 2a3c 2f73 7061 6e3e 0a20 2020 2020  ">*</span>.     
-00008fb0: 2020 2020 2020 2020 203c 2f6c 6162 656c           </label
-00008fc0: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
-00008fd0: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00008fe0: 203c 6469 7620 636c 6173 733d 2277 6964   <div class="wid
-00008ff0: 6765 7422 3e0a 2020 2020 2020 2020 2020  get">.          
-00009000: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
-00009010: 6f62 6a65 6374 2d77 6964 6765 7420 7265  object-widget re
-00009020: 7175 6972 6564 223e 0a20 2020 2020 2020  quired">.       
-00009030: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
-00009040: 6173 733d 226c 6162 656c 223e 0a20 2020  ass="label">.   
-00009050: 2020 2020 2020 2020 2020 2020 2020 203c                 <
-00009060: 6c61 6265 6c20 666f 723d 2266 6f72 6d2d  label for="form-
-00009070: 7769 6467 6574 732d 7375 626f 626a 6563  widgets-subobjec
-00009080: 742d 7769 6467 6574 732d 7375 6266 6965  t-widgets-subfie
-00009090: 6c64 2d77 6964 6765 7473 2d66 6f6f 6669  ld-widgets-foofi
-000090a0: 656c 6422 3e0a 2020 2020 2020 2020 2020  eld">.          
-000090b0: 2020 2020 2020 2020 2020 3c73 7061 6e3e            <span>
-000090c0: 4d79 2066 6f6f 2066 6965 6c64 3c2f 7370  My foo field</sp
-000090d0: 616e 3e0a 2020 2020 2020 2020 2020 2020  an>.            
-000090e0: 2020 2020 2020 2020 3c73 7061 6e20 636c          <span cl
-000090f0: 6173 733d 2272 6571 7569 7265 6422 3e2a  ass="required">*
-00009100: 3c2f 7370 616e 3e0a 2020 2020 2020 2020  </span>.        
-00009110: 2020 2020 2020 2020 2020 3c2f 6c61 6265            </labe
-00009120: 6c3e 0a20 2020 2020 2020 2020 2020 2020  l>.             
-00009130: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
-00009140: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
-00009150: 6c61 7373 3d22 7769 6467 6574 223e 0a20  lass="widget">. 
-00009160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009170: 203c 696e 7075 7420 636c 6173 733d 2274   <input class="t
-00009180: 6578 742d 7769 6467 6574 2072 6571 7569  ext-widget requi
-00009190: 7265 6420 696e 742d 6669 656c 6422 0a20  red int-field". 
-000091a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000091b0: 2069 643d 2266 6f72 6d2d 7769 6467 6574   id="form-widget
-000091c0: 732d 7375 626f 626a 6563 742d 7769 6467  s-subobject-widg
-000091d0: 6574 732d 7375 6266 6965 6c64 2d77 6964  ets-subfield-wid
-000091e0: 6765 7473 2d66 6f6f 6669 656c 6422 0a20  gets-foofield". 
-000091f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009200: 206e 616d 653d 2266 6f72 6d2e 7769 6467   name="form.widg
-00009210: 6574 732e 7375 626f 626a 6563 742e 7769  ets.subobject.wi
-00009220: 6467 6574 732e 7375 6266 6965 6c64 2e77  dgets.subfield.w
-00009230: 6964 6765 7473 2e66 6f6f 6669 656c 6422  idgets.foofield"
-00009240: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009250: 2020 2074 7970 653d 2274 6578 7422 2076     type="text" v
-00009260: 616c 7565 3d22 312c 3131 3122 3e0a 2020  alue="1,111">.  
-00009270: 2020 2020 2020 2020 2020 2020 2020 3c2f                </
-00009280: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
-00009290: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
-000092a0: 226c 6162 656c 223e 0a20 2020 2020 2020  "label">.       
-000092b0: 2020 2020 2020 2020 2020 203c 6c61 6265             <labe
-000092c0: 6c20 666f 723d 2266 6f72 6d2d 7769 6467  l for="form-widg
-000092d0: 6574 732d 7375 626f 626a 6563 742d 7769  ets-subobject-wi
-000092e0: 6467 6574 732d 7375 6266 6965 6c64 2d77  dgets-subfield-w
-000092f0: 6964 6765 7473 2d62 6172 6669 656c 6422  idgets-barfield"
-00009300: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00009310: 2020 2020 2020 3c73 7061 6e3e 4d79 2064        <span>My d
-00009320: 6561 7220 6261 723c 2f73 7061 6e3e 0a20  ear bar</span>. 
-00009330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009340: 203c 2f6c 6162 656c 3e0a 2020 2020 2020   </label>.      
-00009350: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
-00009360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009370: 203c 6469 7620 636c 6173 733d 2277 6964   <div class="wid
-00009380: 6765 7422 3e0a 2020 2020 2020 2020 2020  get">.          
-00009390: 2020 2020 2020 2020 3c69 6e70 7574 2063          <input c
-000093a0: 6c61 7373 3d22 7465 7874 2d77 6964 6765  lass="text-widge
-000093b0: 7420 696e 742d 6669 656c 6422 0a20 2020  t int-field".   
-000093c0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000093d0: 643d 2266 6f72 6d2d 7769 6467 6574 732d  d="form-widgets-
-000093e0: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
-000093f0: 732d 7375 6266 6965 6c64 2d77 6964 6765  s-subfield-widge
-00009400: 7473 2d62 6172 6669 656c 6422 0a20 2020  ts-barfield".   
-00009410: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00009420: 616d 653d 2266 6f72 6d2e 7769 6467 6574  ame="form.widget
-00009430: 732e 7375 626f 626a 6563 742e 7769 6467  s.subobject.widg
-00009440: 6574 732e 7375 6266 6965 6c64 2e77 6964  ets.subfield.wid
-00009450: 6765 7473 2e62 6172 6669 656c 6422 0a20  gets.barfield". 
-00009460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009470: 2074 7970 653d 2274 6578 7422 2076 616c   type="text" val
-00009480: 7565 3d22 322c 3232 3222 3e0a 2020 2020  ue="2,222">.    
-00009490: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
-000094a0: 763e 0a20 2020 2020 2020 2020 2020 2020  v>.             
-000094b0: 2020 203c 696e 7075 7420 6e61 6d65 3d22     <input name="
-000094c0: 666f 726d 2e77 6964 6765 7473 2e73 7562  form.widgets.sub
-000094d0: 6f62 6a65 6374 2e77 6964 6765 7473 2e73  object.widgets.s
-000094e0: 7562 6669 656c 642d 656d 7074 792d 6d61  ubfield-empty-ma
-000094f0: 726b 6572 2220 7479 7065 3d22 6869 6464  rker" type="hidd
-00009500: 656e 2220 7661 6c75 653d 2231 223e 0a20  en" value="1">. 
-00009510: 2020 2020 2020 2020 2020 2020 203c 2f64               </d
-00009520: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
-00009530: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
-00009540: 2020 203c 6469 7620 636c 6173 733d 226c     <div class="l
-00009550: 6162 656c 223e 0a20 2020 2020 2020 2020  abel">.         
-00009560: 2020 2020 203c 6c61 6265 6c20 666f 723d       <label for=
-00009570: 2266 6f72 6d2d 7769 6467 6574 732d 7375  "form-widgets-su
-00009580: 626f 626a 6563 742d 7769 6467 6574 732d  bobject-widgets-
-00009590: 6d6f 6f66 6965 6c64 223e 0a20 2020 2020  moofield">.     
-000095a0: 2020 2020 2020 2020 2020 203c 7370 616e             <span
-000095b0: 3e53 6f6d 6574 6869 6e67 3c2f 7370 616e  >Something</span
-000095c0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-000095d0: 2020 3c73 7061 6e20 636c 6173 733d 2272    <span class="r
-000095e0: 6571 7569 7265 6422 3e2a 3c2f 7370 616e  equired">*</span
-000095f0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
-00009600: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
-00009610: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
-00009620: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
-00009630: 7373 3d22 7769 6467 6574 223e 0a20 2020  ss="widget">.   
-00009640: 2020 2020 2020 2020 2020 203c 696e 7075             <inpu
-00009650: 7420 636c 6173 733d 2274 6578 742d 7769  t class="text-wi
-00009660: 6467 6574 2072 6571 7569 7265 6420 7465  dget required te
-00009670: 7874 6c69 6e65 2d66 6965 6c64 220a 2020  xtline-field".  
-00009680: 2020 2020 2020 2020 2020 2020 6964 3d22              id="
-00009690: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
-000096a0: 6f62 6a65 6374 2d77 6964 6765 7473 2d6d  object-widgets-m
-000096b0: 6f6f 6669 656c 6422 0a20 2020 2020 2020  oofield".       
-000096c0: 2020 2020 2020 206e 616d 653d 2266 6f72         name="for
-000096d0: 6d2e 7769 6467 6574 732e 7375 626f 626a  m.widgets.subobj
-000096e0: 6563 742e 7769 6467 6574 732e 6d6f 6f66  ect.widgets.moof
-000096f0: 6965 6c64 2220 7479 7065 3d22 7465 7874  ield" type="text
-00009700: 2220 7661 6c75 653d 2222 3e0a 2020 2020  " value="">.    
-00009710: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
-00009720: 2020 2020 2020 2020 2020 203c 696e 7075             <inpu
-00009730: 7420 6e61 6d65 3d22 666f 726d 2e77 6964  t name="form.wid
-00009740: 6765 7473 2e73 7562 6f62 6a65 6374 2d65  gets.subobject-e
-00009750: 6d70 7479 2d6d 6172 6b65 7222 2074 7970  mpty-marker" typ
-00009760: 653d 2268 6964 6465 6e22 2076 616c 7565  e="hidden" value
-00009770: 3d22 3122 3e0a 2020 2020 2020 2020 2020  ="1">.          
-00009780: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
-00009790: 2f64 6976 3e0a 2020 2020 2020 2020 3c64  /div>.        <d
-000097a0: 6976 2063 6c61 7373 3d22 726f 7722 3e0a  iv class="row">.
-000097b0: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
-000097c0: 2066 6f72 3d22 666f 726d 2d77 6964 6765   for="form-widge
-000097d0: 7473 2d6e 616d 6522 3e6e 616d 653c 2f6c  ts-name">name</l
-000097e0: 6162 656c 3e0a 2020 2020 2020 2020 2020  abel>.          
-000097f0: 3c69 6e70 7574 2063 6c61 7373 3d22 7465  <input class="te
-00009800: 7874 2d77 6964 6765 7420 7265 7175 6972  xt-widget requir
-00009810: 6564 2074 6578 746c 696e 652d 6669 656c  ed textline-fiel
-00009820: 6422 0a20 2020 2020 2020 2020 2069 643d  d".          id=
-00009830: 2266 6f72 6d2d 7769 6467 6574 732d 6e61  "form-widgets-na
-00009840: 6d65 2220 6e61 6d65 3d22 666f 726d 2e77  me" name="form.w
-00009850: 6964 6765 7473 2e6e 616d 6522 2074 7970  idgets.name" typ
-00009860: 653d 2274 6578 7422 2076 616c 7565 3d22  e="text" value="
-00009870: 223e 0a20 2020 2020 2020 203c 2f64 6976  ">.        </div
-00009880: 3e0a 2020 2020 2020 2020 3c64 6976 2063  >.        <div c
-00009890: 6c61 7373 3d22 6163 7469 6f6e 223e 0a20  lass="action">. 
-000098a0: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
-000098b0: 636c 6173 733d 2273 7562 6d69 742d 7769  class="submit-wi
-000098c0: 6467 6574 2062 7574 746f 6e2d 6669 656c  dget button-fiel
-000098d0: 6422 2069 643d 2266 6f72 6d2d 6275 7474  d" id="form-butt
-000098e0: 6f6e 732d 6164 6422 206e 616d 653d 2266  ons-add" name="f
-000098f0: 6f72 6d2e 6275 7474 6f6e 732e 6164 6422  orm.buttons.add"
-00009900: 2074 7970 653d 2273 7562 6d69 7422 2076   type="submit" v
-00009910: 616c 7565 3d22 4164 6422 3e0a 2020 2020  alue="Add">.    
-00009920: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
-00009930: 203c 2f66 6f72 6d3e 0a20 2020 203c 2f62   </form>.    </b
-00009940: 6f64 793e 0a20 203c 2f68 746d 6c3e 0a0a  ody>.  </html>..
-00009950: 0a43 6f76 6572 6167 6520 6861 7070 696e  .Coverage happin
-00009960: 6573 730a 2323 2323 2323 2323 2323 2323  ess.############
-00009970: 2323 2323 2323 0a0a 436f 6e76 6572 7469  ######..Converti
-00009980: 6e67 2069 6e74 6572 6661 6365 732e 4e4f  ng interfaces.NO
-00009990: 5f56 414c 5545 2068 6f6c 6473 204e 6f6e  _VALUE holds Non
-000099a0: 653a 0a0a 2020 3e3e 3e20 636f 6e76 6572  e:..  >>> conver
-000099b0: 7465 722e 746f 4669 656c 6456 616c 7565  ter.toFieldValue
-000099c0: 2869 6e74 6572 6661 6365 732e 4e4f 5f56  (interfaces.NO_V
-000099d0: 414c 5545 2920 6973 204e 6f6e 650a 2020  ALUE) is None.  
-000099e0: 5472 7565 0a0a 0a54 6869 7320 6973 2061  True...This is a
-000099f0: 2063 6f6d 706c 6963 6174 6564 2063 6173   complicated cas
-00009a00: 652e 0a48 6170 7065 6e73 2077 6865 6e20  e..Happens when 
-00009a10: 7468 6520 636f 6e74 6578 7420 6973 2061  the context is a
-00009a20: 2064 6963 742c 2061 6e64 2074 6865 2064   dict, and the d
-00009a30: 6963 7420 6d69 7373 6573 2074 6865 2066  ict misses the f
-00009a40: 6965 6c64 2e0a 284e 6f74 652c 2077 6527  ield..(Note, we'
-00009a50: 7265 206d 616b 696e 6720 6060 7375 625f  re making ``sub_
-00009a60: 5f6f 626a 6563 7460 6020 696e 7374 6561  _object`` instea
-00009a70: 6420 6f66 2060 6073 7562 6f62 6a65 6374  d of ``subobject
-00009a80: 6060 290a 0a20 203e 3e3e 2063 6f6e 7465  ``)..  >>> conte
-00009a90: 7874 203d 2064 6963 7428 7375 625f 5f6f  xt = dict(sub__o
-00009aa0: 626a 6563 743d 4e6f 6e65 2c20 666f 6f3d  bject=None, foo=
-00009ab0: 3132 332c 2062 6172 3d34 3536 290a 0a41  123, bar=456)..A
-00009ac0: 6c6c 2074 6865 2073 746f 7279 2074 6865  ll the story the
-00009ad0: 2063 7265 6174 6520 6120 7769 6467 6574   create a widget
-00009ae0: 3a0a 0a20 203e 3e3e 2066 6965 6c64 203d  :..  >>> field =
-00009af0: 207a 6f70 652e 7363 6865 6d61 2e4f 626a   zope.schema.Obj
-00009b00: 6563 7428 0a20 202e 2e2e 2020 2020 205f  ect(.  ...     _
-00009b10: 5f6e 616d 655f 5f3d 2773 7562 6f62 6a65  _name__='subobje
-00009b20: 6374 272c 0a20 202e 2e2e 2020 2020 2074  ct',.  ...     t
-00009b30: 6974 6c65 3d75 276d 7920 6f62 6a65 6374  itle=u'my object
-00009b40: 2077 6964 6765 7427 2c0a 2020 2e2e 2e20   widget',.  ... 
-00009b50: 2020 2020 7363 6865 6d61 3d49 4d79 5375      schema=IMySu
-00009b60: 624f 626a 6563 7429 0a0a 2020 3e3e 3e20  bObject)..  >>> 
-00009b70: 7776 203d 207a 3363 2e66 6f72 6d2e 6f62  wv = z3c.form.ob
-00009b80: 6a65 6374 2e4f 626a 6563 7457 6964 6765  ject.ObjectWidge
-00009b90: 7456 616c 7565 280a 2020 2e2e 2e20 2020  tValue(.  ...   
-00009ba0: 2020 7b27 666f 6f66 6965 6c64 273a 2027    {'foofield': '
-00009bb0: 3227 2c20 2762 6172 6669 656c 6427 3a20  2', 'barfield': 
-00009bc0: 2739 3939 277d 290a 0a20 203e 3e3e 2072  '999'})..  >>> r
-00009bd0: 6571 7565 7374 203d 2054 6573 7452 6571  equest = TestReq
-00009be0: 7565 7374 2829 0a20 203e 3e3e 2077 6964  uest().  >>> wid
-00009bf0: 6765 7420 3d20 7a33 632e 666f 726d 2e62  get = z3c.form.b
-00009c00: 726f 7773 6572 2e6f 626a 6563 742e 4f62  rowser.object.Ob
-00009c10: 6a65 6374 5769 6467 6574 2872 6571 7565  jectWidget(reque
-00009c20: 7374 290a 2020 3e3e 3e20 7769 6467 6574  st).  >>> widget
-00009c30: 203d 2046 6965 6c64 5769 6467 6574 2866   = FieldWidget(f
-00009c40: 6965 6c64 2c20 7769 6467 6574 290a 2020  ield, widget).  
-00009c50: 3e3e 3e20 7769 6467 6574 2e63 6f6e 7465  >>> widget.conte
-00009c60: 7874 203d 2063 6f6e 7465 7874 0a20 203e  xt = context.  >
-00009c70: 3e3e 2077 6964 6765 742e 7661 6c75 6520  >> widget.value 
-00009c80: 3d20 7776 0a20 203e 3e3e 2077 6964 6765  = wv.  >>> widge
-00009c90: 742e 7570 6461 7465 2829 0a20 203e 3e3e  t.update().  >>>
-00009ca0: 2063 6f6e 7665 7274 6572 203d 2069 6e74   converter = int
-00009cb0: 6572 6661 6365 732e 4944 6174 6143 6f6e  erfaces.IDataCon
-00009cc0: 7665 7274 6572 2877 6964 6765 7429 0a0a  verter(widget)..
-00009cd0: 416e 6420 7374 696c 6c20 7765 2067 6574  And still we get
-00009ce0: 2061 204d 7953 7562 4f62 6a65 6374 2c20   a MySubObject, 
-00009cf0: 6e6f 2066 6169 6c75 7265 3a0a 0a20 203e  no failure:..  >
-00009d00: 3e3e 2076 616c 7565 203d 2063 6f6e 7665  >> value = conve
-00009d10: 7274 6572 2e74 6f46 6965 6c64 5661 6c75  rter.toFieldValu
-00009d20: 6528 7776 290a 2020 3e3e 3e20 7661 6c75  e(wv).  >>> valu
-00009d30: 650a 2020 3c7a 3363 2e66 6f72 6d2e 7465  e.  <z3c.form.te
-00009d40: 7374 696e 672e 4d79 5375 624f 626a 6563  sting.MySubObjec
-00009d50: 7420 6f62 6a65 6374 2061 7420 2e2e 2e3e  t object at ...>
-00009d60: 0a20 203e 3e3e 2076 616c 7565 2e66 6f6f  .  >>> value.foo
-00009d70: 6669 656c 640a 2020 320a 2020 3e3e 3e20  field.  2.  >>> 
-00009d80: 7661 6c75 652e 6261 7266 6965 6c64 0a20  value.barfield. 
-00009d90: 2039 3939 0a0a 0a45 6173 7920 2861 6674   999...Easy (aft
-00009da0: 6572 2074 6865 2070 7265 7669 6f75 7329  er the previous)
-00009db0: 2e0a 496e 2063 6173 6520 7468 6520 7072  ..In case the pr
-00009dc0: 6576 696f 7573 2076 616c 7565 206f 6e20  evious value on 
-00009dd0: 7468 6520 636f 6e74 6578 7420 6973 204e  the context is N
-00009de0: 6f6e 6520 286f 7220 6d69 7373 696e 6729  one (or missing)
-00009df0: 2e0a 5765 206e 6565 6420 746f 2063 7265  ..We need to cre
-00009e00: 6174 6520 6120 6e65 7720 6f62 6a65 6374  ate a new object
-00009e10: 2074 6f20 6265 2061 626c 6520 746f 2073   to be able to s
-00009e20: 6574 2070 726f 7065 7274 6965 7320 6f6e  et properties on
-00009e30: 2e0a 0a20 203e 3e3e 2063 6f6e 7465 7874  ...  >>> context
-00009e40: 5b27 7375 626f 626a 6563 7427 5d20 3d20  ['subobject'] = 
-00009e50: 4e6f 6e65 0a20 203e 3e3e 2076 616c 7565  None.  >>> value
-00009e60: 203d 2063 6f6e 7665 7274 6572 2e74 6f46   = converter.toF
-00009e70: 6965 6c64 5661 6c75 6528 7776 290a 2020  ieldValue(wv).  
-00009e80: 3e3e 3e20 7661 6c75 650a 2020 3c7a 3363  >>> value.  <z3c
-00009e90: 2e66 6f72 6d2e 7465 7374 696e 672e 4d79  .form.testing.My
-00009ea0: 5375 624f 626a 6563 7420 6f62 6a65 6374  SubObject object
-00009eb0: 2061 7420 2e2e 2e3e 0a20 203e 3e3e 2076   at ...>.  >>> v
-00009ec0: 616c 7565 2e66 6f6f 6669 656c 640a 2020  alue.foofield.  
-00009ed0: 320a 2020 3e3e 3e20 7661 6c75 652e 6261  2.  >>> value.ba
-00009ee0: 7266 6965 6c64 0a20 2039 3939 0a0a 496e  rfield.  999..In
-00009ef0: 2063 6173 6520 7468 6572 6520 6973 2073   case there is s
-00009f00: 6f6d 6574 6869 6e67 2074 6861 7420 6361  omething that ca
-00009f10: 6e6e 6f74 2062 6520 6164 6170 7465 6420  nnot be adapted 
-00009f20: 746f 2074 6865 2072 6967 6874 2069 6e74  to the right int
-00009f30: 6572 6661 6365 2c0a 6974 206a 7573 7420  erface,.it just 
-00009f40: 6275 7270 733a 0a28 6d69 6768 7420 6265  burps:.(might be
-00009f50: 2061 6e20 6964 6561 2074 6f20 6372 6561   an idea to crea
-00009f60: 7465 2069 6e20 7468 6973 2063 6173 6520  te in this case 
-00009f70: 616c 736f 2061 206e 6577 2062 6c61 6e6b  also a new blank
-00009f80: 206f 626a 6563 7429 0a0a 2020 3e3e 3e20   object)..  >>> 
-00009f90: 636f 6e74 6578 745b 2773 7562 6f62 6a65  context['subobje
-00009fa0: 6374 275d 203d 2075 2762 7275 7461 6c27  ct'] = u'brutal'
-00009fb0: 0a20 203e 3e3e 2063 6f6e 7665 7274 6572  .  >>> converter
-00009fc0: 2e74 6f46 6965 6c64 5661 6c75 6528 7776  .toFieldValue(wv
-00009fd0: 290a 2020 5472 6163 6562 6163 6b20 286d  ).  Traceback (m
-00009fe0: 6f73 7420 7265 6365 6e74 2063 616c 6c20  ost recent call 
-00009ff0: 6c61 7374 293a 0a20 202e 2e2e 0a20 2054  last):.  ....  T
-0000a000: 7970 6545 7272 6f72 3a20 2827 436f 756c  ypeError: ('Coul
-0000a010: 6420 6e6f 7420 6164 6170 7427 2c20 7527  d not adapt', u'
-0000a020: 6272 7574 616c 272c 0a20 207a 3363 2e66  brutal',.  z3c.f
-0000a030: 6f72 6d2e 7465 7374 696e 672e 494d 7953  orm.testing.IMyS
-0000a040: 7562 4f62 6a65 6374 0a0a 2020 3e3e 3e20  ubObject..  >>> 
-0000a050: 636f 6e74 6578 745b 2773 7562 6f62 6a65  context['subobje
-0000a060: 6374 275d 203d 204e 6f6e 650a 0a0a 4f6e  ct'] = None...On
-0000a070: 6520 6d6f 7265 2e0a 5661 6c75 6520 746f  e more..Value to
-0000a080: 2063 6f6e 7665 7274 206d 6973 7365 7320   convert misses 
-0000a090: 6120 6669 656c 642e 2053 686f 756c 6420  a field. Should 
-0000a0a0: 6e65 7665 7220 6861 7070 656e 2061 6374  never happen act
-0000a0b0: 7561 6c6c 793a 0a0a 2020 3e3e 3e20 7776  ually:..  >>> wv
-0000a0c0: 203d 207a 3363 2e66 6f72 6d2e 6f62 6a65   = z3c.form.obje
-0000a0d0: 6374 2e4f 626a 6563 7457 6964 6765 7456  ct.ObjectWidgetV
-0000a0e0: 616c 7565 280a 2020 2e2e 2e20 2020 2020  alue(.  ...     
-0000a0f0: 7b27 666f 6f66 6965 6c64 273a 2027 3227  {'foofield': '2'
-0000a100: 7d29 0a20 203e 3e3e 2076 616c 7565 203d  }).  >>> value =
-0000a110: 2063 6f6e 7665 7274 6572 2e74 6f46 6965   converter.toFie
-0000a120: 6c64 5661 6c75 6528 7776 290a 0a4b 6e6f  ldValue(wv)..Kno
-0000a130: 776e 2070 726f 7065 7274 7920 6973 2073  wn property is s
-0000a140: 6574 3a0a 0a20 203e 3e3e 2076 616c 7565  et:..  >>> value
-0000a150: 2e66 6f6f 6669 656c 640a 2020 320a 0a55  .foofield.  2..U
-0000a160: 6e6b 6e6f 776e 2073 7469 636b 7320 7469  nknown sticks ti
-0000a170: 2069 7427 7320 6465 6661 756c 7420 7661   it's default va
-0000a180: 6c75 653a 0a0a 2020 3e3e 3e20 7661 6c75  lue:..  >>> valu
-0000a190: 652e 6261 7266 6965 6c64 0a20 2032 3232  e.barfield.  222
-0000a1a0: 320a                                     2.
+000025d0: 2020 2020 2020 2773 7562 6f62 6a65 6374        'subobject
+000025e0: 2d65 6d70 7479 2d6d 6172 6b65 7227 3a27  -empty-marker':'
+000025f0: 3127 7d29 0a23 0a23 0a23 2020 3e3e 3e20  1'}).#.#.#  >>> 
+00002600: 7769 6467 6574 2e75 7064 6174 6528 290a  widget.update().
+00002610: 2320 203e 3e3e 2070 7269 6e74 2877 6964  #  >>> print(wid
+00002620: 6765 742e 7265 6e64 6572 2829 290a 2320  get.render()).# 
+00002630: 203c 6874 6d6c 3e0a 2320 2020 203c 626f   <html>.#    <bo
+00002640: 6479 3e0a 2320 2020 2020 203c 6469 7620  dy>.#      <div 
+00002650: 636c 6173 733d 226f 626a 6563 742d 7769  class="object-wi
+00002660: 6467 6574 2072 6571 7569 7265 6422 3e0a  dget required">.
+00002670: 2320 2020 2020 2020 203c 6469 7620 636c  #        <div cl
+00002680: 6173 733d 226c 6162 656c 223e 0a23 2020  ass="label">.#  
+00002690: 2020 2020 2020 2020 3c6c 6162 656c 2066          <label f
+000026a0: 6f72 3d22 7375 626f 626a 6563 742d 7769  or="subobject-wi
+000026b0: 6467 6574 732d 666f 6f66 6965 6c64 223e  dgets-foofield">
+000026c0: 0a23 2020 2020 2020 2020 2020 2020 3c73  .#            <s
+000026d0: 7061 6e3e 4d79 2066 6f6f 2066 6965 6c64  pan>My foo field
+000026e0: 3c2f 7370 616e 3e0a 2320 2020 2020 2020  </span>.#       
+000026f0: 2020 2020 203c 7370 616e 2063 6c61 7373       <span class
+00002700: 3d22 7265 7175 6972 6564 223e 2a3c 2f73  ="required">*</s
+00002710: 7061 6e3e 0a23 2020 2020 2020 2020 2020  pan>.#          
+00002720: 3c2f 6c61 6265 6c3e 0a23 2020 2020 2020  </label>.#      
+00002730: 2020 3c2f 6469 763e 0a23 2020 2020 2020    </div>.#      
+00002740: 2020 3c64 6976 2063 6c61 7373 3d22 7769    <div class="wi
+00002750: 6467 6574 223e 0a23 2020 2020 2020 2020  dget">.#        
+00002760: 2020 3c69 6e70 7574 2063 6c61 7373 3d22    <input class="
+00002770: 7465 7874 2d77 6964 6765 7420 7265 7175  text-widget requ
+00002780: 6972 6564 2069 6e74 2d66 6965 6c64 220a  ired int-field".
+00002790: 2320 2020 2020 2020 2020 2069 643d 2273  #          id="s
+000027a0: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+000027b0: 2d66 6f6f 6669 656c 6422 0a23 2020 2020  -foofield".#    
+000027c0: 2020 2020 2020 6e61 6d65 3d22 7375 626f        name="subo
+000027d0: 626a 6563 742e 7769 6467 6574 732e 666f  bject.widgets.fo
+000027e0: 6f66 6965 6c64 220a 2320 2020 2020 2020  ofield".#       
+000027f0: 2020 2074 7970 653d 2274 6578 7422 2076     type="text" v
+00002800: 616c 7565 3d22 3535 223e 0a23 2020 2020  alue="55">.#    
+00002810: 2020 2020 3c2f 6469 763e 0a23 2020 2020      </div>.#    
+00002820: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00002830: 6c61 6265 6c22 3e0a 2320 2020 2020 2020  label">.#       
+00002840: 2020 203c 6c61 6265 6c20 666f 723d 2273     <label for="s
+00002850: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+00002860: 2d62 6172 6669 656c 6422 3e0a 2320 2020  -barfield">.#   
+00002870: 2020 2020 2020 2020 203c 7370 616e 3e4d           <span>M
+00002880: 7920 6465 6172 2062 6172 3c2f 7370 616e  y dear bar</span
+00002890: 3e0a 2320 2020 2020 2020 2020 203c 2f6c  >.#          </l
+000028a0: 6162 656c 3e0a 2320 2020 2020 2020 203c  abel>.#        <
+000028b0: 2f64 6976 3e0a 2320 2020 2020 2020 203c  /div>.#        <
+000028c0: 6469 7620 636c 6173 733d 2265 7272 6f72  div class="error
+000028d0: 223e 5468 6520 656e 7465 7265 6420 7661  ">The entered va
+000028e0: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
+000028f0: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
+00002900: 616c 2e3c 2f64 6976 3e0a 2320 2020 2020  al.</div>.#     
+00002910: 2020 203c 6469 7620 636c 6173 733d 2277     <div class="w
+00002920: 6964 6765 7422 3e0a 2320 2020 2020 2020  idget">.#       
+00002930: 2020 203c 696e 7075 7420 636c 6173 733d     <input class=
+00002940: 2274 6578 742d 7769 6467 6574 2069 6e74  "text-widget int
+00002950: 2d66 6965 6c64 220a 2320 2020 2020 2020  -field".#       
+00002960: 2020 2069 643d 2273 7562 6f62 6a65 6374     id="subobject
+00002970: 2d77 6964 6765 7473 2d62 6172 6669 656c  -widgets-barfiel
+00002980: 6422 0a23 2020 2020 2020 2020 2020 6e61  d".#          na
+00002990: 6d65 3d22 7375 626f 626a 6563 742e 7769  me="subobject.wi
+000029a0: 6467 6574 732e 6261 7266 6965 6c64 220a  dgets.barfield".
+000029b0: 2320 2020 2020 2020 2020 2074 7970 653d  #          type=
+000029c0: 2274 6578 7422 2076 616c 7565 3d22 6261  "text" value="ba
+000029d0: 6422 3e0a 2320 2020 2020 2020 203c 2f64  d">.#        </d
+000029e0: 6976 3e0a 2320 2020 2020 2020 203c 696e  iv>.#        <in
+000029f0: 7075 7420 6e61 6d65 3d22 7375 626f 626a  put name="subobj
+00002a00: 6563 742d 656d 7074 792d 6d61 726b 6572  ect-empty-marker
+00002a10: 2220 7479 7065 3d22 6869 6464 656e 2220  " type="hidden" 
+00002a20: 7661 6c75 653d 2231 223e 0a23 2020 2020  value="1">.#    
+00002a30: 2020 3c2f 6469 763e 0a23 2020 2020 3c2f    </div>.#    </
+00002a40: 626f 6479 3e0a 2320 203c 2f68 746d 6c3e  body>.#  </html>
+00002a50: 0a23 0a23 4765 7474 696e 6720 7468 6520  .#.#Getting the 
+00002a60: 7769 6467 6574 2076 616c 7565 2072 6169  widget value rai
+00002a70: 7365 7320 7468 6520 7769 6467 6574 2065  ses the widget e
+00002a80: 7272 6f72 733a 0a23 0a23 2020 3e3e 3e20  rrors:.#.#  >>> 
+00002a90: 7769 6467 6574 2e76 616c 7565 0a23 2020  widget.value.#  
+00002aa0: 5472 6163 6562 6163 6b20 286d 6f73 7420  Traceback (most 
+00002ab0: 7265 6365 6e74 2063 616c 6c20 6c61 7374  recent call last
+00002ac0: 293a 0a23 2020 2e2e 2e0a 2320 204d 756c  ):.#  ....#  Mul
+00002ad0: 7469 706c 6545 7272 6f72 730a 230a 234f  tipleErrors.#.#O
+00002ae0: 7572 206f 626a 6563 7420 7374 696c 6c20  ur object still 
+00002af0: 6d75 7374 2072 6574 6169 6e20 7468 6520  must retain the 
+00002b00: 6f6c 6420 7661 6c75 6573 3a0a 230a 2320  old values:.#.# 
+00002b10: 203e 3e3e 2076 0a23 2020 3c7a 3363 2e66   >>> v.#  <z3c.f
+00002b20: 6f72 6d2e 7465 7374 696e 672e 4d79 5375  orm.testing.MySu
+00002b30: 624f 626a 6563 7420 6f62 6a65 6374 2061  bObject object a
+00002b40: 7420 2e2e 2e3e 0a23 2020 3e3e 3e20 762e  t ...>.#  >>> v.
+00002b50: 666f 6f66 6965 6c64 0a23 2020 3432 0a23  foofield.#  42.#
+00002b60: 2020 3e3e 3e20 762e 6261 7266 6965 6c64    >>> v.barfield
+00002b70: 0a23 2020 3636 360a 2320 203e 3e3e 2076  .#  666.#  >>> v
+00002b80: 2e5f 5f6d 6172 6b65 725f 5f0a 2320 2027  .__marker__.#  '
+00002b90: 5468 6973 4d75 7374 5374 6179 5468 6553  ThisMustStayTheS
+00002ba0: 616d 6527 0a0a 0a0a 496e 2066 6f72 6d73  ame'....In forms
+00002bb0: 0a3d 3d3d 3d3d 3d3d 3d0a 0a44 6f20 616c  .========..Do al
+00002bc0: 6c20 7468 6174 2066 756e 2069 6e20 6164  l that fun in ad
+00002bd0: 6420 616e 6420 6564 6974 2066 6f72 6d73  d and edit forms
+00002be0: 2074 6f6f 3a0a 0a0a 5765 2068 6176 6520   too:...We have 
+00002bf0: 746f 2070 726f 7669 6465 2061 6e20 6164  to provide an ad
+00002c00: 6170 7465 7220 6669 7273 743a 0a0a 2020  apter first:..  
+00002c10: 3e3e 3e20 7a6f 7065 2e63 6f6d 706f 6e65  >>> zope.compone
+00002c20: 6e74 2e70 726f 7669 6465 4164 6170 7465  nt.provideAdapte
+00002c30: 7228 7a33 632e 666f 726d 2e62 726f 7773  r(z3c.form.brows
+00002c40: 6572 2e6f 626a 6563 742e 4f62 6a65 6374  er.object.Object
+00002c50: 4669 656c 6457 6964 6765 7429 0a0a 466f  FieldWidget)..Fo
+00002c60: 726d 7320 616e 6420 6f75 7220 6f62 6a65  rms and our obje
+00002c70: 6374 7769 6467 6574 2066 6972 6520 6576  ctwidget fire ev
+00002c80: 656e 7473 206f 6e20 6164 6420 616e 6420  ents on add and 
+00002c90: 6564 6974 2c20 7365 7475 7020 6120 7375  edit, setup a su
+00002ca0: 6273 6372 6962 6572 0a66 6f72 2074 686f  bscriber.for tho
+00002cb0: 7365 3a0a 0a20 203e 3e3e 2065 7665 6e74  se:..  >>> event
+00002cc0: 6c6f 6720 3d20 5b5d 0a20 203e 3e3e 2069  log = [].  >>> i
+00002cd0: 6d70 6f72 7420 7a6f 7065 2e6c 6966 6563  mport zope.lifec
+00002ce0: 7963 6c65 6576 656e 740a 2020 3e3e 3e20  ycleevent.  >>> 
+00002cf0: 407a 6f70 652e 636f 6d70 6f6e 656e 742e  @zope.component.
+00002d00: 6164 6170 7465 7228 7a6f 7065 2e6c 6966  adapter(zope.lif
+00002d10: 6563 7963 6c65 6576 656e 742e 4f62 6a65  ecycleevent.Obje
+00002d20: 6374 4d6f 6469 6669 6564 4576 656e 7429  ctModifiedEvent)
+00002d30: 0a20 202e 2e2e 2064 6566 206c 6f67 4576  .  ... def logEv
+00002d40: 656e 7428 6576 656e 7429 3a0a 2020 2e2e  ent(event):.  ..
+00002d50: 2e20 2020 2020 6576 656e 746c 6f67 2e61  .     eventlog.a
+00002d60: 7070 656e 6428 6576 656e 7429 0a20 203e  ppend(event).  >
+00002d70: 3e3e 207a 6f70 652e 636f 6d70 6f6e 656e  >> zope.componen
+00002d80: 742e 7072 6f76 6964 6548 616e 646c 6572  t.provideHandler
+00002d90: 286c 6f67 4576 656e 7429 0a20 203e 3e3e  (logEvent).  >>>
+00002da0: 2040 7a6f 7065 2e63 6f6d 706f 6e65 6e74   @zope.component
+00002db0: 2e61 6461 7074 6572 287a 6f70 652e 6c69  .adapter(zope.li
+00002dc0: 6665 6379 636c 6565 7665 6e74 2e4f 626a  fecycleevent.Obj
+00002dd0: 6563 7443 7265 6174 6564 4576 656e 7429  ectCreatedEvent)
+00002de0: 0a20 202e 2e2e 2064 6566 206c 6f67 4576  .  ... def logEv
+00002df0: 656e 7432 2865 7665 6e74 293a 0a20 202e  ent2(event):.  .
+00002e00: 2e2e 2020 2020 2065 7665 6e74 6c6f 672e  ..     eventlog.
+00002e10: 6170 7065 6e64 2865 7665 6e74 290a 2020  append(event).  
+00002e20: 3e3e 3e20 7a6f 7065 2e63 6f6d 706f 6e65  >>> zope.compone
+00002e30: 6e74 2e70 726f 7669 6465 4861 6e64 6c65  nt.provideHandle
+00002e40: 7228 6c6f 6745 7665 6e74 3229 0a0a 2020  r(logEvent2)..  
+00002e50: 3e3e 3e20 6465 6620 7072 696e 7445 7665  >>> def printEve
+00002e60: 6e74 7328 293a 0a20 202e 2e2e 2020 2020  nts():.  ...    
+00002e70: 2066 6f72 2065 7665 6e74 2069 6e20 6576   for event in ev
+00002e80: 656e 746c 6f67 3a0a 2020 2e2e 2e20 2020  entlog:.  ...   
+00002e90: 2020 2020 2020 7072 696e 7428 7374 7228        print(str(
+00002ea0: 6576 656e 7429 290a 2020 2e2e 2e20 2020  event)).  ...   
+00002eb0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00002ec0: 6e63 6528 6576 656e 742c 207a 6f70 652e  nce(event, zope.
+00002ed0: 6c69 6665 6379 636c 6565 7665 6e74 2e4f  lifecycleevent.O
+00002ee0: 626a 6563 744d 6f64 6966 6965 6445 7665  bjectModifiedEve
+00002ef0: 6e74 293a 0a20 202e 2e2e 2020 2020 2020  nt):.  ...      
+00002f00: 2020 2020 2020 2066 6f72 2061 7474 7220         for attr 
+00002f10: 696e 2065 7665 6e74 2e64 6573 6372 6970  in event.descrip
+00002f20: 7469 6f6e 733a 0a20 202e 2e2e 2020 2020  tions:.  ...    
+00002f30: 2020 2020 2020 2020 2020 2020 2070 7269               pri
+00002f40: 6e74 2861 7474 722e 696e 7465 7266 6163  nt(attr.interfac
+00002f50: 6529 0a20 202e 2e2e 2020 2020 2020 2020  e).  ...        
+00002f60: 2020 2020 2020 2020 2070 7269 6e74 2873           print(s
+00002f70: 6f72 7465 6428 6174 7472 2e61 7474 7269  orted(attr.attri
+00002f80: 6275 7465 7329 290a 0a57 6520 6465 6669  butes))..We defi
+00002f90: 6e65 2061 6e20 696e 7465 7266 6163 6520  ne an interface 
+00002fa0: 636f 6e74 6169 6e69 6e67 2061 2073 7562  containing a sub
+00002fb0: 6f62 6a65 6374 2c20 616e 6420 616e 2061  object, and an a
+00002fc0: 6464 666f 726d 2066 6f72 2069 743a 0a0a  ddform for it:..
+00002fd0: 2020 3e3e 3e20 6672 6f6d 207a 3363 2e66    >>> from z3c.f
+00002fe0: 6f72 6d20 696d 706f 7274 2066 6f72 6d2c  orm import form,
+00002ff0: 2066 6965 6c64 0a20 203e 3e3e 2066 726f   field.  >>> fro
+00003000: 6d20 7a33 632e 666f 726d 2e74 6573 7469  m z3c.form.testi
+00003010: 6e67 2069 6d70 6f72 7420 4d79 4f62 6a65  ng import MyObje
+00003020: 6374 2c20 494d 794f 626a 6563 740a 0a4e  ct, IMyObject..N
+00003030: 6f74 652c 2074 6861 7420 6372 6561 7469  ote, that creati
+00003040: 6e67 2061 6e20 6f62 6a65 6374 2077 696c  ng an object wil
+00003050: 6c20 7072 696e 7428 736f 6d65 2069 6e66  l print(some inf
+00003060: 6f72 6d61 7469 6f6e 2061 626f 7574 2069  ormation about i
+00003070: 743a 290a 0a20 203e 3e3e 2063 6c61 7373  t:)..  >>> class
+00003080: 204d 7941 6464 466f 726d 2866 6f72 6d2e   MyAddForm(form.
+00003090: 4164 6446 6f72 6d29 3a0a 2020 2e2e 2e20  AddForm):.  ... 
+000030a0: 2020 2020 6669 656c 6473 203d 2066 6965      fields = fie
+000030b0: 6c64 2e46 6965 6c64 7328 494d 794f 626a  ld.Fields(IMyObj
+000030c0: 6563 7429 0a20 202e 2e2e 2020 2020 2064  ect).  ...     d
+000030d0: 6566 2063 7265 6174 6528 7365 6c66 2c20  ef create(self, 
+000030e0: 6461 7461 293a 0a20 202e 2e2e 2020 2020  data):.  ...    
+000030f0: 2020 2020 2070 7269 6e74 2822 4d79 4164       print("MyAd
+00003100: 6446 6f72 6d2e 6372 6561 7465 2229 0a20  dForm.create"). 
+00003110: 202e 2e2e 2020 2020 2020 2020 2070 7072   ...         ppr
+00003120: 696e 7428 6461 7461 290a 2020 2e2e 2e20  int(data).  ... 
+00003130: 2020 2020 2020 2020 7265 7475 726e 204d          return M
+00003140: 794f 626a 6563 7428 2a2a 6461 7461 290a  yObject(**data).
+00003150: 2020 2e2e 2e20 2020 2020 6465 6620 6164    ...     def ad
+00003160: 6428 7365 6c66 2c20 6f62 6a29 3a0a 2020  d(self, obj):.  
+00003170: 2e2e 2e20 2020 2020 2020 2020 7365 6c66  ...         self
+00003180: 2e63 6f6e 7465 7874 5b6f 626a 2e6e 616d  .context[obj.nam
+00003190: 655d 203d 206f 626a 0a20 202e 2e2e 2020  e] = obj.  ...  
+000031a0: 2020 2064 6566 206e 6578 7455 524c 2873     def nextURL(s
+000031b0: 656c 6629 3a0a 2020 2e2e 2e20 2020 2020  elf):.  ...     
+000031c0: 2020 2020 7061 7373 0a0a 5765 2063 7265      pass..We cre
+000031d0: 6174 6520 7468 6520 666f 726d 2061 6e64  ate the form and
+000031e0: 2074 7279 2074 6f20 7570 6461 7465 2069   try to update i
+000031f0: 743a 0a0a 2020 3e3e 3e20 7265 7175 6573  t:..  >>> reques
+00003200: 7420 3d20 5465 7374 5265 7175 6573 7428  t = TestRequest(
+00003210: 290a 2020 3e3e 3e20 6d79 6164 6466 6f72  ).  >>> myaddfor
+00003220: 6d20 3d20 204d 7941 6464 466f 726d 2872  m =  MyAddForm(r
+00003230: 6f6f 742c 2072 6571 7565 7374 290a 0a0a  oot, request)...
+00003240: 2020 3e3e 3e20 6d79 6164 6466 6f72 6d2e    >>> myaddform.
+00003250: 7570 6461 7465 2829 0a0a 4173 2075 7375  update()..As usu
+00003260: 616c 2c20 7468 6520 666f 726d 2063 6f6e  al, the form con
+00003270: 7461 696e 7320 6120 7769 6467 6574 206d  tains a widget m
+00003280: 616e 6167 6572 2077 6974 6820 7468 6520  anager with the 
+00003290: 6578 7065 6374 6564 2077 6964 6765 740a  expected widget.
+000032a0: 0a20 203e 3e3e 206c 6973 7428 6d79 6164  .  >>> list(myad
+000032b0: 6466 6f72 6d2e 7769 6467 6574 732e 6b65  dform.widgets.ke
+000032c0: 7973 2829 290a 2020 5b27 7375 626f 626a  ys()).  ['subobj
+000032d0: 6563 7427 2c20 276e 616d 6527 5d0a 2020  ect', 'name'].  
+000032e0: 3e3e 3e20 6c69 7374 286d 7961 6464 666f  >>> list(myaddfo
+000032f0: 726d 2e77 6964 6765 7473 2e76 616c 7565  rm.widgets.value
+00003300: 7328 2929 0a20 205b 3c4f 626a 6563 7457  s()).  [<ObjectW
+00003310: 6964 6765 7420 2766 6f72 6d2e 7769 6467  idget 'form.widg
+00003320: 6574 732e 7375 626f 626a 6563 7427 3e2c  ets.subobject'>,
+00003330: 203c 5465 7874 5769 6467 6574 2027 666f   <TextWidget 'fo
+00003340: 726d 2e77 6964 6765 7473 2e6e 616d 6527  rm.widgets.name'
+00003350: 3e5d 0a0a 5468 6520 7769 6467 6574 2068  >]..The widget h
+00003360: 6173 2073 7562 2d77 6964 6765 7473 3a0a  as sub-widgets:.
+00003370: 0a20 203e 3e3e 206c 6973 7428 6d79 6164  .  >>> list(myad
+00003380: 6466 6f72 6d2e 7769 6467 6574 735b 2773  dform.widgets['s
+00003390: 7562 6f62 6a65 6374 275d 2e77 6964 6765  ubobject'].widge
+000033a0: 7473 2e6b 6579 7328 2929 0a20 205b 2766  ts.keys()).  ['f
+000033b0: 6f6f 6669 656c 6427 2c20 2762 6172 6669  oofield', 'barfi
+000033c0: 656c 6427 5d0a 0a49 6620 7765 2077 616e  eld']..If we wan
+000033d0: 7420 746f 2072 656e 6465 7220 7468 6520  t to render the 
+000033e0: 6164 6466 6f72 6d2c 2077 6520 6d75 7374  addform, we must
+000033f0: 2067 6976 6520 6974 2061 2074 656d 706c   give it a templ
+00003400: 6174 653a 0a0a 2020 3e3e 3e20 696d 706f  ate:..  >>> impo
+00003410: 7274 206f 730a 2020 3e3e 3e20 6672 6f6d  rt os.  >>> from
+00003420: 207a 6f70 652e 6272 6f77 7365 7270 6167   zope.browserpag
+00003430: 652e 7669 6577 7061 6765 7465 6d70 6c61  e.viewpagetempla
+00003440: 7465 6669 6c65 2069 6d70 6f72 7420 5669  tefile import Vi
+00003450: 6577 5061 6765 5465 6d70 6c61 7465 4669  ewPageTemplateFi
+00003460: 6c65 0a20 203e 3e3e 2066 726f 6d20 7a6f  le.  >>> from zo
+00003470: 7065 2e62 726f 7773 6572 7061 6765 2e76  pe.browserpage.v
+00003480: 6965 7770 6167 6574 656d 706c 6174 6566  iewpagetemplatef
+00003490: 696c 6520 696d 706f 7274 2042 6f75 6e64  ile import Bound
+000034a0: 5061 6765 5465 6d70 6c61 7465 0a20 203e  PageTemplate.  >
+000034b0: 3e3e 2066 726f 6d20 7a33 632e 666f 726d  >> from z3c.form
+000034c0: 2069 6d70 6f72 7420 7465 7374 730a 2020   import tests.  
+000034d0: 3e3e 3e20 6465 6620 6164 6454 656d 706c  >>> def addTempl
+000034e0: 6174 6528 666f 726d 293a 0a20 202e 2e2e  ate(form):.  ...
+000034f0: 2020 2020 2066 6f72 6d2e 7465 6d70 6c61       form.templa
+00003500: 7465 203d 2042 6f75 6e64 5061 6765 5465  te = BoundPageTe
+00003510: 6d70 6c61 7465 280a 2020 2e2e 2e20 2020  mplate(.  ...   
+00003520: 2020 2020 2020 5669 6577 5061 6765 5465        ViewPageTe
+00003530: 6d70 6c61 7465 4669 6c65 280a 2020 2e2e  mplateFile(.  ..
+00003540: 2e20 2020 2020 2020 2020 2020 2020 2773  .             's
+00003550: 696d 706c 655f 6564 6974 2e70 7427 2c20  imple_edit.pt', 
+00003560: 6f73 2e70 6174 682e 6469 726e 616d 6528  os.path.dirname(
+00003570: 7465 7374 732e 5f5f 6669 6c65 5f5f 2929  tests.__file__))
+00003580: 2c20 666f 726d 290a 2020 3e3e 3e20 6164  , form).  >>> ad
+00003590: 6454 656d 706c 6174 6528 6d79 6164 6466  dTemplate(myaddf
+000035a0: 6f72 6d29 0a0a 4e6f 7720 7265 6e64 6572  orm)..Now render
+000035b0: 696e 6720 7468 6520 6164 6466 6f72 6d20  ing the addform 
+000035c0: 7265 6e64 6572 7320 7468 6520 7375 6266  renders the subf
+000035d0: 6f72 6d20 6173 2077 656c 6c3a 0a0a 2020  orm as well:..  
+000035e0: 3e3e 3e20 7072 696e 7428 6d79 6164 6466  >>> print(myaddf
+000035f0: 6f72 6d2e 7265 6e64 6572 2829 290a 2020  orm.render()).  
+00003600: 3c68 746d 6c20 786d 6c6e 733d 2268 7474  <html xmlns="htt
+00003610: 703a 2f2f 7777 772e 7733 2e6f 7267 2f31  p://www.w3.org/1
+00003620: 3939 392f 7868 746d 6c22 3e0a 2020 2020  999/xhtml">.    
+00003630: 3c62 6f64 793e 0a20 2020 2020 203c 666f  <body>.      <fo
+00003640: 726d 2061 6374 696f 6e3d 222e 223e 0a20  rm action=".">. 
+00003650: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00003660: 733d 2272 6f77 223e 0a20 2020 2020 2020  s="row">.       
+00003670: 2020 203c 6c61 6265 6c20 666f 723d 2266     <label for="f
+00003680: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
+00003690: 626a 6563 7422 3e6d 7920 6f62 6a65 6374  bject">my object
+000036a0: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+000036b0: 2020 203c 6469 7620 636c 6173 733d 226f     <div class="o
+000036c0: 626a 6563 742d 7769 6467 6574 2072 6571  bject-widget req
+000036d0: 7569 7265 6422 3e0a 2020 2020 2020 2020  uired">.        
+000036e0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+000036f0: 6c61 6265 6c22 3e0a 2020 2020 2020 2020  label">.        
+00003700: 2020 2020 2020 3c6c 6162 656c 2066 6f72        <label for
+00003710: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
+00003720: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+00003730: 2d66 6f6f 6669 656c 6422 3e0a 2020 2020  -foofield">.    
+00003740: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
+00003750: 6e3e 4d79 2066 6f6f 2066 6965 6c64 3c2f  n>My foo field</
+00003760: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+00003770: 2020 2020 2020 3c73 7061 6e20 636c 6173        <span clas
+00003780: 733d 2272 6571 7569 7265 6422 3e2a 3c2f  s="required">*</
+00003790: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+000037a0: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
+000037b0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+000037c0: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+000037d0: 2063 6c61 7373 3d22 7769 6467 6574 223e   class="widget">
+000037e0: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
+000037f0: 696e 7075 7420 636c 6173 733d 2274 6578  input class="tex
+00003800: 742d 7769 6467 6574 2072 6571 7569 7265  t-widget require
+00003810: 6420 696e 742d 6669 656c 6422 0a20 2020  d int-field".   
+00003820: 2020 2020 2020 2020 2020 2069 643d 2266             id="f
+00003830: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
+00003840: 626a 6563 742d 7769 6467 6574 732d 666f  bject-widgets-fo
+00003850: 6f66 6965 6c64 220a 2020 2020 2020 2020  ofield".        
+00003860: 2020 2020 2020 6e61 6d65 3d22 666f 726d        name="form
+00003870: 2e77 6964 6765 7473 2e73 7562 6f62 6a65  .widgets.subobje
+00003880: 6374 2e77 6964 6765 7473 2e66 6f6f 6669  ct.widgets.foofi
+00003890: 656c 6422 0a20 2020 2020 2020 2020 2020  eld".           
+000038a0: 2020 2074 7970 653d 2274 6578 7422 2076     type="text" v
+000038b0: 616c 7565 3d22 312c 3131 3122 3e0a 2020  alue="1,111">.  
+000038c0: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+000038d0: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
+000038e0: 7620 636c 6173 733d 226c 6162 656c 223e  v class="label">
+000038f0: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
+00003900: 6c61 6265 6c20 666f 723d 2266 6f72 6d2d  label for="form-
+00003910: 7769 6467 6574 732d 7375 626f 626a 6563  widgets-subobjec
+00003920: 742d 7769 6467 6574 732d 6261 7266 6965  t-widgets-barfie
+00003930: 6c64 223e 0a20 2020 2020 2020 2020 2020  ld">.           
+00003940: 2020 2020 203c 7370 616e 3e4d 7920 6465       <span>My de
+00003950: 6172 2062 6172 3c2f 7370 616e 3e0a 2020  ar bar</span>.  
+00003960: 2020 2020 2020 2020 2020 2020 3c2f 6c61              </la
+00003970: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
+00003980: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
+00003990: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+000039a0: 7769 6467 6574 223e 0a20 2020 2020 2020  widget">.       
+000039b0: 2020 2020 2020 203c 696e 7075 7420 636c         <input cl
+000039c0: 6173 733d 2274 6578 742d 7769 6467 6574  ass="text-widget
+000039d0: 2069 6e74 2d66 6965 6c64 220a 2020 2020   int-field".    
+000039e0: 2020 2020 2020 2020 2020 6964 3d22 666f            id="fo
+000039f0: 726d 2d77 6964 6765 7473 2d73 7562 6f62  rm-widgets-subob
+00003a00: 6a65 6374 2d77 6964 6765 7473 2d62 6172  ject-widgets-bar
+00003a10: 6669 656c 6422 0a20 2020 2020 2020 2020  field".         
+00003a20: 2020 2020 206e 616d 653d 2266 6f72 6d2e       name="form.
+00003a30: 7769 6467 6574 732e 7375 626f 626a 6563  widgets.subobjec
+00003a40: 742e 7769 6467 6574 732e 6261 7266 6965  t.widgets.barfie
+00003a50: 6c64 220a 2020 2020 2020 2020 2020 2020  ld".            
+00003a60: 2020 7479 7065 3d22 7465 7874 2220 7661    type="text" va
+00003a70: 6c75 653d 2232 2c32 3232 223e 0a20 2020  lue="2,222">.   
+00003a80: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00003a90: 2020 2020 2020 2020 2020 2020 3c69 6e70              <inp
+00003aa0: 7574 206e 616d 653d 2266 6f72 6d2e 7769  ut name="form.wi
+00003ab0: 6467 6574 732e 7375 626f 626a 6563 742d  dgets.subobject-
+00003ac0: 656d 7074 792d 6d61 726b 6572 2220 7479  empty-marker" ty
+00003ad0: 7065 3d22 6869 6464 656e 220a 2020 2020  pe="hidden".    
+00003ae0: 2020 2020 2020 2020 7661 6c75 653d 2231          value="1
+00003af0: 223e 0a20 2020 2020 2020 2020 203c 2f64  ">.          </d
+00003b00: 6976 3e0a 2020 2020 2020 2020 3c2f 6469  iv>.        </di
+00003b10: 763e 0a20 2020 2020 2020 203c 6469 7620  v>.        <div 
+00003b20: 636c 6173 733d 2272 6f77 223e 0a20 2020  class="row">.   
+00003b30: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
+00003b40: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
+00003b50: 6e61 6d65 223e 6e61 6d65 3c2f 6c61 6265  name">name</labe
+00003b60: 6c3e 0a20 2020 2020 2020 2020 203c 696e  l>.          <in
+00003b70: 7075 7420 636c 6173 733d 2274 6578 742d  put class="text-
+00003b80: 7769 6467 6574 2072 6571 7569 7265 6420  widget required 
+00003b90: 7465 7874 6c69 6e65 2d66 6965 6c64 2220  textline-field" 
+00003ba0: 6964 3d22 666f 726d 2d77 6964 6765 7473  id="form-widgets
+00003bb0: 2d6e 616d 6522 206e 616d 653d 2266 6f72  -name" name="for
+00003bc0: 6d2e 7769 6467 6574 732e 6e61 6d65 2220  m.widgets.name" 
+00003bd0: 7479 7065 3d22 7465 7874 2220 7661 6c75  type="text" valu
+00003be0: 653d 2222 3e0a 2020 2020 2020 2020 3c2f  e="">.        </
+00003bf0: 6469 763e 0a20 2020 2020 2020 203c 6469  div>.        <di
+00003c00: 7620 636c 6173 733d 2261 6374 696f 6e22  v class="action"
+00003c10: 3e0a 2020 2020 2020 2020 2020 3c69 6e70  >.          <inp
+00003c20: 7574 2063 6c61 7373 3d22 7375 626d 6974  ut class="submit
+00003c30: 2d77 6964 6765 7420 6275 7474 6f6e 2d66  -widget button-f
+00003c40: 6965 6c64 2220 6964 3d22 666f 726d 2d62  ield" id="form-b
+00003c50: 7574 746f 6e73 2d61 6464 220a 2020 2020  uttons-add".    
+00003c60: 2020 2020 2020 6e61 6d65 3d22 666f 726d        name="form
+00003c70: 2e62 7574 746f 6e73 2e61 6464 2220 7479  .buttons.add" ty
+00003c80: 7065 3d22 7375 626d 6974 2220 7661 6c75  pe="submit" valu
+00003c90: 653d 2241 6464 223e 0a20 2020 2020 2020  e="Add">.       
+00003ca0: 203c 2f64 6976 3e0a 2020 2020 2020 3c2f   </div>.      </
+00003cb0: 666f 726d 3e0a 2020 2020 3c2f 626f 6479  form>.    </body
+00003cc0: 3e0a 2020 3c2f 6874 6d6c 3e0a 0a0a 5765  >.  </html>...We
+00003cd0: 2064 6f6e 2774 2068 6176 6520 7468 6520   don't have the 
+00003ce0: 6f62 6a65 6374 2028 7965 7429 2069 6e20  object (yet) in 
+00003cf0: 7468 6520 726f 6f74 3a0a 0a20 203e 3e3e  the root:..  >>>
+00003d00: 2072 6f6f 745b 2766 6972 7374 275d 0a20   root['first']. 
+00003d10: 2054 7261 6365 6261 636b 2028 6d6f 7374   Traceback (most
+00003d20: 2072 6563 656e 7420 6361 6c6c 206c 6173   recent call las
+00003d30: 7429 3a0a 2020 2e2e 2e0a 2020 4b65 7945  t):.  ....  KeyE
+00003d40: 7272 6f72 3a20 2766 6972 7374 270a 0a4c  rror: 'first'..L
+00003d50: 6574 2773 2074 7279 2074 6f20 6164 6420  et's try to add 
+00003d60: 616e 206f 626a 6563 743a 0a0a 2020 3e3e  an object:..  >>
+00003d70: 3e20 7265 7175 6573 7420 3d20 5465 7374  > request = Test
+00003d80: 5265 7175 6573 7428 666f 726d 3d7b 0a20  Request(form={. 
+00003d90: 202e 2e2e 2020 2020 2027 666f 726d 2e77   ...     'form.w
+00003da0: 6964 6765 7473 2e73 7562 6f62 6a65 6374  idgets.subobject
+00003db0: 2e77 6964 6765 7473 2e66 6f6f 6669 656c  .widgets.foofiel
+00003dc0: 6427 3a27 3636 272c 0a20 202e 2e2e 2020  d':'66',.  ...  
+00003dd0: 2020 2027 666f 726d 2e77 6964 6765 7473     'form.widgets
+00003de0: 2e73 7562 6f62 6a65 6374 2e77 6964 6765  .subobject.widge
+00003df0: 7473 2e62 6172 6669 656c 6427 3a27 3939  ts.barfield':'99
+00003e00: 272c 0a20 202e 2e2e 2020 2020 2027 666f  ',.  ...     'fo
+00003e10: 726d 2e77 6964 6765 7473 2e6e 616d 6527  rm.widgets.name'
+00003e20: 3a27 6669 7273 7427 2c0a 2020 2e2e 2e20  :'first',.  ... 
+00003e30: 2020 2020 2766 6f72 6d2e 7769 6467 6574      'form.widget
+00003e40: 732e 7375 626f 626a 6563 742d 656d 7074  s.subobject-empt
+00003e50: 792d 6d61 726b 6572 273a 2731 272c 0a20  y-marker':'1',. 
+00003e60: 202e 2e2e 2020 2020 2027 666f 726d 2e62   ...     'form.b
+00003e70: 7574 746f 6e73 2e61 6464 273a 2741 6464  uttons.add':'Add
+00003e80: 277d 290a 2020 3e3e 3e20 6d79 6164 6466  '}).  >>> myaddf
+00003e90: 6f72 6d2e 7265 7175 6573 7420 3d20 7265  orm.request = re
+00003ea0: 7175 6573 740a 0a20 203e 3e3e 206d 7961  quest..  >>> mya
+00003eb0: 6464 666f 726d 2e75 7064 6174 6528 290a  ddform.update().
+00003ec0: 2020 4d79 4164 6446 6f72 6d2e 6372 6561    MyAddForm.crea
+00003ed0: 7465 0a20 207b 276e 616d 6527 3a20 2766  te.  {'name': 'f
+00003ee0: 6972 7374 272c 0a20 2020 2773 7562 6f62  irst',.   'subob
+00003ef0: 6a65 6374 273a 203c 7a33 632e 666f 726d  ject': <z3c.form
+00003f00: 2e74 6573 7469 6e67 2e4d 7953 7562 4f62  .testing.MySubOb
+00003f10: 6a65 6374 206f 626a 6563 7420 6174 202e  ject object at .
+00003f20: 2e2e 3e7d 0a0a 576f 772c 2069 7420 676f  ..>}..Wow, it go
+00003f30: 7420 6164 6465 643a 0a0a 2020 3e3e 3e20  t added:..  >>> 
+00003f40: 726f 6f74 5b27 6669 7273 7427 5d0a 2020  root['first'].  
+00003f50: 3c7a 3363 2e66 6f72 6d2e 7465 7374 696e  <z3c.form.testin
+00003f60: 672e 4d79 4f62 6a65 6374 206f 626a 6563  g.MyObject objec
+00003f70: 7420 6174 202e 2e2e 3e0a 0a20 203e 3e3e  t at ...>..  >>>
+00003f80: 2072 6f6f 745b 2766 6972 7374 275d 2e73   root['first'].s
+00003f90: 7562 6f62 6a65 6374 0a20 203c 7a33 632e  ubobject.  <z3c.
+00003fa0: 666f 726d 2e74 6573 7469 6e67 2e4d 7953  form.testing.MyS
+00003fb0: 7562 4f62 6a65 6374 206f 626a 6563 7420  ubObject object 
+00003fc0: 6174 202e 2e2e 3e0a 0a46 6965 6c64 2076  at ...>..Field v
+00003fd0: 616c 7565 7320 6e65 6564 2074 6f20 6265  alues need to be
+00003fe0: 2072 6967 6874 3a0a 0a20 203e 3e3e 2072   right:..  >>> r
+00003ff0: 6f6f 745b 2766 6972 7374 275d 2e73 7562  oot['first'].sub
+00004000: 6f62 6a65 6374 2e66 6f6f 6669 656c 640a  object.foofield.
+00004010: 2020 3636 0a20 203e 3e3e 2072 6f6f 745b    66.  >>> root[
+00004020: 2766 6972 7374 275d 2e73 7562 6f62 6a65  'first'].subobje
+00004030: 6374 2e62 6172 6669 656c 640a 2020 3939  ct.barfield.  99
+00004040: 0a0a 4c65 7427 7320 7365 6520 6f75 7220  ..Let's see our 
+00004050: 6576 656e 7420 6c6f 673a 0a0a 2020 3e3e  event log:..  >>
+00004060: 3e20 6c65 6e28 6576 656e 746c 6f67 290a  > len(eventlog).
+00004070: 2020 340a 0a20 203e 3e3e 2070 7269 6e74    4..  >>> print
+00004080: 4576 656e 7473 2829 0a20 203c 7a6f 7065  Events().  <zope
+00004090: 2e2e 2e4f 626a 6563 7443 7265 6174 6564  ...ObjectCreated
+000040a0: 4576 656e 7420 6f62 6a65 6374 2061 7420  Event object at 
+000040b0: 2e2e 2e3e 0a20 203c 7a6f 7065 2e2e 2e4f  ...>.  <zope...O
+000040c0: 626a 6563 744d 6f64 6966 6965 6445 7665  bjectModifiedEve
+000040d0: 6e74 206f 626a 6563 7420 6174 202e 2e2e  nt object at ...
+000040e0: 3e0a 2020 7a33 632e 666f 726d 2e74 6573  >.  z3c.form.tes
+000040f0: 7469 6e67 2e49 4d79 5375 624f 626a 6563  ting.IMySubObjec
+00004100: 740a 2020 5b27 6261 7266 6965 6c64 272c  t.  ['barfield',
+00004110: 2027 666f 6f66 6965 6c64 275d 0a20 203c   'foofield'].  <
+00004120: 7a6f 7065 2e2e 2e4f 626a 6563 7443 7265  zope...ObjectCre
+00004130: 6174 6564 4576 656e 7420 6f62 6a65 6374  atedEvent object
+00004140: 2061 7420 2e2e 2e3e 0a20 203c 7a6f 7065   at ...>.  <zope
+00004150: 2e2e 2e63 6f6e 7461 696e 6564 2e43 6f6e  ...contained.Con
+00004160: 7461 696e 6572 4d6f 6469 6669 6564 4576  tainerModifiedEv
+00004170: 656e 7420 6f62 6a65 6374 2061 7420 2e2e  ent object at ..
+00004180: 2e3e 0a0a 0a20 203e 3e3e 2065 7665 6e74  .>...  >>> event
+00004190: 6c6f 673d 5b5d 0a0a 4c65 7427 7320 7472  log=[]..Let's tr
+000041a0: 7920 746f 2065 6469 7420 7468 6174 206e  y to edit that n
+000041b0: 6577 6c79 2061 6464 6564 206f 626a 6563  ewly added objec
+000041c0: 743a 0a0a 2020 3e3e 3e20 636c 6173 7320  t:..  >>> class 
+000041d0: 4d79 4564 6974 466f 726d 2866 6f72 6d2e  MyEditForm(form.
+000041e0: 4564 6974 466f 726d 293a 0a20 202e 2e2e  EditForm):.  ...
+000041f0: 2020 2020 2066 6965 6c64 7320 3d20 6669       fields = fi
+00004200: 656c 642e 4669 656c 6473 2849 4d79 4f62  eld.Fields(IMyOb
+00004210: 6a65 6374 290a 0a20 203e 3e3e 2065 6469  ject)..  >>> edi
+00004220: 7466 6f72 6d20 3d20 4d79 4564 6974 466f  tform = MyEditFo
+00004230: 726d 2872 6f6f 745b 2766 6972 7374 275d  rm(root['first']
+00004240: 2c20 5465 7374 5265 7175 6573 7428 2929  , TestRequest())
+00004250: 0a20 203e 3e3e 2061 6464 5465 6d70 6c61  .  >>> addTempla
+00004260: 7465 2865 6469 7466 6f72 6d29 0a20 203e  te(editform).  >
+00004270: 3e3e 2065 6469 7466 6f72 6d2e 7570 6461  >> editform.upda
+00004280: 7465 2829 0a0a 5761 7463 6820 666f 7220  te()..Watch for 
+00004290: 7468 6520 7769 6467 6574 2076 616c 7565  the widget value
+000042a0: 7320 696e 2074 6865 2048 544d 4c3a 0a0a  s in the HTML:..
+000042b0: 2020 3e3e 3e20 7072 696e 7428 6564 6974    >>> print(edit
+000042c0: 666f 726d 2e72 656e 6465 7228 2929 0a20  form.render()). 
+000042d0: 203c 6874 6d6c 2078 6d6c 6e73 3d22 6874   <html xmlns="ht
+000042e0: 7470 3a2f 2f77 7777 2e77 332e 6f72 672f  tp://www.w3.org/
+000042f0: 3139 3939 2f78 6874 6d6c 223e 0a20 2020  1999/xhtml">.   
+00004300: 203c 626f 6479 3e0a 2020 2020 2020 3c66   <body>.      <f
+00004310: 6f72 6d20 6163 7469 6f6e 3d22 2e22 3e0a  orm action=".">.
+00004320: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00004330: 7373 3d22 726f 7722 3e0a 2020 2020 2020  ss="row">.      
+00004340: 2020 2020 3c6c 6162 656c 2066 6f72 3d22      <label for="
+00004350: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
+00004360: 6f62 6a65 6374 223e 6d79 206f 626a 6563  object">my objec
+00004370: 743c 2f6c 6162 656c 3e0a 2020 2020 2020  t</label>.      
+00004380: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00004390: 6f62 6a65 6374 2d77 6964 6765 7420 7265  object-widget re
+000043a0: 7175 6972 6564 223e 0a20 2020 2020 2020  quired">.       
+000043b0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+000043c0: 226c 6162 656c 223e 0a20 2020 2020 2020  "label">.       
+000043d0: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
+000043e0: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
+000043f0: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
+00004400: 732d 666f 6f66 6965 6c64 223e 0a20 2020  s-foofield">.   
+00004410: 2020 2020 2020 2020 2020 2020 203c 7370               <sp
+00004420: 616e 3e4d 7920 666f 6f20 6669 656c 643c  an>My foo field<
+00004430: 2f73 7061 6e3e 0a20 2020 2020 2020 2020  /span>.         
+00004440: 2020 2020 2020 203c 7370 616e 2063 6c61         <span cla
+00004450: 7373 3d22 7265 7175 6972 6564 223e 2a3c  ss="required">*<
+00004460: 2f73 7061 6e3e 0a20 2020 2020 2020 2020  /span>.         
+00004470: 2020 2020 203c 2f6c 6162 656c 3e0a 2020       </label>.  
+00004480: 2020 2020 2020 2020 2020 3c2f 6469 763e            </div>
+00004490: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
+000044a0: 7620 636c 6173 733d 2277 6964 6765 7422  v class="widget"
+000044b0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+000044c0: 3c69 6e70 7574 2063 6c61 7373 3d22 7465  <input class="te
+000044d0: 7874 2d77 6964 6765 7420 7265 7175 6972  xt-widget requir
+000044e0: 6564 2069 6e74 2d66 6965 6c64 220a 2020  ed int-field".  
+000044f0: 2020 2020 2020 2020 2020 2020 6964 3d22              id="
+00004500: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
+00004510: 6f62 6a65 6374 2d77 6964 6765 7473 2d66  object-widgets-f
+00004520: 6f6f 6669 656c 6422 0a20 2020 2020 2020  oofield".       
+00004530: 2020 2020 2020 206e 616d 653d 2266 6f72         name="for
+00004540: 6d2e 7769 6467 6574 732e 7375 626f 626a  m.widgets.subobj
+00004550: 6563 742e 7769 6467 6574 732e 666f 6f66  ect.widgets.foof
+00004560: 6965 6c64 220a 2020 2020 2020 2020 2020  ield".          
+00004570: 2020 2020 7479 7065 3d22 7465 7874 2220      type="text" 
+00004580: 7661 6c75 653d 2236 3622 3e0a 2020 2020  value="66">.    
+00004590: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+000045a0: 2020 2020 2020 2020 2020 203c 6469 7620             <div 
+000045b0: 636c 6173 733d 226c 6162 656c 223e 0a20  class="label">. 
+000045c0: 2020 2020 2020 2020 2020 2020 203c 6c61               <la
+000045d0: 6265 6c20 666f 723d 2266 6f72 6d2d 7769  bel for="form-wi
+000045e0: 6467 6574 732d 7375 626f 626a 6563 742d  dgets-subobject-
+000045f0: 7769 6467 6574 732d 6261 7266 6965 6c64  widgets-barfield
+00004600: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
+00004610: 2020 203c 7370 616e 3e4d 7920 6465 6172     <span>My dear
+00004620: 2062 6172 3c2f 7370 616e 3e0a 2020 2020   bar</span>.    
+00004630: 2020 2020 2020 2020 2020 3c2f 6c61 6265            </labe
+00004640: 6c3e 0a20 2020 2020 2020 2020 2020 203c  l>.            <
+00004650: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
+00004660: 2020 3c64 6976 2063 6c61 7373 3d22 7769    <div class="wi
+00004670: 6467 6574 223e 0a20 2020 2020 2020 2020  dget">.         
+00004680: 2020 2020 203c 696e 7075 7420 636c 6173       <input clas
+00004690: 733d 2274 6578 742d 7769 6467 6574 2069  s="text-widget i
+000046a0: 6e74 2d66 6965 6c64 220a 2020 2020 2020  nt-field".      
+000046b0: 2020 2020 2020 2020 6964 3d22 666f 726d          id="form
+000046c0: 2d77 6964 6765 7473 2d73 7562 6f62 6a65  -widgets-subobje
+000046d0: 6374 2d77 6964 6765 7473 2d62 6172 6669  ct-widgets-barfi
+000046e0: 656c 6422 0a20 2020 2020 2020 2020 2020  eld".           
+000046f0: 2020 206e 616d 653d 2266 6f72 6d2e 7769     name="form.wi
+00004700: 6467 6574 732e 7375 626f 626a 6563 742e  dgets.subobject.
+00004710: 7769 6467 6574 732e 6261 7266 6965 6c64  widgets.barfield
+00004720: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00004730: 7479 7065 3d22 7465 7874 2220 7661 6c75  type="text" valu
+00004740: 653d 2239 3922 3e0a 2020 2020 2020 2020  e="99">.        
+00004750: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00004760: 2020 2020 2020 203c 696e 7075 7420 6e61         <input na
+00004770: 6d65 3d22 666f 726d 2e77 6964 6765 7473  me="form.widgets
+00004780: 2e73 7562 6f62 6a65 6374 2d65 6d70 7479  .subobject-empty
+00004790: 2d6d 6172 6b65 7222 2074 7970 653d 2268  -marker" type="h
+000047a0: 6964 6465 6e22 0a20 2020 2020 2020 2020  idden".         
+000047b0: 2020 2076 616c 7565 3d22 3122 3e0a 2020     value="1">.  
+000047c0: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+000047d0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+000047e0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+000047f0: 3d22 726f 7722 3e0a 2020 2020 2020 2020  ="row">.        
+00004800: 2020 3c6c 6162 656c 2066 6f72 3d22 666f    <label for="fo
+00004810: 726d 2d77 6964 6765 7473 2d6e 616d 6522  rm-widgets-name"
+00004820: 3e6e 616d 653c 2f6c 6162 656c 3e0a 2020  >name</label>.  
+00004830: 2020 2020 2020 2020 3c69 6e70 7574 2063          <input c
+00004840: 6c61 7373 3d22 7465 7874 2d77 6964 6765  lass="text-widge
+00004850: 7420 7265 7175 6972 6564 2074 6578 746c  t required textl
+00004860: 696e 652d 6669 656c 6422 2069 643d 2266  ine-field" id="f
+00004870: 6f72 6d2d 7769 6467 6574 732d 6e61 6d65  orm-widgets-name
+00004880: 220a 2020 2020 2020 2020 2020 6e61 6d65  ".          name
+00004890: 3d22 666f 726d 2e77 6964 6765 7473 2e6e  ="form.widgets.n
+000048a0: 616d 6522 2074 7970 653d 2274 6578 7422  ame" type="text"
+000048b0: 2076 616c 7565 3d22 6669 7273 7422 3e0a   value="first">.
+000048c0: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+000048d0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+000048e0: 733d 2261 6374 696f 6e22 3e0a 2020 2020  s="action">.    
+000048f0: 2020 2020 2020 3c69 6e70 7574 2063 6c61        <input cla
+00004900: 7373 3d22 7375 626d 6974 2d77 6964 6765  ss="submit-widge
+00004910: 7420 6275 7474 6f6e 2d66 6965 6c64 2220  t button-field" 
+00004920: 6964 3d22 666f 726d 2d62 7574 746f 6e73  id="form-buttons
+00004930: 2d61 7070 6c79 220a 2020 2020 2020 2020  -apply".        
+00004940: 2020 6e61 6d65 3d22 666f 726d 2e62 7574    name="form.but
+00004950: 746f 6e73 2e61 7070 6c79 2220 7479 7065  tons.apply" type
+00004960: 3d22 7375 626d 6974 2220 7661 6c75 653d  ="submit" value=
+00004970: 2241 7070 6c79 223e 0a20 2020 2020 2020  "Apply">.       
+00004980: 203c 2f64 6976 3e0a 2020 2020 2020 3c2f   </div>.      </
+00004990: 666f 726d 3e0a 2020 2020 3c2f 626f 6479  form>.    </body
+000049a0: 3e0a 2020 3c2f 6874 6d6c 3e0a 0a4c 6574  >.  </html>..Let
+000049b0: 2773 206d 6f64 6966 7920 7468 6520 7661  's modify the va
+000049c0: 6c75 6573 3a0a 0a20 203e 3e3e 2072 6571  lues:..  >>> req
+000049d0: 7565 7374 203d 2054 6573 7452 6571 7565  uest = TestReque
+000049e0: 7374 2866 6f72 6d3d 7b0a 2020 2e2e 2e20  st(form={.  ... 
+000049f0: 2020 2020 2766 6f72 6d2e 7769 6467 6574      'form.widget
+00004a00: 732e 7375 626f 626a 6563 742e 7769 6467  s.subobject.widg
+00004a10: 6574 732e 666f 6f66 6965 6c64 273a 2734  ets.foofield':'4
+00004a20: 3327 2c0a 2020 2e2e 2e20 2020 2020 2766  3',.  ...     'f
+00004a30: 6f72 6d2e 7769 6467 6574 732e 7375 626f  orm.widgets.subo
+00004a40: 626a 6563 742e 7769 6467 6574 732e 6261  bject.widgets.ba
+00004a50: 7266 6965 6c64 273a 2735 3527 2c0a 2020  rfield':'55',.  
+00004a60: 2e2e 2e20 2020 2020 2766 6f72 6d2e 7769  ...     'form.wi
+00004a70: 6467 6574 732e 6e61 6d65 273a 2766 6972  dgets.name':'fir
+00004a80: 7374 272c 0a20 202e 2e2e 2020 2020 2027  st',.  ...     '
+00004a90: 666f 726d 2e77 6964 6765 7473 2e73 7562  form.widgets.sub
+00004aa0: 6f62 6a65 6374 2d65 6d70 7479 2d6d 6172  object-empty-mar
+00004ab0: 6b65 7227 3a27 3127 2c0a 2020 2e2e 2e20  ker':'1',.  ... 
+00004ac0: 2020 2020 2766 6f72 6d2e 6275 7474 6f6e      'form.button
+00004ad0: 732e 6170 706c 7927 3a27 4170 706c 7927  s.apply':'Apply'
+00004ae0: 7d29 0a0a 5468 6579 2061 7265 2073 7469  })..They are sti
+00004af0: 6c6c 2074 6865 2073 616d 653a 0a0a 2020  ll the same:..  
+00004b00: 3e3e 3e20 726f 6f74 5b27 6669 7273 7427  >>> root['first'
+00004b10: 5d2e 7375 626f 626a 6563 742e 666f 6f66  ].subobject.foof
+00004b20: 6965 6c64 0a20 2036 360a 2020 3e3e 3e20  ield.  66.  >>> 
+00004b30: 726f 6f74 5b27 6669 7273 7427 5d2e 7375  root['first'].su
+00004b40: 626f 626a 6563 742e 6261 7266 6965 6c64  bobject.barfield
+00004b50: 0a20 2039 390a 0a20 203e 3e3e 2065 6469  .  99..  >>> edi
+00004b60: 7466 6f72 6d2e 7265 7175 6573 7420 3d20  tform.request = 
+00004b70: 7265 7175 6573 740a 2020 3e3e 3e20 6564  request.  >>> ed
+00004b80: 6974 666f 726d 2e75 7064 6174 6528 290a  itform.update().
+00004b90: 0a55 6e74 696c 2077 6520 6861 7665 2075  .Until we have u
+00004ba0: 7064 6174 6564 2074 6865 2066 6f72 6d3a  pdated the form:
+00004bb0: 0a0a 2020 3e3e 3e20 726f 6f74 5b27 6669  ..  >>> root['fi
+00004bc0: 7273 7427 5d2e 7375 626f 626a 6563 742e  rst'].subobject.
+00004bd0: 666f 6f66 6965 6c64 0a20 2034 330a 2020  foofield.  43.  
+00004be0: 3e3e 3e20 726f 6f74 5b27 6669 7273 7427  >>> root['first'
+00004bf0: 5d2e 7375 626f 626a 6563 742e 6261 7266  ].subobject.barf
+00004c00: 6965 6c64 0a20 2035 350a 0a4c 6574 2773  ield.  55..Let's
+00004c10: 2073 6565 206f 7572 2065 7665 6e74 206c   see our event l
+00004c20: 6f67 3a0a 0a20 203e 3e3e 206c 656e 2865  og:..  >>> len(e
+00004c30: 7665 6e74 6c6f 6729 0a20 2032 0a0a 2020  ventlog).  2..  
+00004c40: 3e3e 3e20 7072 696e 7445 7665 6e74 7328  >>> printEvents(
+00004c50: 290a 2020 3c7a 6f70 652e 2e2e 4f62 6a65  ).  <zope...Obje
+00004c60: 6374 4d6f 6469 6669 6564 4576 656e 7420  ctModifiedEvent 
+00004c70: 6f62 6a65 6374 2061 7420 2e2e 2e3e 0a20  object at ...>. 
+00004c80: 207a 3363 2e66 6f72 6d2e 7465 7374 696e   z3c.form.testin
+00004c90: 672e 494d 7953 7562 4f62 6a65 6374 0a20  g.IMySubObject. 
+00004ca0: 205b 2762 6172 6669 656c 6427 2c20 2766   ['barfield', 'f
+00004cb0: 6f6f 6669 656c 6427 5d0a 2020 3c7a 6f70  oofield'].  <zop
+00004cc0: 652e 2e2e 4f62 6a65 6374 4d6f 6469 6669  e...ObjectModifi
+00004cd0: 6564 4576 656e 7420 6f62 6a65 6374 2061  edEvent object a
+00004ce0: 7420 2e2e 2e3e 0a20 207a 3363 2e66 6f72  t ...>.  z3c.for
+00004cf0: 6d2e 7465 7374 696e 672e 494d 794f 626a  m.testing.IMyObj
+00004d00: 6563 740a 2020 5b27 7375 626f 626a 6563  ect.  ['subobjec
+00004d10: 7427 5d0a 0a0a 2020 3e3e 3e20 6576 656e  t']...  >>> even
+00004d20: 746c 6f67 3d5b 5d0a 0a0a 4166 7465 7220  tlog=[]...After 
+00004d30: 7468 6520 7570 6461 7465 2074 6865 2066  the update the f
+00004d40: 6f72 6d20 7361 7973 2074 6861 7420 7468  orm says that th
+00004d50: 6520 7661 6c75 6573 2067 6f74 2075 7064  e values got upd
+00004d60: 6174 6564 2061 6e64 2072 656e 6465 7273  ated and renders
+00004d70: 2074 6865 206e 6577 0a76 616c 7565 733a   the new.values:
+00004d80: 0a0a 2020 3e3e 3e20 7072 696e 7428 6564  ..  >>> print(ed
+00004d90: 6974 666f 726d 2e72 656e 6465 7228 2929  itform.render())
+00004da0: 0a20 203c 6874 6d6c 2078 6d6c 6e73 3d22  .  <html xmlns="
+00004db0: 6874 7470 3a2f 2f77 7777 2e77 332e 6f72  http://www.w3.or
+00004dc0: 672f 3139 3939 2f78 6874 6d6c 223e 0a20  g/1999/xhtml">. 
+00004dd0: 2020 203c 626f 6479 3e0a 2020 2020 2020     <body>.      
+00004de0: 3c69 3e44 6174 6120 7375 6363 6573 7366  <i>Data successf
+00004df0: 756c 6c79 2075 7064 6174 6564 2e3c 2f69  ully updated.</i
+00004e00: 3e0a 2020 2020 2020 3c66 6f72 6d20 6163  >.      <form ac
+00004e10: 7469 6f6e 3d22 2e22 3e0a 2020 2020 2020  tion=".">.      
+00004e20: 2020 3c64 6976 2063 6c61 7373 3d22 726f    <div class="ro
+00004e30: 7722 3e0a 2020 2020 2020 2020 2020 3c6c  w">.          <l
+00004e40: 6162 656c 2066 6f72 3d22 666f 726d 2d77  abel for="form-w
+00004e50: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
+00004e60: 223e 6d79 206f 626a 6563 743c 2f6c 6162  ">my object</lab
+00004e70: 656c 3e0a 2020 2020 2020 2020 2020 3c64  el>.          <d
+00004e80: 6976 2063 6c61 7373 3d22 6f62 6a65 6374  iv class="object
+00004e90: 2d77 6964 6765 7420 7265 7175 6972 6564  -widget required
+00004ea0: 223e 0a20 2020 2020 2020 2020 2020 203c  ">.            <
+00004eb0: 6469 7620 636c 6173 733d 226c 6162 656c  div class="label
+00004ec0: 223e 0a20 2020 2020 2020 2020 2020 2020  ">.             
+00004ed0: 203c 6c61 6265 6c20 666f 723d 2266 6f72   <label for="for
+00004ee0: 6d2d 7769 6467 6574 732d 7375 626f 626a  m-widgets-subobj
+00004ef0: 6563 742d 7769 6467 6574 732d 666f 6f66  ect-widgets-foof
+00004f00: 6965 6c64 223e 0a20 2020 2020 2020 2020  ield">.         
+00004f10: 2020 2020 2020 203c 7370 616e 3e4d 7920         <span>My 
+00004f20: 666f 6f20 6669 656c 643c 2f73 7061 6e3e  foo field</span>
+00004f30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004f40: 203c 7370 616e 2063 6c61 7373 3d22 7265   <span class="re
+00004f50: 7175 6972 6564 223e 2a3c 2f73 7061 6e3e  quired">*</span>
+00004f60: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
+00004f70: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
+00004f80: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00004f90: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00004fa0: 733d 2277 6964 6765 7422 3e0a 2020 2020  s="widget">.    
+00004fb0: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
+00004fc0: 2063 6c61 7373 3d22 7465 7874 2d77 6964   class="text-wid
+00004fd0: 6765 7420 7265 7175 6972 6564 2069 6e74  get required int
+00004fe0: 2d66 6965 6c64 220a 2020 2020 2020 2020  -field".        
+00004ff0: 2020 2020 2020 6964 3d22 666f 726d 2d77        id="form-w
+00005000: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
+00005010: 2d77 6964 6765 7473 2d66 6f6f 6669 656c  -widgets-foofiel
+00005020: 6422 0a20 2020 2020 2020 2020 2020 2020  d".             
+00005030: 206e 616d 653d 2266 6f72 6d2e 7769 6467   name="form.widg
+00005040: 6574 732e 7375 626f 626a 6563 742e 7769  ets.subobject.wi
+00005050: 6467 6574 732e 666f 6f66 6965 6c64 220a  dgets.foofield".
+00005060: 2020 2020 2020 2020 2020 2020 2020 7479                ty
+00005070: 7065 3d22 7465 7874 2220 7661 6c75 653d  pe="text" value=
+00005080: 2234 3322 3e0a 2020 2020 2020 2020 2020  "43">.          
+00005090: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+000050a0: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+000050b0: 226c 6162 656c 223e 0a20 2020 2020 2020  "label">.       
+000050c0: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
+000050d0: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
+000050e0: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
+000050f0: 732d 6261 7266 6965 6c64 223e 0a20 2020  s-barfield">.   
+00005100: 2020 2020 2020 2020 2020 2020 203c 7370               <sp
+00005110: 616e 3e4d 7920 6465 6172 2062 6172 3c2f  an>My dear bar</
+00005120: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+00005130: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
+00005140: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00005150: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00005160: 2063 6c61 7373 3d22 7769 6467 6574 223e   class="widget">
+00005170: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
+00005180: 696e 7075 7420 636c 6173 733d 2274 6578  input class="tex
+00005190: 742d 7769 6467 6574 2069 6e74 2d66 6965  t-widget int-fie
+000051a0: 6c64 220a 2020 2020 2020 2020 2020 2020  ld".            
+000051b0: 2020 6964 3d22 666f 726d 2d77 6964 6765    id="form-widge
+000051c0: 7473 2d73 7562 6f62 6a65 6374 2d77 6964  ts-subobject-wid
+000051d0: 6765 7473 2d62 6172 6669 656c 6422 0a20  gets-barfield". 
+000051e0: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+000051f0: 653d 2266 6f72 6d2e 7769 6467 6574 732e  e="form.widgets.
+00005200: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
+00005210: 732e 6261 7266 6965 6c64 220a 2020 2020  s.barfield".    
+00005220: 2020 2020 2020 2020 2020 7479 7065 3d22            type="
+00005230: 7465 7874 2220 7661 6c75 653d 2235 3522  text" value="55"
+00005240: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
+00005250: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
+00005260: 203c 696e 7075 7420 6e61 6d65 3d22 666f   <input name="fo
+00005270: 726d 2e77 6964 6765 7473 2e73 7562 6f62  rm.widgets.subob
+00005280: 6a65 6374 2d65 6d70 7479 2d6d 6172 6b65  ject-empty-marke
+00005290: 7222 2074 7970 653d 2268 6964 6465 6e22  r" type="hidden"
+000052a0: 0a20 2020 2020 2020 2020 2020 2076 616c  .            val
+000052b0: 7565 3d22 3122 3e0a 2020 2020 2020 2020  ue="1">.        
+000052c0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+000052d0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
+000052e0: 3c64 6976 2063 6c61 7373 3d22 726f 7722  <div class="row"
+000052f0: 3e0a 2020 2020 2020 2020 2020 3c6c 6162  >.          <lab
+00005300: 656c 2066 6f72 3d22 666f 726d 2d77 6964  el for="form-wid
+00005310: 6765 7473 2d6e 616d 6522 3e6e 616d 653c  gets-name">name<
+00005320: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
+00005330: 2020 3c69 6e70 7574 2063 6c61 7373 3d22    <input class="
+00005340: 7465 7874 2d77 6964 6765 7420 7265 7175  text-widget requ
+00005350: 6972 6564 2074 6578 746c 696e 652d 6669  ired textline-fi
+00005360: 656c 6422 2069 643d 2266 6f72 6d2d 7769  eld" id="form-wi
+00005370: 6467 6574 732d 6e61 6d65 220a 2020 2020  dgets-name".    
+00005380: 2020 2020 2020 6e61 6d65 3d22 666f 726d        name="form
+00005390: 2e77 6964 6765 7473 2e6e 616d 6522 2074  .widgets.name" t
+000053a0: 7970 653d 2274 6578 7422 2076 616c 7565  ype="text" value
+000053b0: 3d22 6669 7273 7422 3e0a 2020 2020 2020  ="first">.      
+000053c0: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+000053d0: 203c 6469 7620 636c 6173 733d 2261 6374   <div class="act
+000053e0: 696f 6e22 3e0a 2020 2020 2020 2020 2020  ion">.          
+000053f0: 3c69 6e70 7574 2063 6c61 7373 3d22 7375  <input class="su
+00005400: 626d 6974 2d77 6964 6765 7420 6275 7474  bmit-widget butt
+00005410: 6f6e 2d66 6965 6c64 2220 6964 3d22 666f  on-field" id="fo
+00005420: 726d 2d62 7574 746f 6e73 2d61 7070 6c79  rm-buttons-apply
+00005430: 220a 2020 2020 2020 2020 2020 6e61 6d65  ".          name
+00005440: 3d22 666f 726d 2e62 7574 746f 6e73 2e61  ="form.buttons.a
+00005450: 7070 6c79 2220 7479 7065 3d22 7375 626d  pply" type="subm
+00005460: 6974 2220 7661 6c75 653d 2241 7070 6c79  it" value="Apply
+00005470: 223e 0a20 2020 2020 2020 203c 2f64 6976  ">.        </div
+00005480: 3e0a 2020 2020 2020 3c2f 666f 726d 3e0a  >.      </form>.
+00005490: 2020 2020 3c2f 626f 6479 3e0a 2020 3c2f      </body>.  </
+000054a0: 6874 6d6c 3e0a 0a0a 4c65 7427 7320 7365  html>...Let's se
+000054b0: 6520 6966 2074 6865 2077 6964 6765 7420  e if the widget 
+000054c0: 6b65 6570 7320 7468 6520 6f6c 6420 6f62  keeps the old ob
+000054d0: 6a65 6374 206f 6e20 6564 6974 696e 673a  ject on editing:
+000054e0: 0a0a 5765 2061 6464 2061 2073 7065 6369  ..We add a speci
+000054f0: 616c 2070 726f 7065 7274 7920 746f 206b  al property to k
+00005500: 6565 7020 7472 6163 6b20 6f66 2074 6865  eep track of the
+00005510: 206f 626a 6563 743a 0a0a 2020 3e3e 3e20   object:..  >>> 
+00005520: 726f 6f74 5b27 6669 7273 7427 5d2e 5f5f  root['first'].__
+00005530: 6d61 726b 6572 5f5f 203d 2022 5468 6973  marker__ = "This
+00005540: 4d75 7374 5374 6179 5468 6553 616d 6522  MustStayTheSame"
+00005550: 0a0a 2020 3e3e 3e20 726f 6f74 5b27 6669  ..  >>> root['fi
+00005560: 7273 7427 5d2e 7375 626f 626a 6563 742e  rst'].subobject.
+00005570: 666f 6f66 6965 6c64 0a20 2034 330a 2020  foofield.  43.  
+00005580: 3e3e 3e20 726f 6f74 5b27 6669 7273 7427  >>> root['first'
+00005590: 5d2e 7375 626f 626a 6563 742e 6261 7266  ].subobject.barf
+000055a0: 6965 6c64 0a20 2035 350a 0a4c 6574 2773  ield.  55..Let's
+000055b0: 206d 6f64 6966 7920 7468 6520 7661 6c75   modify the valu
+000055c0: 6573 3a0a 0a20 203e 3e3e 2072 6571 7565  es:..  >>> reque
+000055d0: 7374 203d 2054 6573 7452 6571 7565 7374  st = TestRequest
+000055e0: 2866 6f72 6d3d 7b0a 2020 2e2e 2e20 2020  (form={.  ...   
+000055f0: 2020 2766 6f72 6d2e 7769 6467 6574 732e    'form.widgets.
+00005600: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
+00005610: 732e 666f 6f66 6965 6c64 273a 2736 3636  s.foofield':'666
+00005620: 272c 0a20 202e 2e2e 2020 2020 2027 666f  ',.  ...     'fo
+00005630: 726d 2e77 6964 6765 7473 2e73 7562 6f62  rm.widgets.subob
+00005640: 6a65 6374 2e77 6964 6765 7473 2e62 6172  ject.widgets.bar
+00005650: 6669 656c 6427 3a27 3939 3927 2c0a 2020  field':'999',.  
+00005660: 2e2e 2e20 2020 2020 2766 6f72 6d2e 7769  ...     'form.wi
+00005670: 6467 6574 732e 6e61 6d65 273a 2766 6972  dgets.name':'fir
+00005680: 7374 272c 0a20 202e 2e2e 2020 2020 2027  st',.  ...     '
+00005690: 666f 726d 2e77 6964 6765 7473 2e73 7562  form.widgets.sub
+000056a0: 6f62 6a65 6374 2d65 6d70 7479 2d6d 6172  object-empty-mar
+000056b0: 6b65 7227 3a27 3127 2c0a 2020 2e2e 2e20  ker':'1',.  ... 
+000056c0: 2020 2020 2766 6f72 6d2e 6275 7474 6f6e      'form.button
+000056d0: 732e 6170 706c 7927 3a27 4170 706c 7927  s.apply':'Apply'
+000056e0: 7d29 0a0a 2020 3e3e 3e20 6564 6974 666f  })..  >>> editfo
+000056f0: 726d 2e72 6571 7565 7374 203d 2072 6571  rm.request = req
+00005700: 7565 7374 0a0a 2020 3e3e 3e20 6564 6974  uest..  >>> edit
+00005710: 666f 726d 2e75 7064 6174 6528 290a 0a4c  form.update()..L
+00005720: 6574 2773 2063 6865 636b 2077 6861 7420  et's check what 
+00005730: 6172 6520 7468 6572 2065 7375 6c74 7320  are ther esults 
+00005740: 6f66 2074 6865 2075 7064 6174 653a 0a0a  of the update:..
+00005750: 2020 3e3e 3e20 726f 6f74 5b27 6669 7273    >>> root['firs
+00005760: 7427 5d2e 7375 626f 626a 6563 742e 666f  t'].subobject.fo
+00005770: 6f66 6965 6c64 0a20 2036 3636 0a20 203e  ofield.  666.  >
+00005780: 3e3e 2072 6f6f 745b 2766 6972 7374 275d  >> root['first']
+00005790: 2e73 7562 6f62 6a65 6374 2e62 6172 6669  .subobject.barfi
+000057a0: 656c 640a 2020 3939 390a 2020 3e3e 3e20  eld.  999.  >>> 
+000057b0: 726f 6f74 5b27 6669 7273 7427 5d2e 5f5f  root['first'].__
+000057c0: 6d61 726b 6572 5f5f 0a20 2027 5468 6973  marker__.  'This
+000057d0: 4d75 7374 5374 6179 5468 6553 616d 6527  MustStayTheSame'
+000057e0: 0a0a 0a4c 6574 2773 206d 616b 6520 6120  ...Let's make a 
+000057f0: 6e61 7374 7920 6572 726f 722c 2062 7920  nasty error, by 
+00005800: 7479 7069 6e67 2027 6261 6427 2069 6e73  typing 'bad' ins
+00005810: 7465 6164 206f 6620 616e 2069 6e74 6567  tead of an integ
+00005820: 6572 3a0a 0a20 203e 3e3e 2072 6571 7565  er:..  >>> reque
+00005830: 7374 203d 2054 6573 7452 6571 7565 7374  st = TestRequest
+00005840: 2866 6f72 6d3d 7b0a 2020 2e2e 2e20 2020  (form={.  ...   
+00005850: 2020 2766 6f72 6d2e 7769 6467 6574 732e    'form.widgets.
+00005860: 7375 626f 626a 6563 742e 7769 6467 6574  subobject.widget
+00005870: 732e 666f 6f66 6965 6c64 273a 2739 3927  s.foofield':'99'
+00005880: 2c0a 2020 2e2e 2e20 2020 2020 2766 6f72  ,.  ...     'for
+00005890: 6d2e 7769 6467 6574 732e 7375 626f 626a  m.widgets.subobj
+000058a0: 6563 742e 7769 6467 6574 732e 6261 7266  ect.widgets.barf
+000058b0: 6965 6c64 273a 2762 6164 272c 0a20 202e  ield':'bad',.  .
+000058c0: 2e2e 2020 2020 2027 666f 726d 2e77 6964  ..     'form.wid
+000058d0: 6765 7473 2e6e 616d 6527 3a27 6669 7273  gets.name':'firs
+000058e0: 7427 2c0a 2020 2e2e 2e20 2020 2020 2766  t',.  ...     'f
+000058f0: 6f72 6d2e 7769 6467 6574 732e 7375 626f  orm.widgets.subo
+00005900: 626a 6563 742d 656d 7074 792d 6d61 726b  bject-empty-mark
+00005910: 6572 273a 2731 272c 0a20 202e 2e2e 2020  er':'1',.  ...  
+00005920: 2020 2027 666f 726d 2e62 7574 746f 6e73     'form.buttons
+00005930: 2e61 7070 6c79 273a 2741 7070 6c79 277d  .apply':'Apply'}
+00005940: 290a 0a20 203e 3e3e 2065 6469 7466 6f72  )..  >>> editfor
+00005950: 6d2e 7265 7175 6573 7420 3d20 7265 7175  m.request = requ
+00005960: 6573 740a 2020 3e3e 3e20 6576 656e 746c  est.  >>> eventl
+00005970: 6f67 3d5b 5d0a 2020 3e3e 3e20 6564 6974  og=[].  >>> edit
+00005980: 666f 726d 2e75 7064 6174 6528 290a 0a45  form.update()..E
+00005990: 7665 6e74 6c6f 6720 6d75 7374 2062 6520  ventlog must be 
+000059a0: 636c 6561 6e3a 0a0a 2020 3e3e 3e20 6c65  clean:..  >>> le
+000059b0: 6e28 6576 656e 746c 6f67 290a 2020 300a  n(eventlog).  0.
+000059c0: 0a57 6174 6368 2066 6f72 2074 6865 2065  .Watch for the e
+000059d0: 7272 6f72 206d 6573 7361 6765 2069 6e20  rror message in 
+000059e0: 7468 6520 4854 4d4c 3a0a 6974 2068 6173  the HTML:.it has
+000059f0: 2074 6f20 6170 7065 6172 2061 7420 7468   to appear at th
+00005a00: 6520 6669 656c 6420 6974 7365 6c66 2061  e field itself a
+00005a10: 6e64 2061 7420 7468 6520 746f 7020 6f66  nd at the top of
+00005a20: 2074 6865 2066 6f72 6d3a 0a0a 2020 3e3e   the form:..  >>
+00005a30: 3e20 7072 696e 7428 6564 6974 666f 726d  > print(editform
+00005a40: 2e72 656e 6465 7228 2929 0a20 203c 6874  .render()).  <ht
+00005a50: 6d6c 2078 6d6c 6e73 3d22 6874 7470 3a2f  ml xmlns="http:/
+00005a60: 2f77 7777 2e77 332e 6f72 672f 3139 3939  /www.w3.org/1999
+00005a70: 2f78 6874 6d6c 223e 0a20 2020 203c 626f  /xhtml">.    <bo
+00005a80: 6479 3e0a 2020 2020 2020 3c69 3e54 6865  dy>.      <i>The
+00005a90: 7265 2077 6572 6520 736f 6d65 2065 7272  re were some err
+00005aa0: 6f72 732e 3c2f 693e 0a20 2020 2020 203c  ors.</i>.      <
+00005ab0: 756c 3e0a 2020 2020 2020 2020 3c6c 693e  ul>.        <li>
+00005ac0: 0a20 2020 2020 2020 206d 7920 6f62 6a65  .        my obje
+00005ad0: 6374 3a0a 2020 2020 2020 2020 2020 3c64  ct:.          <d
+00005ae0: 6976 2063 6c61 7373 3d22 6572 726f 7222  iv class="error"
+00005af0: 3e54 6865 2065 6e74 6572 6564 2076 616c  >The entered val
+00005b00: 7565 2069 7320 6e6f 7420 6120 7661 6c69  ue is not a vali
+00005b10: 6420 696e 7465 6765 7220 6c69 7465 7261  d integer litera
+00005b20: 6c2e 3c2f 6469 763e 0a20 2020 2020 2020  l.</div>.       
+00005b30: 203c 2f6c 693e 0a20 2020 2020 203c 2f75   </li>.      </u
+00005b40: 6c3e 0a20 2020 2020 203c 666f 726d 2061  l>.      <form a
+00005b50: 6374 696f 6e3d 222e 223e 0a20 2020 2020  ction=".">.     
+00005b60: 2020 203c 6469 7620 636c 6173 733d 2272     <div class="r
+00005b70: 6f77 223e 0a20 2020 2020 2020 2020 203c  ow">.          <
+00005b80: 623e 0a20 2020 2020 2020 2020 2020 203c  b>.            <
+00005b90: 6469 7620 636c 6173 733d 2265 7272 6f72  div class="error
+00005ba0: 223e 5468 6520 656e 7465 7265 6420 7661  ">The entered va
+00005bb0: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
+00005bc0: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
+00005bd0: 616c 2e3c 2f64 6976 3e0a 2020 2020 2020  al.</div>.      
+00005be0: 2020 2020 3c2f 623e 0a20 2020 2020 2020      </b>.       
+00005bf0: 2020 203c 6c61 6265 6c20 666f 723d 2266     <label for="f
+00005c00: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
+00005c10: 626a 6563 7422 3e6d 7920 6f62 6a65 6374  bject">my object
+00005c20: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+00005c30: 2020 203c 6469 7620 636c 6173 733d 226f     <div class="o
+00005c40: 626a 6563 742d 7769 6467 6574 2072 6571  bject-widget req
+00005c50: 7569 7265 6422 3e0a 2020 2020 2020 2020  uired">.        
+00005c60: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00005c70: 6c61 6265 6c22 3e0a 2020 2020 2020 2020  label">.        
+00005c80: 2020 2020 2020 3c6c 6162 656c 2066 6f72        <label for
+00005c90: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
+00005ca0: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+00005cb0: 2d66 6f6f 6669 656c 6422 3e0a 2020 2020  -foofield">.    
+00005cc0: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
+00005cd0: 6e3e 4d79 2066 6f6f 2066 6965 6c64 3c2f  n>My foo field</
+00005ce0: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+00005cf0: 2020 2020 2020 3c73 7061 6e20 636c 6173        <span clas
+00005d00: 733d 2272 6571 7569 7265 6422 3e2a 3c2f  s="required">*</
+00005d10: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+00005d20: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
+00005d30: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00005d40: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00005d50: 2063 6c61 7373 3d22 7769 6467 6574 223e   class="widget">
+00005d60: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
+00005d70: 696e 7075 7420 636c 6173 733d 2274 6578  input class="tex
+00005d80: 742d 7769 6467 6574 2072 6571 7569 7265  t-widget require
+00005d90: 6420 696e 742d 6669 656c 6422 0a20 2020  d int-field".   
+00005da0: 2020 2020 2020 2020 2020 2069 643d 2266             id="f
+00005db0: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
+00005dc0: 626a 6563 742d 7769 6467 6574 732d 666f  bject-widgets-fo
+00005dd0: 6f66 6965 6c64 220a 2020 2020 2020 2020  ofield".        
+00005de0: 2020 2020 2020 6e61 6d65 3d22 666f 726d        name="form
+00005df0: 2e77 6964 6765 7473 2e73 7562 6f62 6a65  .widgets.subobje
+00005e00: 6374 2e77 6964 6765 7473 2e66 6f6f 6669  ct.widgets.foofi
+00005e10: 656c 6422 0a20 2020 2020 2020 2020 2020  eld".           
+00005e20: 2020 2074 7970 653d 2274 6578 7422 2076     type="text" v
+00005e30: 616c 7565 3d22 3939 223e 0a20 2020 2020  alue="99">.     
+00005e40: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00005e50: 2020 2020 2020 2020 2020 3c64 6976 2063            <div c
+00005e60: 6c61 7373 3d22 6c61 6265 6c22 3e0a 2020  lass="label">.  
+00005e70: 2020 2020 2020 2020 2020 2020 3c6c 6162              <lab
+00005e80: 656c 2066 6f72 3d22 666f 726d 2d77 6964  el for="form-wid
+00005e90: 6765 7473 2d73 7562 6f62 6a65 6374 2d77  gets-subobject-w
+00005ea0: 6964 6765 7473 2d62 6172 6669 656c 6422  idgets-barfield"
+00005eb0: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00005ec0: 2020 3c73 7061 6e3e 4d79 2064 6561 7220    <span>My dear 
+00005ed0: 6261 723c 2f73 7061 6e3e 0a20 2020 2020  bar</span>.     
+00005ee0: 2020 2020 2020 2020 203c 2f6c 6162 656c           </label
+00005ef0: 3e0a 2020 2020 2020 2020 2020 2020 3c2f  >.            </
+00005f00: 6469 763e 0a20 2020 2020 2020 2020 2020  div>.           
+00005f10: 203c 6469 7620 636c 6173 733d 2265 7272   <div class="err
+00005f20: 6f72 223e 5468 6520 656e 7465 7265 6420  or">The entered 
+00005f30: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
+00005f40: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
+00005f50: 6572 616c 2e3c 2f64 6976 3e0a 2020 2020  eral.</div>.    
+00005f60: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00005f70: 7373 3d22 7769 6467 6574 223e 0a20 2020  ss="widget">.   
+00005f80: 2020 2020 2020 2020 2020 203c 696e 7075             <inpu
+00005f90: 7420 636c 6173 733d 2274 6578 742d 7769  t class="text-wi
+00005fa0: 6467 6574 2069 6e74 2d66 6965 6c64 220a  dget int-field".
+00005fb0: 2020 2020 2020 2020 2020 2020 2020 6964                id
+00005fc0: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
+00005fd0: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+00005fe0: 2d62 6172 6669 656c 6422 0a20 2020 2020  -barfield".     
+00005ff0: 2020 2020 2020 2020 206e 616d 653d 2266           name="f
+00006000: 6f72 6d2e 7769 6467 6574 732e 7375 626f  orm.widgets.subo
+00006010: 626a 6563 742e 7769 6467 6574 732e 6261  bject.widgets.ba
+00006020: 7266 6965 6c64 220a 2020 2020 2020 2020  rfield".        
+00006030: 2020 2020 2020 7479 7065 3d22 7465 7874        type="text
+00006040: 2220 7661 6c75 653d 2262 6164 223e 0a20  " value="bad">. 
+00006050: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+00006060: 3e0a 2020 2020 2020 2020 2020 2020 3c69  >.            <i
+00006070: 6e70 7574 206e 616d 653d 2266 6f72 6d2e  nput name="form.
+00006080: 7769 6467 6574 732e 7375 626f 626a 6563  widgets.subobjec
+00006090: 742d 656d 7074 792d 6d61 726b 6572 2220  t-empty-marker" 
+000060a0: 7479 7065 3d22 6869 6464 656e 220a 2020  type="hidden".  
+000060b0: 2020 2020 2020 2020 2020 7661 6c75 653d            value=
+000060c0: 2231 223e 0a20 2020 2020 2020 2020 203c  "1">.          <
+000060d0: 2f64 6976 3e0a 2020 2020 2020 2020 3c2f  /div>.        </
+000060e0: 6469 763e 0a20 2020 2020 2020 203c 6469  div>.        <di
+000060f0: 7620 636c 6173 733d 2272 6f77 223e 0a20  v class="row">. 
+00006100: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
+00006110: 666f 723d 2266 6f72 6d2d 7769 6467 6574  for="form-widget
+00006120: 732d 6e61 6d65 223e 6e61 6d65 3c2f 6c61  s-name">name</la
+00006130: 6265 6c3e 0a20 2020 2020 2020 2020 203c  bel>.          <
+00006140: 696e 7075 7420 636c 6173 733d 2274 6578  input class="tex
+00006150: 742d 7769 6467 6574 2072 6571 7569 7265  t-widget require
+00006160: 6420 7465 7874 6c69 6e65 2d66 6965 6c64  d textline-field
+00006170: 2220 6964 3d22 666f 726d 2d77 6964 6765  " id="form-widge
+00006180: 7473 2d6e 616d 6522 0a20 2020 2020 2020  ts-name".       
+00006190: 2020 206e 616d 653d 2266 6f72 6d2e 7769     name="form.wi
+000061a0: 6467 6574 732e 6e61 6d65 2220 7479 7065  dgets.name" type
+000061b0: 3d22 7465 7874 2220 7661 6c75 653d 2266  ="text" value="f
+000061c0: 6972 7374 223e 0a20 2020 2020 2020 203c  irst">.        <
+000061d0: 2f64 6976 3e0a 2020 2020 2020 2020 3c64  /div>.        <d
+000061e0: 6976 2063 6c61 7373 3d22 6163 7469 6f6e  iv class="action
+000061f0: 223e 0a20 2020 2020 2020 2020 203c 696e  ">.          <in
+00006200: 7075 7420 636c 6173 733d 2273 7562 6d69  put class="submi
+00006210: 742d 7769 6467 6574 2062 7574 746f 6e2d  t-widget button-
+00006220: 6669 656c 6422 2069 643d 2266 6f72 6d2d  field" id="form-
+00006230: 6275 7474 6f6e 732d 6170 706c 7922 0a20  buttons-apply". 
+00006240: 2020 2020 2020 2020 206e 616d 653d 2266           name="f
+00006250: 6f72 6d2e 6275 7474 6f6e 732e 6170 706c  orm.buttons.appl
+00006260: 7922 2074 7970 653d 2273 7562 6d69 7422  y" type="submit"
+00006270: 2076 616c 7565 3d22 4170 706c 7922 3e0a   value="Apply">.
+00006280: 2020 2020 2020 2020 3c2f 6469 763e 0a20          </div>. 
+00006290: 2020 2020 203c 2f66 6f72 6d3e 0a20 2020       </form>.   
+000062a0: 203c 2f62 6f64 793e 0a20 203c 2f68 746d   </body>.  </htm
+000062b0: 6c3e 0a0a 5468 6520 6f62 6a65 6374 2076  l>..The object v
+000062c0: 616c 7565 7320 6d75 7374 2073 7461 7920  alues must stay 
+000062d0: 6174 2074 6865 206f 6c64 206f 6e65 733a  at the old ones:
+000062e0: 0a0a 2020 3e3e 3e20 726f 6f74 5b27 6669  ..  >>> root['fi
+000062f0: 7273 7427 5d2e 7375 626f 626a 6563 742e  rst'].subobject.
+00006300: 666f 6f66 6965 6c64 0a20 2036 3636 0a20  foofield.  666. 
+00006310: 203e 3e3e 2072 6f6f 745b 2766 6972 7374   >>> root['first
+00006320: 275d 2e73 7562 6f62 6a65 6374 2e62 6172  '].subobject.bar
+00006330: 6669 656c 640a 2020 3939 390a 0a4c 6574  field.  999..Let
+00006340: 2773 206d 616b 6520 6d6f 7265 2065 7272  's make more err
+00006350: 6f72 733a 0a4e 6f77 2077 6520 656e 7465  ors:.Now we ente
+00006360: 7220 2762 6164 2720 616e 6420 2739 3939  r 'bad' and '999
+00006370: 3939 3927 2c20 7768 6572 6520 2739 3939  999', where '999
+00006380: 3939 3927 2068 6974 7320 7468 6520 7570  999' hits the up
+00006390: 7065 7220 6c69 6d69 7420 6f66 2074 6865  per limit of the
+000063a0: 2066 6965 6c64 2e0a 0a20 203e 3e3e 2072   field...  >>> r
+000063b0: 6571 7565 7374 203d 2054 6573 7452 6571  equest = TestReq
+000063c0: 7565 7374 2866 6f72 6d3d 7b0a 2020 2e2e  uest(form={.  ..
+000063d0: 2e20 2020 2020 2766 6f72 6d2e 7769 6467  .     'form.widg
+000063e0: 6574 732e 7375 626f 626a 6563 742e 7769  ets.subobject.wi
+000063f0: 6467 6574 732e 666f 6f66 6965 6c64 273a  dgets.foofield':
+00006400: 2739 3939 3939 3927 2c0a 2020 2e2e 2e20  '999999',.  ... 
+00006410: 2020 2020 2766 6f72 6d2e 7769 6467 6574      'form.widget
+00006420: 732e 7375 626f 626a 6563 742e 7769 6467  s.subobject.widg
+00006430: 6574 732e 6261 7266 6965 6c64 273a 2762  ets.barfield':'b
+00006440: 6164 272c 0a20 202e 2e2e 2020 2020 2027  ad',.  ...     '
+00006450: 666f 726d 2e77 6964 6765 7473 2e6e 616d  form.widgets.nam
+00006460: 6527 3a27 6669 7273 7427 2c0a 2020 2e2e  e':'first',.  ..
+00006470: 2e20 2020 2020 2766 6f72 6d2e 7769 6467  .     'form.widg
+00006480: 6574 732e 7375 626f 626a 6563 742d 656d  ets.subobject-em
+00006490: 7074 792d 6d61 726b 6572 273a 2731 272c  pty-marker':'1',
+000064a0: 0a20 202e 2e2e 2020 2020 2027 666f 726d  .  ...     'form
+000064b0: 2e62 7574 746f 6e73 2e61 7070 6c79 273a  .buttons.apply':
+000064c0: 2741 7070 6c79 277d 290a 0a20 203e 3e3e  'Apply'})..  >>>
+000064d0: 2065 6469 7466 6f72 6d2e 7265 7175 6573   editform.reques
+000064e0: 7420 3d20 7265 7175 6573 740a 2020 3e3e  t = request.  >>
+000064f0: 3e20 6564 6974 666f 726d 2e75 7064 6174  > editform.updat
+00006500: 6528 290a 0a42 6f74 6820 6572 726f 7273  e()..Both errors
+00006510: 206d 7573 7420 6170 7065 6172 2061 7420   must appear at 
+00006520: 7468 6520 746f 7020 6f66 2074 6865 2066  the top of the f
+00006530: 6f72 6d3a 0a0a 2020 3e3e 3e20 7072 696e  orm:..  >>> prin
+00006540: 7428 6564 6974 666f 726d 2e72 656e 6465  t(editform.rende
+00006550: 7228 2929 0a20 203c 6874 6d6c 2078 6d6c  r()).  <html xml
+00006560: 6e73 3d22 6874 7470 3a2f 2f77 7777 2e77  ns="http://www.w
+00006570: 332e 6f72 672f 3139 3939 2f78 6874 6d6c  3.org/1999/xhtml
+00006580: 223e 0a20 2020 203c 626f 6479 3e0a 2020  ">.    <body>.  
+00006590: 2020 2020 3c69 3e54 6865 7265 2077 6572      <i>There wer
+000065a0: 6520 736f 6d65 2065 7272 6f72 732e 3c2f  e some errors.</
+000065b0: 693e 0a20 2020 2020 203c 756c 3e0a 2020  i>.      <ul>.  
+000065c0: 2020 2020 2020 3c6c 693e 0a20 2020 2020        <li>.     
+000065d0: 2020 206d 7920 6f62 6a65 6374 3a0a 2020     my object:.  
+000065e0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+000065f0: 7373 3d22 6572 726f 7222 3e56 616c 7565  ss="error">Value
+00006600: 2069 7320 746f 6f20 6269 673c 2f64 6976   is too big</div
+00006610: 3e0a 2020 2020 2020 2020 2020 3c64 6976  >.          <div
+00006620: 2063 6c61 7373 3d22 6572 726f 7222 3e54   class="error">T
+00006630: 6865 2065 6e74 6572 6564 2076 616c 7565  he entered value
+00006640: 2069 7320 6e6f 7420 6120 7661 6c69 6420   is not a valid 
+00006650: 696e 7465 6765 7220 6c69 7465 7261 6c2e  integer literal.
+00006660: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
+00006670: 2f6c 693e 0a20 2020 2020 203c 2f75 6c3e  /li>.      </ul>
+00006680: 0a20 2020 2020 203c 666f 726d 2061 6374  .      <form act
+00006690: 696f 6e3d 222e 223e 0a20 2020 2020 2020  ion=".">.       
+000066a0: 203c 6469 7620 636c 6173 733d 2272 6f77   <div class="row
+000066b0: 223e 0a20 2020 2020 2020 2020 203c 623e  ">.          <b>
+000066c0: 0a20 2020 2020 2020 2020 2020 203c 6469  .            <di
+000066d0: 7620 636c 6173 733d 2265 7272 6f72 223e  v class="error">
+000066e0: 5661 6c75 6520 6973 2074 6f6f 2062 6967  Value is too big
+000066f0: 3c2f 6469 763e 0a20 2020 2020 2020 2020  </div>.         
+00006700: 2020 203c 6469 7620 636c 6173 733d 2265     <div class="e
+00006710: 7272 6f72 223e 5468 6520 656e 7465 7265  rror">The entere
+00006720: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
+00006730: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
+00006740: 6974 6572 616c 2e3c 2f64 6976 3e0a 2020  iteral.</div>.  
+00006750: 2020 2020 2020 2020 3c2f 623e 0a20 2020          </b>.   
+00006760: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
+00006770: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
+00006780: 7375 626f 626a 6563 7422 3e6d 7920 6f62  subobject">my ob
+00006790: 6a65 6374 3c2f 6c61 6265 6c3e 0a20 2020  ject</label>.   
+000067a0: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+000067b0: 733d 226f 626a 6563 742d 7769 6467 6574  s="object-widget
+000067c0: 2072 6571 7569 7265 6422 3e0a 2020 2020   required">.    
+000067d0: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+000067e0: 7373 3d22 6c61 6265 6c22 3e0a 2020 2020  ss="label">.    
+000067f0: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
+00006800: 2066 6f72 3d22 666f 726d 2d77 6964 6765   for="form-widge
+00006810: 7473 2d73 7562 6f62 6a65 6374 2d77 6964  ts-subobject-wid
+00006820: 6765 7473 2d66 6f6f 6669 656c 6422 3e0a  gets-foofield">.
+00006830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006840: 3c73 7061 6e3e 4d79 2066 6f6f 2066 6965  <span>My foo fie
+00006850: 6c64 3c2f 7370 616e 3e0a 2020 2020 2020  ld</span>.      
+00006860: 2020 2020 2020 2020 2020 3c73 7061 6e20            <span 
+00006870: 636c 6173 733d 2272 6571 7569 7265 6422  class="required"
+00006880: 3e2a 3c2f 7370 616e 3e0a 2020 2020 2020  >*</span>.      
+00006890: 2020 2020 2020 2020 3c2f 6c61 6265 6c3e          </label>
+000068a0: 0a20 2020 2020 2020 2020 2020 203c 2f64  .            </d
+000068b0: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
+000068c0: 3c64 6976 2063 6c61 7373 3d22 6572 726f  <div class="erro
+000068d0: 7222 3e56 616c 7565 2069 7320 746f 6f20  r">Value is too 
+000068e0: 6269 673c 2f64 6976 3e0a 2020 2020 2020  big</div>.      
+000068f0: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+00006900: 3d22 7769 6467 6574 223e 0a20 2020 2020  ="widget">.     
+00006910: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
+00006920: 636c 6173 733d 2274 6578 742d 7769 6467  class="text-widg
+00006930: 6574 2072 6571 7569 7265 6420 696e 742d  et required int-
+00006940: 6669 656c 6422 0a20 2020 2020 2020 2020  field".         
+00006950: 2020 2020 2069 643d 2266 6f72 6d2d 7769       id="form-wi
+00006960: 6467 6574 732d 7375 626f 626a 6563 742d  dgets-subobject-
+00006970: 7769 6467 6574 732d 666f 6f66 6965 6c64  widgets-foofield
+00006980: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00006990: 6e61 6d65 3d22 666f 726d 2e77 6964 6765  name="form.widge
+000069a0: 7473 2e73 7562 6f62 6a65 6374 2e77 6964  ts.subobject.wid
+000069b0: 6765 7473 2e66 6f6f 6669 656c 6422 0a20  gets.foofield". 
+000069c0: 2020 2020 2020 2020 2020 2020 2074 7970               typ
+000069d0: 653d 2274 6578 7422 2076 616c 7565 3d22  e="text" value="
+000069e0: 3939 3939 3939 223e 0a20 2020 2020 2020  999999">.       
+000069f0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+00006a00: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00006a10: 7373 3d22 6c61 6265 6c22 3e0a 2020 2020  ss="label">.    
+00006a20: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
+00006a30: 2066 6f72 3d22 666f 726d 2d77 6964 6765   for="form-widge
+00006a40: 7473 2d73 7562 6f62 6a65 6374 2d77 6964  ts-subobject-wid
+00006a50: 6765 7473 2d62 6172 6669 656c 6422 3e0a  gets-barfield">.
+00006a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006a70: 3c73 7061 6e3e 4d79 2064 6561 7220 6261  <span>My dear ba
+00006a80: 723c 2f73 7061 6e3e 0a20 2020 2020 2020  r</span>.       
+00006a90: 2020 2020 2020 203c 2f6c 6162 656c 3e0a         </label>.
+00006aa0: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
+00006ab0: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
+00006ac0: 6469 7620 636c 6173 733d 2265 7272 6f72  div class="error
+00006ad0: 223e 5468 6520 656e 7465 7265 6420 7661  ">The entered va
+00006ae0: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
+00006af0: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
+00006b00: 616c 2e3c 2f64 6976 3e0a 2020 2020 2020  al.</div>.      
+00006b10: 2020 2020 2020 3c64 6976 2063 6c61 7373        <div class
+00006b20: 3d22 7769 6467 6574 223e 0a20 2020 2020  ="widget">.     
+00006b30: 2020 2020 2020 2020 203c 696e 7075 7420           <input 
+00006b40: 636c 6173 733d 2274 6578 742d 7769 6467  class="text-widg
+00006b50: 6574 2069 6e74 2d66 6965 6c64 220a 2020  et int-field".  
+00006b60: 2020 2020 2020 2020 2020 2020 6964 3d22              id="
+00006b70: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
+00006b80: 6f62 6a65 6374 2d77 6964 6765 7473 2d62  object-widgets-b
+00006b90: 6172 6669 656c 6422 0a20 2020 2020 2020  arfield".       
+00006ba0: 2020 2020 2020 206e 616d 653d 2266 6f72         name="for
+00006bb0: 6d2e 7769 6467 6574 732e 7375 626f 626a  m.widgets.subobj
+00006bc0: 6563 742e 7769 6467 6574 732e 6261 7266  ect.widgets.barf
+00006bd0: 6965 6c64 220a 2020 2020 2020 2020 2020  ield".          
+00006be0: 2020 2020 7479 7065 3d22 7465 7874 2220      type="text" 
+00006bf0: 7661 6c75 653d 2262 6164 223e 0a20 2020  value="bad">.   
+00006c00: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00006c10: 2020 2020 2020 2020 2020 2020 3c69 6e70              <inp
+00006c20: 7574 206e 616d 653d 2266 6f72 6d2e 7769  ut name="form.wi
+00006c30: 6467 6574 732e 7375 626f 626a 6563 742d  dgets.subobject-
+00006c40: 656d 7074 792d 6d61 726b 6572 2220 7479  empty-marker" ty
+00006c50: 7065 3d22 6869 6464 656e 220a 2020 2020  pe="hidden".    
+00006c60: 2020 2020 2020 2020 7661 6c75 653d 2231          value="1
+00006c70: 223e 0a20 2020 2020 2020 2020 203c 2f64  ">.          </d
+00006c80: 6976 3e0a 2020 2020 2020 2020 3c2f 6469  iv>.        </di
+00006c90: 763e 0a20 2020 2020 2020 203c 6469 7620  v>.        <div 
+00006ca0: 636c 6173 733d 2272 6f77 223e 0a20 2020  class="row">.   
+00006cb0: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
+00006cc0: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
+00006cd0: 6e61 6d65 223e 6e61 6d65 3c2f 6c61 6265  name">name</labe
+00006ce0: 6c3e 0a20 2020 2020 2020 2020 203c 696e  l>.          <in
+00006cf0: 7075 7420 636c 6173 733d 2274 6578 742d  put class="text-
+00006d00: 7769 6467 6574 2072 6571 7569 7265 6420  widget required 
+00006d10: 7465 7874 6c69 6e65 2d66 6965 6c64 2220  textline-field" 
+00006d20: 6964 3d22 666f 726d 2d77 6964 6765 7473  id="form-widgets
+00006d30: 2d6e 616d 6522 0a20 2020 2020 2020 2020  -name".         
+00006d40: 206e 616d 653d 2266 6f72 6d2e 7769 6467   name="form.widg
+00006d50: 6574 732e 6e61 6d65 2220 7479 7065 3d22  ets.name" type="
+00006d60: 7465 7874 2220 7661 6c75 653d 2266 6972  text" value="fir
+00006d70: 7374 223e 0a20 2020 2020 2020 203c 2f64  st">.        </d
+00006d80: 6976 3e0a 2020 2020 2020 2020 3c64 6976  iv>.        <div
+00006d90: 2063 6c61 7373 3d22 6163 7469 6f6e 223e   class="action">
+00006da0: 0a20 2020 2020 2020 2020 203c 696e 7075  .          <inpu
+00006db0: 7420 636c 6173 733d 2273 7562 6d69 742d  t class="submit-
+00006dc0: 7769 6467 6574 2062 7574 746f 6e2d 6669  widget button-fi
+00006dd0: 656c 6422 2069 643d 2266 6f72 6d2d 6275  eld" id="form-bu
+00006de0: 7474 6f6e 732d 6170 706c 7922 0a20 2020  ttons-apply".   
+00006df0: 2020 2020 2020 206e 616d 653d 2266 6f72         name="for
+00006e00: 6d2e 6275 7474 6f6e 732e 6170 706c 7922  m.buttons.apply"
+00006e10: 2074 7970 653d 2273 7562 6d69 7422 2076   type="submit" v
+00006e20: 616c 7565 3d22 4170 706c 7922 3e0a 2020  alue="Apply">.  
+00006e30: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00006e40: 2020 203c 2f66 6f72 6d3e 0a20 2020 203c     </form>.    <
+00006e50: 2f62 6f64 793e 0a20 203c 2f68 746d 6c3e  /body>.  </html>
+00006e60: 0a0a 416e 6420 6f66 2063 6f75 7273 652c  ..And of course,
+00006e70: 2074 6865 206f 626a 6563 7420 7661 6c75   the object valu
+00006e80: 6573 2064 6f20 6e6f 7420 6765 7420 6d6f  es do not get mo
+00006e90: 6469 6669 6564 3a0a 0a20 203e 3e3e 2072  dified:..  >>> r
+00006ea0: 6f6f 745b 2766 6972 7374 275d 2e73 7562  oot['first'].sub
+00006eb0: 6f62 6a65 6374 2e66 6f6f 6669 656c 640a  object.foofield.
+00006ec0: 2020 3636 360a 2020 3e3e 3e20 726f 6f74    666.  >>> root
+00006ed0: 5b27 6669 7273 7427 5d2e 7375 626f 626a  ['first'].subobj
+00006ee0: 6563 742e 6261 7266 6965 6c64 0a20 2039  ect.barfield.  9
+00006ef0: 3939 0a0a 5369 6d70 6c65 2062 7574 206f  99..Simple but o
+00006f00: 6674 656e 2075 7365 6420 7573 652d 6361  ften used use-ca
+00006f10: 7365 2069 7320 7468 6520 6469 7370 6c61  se is the displa
+00006f20: 7920 666f 726d 3a0a 0a20 203e 3e3e 2065  y form:..  >>> e
+00006f30: 6469 7466 6f72 6d20 3d20 4d79 4564 6974  ditform = MyEdit
+00006f40: 466f 726d 2872 6f6f 745b 2766 6972 7374  Form(root['first
+00006f50: 275d 2c20 5465 7374 5265 7175 6573 7428  '], TestRequest(
+00006f60: 2929 0a20 203e 3e3e 2061 6464 5465 6d70  )).  >>> addTemp
+00006f70: 6c61 7465 2865 6469 7466 6f72 6d29 0a20  late(editform). 
+00006f80: 203e 3e3e 2065 6469 7466 6f72 6d2e 6d6f   >>> editform.mo
+00006f90: 6465 203d 2069 6e74 6572 6661 6365 732e  de = interfaces.
+00006fa0: 4449 5350 4c41 595f 4d4f 4445 0a20 203e  DISPLAY_MODE.  >
+00006fb0: 3e3e 2065 6469 7466 6f72 6d2e 7570 6461  >> editform.upda
+00006fc0: 7465 2829 0a20 203e 3e3e 2070 7269 6e74  te().  >>> print
+00006fd0: 2865 6469 7466 6f72 6d2e 7265 6e64 6572  (editform.render
+00006fe0: 2829 290a 2020 3c68 746d 6c20 786d 6c6e  ()).  <html xmln
+00006ff0: 733d 2268 7474 703a 2f2f 7777 772e 7733  s="http://www.w3
+00007000: 2e6f 7267 2f31 3939 392f 7868 746d 6c22  .org/1999/xhtml"
+00007010: 3e0a 2020 2020 3c62 6f64 793e 0a20 2020  >.    <body>.   
+00007020: 2020 203c 666f 726d 2061 6374 696f 6e3d     <form action=
+00007030: 222e 223e 0a20 2020 2020 2020 203c 6469  ".">.        <di
+00007040: 7620 636c 6173 733d 2272 6f77 223e 0a20  v class="row">. 
+00007050: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
+00007060: 666f 723d 2266 6f72 6d2d 7769 6467 6574  for="form-widget
+00007070: 732d 7375 626f 626a 6563 7422 3e6d 7920  s-subobject">my 
+00007080: 6f62 6a65 6374 3c2f 6c61 6265 6c3e 0a20  object</label>. 
+00007090: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
+000070a0: 6173 733d 226f 626a 6563 742d 7769 6467  ass="object-widg
+000070b0: 6574 223e 0a20 2020 2020 2020 2020 2020  et">.           
+000070c0: 203c 6469 7620 636c 6173 733d 226c 6162   <div class="lab
+000070d0: 656c 223e 0a20 2020 2020 2020 2020 2020  el">.           
+000070e0: 2020 203c 6c61 6265 6c20 666f 723d 2266     <label for="f
+000070f0: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
+00007100: 626a 6563 742d 7769 6467 6574 732d 666f  bject-widgets-fo
+00007110: 6f66 6965 6c64 223e 0a20 2020 2020 2020  ofield">.       
+00007120: 2020 2020 2020 2020 203c 7370 616e 3e4d           <span>M
+00007130: 7920 666f 6f20 6669 656c 643c 2f73 7061  y foo field</spa
+00007140: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
+00007150: 2020 203c 7370 616e 2063 6c61 7373 3d22     <span class="
+00007160: 7265 7175 6972 6564 223e 2a3c 2f73 7061  required">*</spa
+00007170: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
+00007180: 203c 2f6c 6162 656c 3e0a 2020 2020 2020   </label>.      
+00007190: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+000071a0: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
+000071b0: 6173 733d 2277 6964 6765 7422 3e0a 2020  ass="widget">.  
+000071c0: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
+000071d0: 6e20 636c 6173 733d 2274 6578 742d 7769  n class="text-wi
+000071e0: 6467 6574 2069 6e74 2d66 6965 6c64 220a  dget int-field".
+000071f0: 2020 2020 2020 2020 2020 2020 2020 6964                id
+00007200: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
+00007210: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+00007220: 2d66 6f6f 6669 656c 6422 3e36 3636 3c2f  -foofield">666</
+00007230: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+00007240: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+00007250: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00007260: 226c 6162 656c 223e 0a20 2020 2020 2020  "label">.       
+00007270: 2020 2020 2020 203c 6c61 6265 6c20 666f         <label fo
+00007280: 723d 2266 6f72 6d2d 7769 6467 6574 732d  r="form-widgets-
+00007290: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
+000072a0: 732d 6261 7266 6965 6c64 223e 0a20 2020  s-barfield">.   
+000072b0: 2020 2020 2020 2020 2020 2020 203c 7370               <sp
+000072c0: 616e 3e4d 7920 6465 6172 2062 6172 3c2f  an>My dear bar</
+000072d0: 7370 616e 3e0a 2020 2020 2020 2020 2020  span>.          
+000072e0: 2020 2020 3c2f 6c61 6265 6c3e 0a20 2020      </label>.   
+000072f0: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00007300: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00007310: 2063 6c61 7373 3d22 7769 6467 6574 223e   class="widget">
+00007320: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
+00007330: 7370 616e 2063 6c61 7373 3d22 7465 7874  span class="text
+00007340: 2d77 6964 6765 7420 696e 742d 6669 656c  -widget int-fiel
+00007350: 6422 0a20 2020 2020 2020 2020 2020 2020  d".             
+00007360: 2069 643d 2266 6f72 6d2d 7769 6467 6574   id="form-widget
+00007370: 732d 7375 626f 626a 6563 742d 7769 6467  s-subobject-widg
+00007380: 6574 732d 6261 7266 6965 6c64 223e 3939  ets-barfield">99
+00007390: 393c 2f73 7061 6e3e 0a20 2020 2020 2020  9</span>.       
+000073a0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+000073b0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+000073c0: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+000073d0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+000073e0: 726f 7722 3e0a 2020 2020 2020 2020 2020  row">.          
+000073f0: 3c6c 6162 656c 2066 6f72 3d22 666f 726d  <label for="form
+00007400: 2d77 6964 6765 7473 2d6e 616d 6522 3e6e  -widgets-name">n
+00007410: 616d 653c 2f6c 6162 656c 3e0a 2020 2020  ame</label>.    
+00007420: 2020 2020 2020 3c73 7061 6e20 636c 6173        <span clas
+00007430: 733d 2274 6578 742d 7769 6467 6574 2074  s="text-widget t
+00007440: 6578 746c 696e 652d 6669 656c 6422 0a20  extline-field". 
+00007450: 2020 2020 2020 2020 2069 643d 2266 6f72           id="for
+00007460: 6d2d 7769 6467 6574 732d 6e61 6d65 223e  m-widgets-name">
+00007470: 6669 7273 743c 2f73 7061 6e3e 0a20 2020  first</span>.   
+00007480: 2020 2020 203c 2f64 6976 3e0a 2020 2020       </div>.    
+00007490: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+000074a0: 6163 7469 6f6e 223e 0a20 2020 2020 2020  action">.       
+000074b0: 2020 203c 696e 7075 7420 636c 6173 733d     <input class=
+000074c0: 2273 7562 6d69 742d 7769 6467 6574 2062  "submit-widget b
+000074d0: 7574 746f 6e2d 6669 656c 6422 0a20 2020  utton-field".   
+000074e0: 2020 2020 2020 2069 643d 2266 6f72 6d2d         id="form-
+000074f0: 6275 7474 6f6e 732d 6170 706c 7922 206e  buttons-apply" n
+00007500: 616d 653d 2266 6f72 6d2e 6275 7474 6f6e  ame="form.button
+00007510: 732e 6170 706c 7922 2074 7970 653d 2273  s.apply" type="s
+00007520: 7562 6d69 7422 2076 616c 7565 3d22 4170  ubmit" value="Ap
+00007530: 706c 7922 3e0a 2020 2020 2020 2020 3c2f  ply">.        </
+00007540: 6469 763e 0a20 2020 2020 203c 2f66 6f72  div>.      </for
+00007550: 6d3e 0a20 2020 203c 2f62 6f64 793e 0a20  m>.    </body>. 
+00007560: 203c 2f68 746d 6c3e 0a0a 0a4c 6574 2773   </html>...Let's
+00007570: 2073 6565 2077 6861 7420 6861 7070 656e   see what happen
+00007580: 7320 696e 2048 4944 4445 4e5f 4d4f 4445  s in HIDDEN_MODE
+00007590: 3a0a 286e 6f74 2071 7569 7465 2073 616e  :.(not quite san
+000075a0: 6520 7468 696e 672c 2062 7574 2077 6520  e thing, but we 
+000075b0: 7761 6e74 2074 6f20 7365 6520 7468 6520  want to see the 
+000075c0: 6f62 6a65 6374 7769 6467 6574 2072 656e  objectwidget ren
+000075d0: 6465 7265 6420 696e 2068 6964 6465 6e0a  dered in hidden.
+000075e0: 6d6f 6465 290a 0a20 203e 3e3e 207a 6f70  mode)..  >>> zop
+000075f0: 652e 636f 6d70 6f6e 656e 742e 7072 6f76  e.component.prov
+00007600: 6964 6541 6461 7074 6572 280a 2020 2e2e  ideAdapter(.  ..
+00007610: 2e20 2020 2020 5769 6467 6574 5465 6d70  .     WidgetTemp
+00007620: 6c61 7465 4661 6374 6f72 7928 6765 7450  lateFactory(getP
+00007630: 6174 6828 276f 626a 6563 745f 6869 6464  ath('object_hidd
+00007640: 656e 2e70 7427 292c 2027 7465 7874 2f68  en.pt'), 'text/h
+00007650: 746d 6c27 292c 0a20 202e 2e2e 2020 2020  tml'),.  ...    
+00007660: 2028 4e6f 6e65 2c20 4e6f 6e65 2c20 4e6f   (None, None, No
+00007670: 6e65 2c20 4e6f 6e65 2c20 696e 7465 7266  ne, None, interf
+00007680: 6163 6573 2e49 4f62 6a65 6374 5769 6467  aces.IObjectWidg
+00007690: 6574 292c 0a20 202e 2e2e 2020 2020 2049  et),.  ...     I
+000076a0: 5061 6765 5465 6d70 6c61 7465 2c20 6e61  PageTemplate, na
+000076b0: 6d65 3d69 6e74 6572 6661 6365 732e 4849  me=interfaces.HI
+000076c0: 4444 454e 5f4d 4f44 4529 0a0a 0a20 203e  DDEN_MODE)...  >
+000076d0: 3e3e 2065 6469 7466 6f72 6d20 3d20 4d79  >> editform = My
+000076e0: 4564 6974 466f 726d 2872 6f6f 745b 2766  EditForm(root['f
+000076f0: 6972 7374 275d 2c20 5465 7374 5265 7175  irst'], TestRequ
+00007700: 6573 7428 2929 0a20 203e 3e3e 2061 6464  est()).  >>> add
+00007710: 5465 6d70 6c61 7465 2865 6469 7466 6f72  Template(editfor
+00007720: 6d29 0a20 203e 3e3e 2065 6469 7466 6f72  m).  >>> editfor
+00007730: 6d2e 6d6f 6465 203d 2069 6e74 6572 6661  m.mode = interfa
+00007740: 6365 732e 4849 4444 454e 5f4d 4f44 450a  ces.HIDDEN_MODE.
+00007750: 2020 3e3e 3e20 6564 6974 666f 726d 2e75    >>> editform.u
+00007760: 7064 6174 6528 290a 0a4e 6f74 652c 2074  pdate()..Note, t
+00007770: 6861 7420 7468 6520 6c61 6265 6c73 2061  hat the labels a
+00007780: 6e64 2074 6865 2062 7574 746f 6e20 6973  nd the button is
+00007790: 2074 6865 7265 2062 6563 6175 7365 2074   there because t
+000077a0: 6865 2066 6f72 6d20 7465 6d70 6c61 7465  he form template
+000077b0: 2066 6f72 2074 6573 7469 6e67 0a64 6f65   for testing.doe
+000077c0: 732f 7368 6f75 6c64 206e 6f74 2063 6172  s/should not car
+000077d0: 6520 6162 6f75 7420 7468 6520 666f 726d  e about the form
+000077e0: 2062 6569 6e67 2068 6964 6465 6e2e 0a57   being hidden..W
+000077f0: 6861 7420 6d61 7474 6572 7320 6973 2074  hat matters is t
+00007800: 6861 7420 7468 6520 6f62 6a65 6374 7769  hat the objectwi
+00007810: 6467 6574 2069 7320 7265 6e64 6572 6564  dget is rendered
+00007820: 2068 6964 6465 6e2e 0a0a 2020 3e3e 3e20   hidden...  >>> 
+00007830: 7072 696e 7428 6564 6974 666f 726d 2e72  print(editform.r
+00007840: 656e 6465 7228 2929 0a20 203c 6874 6d6c  ender()).  <html
+00007850: 2078 6d6c 6e73 3d22 6874 7470 3a2f 2f77   xmlns="http://w
+00007860: 7777 2e77 332e 6f72 672f 3139 3939 2f78  ww.w3.org/1999/x
+00007870: 6874 6d6c 223e 0a20 2020 203c 626f 6479  html">.    <body
+00007880: 3e0a 2020 2020 2020 3c66 6f72 6d20 6163  >.      <form ac
+00007890: 7469 6f6e 3d22 2e22 3e0a 2020 2020 2020  tion=".">.      
+000078a0: 2020 3c64 6976 2063 6c61 7373 3d22 726f    <div class="ro
+000078b0: 7722 3e0a 2020 2020 2020 2020 2020 3c6c  w">.          <l
+000078c0: 6162 656c 2066 6f72 3d22 666f 726d 2d77  abel for="form-w
+000078d0: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
+000078e0: 223e 6d79 206f 626a 6563 743c 2f6c 6162  ">my object</lab
+000078f0: 656c 3e0a 2020 2020 2020 2020 2020 3c69  el>.          <i
+00007900: 6e70 7574 2069 643d 2266 6f72 6d2d 7769  nput id="form-wi
+00007910: 6467 6574 732d 7375 626f 626a 6563 742d  dgets-subobject-
+00007920: 7769 6467 6574 732d 666f 6f66 6965 6c64  widgets-foofield
+00007930: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00007940: 2020 206e 616d 653d 2266 6f72 6d2e 7769     name="form.wi
+00007950: 6467 6574 732e 7375 626f 626a 6563 742e  dgets.subobject.
+00007960: 7769 6467 6574 732e 666f 6f66 6965 6c64  widgets.foofield
+00007970: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00007980: 2020 2076 616c 7565 3d22 3636 3622 2063     value="666" c
+00007990: 6c61 7373 3d22 6869 6464 656e 2d77 6964  lass="hidden-wid
+000079a0: 6765 7422 2074 7970 653d 2268 6964 6465  get" type="hidde
+000079b0: 6e22 202f 3e0a 2020 2020 2020 2020 2020  n" />.          
+000079c0: 3c69 6e70 7574 2069 643d 2266 6f72 6d2d  <input id="form-
+000079d0: 7769 6467 6574 732d 7375 626f 626a 6563  widgets-subobjec
+000079e0: 742d 7769 6467 6574 732d 6261 7266 6965  t-widgets-barfie
+000079f0: 6c64 220a 2020 2020 2020 2020 2020 2020  ld".            
+00007a00: 2020 2020 206e 616d 653d 2266 6f72 6d2e       name="form.
+00007a10: 7769 6467 6574 732e 7375 626f 626a 6563  widgets.subobjec
+00007a20: 742e 7769 6467 6574 732e 6261 7266 6965  t.widgets.barfie
+00007a30: 6c64 220a 2020 2020 2020 2020 2020 2020  ld".            
+00007a40: 2020 2020 2076 616c 7565 3d22 3939 3922       value="999"
+00007a50: 2063 6c61 7373 3d22 6869 6464 656e 2d77   class="hidden-w
+00007a60: 6964 6765 7422 2074 7970 653d 2268 6964  idget" type="hid
+00007a70: 6465 6e22 202f 3e0a 2020 2020 2020 2020  den" />.        
+00007a80: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
+00007a90: 6469 7620 636c 6173 733d 2272 6f77 223e  div class="row">
+00007aa0: 0a20 2020 2020 2020 2020 203c 6c61 6265  .          <labe
+00007ab0: 6c20 666f 723d 2266 6f72 6d2d 7769 6467  l for="form-widg
+00007ac0: 6574 732d 6e61 6d65 223e 6e61 6d65 3c2f  ets-name">name</
+00007ad0: 6c61 6265 6c3e 0a20 2020 2020 2020 2020  label>.         
+00007ae0: 203c 696e 7075 7420 6964 3d22 666f 726d   <input id="form
+00007af0: 2d77 6964 6765 7473 2d6e 616d 6522 206e  -widgets-name" n
+00007b00: 616d 653d 2266 6f72 6d2e 7769 6467 6574  ame="form.widget
+00007b10: 732e 6e61 6d65 220a 2020 2020 2020 2020  s.name".        
+00007b20: 2020 2020 2020 2020 2076 616c 7565 3d22           value="
+00007b30: 6669 7273 7422 2063 6c61 7373 3d22 6869  first" class="hi
+00007b40: 6464 656e 2d77 6964 6765 7422 2074 7970  dden-widget" typ
+00007b50: 653d 2268 6964 6465 6e22 202f 3e0a 2020  e="hidden" />.  
+00007b60: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00007b70: 2020 2020 203c 6469 7620 636c 6173 733d       <div class=
+00007b80: 2261 6374 696f 6e22 3e0a 2020 2020 2020  "action">.      
+00007b90: 2020 203c 696e 7075 7420 6964 3d22 666f     <input id="fo
+00007ba0: 726d 2d62 7574 746f 6e73 2d61 7070 6c79  rm-buttons-apply
+00007bb0: 2220 6e61 6d65 3d22 666f 726d 2e62 7574  " name="form.but
+00007bc0: 746f 6e73 2e61 7070 6c79 220a 2020 2020  tons.apply".    
+00007bd0: 2020 2020 2020 2020 2020 2020 636c 6173              clas
+00007be0: 733d 2273 7562 6d69 742d 7769 6467 6574  s="submit-widget
+00007bf0: 2062 7574 746f 6e2d 6669 656c 6422 2076   button-field" v
+00007c00: 616c 7565 3d22 4170 706c 7922 2074 7970  alue="Apply" typ
+00007c10: 653d 2273 7562 6d69 7422 202f 3e0a 2020  e="submit" />.  
+00007c20: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+00007c30: 2020 203c 2f66 6f72 6d3e 0a20 2020 203c     </form>.    <
+00007c40: 2f62 6f64 793e 0a20 203c 2f68 746d 6c3e  /body>.  </html>
+00007c50: 0a0a 0a0a 4564 6974 666f 726d 7320 6d69  ....Editforms mi
+00007c60: 6768 7420 7573 6520 6469 6374 7320 6173  ght use dicts as
+00007c70: 2063 6f6e 7465 7874 3a0a 0a20 203e 3e3e   context:..  >>>
+00007c80: 206e 6577 7375 6220 3d20 4d79 5375 624f   newsub = MySubO
+00007c90: 626a 6563 7428 290a 2020 3e3e 3e20 6e65  bject().  >>> ne
+00007ca0: 7773 7562 2e66 6f6f 6669 656c 6420 3d20  wsub.foofield = 
+00007cb0: 3738 0a20 203e 3e3e 206e 6577 7375 622e  78.  >>> newsub.
+00007cc0: 6261 7266 6965 6c64 203d 2038 370a 0a20  barfield = 87.. 
+00007cd0: 203e 3e3e 2063 6c61 7373 204d 7945 6469   >>> class MyEdi
+00007ce0: 7446 6f72 6d44 6963 7428 666f 726d 2e45  tFormDict(form.E
+00007cf0: 6469 7446 6f72 6d29 3a0a 2020 2e2e 2e20  ditForm):.  ... 
+00007d00: 2020 2020 6669 656c 6473 203d 2066 6965      fields = fie
+00007d10: 6c64 2e46 6965 6c64 7328 494d 794f 626a  ld.Fields(IMyObj
+00007d20: 6563 7429 0a20 202e 2e2e 2020 2020 2064  ect).  ...     d
+00007d30: 6566 2067 6574 436f 6e74 656e 7428 7365  ef getContent(se
+00007d40: 6c66 293a 0a20 202e 2e2e 2020 2020 2020  lf):.  ...      
+00007d50: 2020 2072 6574 7572 6e20 7b27 7375 626f     return {'subo
+00007d60: 626a 6563 7427 3a20 6e65 7773 7562 2c20  bject': newsub, 
+00007d70: 276e 616d 6527 3a20 2762 6c6f 6f6b 6927  'name': 'blooki'
+00007d80: 7d0a 0a20 203e 3e3e 2065 6469 7466 6f72  }..  >>> editfor
+00007d90: 6d20 3d20 4d79 4564 6974 466f 726d 4469  m = MyEditFormDi
+00007da0: 6374 284e 6f6e 652c 2054 6573 7452 6571  ct(None, TestReq
+00007db0: 7565 7374 2829 290a 2020 3e3e 3e20 6164  uest()).  >>> ad
+00007dc0: 6454 656d 706c 6174 6528 6564 6974 666f  dTemplate(editfo
+00007dd0: 726d 290a 2020 3e3e 3e20 6564 6974 666f  rm).  >>> editfo
+00007de0: 726d 2e75 7064 6174 6528 290a 0a57 6174  rm.update()..Wat
+00007df0: 6368 2066 6f72 2074 6865 2077 6964 6765  ch for the widge
+00007e00: 7420 7661 6c75 6573 2069 6e20 7468 6520  t values in the 
+00007e10: 4854 4d4c 3a0a 0a20 203e 3e3e 2070 7269  HTML:..  >>> pri
+00007e20: 6e74 2865 6469 7466 6f72 6d2e 7265 6e64  nt(editform.rend
+00007e30: 6572 2829 290a 2020 3c68 746d 6c20 786d  er()).  <html xm
+00007e40: 6c6e 733d 2268 7474 703a 2f2f 7777 772e  lns="http://www.
+00007e50: 7733 2e6f 7267 2f31 3939 392f 7868 746d  w3.org/1999/xhtm
+00007e60: 6c22 3e0a 2020 2020 3c62 6f64 793e 0a20  l">.    <body>. 
+00007e70: 2020 2020 203c 666f 726d 2061 6374 696f       <form actio
+00007e80: 6e3d 222e 223e 0a20 2020 2020 2020 203c  n=".">.        <
+00007e90: 6469 7620 636c 6173 733d 2272 6f77 223e  div class="row">
+00007ea0: 0a20 2020 2020 2020 2020 203c 6c61 6265  .          <labe
+00007eb0: 6c20 666f 723d 2266 6f72 6d2d 7769 6467  l for="form-widg
+00007ec0: 6574 732d 7375 626f 626a 6563 7422 3e6d  ets-subobject">m
+00007ed0: 7920 6f62 6a65 6374 3c2f 6c61 6265 6c3e  y object</label>
+00007ee0: 0a20 2020 2020 2020 2020 203c 6469 7620  .          <div 
+00007ef0: 636c 6173 733d 226f 626a 6563 742d 7769  class="object-wi
+00007f00: 6467 6574 2072 6571 7569 7265 6422 3e0a  dget required">.
+00007f10: 2020 2020 2020 2020 2020 2020 3c64 6976              <div
+00007f20: 2063 6c61 7373 3d22 6c61 6265 6c22 3e0a   class="label">.
+00007f30: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
+00007f40: 6162 656c 2066 6f72 3d22 666f 726d 2d77  abel for="form-w
+00007f50: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
+00007f60: 2d77 6964 6765 7473 2d66 6f6f 6669 656c  -widgets-foofiel
+00007f70: 6422 3e0a 2020 2020 2020 2020 2020 2020  d">.            
+00007f80: 2020 2020 3c73 7061 6e3e 4d79 2066 6f6f      <span>My foo
+00007f90: 2066 6965 6c64 3c2f 7370 616e 3e0a 2020   field</span>.  
+00007fa0: 2020 2020 2020 2020 2020 2020 2020 3c73                <s
+00007fb0: 7061 6e20 636c 6173 733d 2272 6571 7569  pan class="requi
+00007fc0: 7265 6422 3e2a 3c2f 7370 616e 3e0a 2020  red">*</span>.  
+00007fd0: 2020 2020 2020 2020 2020 2020 3c2f 6c61              </la
+00007fe0: 6265 6c3e 0a20 2020 2020 2020 2020 2020  bel>.           
+00007ff0: 203c 2f64 6976 3e0a 2020 2020 2020 2020   </div>.        
+00008000: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00008010: 7769 6467 6574 223e 0a20 2020 2020 2020  widget">.       
+00008020: 2020 2020 2020 203c 696e 7075 7420 636c         <input cl
+00008030: 6173 733d 2274 6578 742d 7769 6467 6574  ass="text-widget
+00008040: 2072 6571 7569 7265 6420 696e 742d 6669   required int-fi
+00008050: 656c 6422 0a20 2020 2020 2020 2020 2020  eld".           
+00008060: 2020 2069 643d 2266 6f72 6d2d 7769 6467     id="form-widg
+00008070: 6574 732d 7375 626f 626a 6563 742d 7769  ets-subobject-wi
+00008080: 6467 6574 732d 666f 6f66 6965 6c64 220a  dgets-foofield".
+00008090: 2020 2020 2020 2020 2020 2020 2020 6e61                na
+000080a0: 6d65 3d22 666f 726d 2e77 6964 6765 7473  me="form.widgets
+000080b0: 2e73 7562 6f62 6a65 6374 2e77 6964 6765  .subobject.widge
+000080c0: 7473 2e66 6f6f 6669 656c 6422 0a20 2020  ts.foofield".   
+000080d0: 2020 2020 2020 2020 2020 2074 7970 653d             type=
+000080e0: 2274 6578 7422 2076 616c 7565 3d22 3738  "text" value="78
+000080f0: 223e 0a20 2020 2020 2020 2020 2020 203c  ">.            <
+00008100: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
+00008110: 2020 3c64 6976 2063 6c61 7373 3d22 6c61    <div class="la
+00008120: 6265 6c22 3e0a 2020 2020 2020 2020 2020  bel">.          
+00008130: 2020 2020 3c6c 6162 656c 2066 6f72 3d22      <label for="
+00008140: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
+00008150: 6f62 6a65 6374 2d77 6964 6765 7473 2d62  object-widgets-b
+00008160: 6172 6669 656c 6422 3e0a 2020 2020 2020  arfield">.      
+00008170: 2020 2020 2020 2020 2020 3c73 7061 6e3e            <span>
+00008180: 4d79 2064 6561 7220 6261 723c 2f73 7061  My dear bar</spa
+00008190: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
+000081a0: 203c 2f6c 6162 656c 3e0a 2020 2020 2020   </label>.      
+000081b0: 2020 2020 2020 3c2f 6469 763e 0a20 2020        </div>.   
+000081c0: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
+000081d0: 6173 733d 2277 6964 6765 7422 3e0a 2020  ass="widget">.  
+000081e0: 2020 2020 2020 2020 2020 2020 3c69 6e70              <inp
+000081f0: 7574 2063 6c61 7373 3d22 7465 7874 2d77  ut class="text-w
+00008200: 6964 6765 7420 696e 742d 6669 656c 6422  idget int-field"
+00008210: 0a20 2020 2020 2020 2020 2020 2020 2069  .              i
+00008220: 643d 2266 6f72 6d2d 7769 6467 6574 732d  d="form-widgets-
+00008230: 7375 626f 626a 6563 742d 7769 6467 6574  subobject-widget
+00008240: 732d 6261 7266 6965 6c64 220a 2020 2020  s-barfield".    
+00008250: 2020 2020 2020 2020 2020 6e61 6d65 3d22            name="
+00008260: 666f 726d 2e77 6964 6765 7473 2e73 7562  form.widgets.sub
+00008270: 6f62 6a65 6374 2e77 6964 6765 7473 2e62  object.widgets.b
+00008280: 6172 6669 656c 6422 0a20 2020 2020 2020  arfield".       
+00008290: 2020 2020 2020 2074 7970 653d 2274 6578         type="tex
+000082a0: 7422 2076 616c 7565 3d22 3837 223e 0a20  t" value="87">. 
+000082b0: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+000082c0: 3e0a 2020 2020 2020 2020 2020 2020 3c69  >.            <i
+000082d0: 6e70 7574 206e 616d 653d 2266 6f72 6d2e  nput name="form.
+000082e0: 7769 6467 6574 732e 7375 626f 626a 6563  widgets.subobjec
+000082f0: 742d 656d 7074 792d 6d61 726b 6572 2220  t-empty-marker" 
+00008300: 7479 7065 3d22 6869 6464 656e 220a 2020  type="hidden".  
+00008310: 2020 2020 2020 2020 2020 7661 6c75 653d            value=
+00008320: 2231 223e 0a20 2020 2020 2020 2020 203c  "1">.          <
+00008330: 2f64 6976 3e0a 2020 2020 2020 2020 3c2f  /div>.        </
+00008340: 6469 763e 0a20 2020 2020 2020 203c 6469  div>.        <di
+00008350: 7620 636c 6173 733d 2272 6f77 223e 0a20  v class="row">. 
+00008360: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
+00008370: 666f 723d 2266 6f72 6d2d 7769 6467 6574  for="form-widget
+00008380: 732d 6e61 6d65 223e 6e61 6d65 3c2f 6c61  s-name">name</la
+00008390: 6265 6c3e 0a20 2020 2020 2020 2020 203c  bel>.          <
+000083a0: 696e 7075 7420 636c 6173 733d 2274 6578  input class="tex
+000083b0: 742d 7769 6467 6574 2072 6571 7569 7265  t-widget require
+000083c0: 6420 7465 7874 6c69 6e65 2d66 6965 6c64  d textline-field
+000083d0: 2220 6964 3d22 666f 726d 2d77 6964 6765  " id="form-widge
+000083e0: 7473 2d6e 616d 6522 0a20 2020 2020 2020  ts-name".       
+000083f0: 2020 206e 616d 653d 2266 6f72 6d2e 7769     name="form.wi
+00008400: 6467 6574 732e 6e61 6d65 2220 7479 7065  dgets.name" type
+00008410: 3d22 7465 7874 2220 7661 6c75 653d 2262  ="text" value="b
+00008420: 6c6f 6f6b 6922 3e0a 2020 2020 2020 2020  looki">.        
+00008430: 3c2f 6469 763e 0a20 2020 2020 2020 203c  </div>.        <
+00008440: 6469 7620 636c 6173 733d 2261 6374 696f  div class="actio
+00008450: 6e22 3e0a 2020 2020 2020 2020 2020 3c69  n">.          <i
+00008460: 6e70 7574 2063 6c61 7373 3d22 7375 626d  nput class="subm
+00008470: 6974 2d77 6964 6765 7420 6275 7474 6f6e  it-widget button
+00008480: 2d66 6965 6c64 2220 6964 3d22 666f 726d  -field" id="form
+00008490: 2d62 7574 746f 6e73 2d61 7070 6c79 220a  -buttons-apply".
+000084a0: 2020 2020 2020 2020 2020 6e61 6d65 3d22            name="
+000084b0: 666f 726d 2e62 7574 746f 6e73 2e61 7070  form.buttons.app
+000084c0: 6c79 2220 7479 7065 3d22 7375 626d 6974  ly" type="submit
+000084d0: 2220 7661 6c75 653d 2241 7070 6c79 223e  " value="Apply">
+000084e0: 0a20 2020 2020 2020 203c 2f64 6976 3e0a  .        </div>.
+000084f0: 2020 2020 2020 3c2f 666f 726d 3e0a 2020        </form>.  
+00008500: 2020 3c2f 626f 6479 3e0a 2020 3c2f 6874    </body>.  </ht
+00008510: 6d6c 3e0a 0a4c 6574 2773 206d 6f64 6966  ml>..Let's modif
+00008520: 7920 7468 6520 7661 6c75 6573 3a0a 0a20  y the values:.. 
+00008530: 203e 3e3e 2072 6571 7565 7374 203d 2054   >>> request = T
+00008540: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
+00008550: 7b0a 2020 2e2e 2e20 2020 2020 2766 6f72  {.  ...     'for
+00008560: 6d2e 7769 6467 6574 732e 7375 626f 626a  m.widgets.subobj
+00008570: 6563 742e 7769 6467 6574 732e 666f 6f66  ect.widgets.foof
+00008580: 6965 6c64 273a 2734 3327 2c0a 2020 2e2e  ield':'43',.  ..
+00008590: 2e20 2020 2020 2766 6f72 6d2e 7769 6467  .     'form.widg
+000085a0: 6574 732e 7375 626f 626a 6563 742e 7769  ets.subobject.wi
+000085b0: 6467 6574 732e 6261 7266 6965 6c64 273a  dgets.barfield':
+000085c0: 2735 3527 2c0a 2020 2e2e 2e20 2020 2020  '55',.  ...     
+000085d0: 2766 6f72 6d2e 7769 6467 6574 732e 6e61  'form.widgets.na
+000085e0: 6d65 273a 2766 6972 7374 272c 0a20 202e  me':'first',.  .
+000085f0: 2e2e 2020 2020 2027 666f 726d 2e77 6964  ..     'form.wid
+00008600: 6765 7473 2e73 7562 6f62 6a65 6374 2d65  gets.subobject-e
+00008610: 6d70 7479 2d6d 6172 6b65 7227 3a27 3127  mpty-marker':'1'
+00008620: 2c0a 2020 2e2e 2e20 2020 2020 2766 6f72  ,.  ...     'for
+00008630: 6d2e 6275 7474 6f6e 732e 6170 706c 7927  m.buttons.apply'
+00008640: 3a27 4170 706c 7927 7d29 0a0a 5468 6579  :'Apply'})..They
+00008650: 2061 7265 2073 7469 6c6c 2074 6865 2073   are still the s
+00008660: 616d 653a 0a0a 2020 3e3e 3e20 6e65 7773  ame:..  >>> news
+00008670: 7562 2e66 6f6f 6669 656c 640a 2020 3738  ub.foofield.  78
+00008680: 0a20 203e 3e3e 206e 6577 7375 622e 6261  .  >>> newsub.ba
+00008690: 7266 6965 6c64 0a20 2038 370a 0a55 6e74  rfield.  87..Unt
+000086a0: 696c 2075 7064 6174 696e 6720 7468 6520  il updating the 
+000086b0: 666f 726d 3a0a 0a20 203e 3e3e 2065 6469  form:..  >>> edi
+000086c0: 7466 6f72 6d2e 7265 7175 6573 7420 3d20  tform.request = 
+000086d0: 7265 7175 6573 740a 2020 3e3e 3e20 6576  request.  >>> ev
+000086e0: 656e 746c 6f67 3d5b 5d0a 0a20 203e 3e3e  entlog=[]..  >>>
+000086f0: 2065 6469 7466 6f72 6d2e 7570 6461 7465   editform.update
+00008700: 2829 0a0a 2020 3e3e 3e20 6e65 7773 7562  ()..  >>> newsub
+00008710: 2e66 6f6f 6669 656c 640a 2020 3433 0a20  .foofield.  43. 
+00008720: 203e 3e3e 206e 6577 7375 622e 6261 7266   >>> newsub.barf
+00008730: 6965 6c64 0a20 2035 350a 0a20 203e 3e3e  ield.  55..  >>>
+00008740: 206c 656e 2865 7665 6e74 6c6f 6729 0a20   len(eventlog). 
+00008750: 2032 0a20 203e 3e3e 2070 7269 6e74 4576   2.  >>> printEv
+00008760: 656e 7473 2829 0a20 203c 7a6f 7065 2e2e  ents().  <zope..
+00008770: 2e4f 626a 6563 744d 6f64 6966 6965 6445  .ObjectModifiedE
+00008780: 7665 6e74 206f 626a 6563 7420 6174 202e  vent object at .
+00008790: 2e2e 3e0a 2020 7a33 632e 666f 726d 2e74  ..>.  z3c.form.t
+000087a0: 6573 7469 6e67 2e49 4d79 5375 624f 626a  esting.IMySubObj
+000087b0: 6563 740a 2020 5b27 6261 7266 6965 6c64  ect.  ['barfield
+000087c0: 272c 2027 666f 6f66 6965 6c64 275d 0a20  ', 'foofield']. 
+000087d0: 203c 7a6f 7065 2e2e 2e4f 626a 6563 744d   <zope...ObjectM
+000087e0: 6f64 6966 6965 6445 7665 6e74 206f 626a  odifiedEvent obj
+000087f0: 6563 7420 6174 202e 2e2e 3e0a 2020 7a33  ect at ...>.  z3
+00008800: 632e 666f 726d 2e74 6573 7469 6e67 2e49  c.form.testing.I
+00008810: 4d79 4f62 6a65 6374 0a20 205b 276e 616d  MyObject.  ['nam
+00008820: 6527 2c20 2773 7562 6f62 6a65 6374 275d  e', 'subobject']
+00008830: 0a0a 0a4f 626a 6563 7420 696e 2061 6e20  ...Object in an 
+00008840: 4f62 6a65 6374 2073 6974 7561 7469 6f6e  Object situation
+00008850: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00008860: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00008870: 0a57 6520 6465 6669 6e65 2061 6e20 696e  .We define an in
+00008880: 7465 7266 6163 6520 636f 6e74 6169 6e69  terface containi
+00008890: 6e67 2061 2073 7562 6f62 6a65 6374 2c20  ng a subobject, 
+000088a0: 616e 6420 616e 2061 6464 666f 726d 2066  and an addform f
+000088b0: 6f72 2069 743a 0a0a 2020 3e3e 3e20 6672  or it:..  >>> fr
+000088c0: 6f6d 207a 3363 2e66 6f72 6d20 696d 706f  om z3c.form impo
+000088d0: 7274 2066 6f72 6d2c 2066 6965 6c64 0a20  rt form, field. 
+000088e0: 203e 3e3e 2066 726f 6d20 7a33 632e 666f   >>> from z3c.fo
+000088f0: 726d 2e74 6573 7469 6e67 2069 6d70 6f72  rm.testing impor
+00008900: 7420 494d 7943 6f6d 706c 6578 4f62 6a65  t IMyComplexObje
+00008910: 6374 0a0a 4e6f 7465 2c20 7468 6174 2063  ct..Note, that c
+00008920: 7265 6174 696e 6720 616e 206f 626a 6563  reating an objec
+00008930: 7420 7769 6c6c 2070 7269 6e74 2073 6f6d  t will print som
+00008940: 6520 696e 666f 726d 6174 696f 6e20 6162  e information ab
+00008950: 6f75 7420 6974 3a0a 0a20 203e 3e3e 2063  out it:..  >>> c
+00008960: 6c61 7373 204d 7941 6464 466f 726d 2866  lass MyAddForm(f
+00008970: 6f72 6d2e 4164 6446 6f72 6d29 3a0a 2020  orm.AddForm):.  
+00008980: 2e2e 2e20 2020 2020 6669 656c 6473 203d  ...     fields =
+00008990: 2066 6965 6c64 2e46 6965 6c64 7328 494d   field.Fields(IM
+000089a0: 7943 6f6d 706c 6578 4f62 6a65 6374 290a  yComplexObject).
+000089b0: 2020 2e2e 2e20 2020 2020 6465 6620 6372    ...     def cr
+000089c0: 6561 7465 2873 656c 662c 2064 6174 6129  eate(self, data)
+000089d0: 3a0a 2020 2e2e 2e20 2020 2020 2020 2020  :.  ...         
+000089e0: 7072 696e 7428 224d 7941 6464 466f 726d  print("MyAddForm
+000089f0: 2e63 7265 6174 6522 2c20 7374 7228 6461  .create", str(da
+00008a00: 7461 2929 0a20 202e 2e2e 2020 2020 2020  ta)).  ...      
+00008a10: 2020 2072 6574 7572 6e20 4d79 4f62 6a65     return MyObje
+00008a20: 6374 282a 2a64 6174 6129 0a20 202e 2e2e  ct(**data).  ...
+00008a30: 2020 2020 2064 6566 2061 6464 2873 656c       def add(sel
+00008a40: 662c 206f 626a 293a 0a20 202e 2e2e 2020  f, obj):.  ...  
+00008a50: 2020 2020 2020 2073 656c 662e 636f 6e74         self.cont
+00008a60: 6578 745b 6f62 6a2e 6e61 6d65 5d20 3d20  ext[obj.name] = 
+00008a70: 6f62 6a0a 2020 2e2e 2e20 2020 2020 6465  obj.  ...     de
+00008a80: 6620 6e65 7874 5552 4c28 7365 6c66 293a  f nextURL(self):
+00008a90: 0a20 202e 2e2e 2020 2020 2020 2020 2070  .  ...         p
+00008aa0: 6173 730a 0a57 6520 6372 6561 7465 2074  ass..We create t
+00008ab0: 6865 2066 6f72 6d20 616e 6420 7472 7920  he form and try 
+00008ac0: 746f 2075 7064 6174 6520 6974 3a0a 0a20  to update it:.. 
+00008ad0: 203e 3e3e 2072 6571 7565 7374 203d 2054   >>> request = T
+00008ae0: 6573 7452 6571 7565 7374 2829 0a0a 2020  estRequest()..  
+00008af0: 3e3e 3e20 6d79 6164 6466 6f72 6d20 3d20  >>> myaddform = 
+00008b00: 204d 7941 6464 466f 726d 2872 6f6f 742c   MyAddForm(root,
+00008b10: 2072 6571 7565 7374 290a 0a20 203e 3e3e   request)..  >>>
+00008b20: 206d 7961 6464 666f 726d 2e75 7064 6174   myaddform.updat
+00008b30: 6528 290a 0a41 7320 7573 7561 6c2c 2074  e()..As usual, t
+00008b40: 6865 2066 6f72 6d20 636f 6e74 6169 6e73  he form contains
+00008b50: 2061 2077 6964 6765 7420 6d61 6e61 6765   a widget manage
+00008b60: 7220 7769 7468 2074 6865 2065 7870 6563  r with the expec
+00008b70: 7465 6420 7769 6467 6574 0a0a 2020 3e3e  ted widget..  >>
+00008b80: 3e20 6c69 7374 286d 7961 6464 666f 726d  > list(myaddform
+00008b90: 2e77 6964 6765 7473 2e6b 6579 7328 2929  .widgets.keys())
+00008ba0: 0a20 205b 2773 7562 6f62 6a65 6374 272c  .  ['subobject',
+00008bb0: 2027 6e61 6d65 275d 0a20 203e 3e3e 206c   'name'].  >>> l
+00008bc0: 6973 7428 6d79 6164 6466 6f72 6d2e 7769  ist(myaddform.wi
+00008bd0: 6467 6574 732e 7661 6c75 6573 2829 290a  dgets.values()).
+00008be0: 2020 5b3c 4f62 6a65 6374 5769 6467 6574    [<ObjectWidget
+00008bf0: 2027 666f 726d 2e77 6964 6765 7473 2e73   'form.widgets.s
+00008c00: 7562 6f62 6a65 6374 273e 2c20 3c54 6578  ubobject'>, <Tex
+00008c10: 7457 6964 6765 7420 2766 6f72 6d2e 7769  tWidget 'form.wi
+00008c20: 6467 6574 732e 6e61 6d65 273e 5d0a 0a54  dgets.name'>]..T
+00008c30: 6865 2061 6464 666f 726d 2068 6173 206f  he addform has o
+00008c40: 7572 204f 626a 6563 7457 6964 6765 7420  ur ObjectWidget 
+00008c50: 7768 6963 6820 696e 2074 7572 6e20 636f  which in turn co
+00008c60: 6e74 6169 6e73 2074 6865 2073 7562 2d77  ntains the sub-w
+00008c70: 6964 6765 7473 3a0a 0a20 203e 3e3e 206c  idgets:..  >>> l
+00008c80: 6973 7428 6d79 6164 6466 6f72 6d2e 7769  ist(myaddform.wi
+00008c90: 6467 6574 735b 2773 7562 6f62 6a65 6374  dgets['subobject
+00008ca0: 275d 2e77 6964 6765 7473 2e6b 6579 7328  '].widgets.keys(
+00008cb0: 2929 0a20 205b 2773 7562 6669 656c 6427  )).  ['subfield'
+00008cc0: 2c20 276d 6f6f 6669 656c 6427 5d0a 0a20  , 'moofield'].. 
+00008cd0: 203e 3e3e 206c 6973 7428 6d79 6164 6466   >>> list(myaddf
+00008ce0: 6f72 6d2e 7769 6467 6574 735b 2773 7562  orm.widgets['sub
+00008cf0: 6f62 6a65 6374 275d 2e77 6964 6765 7473  object'].widgets
+00008d00: 5b27 7375 6266 6965 6c64 275d 2e77 6964  ['subfield'].wid
+00008d10: 6765 7473 2e6b 6579 7328 2929 0a20 205b  gets.keys()).  [
+00008d20: 2766 6f6f 6669 656c 6427 2c20 2762 6172  'foofield', 'bar
+00008d30: 6669 656c 6427 5d0a 0a49 6620 7765 2077  field']..If we w
+00008d40: 616e 7420 746f 2072 656e 6465 7220 7468  ant to render th
+00008d50: 6520 6164 6466 6f72 6d2c 2077 6520 6d75  e addform, we mu
+00008d60: 7374 2067 6976 6520 6974 2061 2074 656d  st give it a tem
+00008d70: 706c 6174 653a 0a0a 2020 3e3e 3e20 6164  plate:..  >>> ad
+00008d80: 6454 656d 706c 6174 6528 6d79 6164 6466  dTemplate(myaddf
+00008d90: 6f72 6d29 0a0a 4e6f 7720 7265 6e64 6572  orm)..Now render
+00008da0: 696e 6720 7468 6520 6164 6466 6f72 6d20  ing the addform 
+00008db0: 7265 6e64 6572 7320 7468 6520 7375 6266  renders the subf
+00008dc0: 6f72 6d20 6173 2077 656c 6c3a 0a0a 2020  orm as well:..  
+00008dd0: 3e3e 3e20 7072 696e 7428 6d79 6164 6466  >>> print(myaddf
+00008de0: 6f72 6d2e 7265 6e64 6572 2829 290a 2020  orm.render()).  
+00008df0: 3c68 746d 6c20 786d 6c6e 733d 2268 7474  <html xmlns="htt
+00008e00: 703a 2f2f 7777 772e 7733 2e6f 7267 2f31  p://www.w3.org/1
+00008e10: 3939 392f 7868 746d 6c22 3e0a 2020 2020  999/xhtml">.    
+00008e20: 3c62 6f64 793e 0a20 2020 2020 203c 666f  <body>.      <fo
+00008e30: 726d 2061 6374 696f 6e3d 222e 223e 0a20  rm action=".">. 
+00008e40: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00008e50: 733d 2272 6f77 223e 0a20 2020 2020 2020  s="row">.       
+00008e60: 2020 203c 6c61 6265 6c20 666f 723d 2266     <label for="f
+00008e70: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
+00008e80: 626a 6563 7422 3e6d 7920 6f62 6a65 6374  bject">my object
+00008e90: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+00008ea0: 2020 203c 6469 7620 636c 6173 733d 226f     <div class="o
+00008eb0: 626a 6563 742d 7769 6467 6574 2072 6571  bject-widget req
+00008ec0: 7569 7265 6422 3e0a 2020 2020 2020 2020  uired">.        
+00008ed0: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00008ee0: 6c61 6265 6c22 3e0a 2020 2020 2020 2020  label">.        
+00008ef0: 2020 2020 2020 3c6c 6162 656c 2066 6f72        <label for
+00008f00: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
+00008f10: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+00008f20: 2d73 7562 6669 656c 6422 3e0a 2020 2020  -subfield">.    
+00008f30: 2020 2020 2020 2020 2020 2020 3c73 7061              <spa
+00008f40: 6e3e 5365 636f 6e64 2d73 7562 6f62 6a65  n>Second-subobje
+00008f50: 6374 3c2f 7370 616e 3e0a 2020 2020 2020  ct</span>.      
+00008f60: 2020 2020 2020 2020 2020 3c73 7061 6e20            <span 
+00008f70: 636c 6173 733d 2272 6571 7569 7265 6422  class="required"
+00008f80: 3e2a 3c2f 7370 616e 3e0a 2020 2020 2020  >*</span>.      
+00008f90: 2020 2020 2020 2020 3c2f 6c61 6265 6c3e          </label>
+00008fa0: 0a20 2020 2020 2020 2020 2020 203c 2f64  .            </d
+00008fb0: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
+00008fc0: 3c64 6976 2063 6c61 7373 3d22 7769 6467  <div class="widg
+00008fd0: 6574 223e 0a20 2020 2020 2020 2020 2020  et">.           
+00008fe0: 2020 203c 6469 7620 636c 6173 733d 226f     <div class="o
+00008ff0: 626a 6563 742d 7769 6467 6574 2072 6571  bject-widget req
+00009000: 7569 7265 6422 3e0a 2020 2020 2020 2020  uired">.        
+00009010: 2020 2020 2020 2020 3c64 6976 2063 6c61          <div cla
+00009020: 7373 3d22 6c61 6265 6c22 3e0a 2020 2020  ss="label">.    
+00009030: 2020 2020 2020 2020 2020 2020 2020 3c6c                <l
+00009040: 6162 656c 2066 6f72 3d22 666f 726d 2d77  abel for="form-w
+00009050: 6964 6765 7473 2d73 7562 6f62 6a65 6374  idgets-subobject
+00009060: 2d77 6964 6765 7473 2d73 7562 6669 656c  -widgets-subfiel
+00009070: 642d 7769 6467 6574 732d 666f 6f66 6965  d-widgets-foofie
+00009080: 6c64 223e 0a20 2020 2020 2020 2020 2020  ld">.           
+00009090: 2020 2020 2020 2020 203c 7370 616e 3e4d           <span>M
+000090a0: 7920 666f 6f20 6669 656c 643c 2f73 7061  y foo field</spa
+000090b0: 6e3e 0a20 2020 2020 2020 2020 2020 2020  n>.             
+000090c0: 2020 2020 2020 203c 7370 616e 2063 6c61         <span cla
+000090d0: 7373 3d22 7265 7175 6972 6564 223e 2a3c  ss="required">*<
+000090e0: 2f73 7061 6e3e 0a20 2020 2020 2020 2020  /span>.         
+000090f0: 2020 2020 2020 2020 203c 2f6c 6162 656c           </label
+00009100: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00009110: 2020 3c2f 6469 763e 0a20 2020 2020 2020    </div>.       
+00009120: 2020 2020 2020 2020 203c 6469 7620 636c           <div cl
+00009130: 6173 733d 2277 6964 6765 7422 3e0a 2020  ass="widget">.  
+00009140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009150: 3c69 6e70 7574 2063 6c61 7373 3d22 7465  <input class="te
+00009160: 7874 2d77 6964 6765 7420 7265 7175 6972  xt-widget requir
+00009170: 6564 2069 6e74 2d66 6965 6c64 220a 2020  ed int-field".  
+00009180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009190: 6964 3d22 666f 726d 2d77 6964 6765 7473  id="form-widgets
+000091a0: 2d73 7562 6f62 6a65 6374 2d77 6964 6765  -subobject-widge
+000091b0: 7473 2d73 7562 6669 656c 642d 7769 6467  ts-subfield-widg
+000091c0: 6574 732d 666f 6f66 6965 6c64 220a 2020  ets-foofield".  
+000091d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000091e0: 6e61 6d65 3d22 666f 726d 2e77 6964 6765  name="form.widge
+000091f0: 7473 2e73 7562 6f62 6a65 6374 2e77 6964  ts.subobject.wid
+00009200: 6765 7473 2e73 7562 6669 656c 642e 7769  gets.subfield.wi
+00009210: 6467 6574 732e 666f 6f66 6965 6c64 220a  dgets.foofield".
+00009220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009230: 2020 7479 7065 3d22 7465 7874 2220 7661    type="text" va
+00009240: 6c75 653d 2231 2c31 3131 223e 0a20 2020  lue="1,111">.   
+00009250: 2020 2020 2020 2020 2020 2020 203c 2f64               </d
+00009260: 6976 3e0a 2020 2020 2020 2020 2020 2020  iv>.            
+00009270: 2020 2020 3c64 6976 2063 6c61 7373 3d22      <div class="
+00009280: 6c61 6265 6c22 3e0a 2020 2020 2020 2020  label">.        
+00009290: 2020 2020 2020 2020 2020 3c6c 6162 656c            <label
+000092a0: 2066 6f72 3d22 666f 726d 2d77 6964 6765   for="form-widge
+000092b0: 7473 2d73 7562 6f62 6a65 6374 2d77 6964  ts-subobject-wid
+000092c0: 6765 7473 2d73 7562 6669 656c 642d 7769  gets-subfield-wi
+000092d0: 6467 6574 732d 6261 7266 6965 6c64 223e  dgets-barfield">
+000092e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000092f0: 2020 2020 203c 7370 616e 3e4d 7920 6465       <span>My de
+00009300: 6172 2062 6172 3c2f 7370 616e 3e0a 2020  ar bar</span>.  
+00009310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009320: 3c2f 6c61 6265 6c3e 0a20 2020 2020 2020  </label>.       
+00009330: 2020 2020 2020 2020 203c 2f64 6976 3e0a           </div>.
+00009340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009350: 3c64 6976 2063 6c61 7373 3d22 7769 6467  <div class="widg
+00009360: 6574 223e 0a20 2020 2020 2020 2020 2020  et">.           
+00009370: 2020 2020 2020 203c 696e 7075 7420 636c         <input cl
+00009380: 6173 733d 2274 6578 742d 7769 6467 6574  ass="text-widget
+00009390: 2069 6e74 2d66 6965 6c64 220a 2020 2020   int-field".    
+000093a0: 2020 2020 2020 2020 2020 2020 2020 6964                id
+000093b0: 3d22 666f 726d 2d77 6964 6765 7473 2d73  ="form-widgets-s
+000093c0: 7562 6f62 6a65 6374 2d77 6964 6765 7473  ubobject-widgets
+000093d0: 2d73 7562 6669 656c 642d 7769 6467 6574  -subfield-widget
+000093e0: 732d 6261 7266 6965 6c64 220a 2020 2020  s-barfield".    
+000093f0: 2020 2020 2020 2020 2020 2020 2020 6e61                na
+00009400: 6d65 3d22 666f 726d 2e77 6964 6765 7473  me="form.widgets
+00009410: 2e73 7562 6f62 6a65 6374 2e77 6964 6765  .subobject.widge
+00009420: 7473 2e73 7562 6669 656c 642e 7769 6467  ts.subfield.widg
+00009430: 6574 732e 6261 7266 6965 6c64 220a 2020  ets.barfield".  
+00009440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009450: 7479 7065 3d22 7465 7874 2220 7661 6c75  type="text" valu
+00009460: 653d 2232 2c32 3232 223e 0a20 2020 2020  e="2,222">.     
+00009470: 2020 2020 2020 2020 2020 203c 2f64 6976             </div
+00009480: 3e0a 2020 2020 2020 2020 2020 2020 2020  >.              
+00009490: 2020 3c69 6e70 7574 206e 616d 653d 2266    <input name="f
+000094a0: 6f72 6d2e 7769 6467 6574 732e 7375 626f  orm.widgets.subo
+000094b0: 626a 6563 742e 7769 6467 6574 732e 7375  bject.widgets.su
+000094c0: 6266 6965 6c64 2d65 6d70 7479 2d6d 6172  bfield-empty-mar
+000094d0: 6b65 7222 2074 7970 653d 2268 6964 6465  ker" type="hidde
+000094e0: 6e22 2076 616c 7565 3d22 3122 3e0a 2020  n" value="1">.  
+000094f0: 2020 2020 2020 2020 2020 2020 3c2f 6469              </di
+00009500: 763e 0a20 2020 2020 2020 2020 2020 203c  v>.            <
+00009510: 2f64 6976 3e0a 2020 2020 2020 2020 2020  /div>.          
+00009520: 2020 3c64 6976 2063 6c61 7373 3d22 6c61    <div class="la
+00009530: 6265 6c22 3e0a 2020 2020 2020 2020 2020  bel">.          
+00009540: 2020 2020 3c6c 6162 656c 2066 6f72 3d22      <label for="
+00009550: 666f 726d 2d77 6964 6765 7473 2d73 7562  form-widgets-sub
+00009560: 6f62 6a65 6374 2d77 6964 6765 7473 2d6d  object-widgets-m
+00009570: 6f6f 6669 656c 6422 3e0a 2020 2020 2020  oofield">.      
+00009580: 2020 2020 2020 2020 2020 3c73 7061 6e3e            <span>
+00009590: 536f 6d65 7468 696e 673c 2f73 7061 6e3e  Something</span>
+000095a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000095b0: 203c 7370 616e 2063 6c61 7373 3d22 7265   <span class="re
+000095c0: 7175 6972 6564 223e 2a3c 2f73 7061 6e3e  quired">*</span>
+000095d0: 0a20 2020 2020 2020 2020 2020 2020 203c  .              <
+000095e0: 2f6c 6162 656c 3e0a 2020 2020 2020 2020  /label>.        
+000095f0: 2020 2020 3c2f 6469 763e 0a20 2020 2020      </div>.     
+00009600: 2020 2020 2020 203c 6469 7620 636c 6173         <div clas
+00009610: 733d 2277 6964 6765 7422 3e0a 2020 2020  s="widget">.    
+00009620: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
+00009630: 2063 6c61 7373 3d22 7465 7874 2d77 6964   class="text-wid
+00009640: 6765 7420 7265 7175 6972 6564 2074 6578  get required tex
+00009650: 746c 696e 652d 6669 656c 6422 0a20 2020  tline-field".   
+00009660: 2020 2020 2020 2020 2020 2069 643d 2266             id="f
+00009670: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
+00009680: 626a 6563 742d 7769 6467 6574 732d 6d6f  bject-widgets-mo
+00009690: 6f66 6965 6c64 220a 2020 2020 2020 2020  ofield".        
+000096a0: 2020 2020 2020 6e61 6d65 3d22 666f 726d        name="form
+000096b0: 2e77 6964 6765 7473 2e73 7562 6f62 6a65  .widgets.subobje
+000096c0: 6374 2e77 6964 6765 7473 2e6d 6f6f 6669  ct.widgets.moofi
+000096d0: 656c 6422 2074 7970 653d 2274 6578 7422  eld" type="text"
+000096e0: 2076 616c 7565 3d22 223e 0a20 2020 2020   value="">.     
+000096f0: 2020 2020 2020 203c 2f64 6976 3e0a 2020         </div>.  
+00009700: 2020 2020 2020 2020 2020 3c69 6e70 7574            <input
+00009710: 206e 616d 653d 2266 6f72 6d2e 7769 6467   name="form.widg
+00009720: 6574 732e 7375 626f 626a 6563 742d 656d  ets.subobject-em
+00009730: 7074 792d 6d61 726b 6572 2220 7479 7065  pty-marker" type
+00009740: 3d22 6869 6464 656e 2220 7661 6c75 653d  ="hidden" value=
+00009750: 2231 223e 0a20 2020 2020 2020 2020 203c  "1">.          <
+00009760: 2f64 6976 3e0a 2020 2020 2020 2020 3c2f  /div>.        </
+00009770: 6469 763e 0a20 2020 2020 2020 203c 6469  div>.        <di
+00009780: 7620 636c 6173 733d 2272 6f77 223e 0a20  v class="row">. 
+00009790: 2020 2020 2020 2020 203c 6c61 6265 6c20           <label 
+000097a0: 666f 723d 2266 6f72 6d2d 7769 6467 6574  for="form-widget
+000097b0: 732d 6e61 6d65 223e 6e61 6d65 3c2f 6c61  s-name">name</la
+000097c0: 6265 6c3e 0a20 2020 2020 2020 2020 203c  bel>.          <
+000097d0: 696e 7075 7420 636c 6173 733d 2274 6578  input class="tex
+000097e0: 742d 7769 6467 6574 2072 6571 7569 7265  t-widget require
+000097f0: 6420 7465 7874 6c69 6e65 2d66 6965 6c64  d textline-field
+00009800: 220a 2020 2020 2020 2020 2020 6964 3d22  ".          id="
+00009810: 666f 726d 2d77 6964 6765 7473 2d6e 616d  form-widgets-nam
+00009820: 6522 206e 616d 653d 2266 6f72 6d2e 7769  e" name="form.wi
+00009830: 6467 6574 732e 6e61 6d65 2220 7479 7065  dgets.name" type
+00009840: 3d22 7465 7874 2220 7661 6c75 653d 2222  ="text" value=""
+00009850: 3e0a 2020 2020 2020 2020 3c2f 6469 763e  >.        </div>
+00009860: 0a20 2020 2020 2020 203c 6469 7620 636c  .        <div cl
+00009870: 6173 733d 2261 6374 696f 6e22 3e0a 2020  ass="action">.  
+00009880: 2020 2020 2020 2020 3c69 6e70 7574 2063          <input c
+00009890: 6c61 7373 3d22 7375 626d 6974 2d77 6964  lass="submit-wid
+000098a0: 6765 7420 6275 7474 6f6e 2d66 6965 6c64  get button-field
+000098b0: 2220 6964 3d22 666f 726d 2d62 7574 746f  " id="form-butto
+000098c0: 6e73 2d61 6464 2220 6e61 6d65 3d22 666f  ns-add" name="fo
+000098d0: 726d 2e62 7574 746f 6e73 2e61 6464 2220  rm.buttons.add" 
+000098e0: 7479 7065 3d22 7375 626d 6974 2220 7661  type="submit" va
+000098f0: 6c75 653d 2241 6464 223e 0a20 2020 2020  lue="Add">.     
+00009900: 2020 203c 2f64 6976 3e0a 2020 2020 2020     </div>.      
+00009910: 3c2f 666f 726d 3e0a 2020 2020 3c2f 626f  </form>.    </bo
+00009920: 6479 3e0a 2020 3c2f 6874 6d6c 3e0a 0a0a  dy>.  </html>...
+00009930: 436f 7665 7261 6765 2068 6170 7069 6e65  Coverage happine
+00009940: 7373 0a23 2323 2323 2323 2323 2323 2323  ss.#############
+00009950: 2323 2323 230a 0a43 6f6e 7665 7274 696e  #####..Convertin
+00009960: 6720 696e 7465 7266 6163 6573 2e4e 4f5f  g interfaces.NO_
+00009970: 5641 4c55 4520 686f 6c64 7320 4e6f 6e65  VALUE holds None
+00009980: 3a0a 0a20 203e 3e3e 2063 6f6e 7665 7274  :..  >>> convert
+00009990: 6572 2e74 6f46 6965 6c64 5661 6c75 6528  er.toFieldValue(
+000099a0: 696e 7465 7266 6163 6573 2e4e 4f5f 5641  interfaces.NO_VA
+000099b0: 4c55 4529 2069 7320 4e6f 6e65 0a20 2054  LUE) is None.  T
+000099c0: 7275 650a 0a0a 5468 6973 2069 7320 6120  rue...This is a 
+000099d0: 636f 6d70 6c69 6361 7465 6420 6361 7365  complicated case
+000099e0: 2e0a 4861 7070 656e 7320 7768 656e 2074  ..Happens when t
+000099f0: 6865 2063 6f6e 7465 7874 2069 7320 6120  he context is a 
+00009a00: 6469 6374 2c20 616e 6420 7468 6520 6469  dict, and the di
+00009a10: 6374 206d 6973 7365 7320 7468 6520 6669  ct misses the fi
+00009a20: 656c 642e 0a28 4e6f 7465 2c20 7765 2772  eld..(Note, we'r
+00009a30: 6520 6d61 6b69 6e67 2060 6073 7562 5f5f  e making ``sub__
+00009a40: 6f62 6a65 6374 6060 2069 6e73 7465 6164  object`` instead
+00009a50: 206f 6620 6060 7375 626f 626a 6563 7460   of ``subobject`
+00009a60: 6029 0a0a 2020 3e3e 3e20 636f 6e74 6578  `)..  >>> contex
+00009a70: 7420 3d20 6469 6374 2873 7562 5f5f 6f62  t = dict(sub__ob
+00009a80: 6a65 6374 3d4e 6f6e 652c 2066 6f6f 3d31  ject=None, foo=1
+00009a90: 3233 2c20 6261 723d 3435 3629 0a0a 416c  23, bar=456)..Al
+00009aa0: 6c20 7468 6520 7374 6f72 7920 7468 6520  l the story the 
+00009ab0: 6372 6561 7465 2061 2077 6964 6765 743a  create a widget:
+00009ac0: 0a0a 2020 3e3e 3e20 6669 656c 6420 3d20  ..  >>> field = 
+00009ad0: 7a6f 7065 2e73 6368 656d 612e 4f62 6a65  zope.schema.Obje
+00009ae0: 6374 280a 2020 2e2e 2e20 2020 2020 5f5f  ct(.  ...     __
+00009af0: 6e61 6d65 5f5f 3d27 7375 626f 626a 6563  name__='subobjec
+00009b00: 7427 2c0a 2020 2e2e 2e20 2020 2020 7469  t',.  ...     ti
+00009b10: 746c 653d 276d 7920 6f62 6a65 6374 2077  tle='my object w
+00009b20: 6964 6765 7427 2c0a 2020 2e2e 2e20 2020  idget',.  ...   
+00009b30: 2020 7363 6865 6d61 3d49 4d79 5375 624f    schema=IMySubO
+00009b40: 626a 6563 7429 0a0a 2020 3e3e 3e20 7776  bject)..  >>> wv
+00009b50: 203d 207a 3363 2e66 6f72 6d2e 6f62 6a65   = z3c.form.obje
+00009b60: 6374 2e4f 626a 6563 7457 6964 6765 7456  ct.ObjectWidgetV
+00009b70: 616c 7565 280a 2020 2e2e 2e20 2020 2020  alue(.  ...     
+00009b80: 7b27 666f 6f66 6965 6c64 273a 2027 3227  {'foofield': '2'
+00009b90: 2c20 2762 6172 6669 656c 6427 3a20 2739  , 'barfield': '9
+00009ba0: 3939 277d 290a 0a20 203e 3e3e 2072 6571  99'})..  >>> req
+00009bb0: 7565 7374 203d 2054 6573 7452 6571 7565  uest = TestReque
+00009bc0: 7374 2829 0a20 203e 3e3e 2077 6964 6765  st().  >>> widge
+00009bd0: 7420 3d20 7a33 632e 666f 726d 2e62 726f  t = z3c.form.bro
+00009be0: 7773 6572 2e6f 626a 6563 742e 4f62 6a65  wser.object.Obje
+00009bf0: 6374 5769 6467 6574 2872 6571 7565 7374  ctWidget(request
+00009c00: 290a 2020 3e3e 3e20 7769 6467 6574 203d  ).  >>> widget =
+00009c10: 2046 6965 6c64 5769 6467 6574 2866 6965   FieldWidget(fie
+00009c20: 6c64 2c20 7769 6467 6574 290a 2020 3e3e  ld, widget).  >>
+00009c30: 3e20 7769 6467 6574 2e63 6f6e 7465 7874  > widget.context
+00009c40: 203d 2063 6f6e 7465 7874 0a20 203e 3e3e   = context.  >>>
+00009c50: 2077 6964 6765 742e 7661 6c75 6520 3d20   widget.value = 
+00009c60: 7776 0a20 203e 3e3e 2077 6964 6765 742e  wv.  >>> widget.
+00009c70: 7570 6461 7465 2829 0a20 203e 3e3e 2063  update().  >>> c
+00009c80: 6f6e 7665 7274 6572 203d 2069 6e74 6572  onverter = inter
+00009c90: 6661 6365 732e 4944 6174 6143 6f6e 7665  faces.IDataConve
+00009ca0: 7274 6572 2877 6964 6765 7429 0a0a 416e  rter(widget)..An
+00009cb0: 6420 7374 696c 6c20 7765 2067 6574 2061  d still we get a
+00009cc0: 204d 7953 7562 4f62 6a65 6374 2c20 6e6f   MySubObject, no
+00009cd0: 2066 6169 6c75 7265 3a0a 0a20 203e 3e3e   failure:..  >>>
+00009ce0: 2076 616c 7565 203d 2063 6f6e 7665 7274   value = convert
+00009cf0: 6572 2e74 6f46 6965 6c64 5661 6c75 6528  er.toFieldValue(
+00009d00: 7776 290a 2020 3e3e 3e20 7661 6c75 650a  wv).  >>> value.
+00009d10: 2020 3c7a 3363 2e66 6f72 6d2e 7465 7374    <z3c.form.test
+00009d20: 696e 672e 4d79 5375 624f 626a 6563 7420  ing.MySubObject 
+00009d30: 6f62 6a65 6374 2061 7420 2e2e 2e3e 0a20  object at ...>. 
+00009d40: 203e 3e3e 2076 616c 7565 2e66 6f6f 6669   >>> value.foofi
+00009d50: 656c 640a 2020 320a 2020 3e3e 3e20 7661  eld.  2.  >>> va
+00009d60: 6c75 652e 6261 7266 6965 6c64 0a20 2039  lue.barfield.  9
+00009d70: 3939 0a0a 0a45 6173 7920 2861 6674 6572  99...Easy (after
+00009d80: 2074 6865 2070 7265 7669 6f75 7329 2e0a   the previous)..
+00009d90: 496e 2063 6173 6520 7468 6520 7072 6576  In case the prev
+00009da0: 696f 7573 2076 616c 7565 206f 6e20 7468  ious value on th
+00009db0: 6520 636f 6e74 6578 7420 6973 204e 6f6e  e context is Non
+00009dc0: 6520 286f 7220 6d69 7373 696e 6729 2e0a  e (or missing)..
+00009dd0: 5765 206e 6565 6420 746f 2063 7265 6174  We need to creat
+00009de0: 6520 6120 6e65 7720 6f62 6a65 6374 2074  e a new object t
+00009df0: 6f20 6265 2061 626c 6520 746f 2073 6574  o be able to set
+00009e00: 2070 726f 7065 7274 6965 7320 6f6e 2e0a   properties on..
+00009e10: 0a20 203e 3e3e 2063 6f6e 7465 7874 5b27  .  >>> context['
+00009e20: 7375 626f 626a 6563 7427 5d20 3d20 4e6f  subobject'] = No
+00009e30: 6e65 0a20 203e 3e3e 2076 616c 7565 203d  ne.  >>> value =
+00009e40: 2063 6f6e 7665 7274 6572 2e74 6f46 6965   converter.toFie
+00009e50: 6c64 5661 6c75 6528 7776 290a 2020 3e3e  ldValue(wv).  >>
+00009e60: 3e20 7661 6c75 650a 2020 3c7a 3363 2e66  > value.  <z3c.f
+00009e70: 6f72 6d2e 7465 7374 696e 672e 4d79 5375  orm.testing.MySu
+00009e80: 624f 626a 6563 7420 6f62 6a65 6374 2061  bObject object a
+00009e90: 7420 2e2e 2e3e 0a20 203e 3e3e 2076 616c  t ...>.  >>> val
+00009ea0: 7565 2e66 6f6f 6669 656c 640a 2020 320a  ue.foofield.  2.
+00009eb0: 2020 3e3e 3e20 7661 6c75 652e 6261 7266    >>> value.barf
+00009ec0: 6965 6c64 0a20 2039 3939 0a0a 496e 2063  ield.  999..In c
+00009ed0: 6173 6520 7468 6572 6520 6973 2073 6f6d  ase there is som
+00009ee0: 6574 6869 6e67 2074 6861 7420 6361 6e6e  ething that cann
+00009ef0: 6f74 2062 6520 6164 6170 7465 6420 746f  ot be adapted to
+00009f00: 2074 6865 2072 6967 6874 2069 6e74 6572   the right inter
+00009f10: 6661 6365 2c0a 6974 206a 7573 7420 6275  face,.it just bu
+00009f20: 7270 733a 0a28 6d69 6768 7420 6265 2061  rps:.(might be a
+00009f30: 6e20 6964 6561 2074 6f20 6372 6561 7465  n idea to create
+00009f40: 2069 6e20 7468 6973 2063 6173 6520 616c   in this case al
+00009f50: 736f 2061 206e 6577 2062 6c61 6e6b 206f  so a new blank o
+00009f60: 626a 6563 7429 0a0a 2020 3e3e 3e20 636f  bject)..  >>> co
+00009f70: 6e74 6578 745b 2773 7562 6f62 6a65 6374  ntext['subobject
+00009f80: 275d 203d 2027 6272 7574 616c 270a 2020  '] = 'brutal'.  
+00009f90: 3e3e 3e20 636f 6e76 6572 7465 722e 746f  >>> converter.to
+00009fa0: 4669 656c 6456 616c 7565 2877 7629 0a20  FieldValue(wv). 
+00009fb0: 2054 7261 6365 6261 636b 2028 6d6f 7374   Traceback (most
+00009fc0: 2072 6563 656e 7420 6361 6c6c 206c 6173   recent call las
+00009fd0: 7429 3a0a 2020 2e2e 2e0a 2020 5479 7065  t):.  ....  Type
+00009fe0: 4572 726f 723a 2028 2743 6f75 6c64 206e  Error: ('Could n
+00009ff0: 6f74 2061 6461 7074 272c 2027 6272 7574  ot adapt', 'brut
+0000a000: 616c 272c 0a20 207a 3363 2e66 6f72 6d2e  al',.  z3c.form.
+0000a010: 7465 7374 696e 672e 494d 7953 7562 4f62  testing.IMySubOb
+0000a020: 6a65 6374 0a0a 2020 3e3e 3e20 636f 6e74  ject..  >>> cont
+0000a030: 6578 745b 2773 7562 6f62 6a65 6374 275d  ext['subobject']
+0000a040: 203d 204e 6f6e 650a 0a0a 4f6e 6520 6d6f   = None...One mo
+0000a050: 7265 2e0a 5661 6c75 6520 746f 2063 6f6e  re..Value to con
+0000a060: 7665 7274 206d 6973 7365 7320 6120 6669  vert misses a fi
+0000a070: 656c 642e 2053 686f 756c 6420 6e65 7665  eld. Should neve
+0000a080: 7220 6861 7070 656e 2061 6374 7561 6c6c  r happen actuall
+0000a090: 793a 0a0a 2020 3e3e 3e20 7776 203d 207a  y:..  >>> wv = z
+0000a0a0: 3363 2e66 6f72 6d2e 6f62 6a65 6374 2e4f  3c.form.object.O
+0000a0b0: 626a 6563 7457 6964 6765 7456 616c 7565  bjectWidgetValue
+0000a0c0: 280a 2020 2e2e 2e20 2020 2020 7b27 666f  (.  ...     {'fo
+0000a0d0: 6f66 6965 6c64 273a 2027 3227 7d29 0a20  ofield': '2'}). 
+0000a0e0: 203e 3e3e 2076 616c 7565 203d 2063 6f6e   >>> value = con
+0000a0f0: 7665 7274 6572 2e74 6f46 6965 6c64 5661  verter.toFieldVa
+0000a100: 6c75 6528 7776 290a 0a4b 6e6f 776e 2070  lue(wv)..Known p
+0000a110: 726f 7065 7274 7920 6973 2073 6574 3a0a  roperty is set:.
+0000a120: 0a20 203e 3e3e 2076 616c 7565 2e66 6f6f  .  >>> value.foo
+0000a130: 6669 656c 640a 2020 320a 0a55 6e6b 6e6f  field.  2..Unkno
+0000a140: 776e 2073 7469 636b 7320 7469 2069 7427  wn sticks ti it'
+0000a150: 7320 6465 6661 756c 7420 7661 6c75 653a  s default value:
+0000a160: 0a0a 2020 3e3e 3e20 7661 6c75 652e 6261  ..  >>> value.ba
+0000a170: 7266 6965 6c64 0a20 2032 3232 320a       rfield.  2222.
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/object.zcml` & `z3c.form-5.0/src/z3c/form/browser/object.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/object_display.pt` & `z3c.form-5.0/src/z3c/form/browser/object_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/object_input.pt` & `z3c.form-5.0/src/z3c/form/browser/object_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/object_multi_dict_integration.rst` & `z3c.form-5.0/src/z3c/form/browser/object_multi_dict_integration.rst`

 * *Files 11% similar despite different names*

```diff
@@ -95,1193 +95,1190 @@
 000005e0: 2d31 3030 2c0a 2020 2e2e 2e20 2020 2020  -100,.  ...     
 000005f0: 6d75 6c74 6942 6f6f 6c3d 4661 6c73 652c  multiBool=False,
 00000600: 0a20 202e 2e2e 2020 2020 206d 756c 7469  .  ...     multi
 00000610: 4368 6f69 6365 3d27 7477 6f27 2c0a 2020  Choice='two',.  
 00000620: 2e2e 2e20 2020 2020 6d75 6c74 6943 686f  ...     multiCho
 00000630: 6963 654f 7074 3d27 7369 7827 2c0a 2020  iceOpt='six',.  
 00000640: 2e2e 2e20 2020 2020 6d75 6c74 6954 6578  ...     multiTex
-00000650: 744c 696e 653d 7527 736f 6d65 2074 6578  tLine=u'some tex
-00000660: 7420 6f6e 6527 2c0a 2020 2e2e 2e20 2020  t one',.  ...   
-00000670: 2020 6d75 6c74 6944 6174 653d 6461 7465    multiDate=date
-00000680: 2832 3031 342c 2036 2c20 3230 2929 0a0a  (2014, 6, 20))..
-00000690: 2020 3e3e 3e20 7375 6232 203d 2074 6573    >>> sub2 = tes
-000006a0: 7469 6e67 2e4f 626a 6563 7457 6964 6765  ting.ObjectWidge
-000006b0: 744d 756c 7469 5375 6249 6e74 6567 7261  tMultiSubIntegra
-000006c0: 7469 6f6e 280a 2020 2e2e 2e20 2020 2020  tion(.  ...     
-000006d0: 6d75 6c74 6949 6e74 3d34 322c 0a20 202e  multiInt=42,.  .
-000006e0: 2e2e 2020 2020 206d 756c 7469 426f 6f6c  ..     multiBool
-000006f0: 3d54 7275 652c 0a20 202e 2e2e 2020 2020  =True,.  ...    
-00000700: 206d 756c 7469 4368 6f69 6365 3d27 6f6e   multiChoice='on
-00000710: 6527 2c0a 2020 2e2e 2e20 2020 2020 6d75  e',.  ...     mu
-00000720: 6c74 6943 686f 6963 654f 7074 3d27 666f  ltiChoiceOpt='fo
-00000730: 7572 272c 0a20 202e 2e2e 2020 2020 206d  ur',.  ...     m
-00000740: 756c 7469 5465 7874 4c69 6e65 3d75 2773  ultiTextLine=u's
-00000750: 6563 6f6e 6420 7478 7427 2c0a 2020 2e2e  econd txt',.  ..
-00000760: 2e20 2020 2020 6d75 6c74 6944 6174 653d  .     multiDate=
-00000770: 6461 7465 2832 3031 312c 2033 2c20 3135  date(2011, 3, 15
-00000780: 2929 0a0a 2020 3e3e 3e20 6f62 6a2e 6469  ))..  >>> obj.di
-00000790: 6374 4f66 4f62 6a65 6374 203d 207b 7527  ctOfObject = {u'
-000007a0: 7375 626f 6231 273a 2073 7562 312c 2075  subob1': sub1, u
-000007b0: 2773 7562 6f62 3227 3a20 7375 6232 7d0a  'subob2': sub2}.
-000007c0: 0a20 203e 3e3e 2070 7072 696e 7428 6f62  .  >>> pprint(ob
-000007d0: 6a2e 6469 6374 4f66 4f62 6a65 6374 290a  j.dictOfObject).
-000007e0: 2020 7b27 7375 626f 6231 273a 203c 4f62    {'subob1': <Ob
-000007f0: 6a65 6374 5769 6467 6574 4d75 6c74 6953  jectWidgetMultiS
-00000800: 7562 496e 7465 6772 6174 696f 6e0a 2020  ubIntegration.  
-00000810: 2020 6d75 6c74 6942 6f6f 6c3a 2046 616c    multiBool: Fal
-00000820: 7365 0a20 2020 206d 756c 7469 4368 6f69  se.    multiChoi
-00000830: 6365 3a20 2774 776f 270a 2020 2020 6d75  ce: 'two'.    mu
-00000840: 6c74 6943 686f 6963 654f 7074 3a20 2773  ltiChoiceOpt: 's
-00000850: 6978 270a 2020 2020 6d75 6c74 6944 6174  ix'.    multiDat
-00000860: 653a 2064 6174 6574 696d 652e 6461 7465  e: datetime.date
-00000870: 2832 3031 342c 2036 2c20 3230 290a 2020  (2014, 6, 20).  
-00000880: 2020 6d75 6c74 6949 6e74 3a20 2d31 3030    multiInt: -100
-00000890: 0a20 2020 206d 756c 7469 5465 7874 4c69  .    multiTextLi
-000008a0: 6e65 3a20 2773 6f6d 6520 7465 7874 206f  ne: 'some text o
-000008b0: 6e65 273e 2c0a 2020 2027 7375 626f 6232  ne'>,.   'subob2
-000008c0: 273a 203c 4f62 6a65 6374 5769 6467 6574  ': <ObjectWidget
-000008d0: 4d75 6c74 6953 7562 496e 7465 6772 6174  MultiSubIntegrat
-000008e0: 696f 6e0a 2020 2020 6d75 6c74 6942 6f6f  ion.    multiBoo
-000008f0: 6c3a 2054 7275 650a 2020 2020 6d75 6c74  l: True.    mult
-00000900: 6943 686f 6963 653a 2027 6f6e 6527 0a20  iChoice: 'one'. 
-00000910: 2020 206d 756c 7469 4368 6f69 6365 4f70     multiChoiceOp
-00000920: 743a 2027 666f 7572 270a 2020 2020 6d75  t: 'four'.    mu
-00000930: 6c74 6944 6174 653a 2064 6174 6574 696d  ltiDate: datetim
-00000940: 652e 6461 7465 2832 3031 312c 2033 2c20  e.date(2011, 3, 
-00000950: 3135 290a 2020 2020 6d75 6c74 6949 6e74  15).    multiInt
-00000960: 3a20 3432 0a20 2020 206d 756c 7469 5465  : 42.    multiTe
-00000970: 7874 4c69 6e65 3a20 2773 6563 6f6e 6420  xtLine: 'second 
-00000980: 7478 7427 3e7d 0a0a 2020 3e3e 3e20 636f  txt'>}..  >>> co
-00000990: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
-000009a0: 7265 7175 6573 742c 2027 4f62 6a65 6374  request, 'Object
-000009b0: 4d75 6c74 695f 6469 6374 5f65 6469 745f  Multi_dict_edit_
-000009c0: 7369 6d70 6c65 2e68 746d 6c27 290a 2020  simple.html').  
-000009d0: 3e3e 3e20 7072 696e 7428 7465 7374 696e  >>> print(testin
-000009e0: 672e 706c 6169 6e54 6578 7428 636f 6e74  g.plainText(cont
-000009f0: 656e 7429 290a 2020 4469 6374 4f66 4f62  ent)).  DictOfOb
-00000a00: 6a65 6374 206c 6162 656c 0a20 203c 424c  ject label.  <BL
-00000a10: 414e 4b4c 494e 453e 0a20 204f 626a 6563  ANKLINE>.  Objec
-00000a20: 7420 6b65 7920 2a0a 2020 5b73 7562 6f62  t key *.  [subob
-00000a30: 315d 0a20 204f 626a 6563 7420 6c61 6265  1].  Object labe
-00000a40: 6c20 2a0a 2020 5b20 5d0a 2020 496e 7420  l *.  [ ].  Int 
-00000a50: 6c61 6265 6c20 2a0a 2020 5b2d 3130 305d  label *.  [-100]
-00000a60: 0a20 2042 6f6f 6c20 6c61 6265 6c20 2a0a  .  Bool label *.
-00000a70: 2020 2820 2920 7965 7320 284f 2920 6e6f    ( ) yes (O) no
-00000a80: 0a20 2043 686f 6963 6520 6c61 6265 6c20  .  Choice label 
-00000a90: 2a0a 2020 5b74 776f 5d0a 2020 4368 6f69  *.  [two].  Choi
-00000aa0: 6365 4f70 7420 6c61 6265 6c0a 2020 5b73  ceOpt label.  [s
-00000ab0: 6978 5d0a 2020 5465 7874 4c69 6e65 206c  ix].  TextLine l
-00000ac0: 6162 656c 202a 0a20 205b 736f 6d65 2074  abel *.  [some t
-00000ad0: 6578 7420 6f6e 655d 0a20 2044 6174 6520  ext one].  Date 
-00000ae0: 6c61 6265 6c20 2a0a 2020 5b31 342f 3036  label *.  [14/06
-00000af0: 2f32 305d 0a20 204f 626a 6563 7420 6b65  /20].  Object ke
-00000b00: 7920 2a0a 2020 5b73 7562 6f62 325d 0a20  y *.  [subob2]. 
-00000b10: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
-00000b20: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
-00000b30: 6c20 2a0a 2020 5b34 325d 0a20 2042 6f6f  l *.  [42].  Boo
-00000b40: 6c20 6c61 6265 6c20 2a0a 2020 284f 2920  l label *.  (O) 
-00000b50: 7965 7320 2820 2920 6e6f 0a20 2043 686f  yes ( ) no.  Cho
-00000b60: 6963 6520 6c61 6265 6c20 2a0a 2020 5b6f  ice label *.  [o
-00000b70: 6e65 5d0a 2020 4368 6f69 6365 4f70 7420  ne].  ChoiceOpt 
-00000b80: 6c61 6265 6c0a 2020 5b66 6f75 725d 0a20  label.  [four]. 
-00000b90: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
-00000ba0: 2a0a 2020 5b73 6563 6f6e 6420 7478 745d  *.  [second txt]
-00000bb0: 0a20 2044 6174 6520 6c61 6265 6c20 2a0a  .  Date label *.
-00000bc0: 2020 5b31 312f 3033 2f31 355d 0a20 205b    [11/03/15].  [
-00000bd0: 4164 645d 0a20 205b 5265 6d6f 7665 2073  Add].  [Remove s
-00000be0: 656c 6563 7465 645d 0a20 205b 4170 706c  elected].  [Appl
-00000bf0: 795d 0a0a 7772 6f6e 6720 696e 7075 7420  y]..wrong input 
-00000c00: 2849 6e74 290a 2323 2323 2323 2323 2323  (Int).##########
-00000c10: 2323 2323 2323 230a 0a53 6574 2061 2077  #######..Set a w
-00000c20: 726f 6e67 2076 616c 7565 2061 6e64 2061  rong value and a
-00000c30: 6464 2061 206e 6577 2069 6e70 7574 3a0a  dd a new input:.
-00000c40: 0a20 203e 3e3e 2073 7562 6d69 7420 3d20  .  >>> submit = 
-00000c50: 7465 7374 696e 672e 6765 7453 7562 6d69  testing.getSubmi
-00000c60: 7456 616c 7565 7328 636f 6e74 656e 7429  tValues(content)
-00000c70: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
-00000c80: 6f72 6d2e 7769 6467 6574 732e 6469 6374  orm.widgets.dict
-00000c90: 4f66 4f62 6a65 6374 2e30 2e77 6964 6765  OfObject.0.widge
-00000ca0: 7473 2e6d 756c 7469 496e 7427 5d20 3d20  ts.multiInt'] = 
-00000cb0: 7527 666f 6f62 6172 270a 0a20 203e 3e3e  u'foobar'..  >>>
-00000cc0: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
-00000cd0: 6467 6574 732e 6469 6374 4f66 4f62 6a65  dgets.dictOfObje
-00000ce0: 6374 2e62 7574 746f 6e73 2e61 6464 275d  ct.buttons.add']
-00000cf0: 203d 2075 2741 6464 270a 0a20 203e 3e3e   = u'Add'..  >>>
-00000d00: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
-00000d10: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
-00000d20: 6f72 6d3d 7375 626d 6974 290a 0a49 6d70  orm=submit)..Imp
-00000d30: 6f72 7461 6e74 2069 7320 7468 6174 2077  ortant is that w
-00000d40: 6520 6765 7420 2254 6865 2065 6e74 6572  e get "The enter
-00000d50: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
-00000d60: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
-00000d70: 6c69 7465 7261 6c2e 220a 666f 7220 2266  literal.".for "f
-00000d80: 6f6f 6261 7222 2061 6e64 2061 206e 6577  oobar" and a new
-00000d90: 2069 6e70 7574 2e0a 0a20 203e 3e3e 2063   input...  >>> c
-00000da0: 6f6e 7465 6e74 203d 2067 6574 466f 726d  ontent = getForm
-00000db0: 2872 6571 7565 7374 2c20 274f 626a 6563  (request, 'Objec
-00000dc0: 744d 756c 7469 5f64 6963 745f 6564 6974  tMulti_dict_edit
-00000dd0: 5f73 7562 6d69 745f 696e 742e 6874 6d6c  _submit_int.html
-00000de0: 2729 0a20 203e 3e3e 2070 7269 6e74 2874  ').  >>> print(t
-00000df0: 6573 7469 6e67 2e70 6c61 696e 5465 7874  esting.plainText
-00000e00: 2863 6f6e 7465 6e74 2c0a 2020 2e2e 2e20  (content,.  ... 
-00000e10: 2020 2020 272e 2f2f 6469 765b 4069 643d      './/div[@id=
-00000e20: 2266 6f72 6d2d 7769 6467 6574 732d 6469  "form-widgets-di
-00000e30: 6374 4f66 4f62 6a65 6374 2d30 2d72 6f77  ctOfObject-0-row
-00000e40: 225d 2729 290a 2020 4f62 6a65 6374 206b  "]')).  Object k
-00000e50: 6579 202a 0a20 203c 424c 414e 4b4c 494e  ey *.  <BLANKLIN
-00000e60: 453e 0a20 205b 7375 626f 6231 5d0a 2020  E>.  [subob1].  
-00000e70: 3c42 4c41 4e4b 4c49 4e45 3e0a 2020 4f62  <BLANKLINE>.  Ob
-00000e80: 6a65 6374 206c 6162 656c 202a 0a20 203c  ject label *.  <
-00000e90: 424c 414e 4b4c 494e 453e 0a20 2054 6865  BLANKLINE>.  The
-00000ea0: 2065 6e74 6572 6564 2076 616c 7565 2069   entered value i
-00000eb0: 7320 6e6f 7420 6120 7661 6c69 6420 696e  s not a valid in
-00000ec0: 7465 6765 7220 6c69 7465 7261 6c2e 0a20  teger literal.. 
-00000ed0: 203c 424c 414e 4b4c 494e 453e 0a20 205b   <BLANKLINE>.  [
-00000ee0: 205d 0a20 2049 6e74 206c 6162 656c 202a   ].  Int label *
-00000ef0: 0a20 2054 6865 2065 6e74 6572 6564 2076  .  The entered v
-00000f00: 616c 7565 2069 7320 6e6f 7420 6120 7661  alue is not a va
-00000f10: 6c69 6420 696e 7465 6765 7220 6c69 7465  lid integer lite
-00000f20: 7261 6c2e 0a20 205b 666f 6f62 6172 5d0a  ral..  [foobar].
-00000f30: 2020 426f 6f6c 206c 6162 656c 202a 0a20    Bool label *. 
-00000f40: 2028 2029 2079 6573 2028 4f29 206e 6f0a   ( ) yes (O) no.
-00000f50: 2020 4368 6f69 6365 206c 6162 656c 202a    Choice label *
-00000f60: 0a20 205b 7477 6f5d 0a20 2043 686f 6963  .  [two].  Choic
-00000f70: 654f 7074 206c 6162 656c 0a20 205b 7369  eOpt label.  [si
-00000f80: 785d 0a20 2054 6578 744c 696e 6520 6c61  x].  TextLine la
-00000f90: 6265 6c20 2a0a 2020 5b73 6f6d 6520 7465  bel *.  [some te
-00000fa0: 7874 206f 6e65 5d0a 2020 4461 7465 206c  xt one].  Date l
-00000fb0: 6162 656c 202a 0a20 205b 3134 2f30 362f  abel *.  [14/06/
-00000fc0: 3230 5d0a 0a53 7562 6d69 7420 6167 6169  20]..Submit agai
-00000fd0: 6e20 7769 7468 2074 6865 2065 6d70 7479  n with the empty
-00000fe0: 2066 6965 6c64 3a0a 0a20 203e 3e3e 2073   field:..  >>> s
-00000ff0: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
-00001000: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
-00001010: 636f 6e74 656e 7429 0a20 203e 3e3e 2072  content).  >>> r
-00001020: 6571 7565 7374 203d 2074 6573 7469 6e67  equest = testing
-00001030: 2e54 6573 7452 6571 7565 7374 2866 6f72  .TestRequest(for
-00001040: 6d3d 7375 626d 6974 290a 2020 3e3e 3e20  m=submit).  >>> 
-00001050: 636f 6e74 656e 7420 3d20 6765 7446 6f72  content = getFor
-00001060: 6d28 7265 7175 6573 742c 2027 4f62 6a65  m(request, 'Obje
-00001070: 6374 4d75 6c74 695f 6469 6374 5f65 6469  ctMulti_dict_edi
-00001080: 745f 7375 626d 6974 5f69 6e74 5f61 6761  t_submit_int_aga
-00001090: 696e 2e68 746d 6c27 290a 2020 3e3e 3e20  in.html').  >>> 
-000010a0: 7072 696e 7428 7465 7374 696e 672e 706c  print(testing.pl
-000010b0: 6169 6e54 6578 7428 636f 6e74 656e 742c  ainText(content,
-000010c0: 0a20 202e 2e2e 2020 2020 2027 2e2f 2f64  .  ...     './/d
-000010d0: 6976 5b40 6964 3d22 666f 726d 2d77 6964  iv[@id="form-wid
-000010e0: 6765 7473 2d64 6963 744f 664f 626a 6563  gets-dictOfObjec
-000010f0: 742d 302d 726f 7722 5d2f 2f64 6976 5b40  t-0-row"]//div[@
-00001100: 636c 6173 733d 2265 7272 6f72 225d 2729  class="error"]')
-00001110: 290a 2020 5265 7175 6972 6564 2069 6e70  ).  Required inp
-00001120: 7574 2069 7320 6d69 7373 696e 672e 0a20  ut is missing.. 
-00001130: 2041 6e20 6f62 6a65 6374 2066 6169 6c65   An object faile
-00001140: 6420 7363 6865 6d61 206f 7220 696e 7661  d schema or inva
-00001150: 7269 616e 7420 7661 6c69 6461 7469 6f6e  riant validation
-00001160: 2e0a 2020 5265 7175 6972 6564 2069 6e70  ..  Required inp
-00001170: 7574 2069 7320 6d69 7373 696e 672e 0a20  ut is missing.. 
-00001180: 2052 6571 7569 7265 6420 696e 7075 7420   Required input 
-00001190: 6973 206d 6973 7369 6e67 2e0a 2020 5265  is missing..  Re
-000011a0: 7175 6972 6564 2069 6e70 7574 2069 7320  quired input is 
-000011b0: 6d69 7373 696e 672e 0a20 2052 6571 7569  missing..  Requi
-000011c0: 7265 6420 696e 7075 7420 6973 206d 6973  red input is mis
-000011d0: 7369 6e67 2e0a 0a20 203e 3e3e 2070 7269  sing...  >>> pri
-000011e0: 6e74 2874 6573 7469 6e67 2e70 6c61 696e  nt(testing.plain
-000011f0: 5465 7874 2863 6f6e 7465 6e74 2c0a 2020  Text(content,.  
-00001200: 2e2e 2e20 2020 2020 272e 2f2f 6469 765b  ...     './/div[
-00001210: 4069 643d 2266 6f72 6d2d 7769 6467 6574  @id="form-widget
-00001220: 732d 6469 6374 4f66 4f62 6a65 6374 2d31  s-dictOfObject-1
-00001230: 2d72 6f77 225d 2f2f 6469 765b 4063 6c61  -row"]//div[@cla
-00001240: 7373 3d22 6572 726f 7222 5d27 2929 0a20  ss="error"]')). 
-00001250: 2054 6865 2065 6e74 6572 6564 2076 616c   The entered val
-00001260: 7565 2069 7320 6e6f 7420 6120 7661 6c69  ue is not a vali
-00001270: 6420 696e 7465 6765 7220 6c69 7465 7261  d integer litera
-00001280: 6c2e 0a20 2054 6865 2065 6e74 6572 6564  l..  The entered
-00001290: 2076 616c 7565 2069 7320 6e6f 7420 6120   value is not a 
-000012a0: 7661 6c69 6420 696e 7465 6765 7220 6c69  valid integer li
-000012b0: 7465 7261 6c2e 0a0a 2020 3e3e 3e20 7072  teral...  >>> pr
-000012c0: 696e 7428 7465 7374 696e 672e 706c 6169  int(testing.plai
-000012d0: 6e54 6578 7428 636f 6e74 656e 742c 0a20  nText(content,. 
-000012e0: 202e 2e2e 2020 2020 2027 2e2f 2f64 6976   ...     './/div
-000012f0: 5b40 6964 3d22 666f 726d 2d77 6964 6765  [@id="form-widge
-00001300: 7473 2d64 6963 744f 664f 626a 6563 742d  ts-dictOfObject-
-00001310: 302d 726f 7722 5d27 2929 0a20 204f 626a  0-row"]')).  Obj
-00001320: 6563 7420 6b65 7920 2a0a 2020 3c42 4c41  ect key *.  <BLA
-00001330: 4e4b 4c49 4e45 3e0a 2020 5265 7175 6972  NKLINE>.  Requir
-00001340: 6564 2069 6e70 7574 2069 7320 6d69 7373  ed input is miss
-00001350: 696e 672e 0a20 203c 424c 414e 4b4c 494e  ing..  <BLANKLIN
-00001360: 453e 0a20 205b 5d0a 2020 3c42 4c41 4e4b  E>.  [].  <BLANK
-00001370: 4c49 4e45 3e0a 2020 4f62 6a65 6374 206c  LINE>.  Object l
-00001380: 6162 656c 202a 0a20 203c 424c 414e 4b4c  abel *.  <BLANKL
-00001390: 494e 453e 0a20 2041 6e20 6f62 6a65 6374  INE>.  An object
-000013a0: 2066 6169 6c65 6420 7363 6865 6d61 206f   failed schema o
-000013b0: 7220 696e 7661 7269 616e 7420 7661 6c69  r invariant vali
-000013c0: 6461 7469 6f6e 2e0a 2020 3c42 4c41 4e4b  dation..  <BLANK
-000013d0: 4c49 4e45 3e0a 2020 5b20 5d0a 2020 496e  LINE>.  [ ].  In
-000013e0: 7420 6c61 6265 6c20 2a0a 2020 5265 7175  t label *.  Requ
-000013f0: 6972 6564 2069 6e70 7574 2069 7320 6d69  ired input is mi
-00001400: 7373 696e 672e 0a20 205b 5d0a 2020 426f  ssing..  [].  Bo
-00001410: 6f6c 206c 6162 656c 202a 0a20 2052 6571  ol label *.  Req
-00001420: 7569 7265 6420 696e 7075 7420 6973 206d  uired input is m
-00001430: 6973 7369 6e67 2e0a 2020 2820 2920 7965  issing..  ( ) ye
-00001440: 7320 2820 2920 6e6f 0a20 2043 686f 6963  s ( ) no.  Choic
-00001450: 6520 6c61 6265 6c20 2a0a 2020 5b6f 6e65  e label *.  [one
-00001460: 5d0a 2020 4368 6f69 6365 4f70 7420 6c61  ].  ChoiceOpt la
-00001470: 6265 6c0a 2020 5b4e 6f20 7661 6c75 655d  bel.  [No value]
-00001480: 0a20 2054 6578 744c 696e 6520 6c61 6265  .  TextLine labe
-00001490: 6c20 2a0a 2020 5265 7175 6972 6564 2069  l *.  Required i
-000014a0: 6e70 7574 2069 7320 6d69 7373 696e 672e  nput is missing.
-000014b0: 0a20 205b 5d0a 2020 4461 7465 206c 6162  .  [].  Date lab
-000014c0: 656c 202a 0a20 2052 6571 7569 7265 6420  el *.  Required 
-000014d0: 696e 7075 7420 6973 206d 6973 7369 6e67  input is missing
-000014e0: 2e0a 2020 5b5d 0a0a 4c65 7427 7320 7265  ..  []..Let's re
-000014f0: 6d6f 7665 2073 6f6d 6520 6974 656d 733a  move some items:
-00001500: 0a0a 2020 3e3e 3e20 7375 626d 6974 203d  ..  >>> submit =
-00001510: 2074 6573 7469 6e67 2e67 6574 5375 626d   testing.getSubm
-00001520: 6974 5661 6c75 6573 2863 6f6e 7465 6e74  itValues(content
-00001530: 290a 2020 3e3e 3e20 7375 626d 6974 5b27  ).  >>> submit['
-00001540: 666f 726d 2e77 6964 6765 7473 2e64 6963  form.widgets.dic
-00001550: 744f 664f 626a 6563 742e 302e 7265 6d6f  tOfObject.0.remo
-00001560: 7665 275d 203d 2075 2731 270a 2020 3e3e  ve'] = u'1'.  >>
-00001570: 3e20 7375 626d 6974 5b27 666f 726d 2e77  > submit['form.w
-00001580: 6964 6765 7473 2e64 6963 744f 664f 626a  idgets.dictOfObj
-00001590: 6563 742e 322e 7265 6d6f 7665 275d 203d  ect.2.remove'] =
-000015a0: 2075 2731 270a 2020 3e3e 3e20 7375 626d   u'1'.  >>> subm
-000015b0: 6974 5b27 666f 726d 2e77 6964 6765 7473  it['form.widgets
-000015c0: 2e64 6963 744f 664f 626a 6563 742e 6275  .dictOfObject.bu
-000015d0: 7474 6f6e 732e 7265 6d6f 7665 275d 203d  ttons.remove'] =
-000015e0: 2075 2752 656d 6f76 6520 7365 6c65 6374   u'Remove select
-000015f0: 6564 270a 2020 3e3e 3e20 7265 7175 6573  ed'.  >>> reques
-00001600: 7420 3d20 7465 7374 696e 672e 5465 7374  t = testing.Test
-00001610: 5265 7175 6573 7428 666f 726d 3d73 7562  Request(form=sub
-00001620: 6d69 7429 0a20 203e 3e3e 2063 6f6e 7465  mit).  >>> conte
-00001630: 6e74 203d 2067 6574 466f 726d 2872 6571  nt = getForm(req
-00001640: 7565 7374 2c20 274f 626a 6563 744d 756c  uest, 'ObjectMul
-00001650: 7469 5f64 6963 745f 6564 6974 5f72 656d  ti_dict_edit_rem
-00001660: 6f76 655f 696e 742e 6874 6d6c 2729 0a20  ove_int.html'). 
-00001670: 203e 3e3e 2070 7269 6e74 2874 6573 7469   >>> print(testi
-00001680: 6e67 2e70 6c61 696e 5465 7874 2863 6f6e  ng.plainText(con
-00001690: 7465 6e74 2929 0a20 2044 6963 744f 664f  tent)).  DictOfO
-000016a0: 626a 6563 7420 6c61 6265 6c0a 2020 3c42  bject label.  <B
-000016b0: 4c41 4e4b 4c49 4e45 3e0a 2020 4f62 6a65  LANKLINE>.  Obje
-000016c0: 6374 206b 6579 202a 0a20 205b 7375 626f  ct key *.  [subo
-000016d0: 6231 5d0a 2020 4f62 6a65 6374 206c 6162  b1].  Object lab
-000016e0: 656c 202a 0a20 2054 6865 2065 6e74 6572  el *.  The enter
-000016f0: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
-00001700: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
-00001710: 6c69 7465 7261 6c2e 0a20 205b 205d 0a20  literal..  [ ]. 
-00001720: 2049 6e74 206c 6162 656c 202a 0a20 2054   Int label *.  T
-00001730: 6865 2065 6e74 6572 6564 2076 616c 7565  he entered value
-00001740: 2069 7320 6e6f 7420 6120 7661 6c69 6420   is not a valid 
-00001750: 696e 7465 6765 7220 6c69 7465 7261 6c2e  integer literal.
-00001760: 0a20 205b 666f 6f62 6172 5d0a 2020 426f  .  [foobar].  Bo
-00001770: 6f6c 206c 6162 656c 202a 0a20 2028 2029  ol label *.  ( )
-00001780: 2079 6573 2028 4f29 206e 6f0a 2020 4368   yes (O) no.  Ch
-00001790: 6f69 6365 206c 6162 656c 202a 0a20 205b  oice label *.  [
-000017a0: 7477 6f5d 0a20 2043 686f 6963 654f 7074  two].  ChoiceOpt
-000017b0: 206c 6162 656c 0a20 205b 7369 785d 0a20   label.  [six]. 
-000017c0: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
-000017d0: 2a0a 2020 5b73 6f6d 6520 7465 7874 206f  *.  [some text o
-000017e0: 6e65 5d0a 2020 4461 7465 206c 6162 656c  ne].  Date label
-000017f0: 202a 0a20 205b 3134 2f30 362f 3230 5d0a   *.  [14/06/20].
-00001800: 2020 5b41 6464 5d0a 2020 5b52 656d 6f76    [Add].  [Remov
-00001810: 6520 7365 6c65 6374 6564 5d0a 2020 5b41  e selected].  [A
-00001820: 7070 6c79 5d0a 0a54 6865 206f 626a 6563  pply]..The objec
-00001830: 7420 6973 2075 6e63 6861 6e67 6564 3a0a  t is unchanged:.
-00001840: 0a20 203e 3e3e 2070 7072 696e 7428 6f62  .  >>> pprint(ob
-00001850: 6a2e 6469 6374 4f66 4f62 6a65 6374 290a  j.dictOfObject).
-00001860: 2020 7b27 7375 626f 6231 273a 203c 4f62    {'subob1': <Ob
-00001870: 6a65 6374 5769 6467 6574 4d75 6c74 6953  jectWidgetMultiS
-00001880: 7562 496e 7465 6772 6174 696f 6e0a 2020  ubIntegration.  
-00001890: 2020 6d75 6c74 6942 6f6f 6c3a 2046 616c    multiBool: Fal
-000018a0: 7365 0a20 2020 206d 756c 7469 4368 6f69  se.    multiChoi
-000018b0: 6365 3a20 2774 776f 270a 2020 2020 6d75  ce: 'two'.    mu
-000018c0: 6c74 6943 686f 6963 654f 7074 3a20 2773  ltiChoiceOpt: 's
-000018d0: 6978 270a 2020 2020 6d75 6c74 6944 6174  ix'.    multiDat
-000018e0: 653a 2064 6174 6574 696d 652e 6461 7465  e: datetime.date
-000018f0: 2832 3031 342c 2036 2c20 3230 290a 2020  (2014, 6, 20).  
-00001900: 2020 6d75 6c74 6949 6e74 3a20 2d31 3030    multiInt: -100
-00001910: 0a20 2020 206d 756c 7469 5465 7874 4c69  .    multiTextLi
-00001920: 6e65 3a20 2773 6f6d 6520 7465 7874 206f  ne: 'some text o
-00001930: 6e65 273e 2c0a 2020 2027 7375 626f 6232  ne'>,.   'subob2
-00001940: 273a 203c 4f62 6a65 6374 5769 6467 6574  ': <ObjectWidget
-00001950: 4d75 6c74 6953 7562 496e 7465 6772 6174  MultiSubIntegrat
-00001960: 696f 6e0a 2020 2020 6d75 6c74 6942 6f6f  ion.    multiBoo
-00001970: 6c3a 2054 7275 650a 2020 2020 6d75 6c74  l: True.    mult
-00001980: 6943 686f 6963 653a 2027 6f6e 6527 0a20  iChoice: 'one'. 
-00001990: 2020 206d 756c 7469 4368 6f69 6365 4f70     multiChoiceOp
-000019a0: 743a 2027 666f 7572 270a 2020 2020 6d75  t: 'four'.    mu
-000019b0: 6c74 6944 6174 653a 2064 6174 6574 696d  ltiDate: datetim
-000019c0: 652e 6461 7465 2832 3031 312c 2033 2c20  e.date(2011, 3, 
-000019d0: 3135 290a 2020 2020 6d75 6c74 6949 6e74  15).    multiInt
-000019e0: 3a20 3432 0a20 2020 206d 756c 7469 5465  : 42.    multiTe
-000019f0: 7874 4c69 6e65 3a20 2773 6563 6f6e 6420  xtLine: 'second 
-00001a00: 7478 7427 3e7d 0a0a 0a77 726f 6e67 2069  txt'>}...wrong i
-00001a10: 6e70 7574 2028 5465 7874 4c69 6e65 290a  nput (TextLine).
-00001a20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00001a30: 2323 2323 2323 0a0a 5365 7420 6120 7772  ######..Set a wr
-00001a40: 6f6e 6720 7661 6c75 6520 616e 6420 6164  ong value and ad
-00001a50: 6420 6120 6e65 7720 696e 7075 743a 0a0a  d a new input:..
-00001a60: 2020 3e3e 3e20 7375 626d 6974 203d 2074    >>> submit = t
-00001a70: 6573 7469 6e67 2e67 6574 5375 626d 6974  esting.getSubmit
-00001a80: 5661 6c75 6573 2863 6f6e 7465 6e74 290a  Values(content).
-00001a90: 2020 3e3e 3e20 7375 626d 6974 5b27 666f    >>> submit['fo
-00001aa0: 726d 2e77 6964 6765 7473 2e64 6963 744f  rm.widgets.dictO
-00001ab0: 664f 626a 6563 742e 302e 7769 6467 6574  fObject.0.widget
-00001ac0: 732e 6d75 6c74 6954 6578 744c 696e 6527  s.multiTextLine'
-00001ad0: 5d20 3d20 7527 666f 6f5c 6e62 6172 270a  ] = u'foo\nbar'.
-00001ae0: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
-00001af0: 6f72 6d2e 7769 6467 6574 732e 6469 6374  orm.widgets.dict
-00001b00: 4f66 4f62 6a65 6374 2e62 7574 746f 6e73  OfObject.buttons
-00001b10: 2e61 6464 275d 203d 2075 2741 6464 270a  .add'] = u'Add'.
-00001b20: 0a20 203e 3e3e 2072 6571 7565 7374 203d  .  >>> request =
-00001b30: 2074 6573 7469 6e67 2e54 6573 7452 6571   testing.TestReq
-00001b40: 7565 7374 2866 6f72 6d3d 7375 626d 6974  uest(form=submit
-00001b50: 290a 0a49 6d70 6f72 7461 6e74 2069 7320  )..Important is 
-00001b60: 7468 6174 2077 6520 6765 7420 2243 6f6e  that we get "Con
-00001b70: 7374 7261 696e 7420 6e6f 7420 7361 7469  straint not sati
-00001b80: 7366 6965 6422 0a66 6f72 2022 666f 6f5c  sfied".for "foo\
-00001b90: 6e62 6172 2220 616e 6420 6120 6e65 7720  nbar" and a new 
-00001ba0: 696e 7075 742e 0a0a 2020 3e3e 3e20 636f  input...  >>> co
-00001bb0: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
-00001bc0: 7265 7175 6573 742c 2027 4f62 6a65 6374  request, 'Object
-00001bd0: 4d75 6c74 695f 6469 6374 5f65 6469 745f  Multi_dict_edit_
-00001be0: 7375 626d 6974 5f74 6578 746c 696e 652e  submit_textline.
-00001bf0: 6874 6d6c 2729 0a20 203e 3e3e 2070 7269  html').  >>> pri
-00001c00: 6e74 2874 6573 7469 6e67 2e70 6c61 696e  nt(testing.plain
-00001c10: 5465 7874 2863 6f6e 7465 6e74 2c0a 2020  Text(content,.  
-00001c20: 2e2e 2e20 2020 2020 272e 2f2f 6469 765b  ...     './/div[
-00001c30: 4069 643d 2266 6f72 6d2d 7769 6467 6574  @id="form-widget
-00001c40: 732d 6469 6374 4f66 4f62 6a65 6374 2d30  s-dictOfObject-0
-00001c50: 2d72 6f77 225d 2729 290a 2020 4f62 6a65  -row"]')).  Obje
-00001c60: 6374 206b 6579 202a 0a20 203c 424c 414e  ct key *.  <BLAN
-00001c70: 4b4c 494e 453e 0a20 205b 7375 626f 6231  KLINE>.  [subob1
-00001c80: 5d0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  ].  <BLANKLINE>.
-00001c90: 2020 4f62 6a65 6374 206c 6162 656c 202a    Object label *
-00001ca0: 0a20 203c 424c 414e 4b4c 494e 453e 0a20  .  <BLANKLINE>. 
-00001cb0: 2054 6865 2065 6e74 6572 6564 2076 616c   The entered val
-00001cc0: 7565 2069 7320 6e6f 7420 6120 7661 6c69  ue is not a vali
-00001cd0: 6420 696e 7465 6765 7220 6c69 7465 7261  d integer litera
-00001ce0: 6c2e 0a20 203c 424c 414e 4b4c 494e 453e  l..  <BLANKLINE>
-00001cf0: 0a20 205b 205d 0a20 2049 6e74 206c 6162  .  [ ].  Int lab
-00001d00: 656c 202a 0a20 2054 6865 2065 6e74 6572  el *.  The enter
-00001d10: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
-00001d20: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
-00001d30: 6c69 7465 7261 6c2e 0a20 205b 666f 6f62  literal..  [foob
-00001d40: 6172 5d0a 2020 426f 6f6c 206c 6162 656c  ar].  Bool label
-00001d50: 202a 0a20 2028 2029 2079 6573 2028 4f29   *.  ( ) yes (O)
-00001d60: 206e 6f0a 2020 4368 6f69 6365 206c 6162   no.  Choice lab
-00001d70: 656c 202a 0a20 205b 7477 6f5d 0a20 2043  el *.  [two].  C
-00001d80: 686f 6963 654f 7074 206c 6162 656c 0a20  hoiceOpt label. 
-00001d90: 205b 7369 785d 0a20 2054 6578 744c 696e   [six].  TextLin
-00001da0: 6520 6c61 6265 6c20 2a0a 2020 436f 6e73  e label *.  Cons
-00001db0: 7472 6169 6e74 206e 6f74 2073 6174 6973  traint not satis
-00001dc0: 6669 6564 0a20 205b 666f 6f0a 2020 6261  fied.  [foo.  ba
-00001dd0: 725d 0a20 2044 6174 6520 6c61 6265 6c20  r].  Date label 
-00001de0: 2a0a 2020 5b31 342f 3036 2f32 305d 0a0a  *.  [14/06/20]..
-00001df0: 5375 626d 6974 2061 6761 696e 2077 6974  Submit again wit
-00001e00: 6820 7468 6520 656d 7074 7920 6669 656c  h the empty fiel
-00001e10: 643a 0a0a 2020 3e3e 3e20 7375 626d 6974  d:..  >>> submit
-00001e20: 203d 2074 6573 7469 6e67 2e67 6574 5375   = testing.getSu
-00001e30: 626d 6974 5661 6c75 6573 2863 6f6e 7465  bmitValues(conte
-00001e40: 6e74 290a 2020 3e3e 3e20 7265 7175 6573  nt).  >>> reques
-00001e50: 7420 3d20 7465 7374 696e 672e 5465 7374  t = testing.Test
-00001e60: 5265 7175 6573 7428 666f 726d 3d73 7562  Request(form=sub
-00001e70: 6d69 7429 0a20 203e 3e3e 2063 6f6e 7465  mit).  >>> conte
-00001e80: 6e74 203d 2067 6574 466f 726d 2872 6571  nt = getForm(req
-00001e90: 7565 7374 2c20 274f 626a 6563 744d 756c  uest, 'ObjectMul
-00001ea0: 7469 5f64 6963 745f 6564 6974 5f73 7562  ti_dict_edit_sub
-00001eb0: 6d69 745f 7465 7874 6c69 6e65 5f61 6761  mit_textline_aga
-00001ec0: 696e 2e68 746d 6c27 290a 0a20 203e 3e3e  in.html')..  >>>
-00001ed0: 2070 7269 6e74 2874 6573 7469 6e67 2e70   print(testing.p
-00001ee0: 6c61 696e 5465 7874 2863 6f6e 7465 6e74  lainText(content
-00001ef0: 2c0a 2020 2e2e 2e20 2020 2020 272e 2f2f  ,.  ...     './/
-00001f00: 6469 765b 4069 643d 2266 6f72 6d2d 7769  div[@id="form-wi
-00001f10: 6467 6574 732d 6469 6374 4f66 4f62 6a65  dgets-dictOfObje
-00001f20: 6374 2d30 2d72 6f77 225d 2f2f 6469 765b  ct-0-row"]//div[
-00001f30: 4063 6c61 7373 3d22 6572 726f 7222 5d27  @class="error"]'
-00001f40: 2929 0a20 2052 6571 7569 7265 6420 696e  )).  Required in
-00001f50: 7075 7420 6973 206d 6973 7369 6e67 2e0a  put is missing..
-00001f60: 2020 416e 206f 626a 6563 7420 6661 696c    An object fail
-00001f70: 6564 2073 6368 656d 6120 6f72 2069 6e76  ed schema or inv
-00001f80: 6172 6961 6e74 2076 616c 6964 6174 696f  ariant validatio
-00001f90: 6e2e 0a20 2052 6571 7569 7265 6420 696e  n..  Required in
-00001fa0: 7075 7420 6973 206d 6973 7369 6e67 2e0a  put is missing..
-00001fb0: 2020 5265 7175 6972 6564 2069 6e70 7574    Required input
-00001fc0: 2069 7320 6d69 7373 696e 672e 0a20 2052   is missing..  R
-00001fd0: 6571 7569 7265 6420 696e 7075 7420 6973  equired input is
-00001fe0: 206d 6973 7369 6e67 2e0a 2020 5265 7175   missing..  Requ
-00001ff0: 6972 6564 2069 6e70 7574 2069 7320 6d69  ired input is mi
-00002000: 7373 696e 672e 0a0a 2020 3e3e 3e20 7072  ssing...  >>> pr
-00002010: 696e 7428 7465 7374 696e 672e 706c 6169  int(testing.plai
-00002020: 6e54 6578 7428 636f 6e74 656e 742c 0a20  nText(content,. 
-00002030: 202e 2e2e 2020 2020 2027 2e2f 2f64 6976   ...     './/div
-00002040: 5b40 6964 3d22 666f 726d 2d77 6964 6765  [@id="form-widge
-00002050: 7473 2d64 6963 744f 664f 626a 6563 742d  ts-dictOfObject-
-00002060: 312d 726f 7722 5d2f 2f64 6976 5b40 636c  1-row"]//div[@cl
-00002070: 6173 733d 2265 7272 6f72 225d 2729 290a  ass="error"]')).
-00002080: 2020 5468 6520 656e 7465 7265 6420 7661    The entered va
-00002090: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
-000020a0: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
-000020b0: 616c 2e0a 2020 5468 6520 656e 7465 7265  al..  The entere
-000020c0: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
-000020d0: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
-000020e0: 6974 6572 616c 2e0a 2020 436f 6e73 7472  iteral..  Constr
-000020f0: 6169 6e74 206e 6f74 2073 6174 6973 6669  aint not satisfi
-00002100: 6564 0a0a 4c65 7427 7320 7265 6d6f 7665  ed..Let's remove
-00002110: 2073 6f6d 6520 6974 656d 733a 0a0a 2020   some items:..  
-00002120: 3e3e 3e20 7375 626d 6974 203d 2074 6573  >>> submit = tes
-00002130: 7469 6e67 2e67 6574 5375 626d 6974 5661  ting.getSubmitVa
-00002140: 6c75 6573 2863 6f6e 7465 6e74 290a 2020  lues(content).  
-00002150: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
-00002160: 2e77 6964 6765 7473 2e64 6963 744f 664f  .widgets.dictOfO
-00002170: 626a 6563 742e 302e 7265 6d6f 7665 275d  bject.0.remove']
-00002180: 203d 2075 2731 270a 2020 3e3e 3e20 7375   = u'1'.  >>> su
-00002190: 626d 6974 5b27 666f 726d 2e77 6964 6765  bmit['form.widge
-000021a0: 7473 2e64 6963 744f 664f 626a 6563 742e  ts.dictOfObject.
-000021b0: 6275 7474 6f6e 732e 7265 6d6f 7665 275d  buttons.remove']
-000021c0: 203d 2075 2752 656d 6f76 6520 7365 6c65   = u'Remove sele
-000021d0: 6374 6564 270a 2020 3e3e 3e20 7265 7175  cted'.  >>> requ
-000021e0: 6573 7420 3d20 7465 7374 696e 672e 5465  est = testing.Te
-000021f0: 7374 5265 7175 6573 7428 666f 726d 3d73  stRequest(form=s
-00002200: 7562 6d69 7429 0a20 203e 3e3e 2063 6f6e  ubmit).  >>> con
-00002210: 7465 6e74 203d 2067 6574 466f 726d 2872  tent = getForm(r
-00002220: 6571 7565 7374 2c20 274f 626a 6563 744d  equest, 'ObjectM
-00002230: 756c 7469 5f64 6963 745f 6564 6974 5f72  ulti_dict_edit_r
-00002240: 656d 6f76 655f 7465 7874 6c69 6e65 2e68  emove_textline.h
-00002250: 746d 6c27 290a 2020 3e3e 3e20 7072 696e  tml').  >>> prin
-00002260: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
-00002270: 6578 7428 636f 6e74 656e 7429 290a 2020  ext(content)).  
-00002280: 4469 6374 4f66 4f62 6a65 6374 206c 6162  DictOfObject lab
-00002290: 656c 0a20 203c 424c 414e 4b4c 494e 453e  el.  <BLANKLINE>
-000022a0: 0a20 204f 626a 6563 7420 6b65 7920 2a0a  .  Object key *.
-000022b0: 2020 5b73 7562 6f62 315d 0a20 204f 626a    [subob1].  Obj
-000022c0: 6563 7420 6c61 6265 6c20 2a0a 2020 5468  ect label *.  Th
-000022d0: 6520 656e 7465 7265 6420 7661 6c75 6520  e entered value 
-000022e0: 6973 206e 6f74 2061 2076 616c 6964 2069  is not a valid i
-000022f0: 6e74 6567 6572 206c 6974 6572 616c 2e0a  nteger literal..
-00002300: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
-00002310: 6c20 2a0a 2020 5468 6520 656e 7465 7265  l *.  The entere
-00002320: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
-00002330: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
-00002340: 6974 6572 616c 2e0a 2020 5b66 6f6f 6261  iteral..  [fooba
-00002350: 725d 0a20 2042 6f6f 6c20 6c61 6265 6c20  r].  Bool label 
-00002360: 2a0a 2020 2820 2920 7965 7320 284f 2920  *.  ( ) yes (O) 
-00002370: 6e6f 0a20 2043 686f 6963 6520 6c61 6265  no.  Choice labe
-00002380: 6c20 2a0a 2020 5b74 776f 5d0a 2020 4368  l *.  [two].  Ch
-00002390: 6f69 6365 4f70 7420 6c61 6265 6c0a 2020  oiceOpt label.  
-000023a0: 5b73 6978 5d0a 2020 5465 7874 4c69 6e65  [six].  TextLine
-000023b0: 206c 6162 656c 202a 0a20 2043 6f6e 7374   label *.  Const
-000023c0: 7261 696e 7420 6e6f 7420 7361 7469 7366  raint not satisf
-000023d0: 6965 640a 2020 5b66 6f6f 0a20 2062 6172  ied.  [foo.  bar
-000023e0: 5d0a 2020 4461 7465 206c 6162 656c 202a  ].  Date label *
-000023f0: 0a20 205b 3134 2f30 362f 3230 5d0a 2020  .  [14/06/20].  
-00002400: 5b41 6464 5d0a 2020 5b52 656d 6f76 6520  [Add].  [Remove 
-00002410: 7365 6c65 6374 6564 5d0a 2020 5b41 7070  selected].  [App
-00002420: 6c79 5d0a 0a54 6865 206f 626a 6563 7420  ly]..The object 
-00002430: 6973 2075 6e63 6861 6e67 6564 3a0a 0a20  is unchanged:.. 
-00002440: 203e 3e3e 2070 7072 696e 7428 6f62 6a2e   >>> pprint(obj.
-00002450: 6469 6374 4f66 4f62 6a65 6374 290a 2020  dictOfObject).  
-00002460: 7b27 7375 626f 6231 273a 203c 4f62 6a65  {'subob1': <Obje
-00002470: 6374 5769 6467 6574 4d75 6c74 6953 7562  ctWidgetMultiSub
-00002480: 496e 7465 6772 6174 696f 6e0a 2020 2020  Integration.    
-00002490: 6d75 6c74 6942 6f6f 6c3a 2046 616c 7365  multiBool: False
-000024a0: 0a20 2020 206d 756c 7469 4368 6f69 6365  .    multiChoice
-000024b0: 3a20 2774 776f 270a 2020 2020 6d75 6c74  : 'two'.    mult
-000024c0: 6943 686f 6963 654f 7074 3a20 2773 6978  iChoiceOpt: 'six
-000024d0: 270a 2020 2020 6d75 6c74 6944 6174 653a  '.    multiDate:
-000024e0: 2064 6174 6574 696d 652e 6461 7465 2832   datetime.date(2
-000024f0: 3031 342c 2036 2c20 3230 290a 2020 2020  014, 6, 20).    
-00002500: 6d75 6c74 6949 6e74 3a20 2d31 3030 0a20  multiInt: -100. 
-00002510: 2020 206d 756c 7469 5465 7874 4c69 6e65     multiTextLine
-00002520: 3a20 2773 6f6d 6520 7465 7874 206f 6e65  : 'some text one
-00002530: 273e 2c0a 2020 2027 7375 626f 6232 273a  '>,.   'subob2':
-00002540: 203c 4f62 6a65 6374 5769 6467 6574 4d75   <ObjectWidgetMu
-00002550: 6c74 6953 7562 496e 7465 6772 6174 696f  ltiSubIntegratio
-00002560: 6e0a 2020 2020 6d75 6c74 6942 6f6f 6c3a  n.    multiBool:
-00002570: 2054 7275 650a 2020 2020 6d75 6c74 6943   True.    multiC
-00002580: 686f 6963 653a 2027 6f6e 6527 0a20 2020  hoice: 'one'.   
-00002590: 206d 756c 7469 4368 6f69 6365 4f70 743a   multiChoiceOpt:
-000025a0: 2027 666f 7572 270a 2020 2020 6d75 6c74   'four'.    mult
-000025b0: 6944 6174 653a 2064 6174 6574 696d 652e  iDate: datetime.
-000025c0: 6461 7465 2832 3031 312c 2033 2c20 3135  date(2011, 3, 15
-000025d0: 290a 2020 2020 6d75 6c74 6949 6e74 3a20  ).    multiInt: 
-000025e0: 3432 0a20 2020 206d 756c 7469 5465 7874  42.    multiText
-000025f0: 4c69 6e65 3a20 2773 6563 6f6e 6420 7478  Line: 'second tx
-00002600: 7427 3e7d 0a0a 0a77 726f 6e67 2069 6e70  t'>}...wrong inp
-00002610: 7574 2028 4461 7465 290a 2323 2323 2323  ut (Date).######
-00002620: 2323 2323 2323 2323 2323 2323 0a0a 5365  ############..Se
-00002630: 7420 6120 7772 6f6e 6720 7661 6c75 6520  t a wrong value 
-00002640: 616e 6420 6164 6420 6120 6e65 7720 696e  and add a new in
-00002650: 7075 743a 0a0a 2020 3e3e 3e20 7375 626d  put:..  >>> subm
-00002660: 6974 203d 2074 6573 7469 6e67 2e67 6574  it = testing.get
-00002670: 5375 626d 6974 5661 6c75 6573 2863 6f6e  SubmitValues(con
-00002680: 7465 6e74 290a 2020 3e3e 3e20 7375 626d  tent).  >>> subm
-00002690: 6974 5b27 666f 726d 2e77 6964 6765 7473  it['form.widgets
-000026a0: 2e64 6963 744f 664f 626a 6563 742e 302e  .dictOfObject.0.
-000026b0: 7769 6467 6574 732e 6d75 6c74 6944 6174  widgets.multiDat
-000026c0: 6527 5d20 3d20 7527 666f 6f62 6172 270a  e'] = u'foobar'.
-000026d0: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
-000026e0: 6f72 6d2e 7769 6467 6574 732e 6469 6374  orm.widgets.dict
-000026f0: 4f66 4f62 6a65 6374 2e62 7574 746f 6e73  OfObject.buttons
-00002700: 2e61 6464 275d 203d 2075 2741 6464 270a  .add'] = u'Add'.
-00002710: 0a20 203e 3e3e 2072 6571 7565 7374 203d  .  >>> request =
-00002720: 2074 6573 7469 6e67 2e54 6573 7452 6571   testing.TestReq
-00002730: 7565 7374 2866 6f72 6d3d 7375 626d 6974  uest(form=submit
-00002740: 290a 0a49 6d70 6f72 7461 6e74 2069 7320  )..Important is 
-00002750: 7468 6174 2077 6520 6765 7420 2254 6865  that we get "The
-00002760: 2064 6174 6574 696d 6520 7374 7269 6e67   datetime string
-00002770: 2064 6964 206e 6f74 206d 6174 6368 2074   did not match t
-00002780: 6865 2070 6174 7465 726e 220a 666f 7220  he pattern".for 
-00002790: 2266 6f6f 6261 7222 2061 6e64 2061 206e  "foobar" and a n
-000027a0: 6577 2069 6e70 7574 2e0a 0a20 203e 3e3e  ew input...  >>>
-000027b0: 2063 6f6e 7465 6e74 203d 2067 6574 466f   content = getFo
-000027c0: 726d 2872 6571 7565 7374 2c20 274f 626a  rm(request, 'Obj
-000027d0: 6563 744d 756c 7469 5f64 6963 745f 6564  ectMulti_dict_ed
-000027e0: 6974 5f73 7562 6d69 745f 6461 7465 2e68  it_submit_date.h
-000027f0: 746d 6c27 290a 2020 3e3e 3e20 7072 696e  tml').  >>> prin
-00002800: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
-00002810: 6578 7428 636f 6e74 656e 7429 290a 2020  ext(content)).  
-00002820: 4469 6374 4f66 4f62 6a65 6374 206c 6162  DictOfObject lab
-00002830: 656c 0a20 203c 424c 414e 4b4c 494e 453e  el.  <BLANKLINE>
-00002840: 0a20 204f 626a 6563 7420 6b65 7920 2a0a  .  Object key *.
-00002850: 2020 5b73 7562 6f62 315d 0a20 204f 626a    [subob1].  Obj
-00002860: 6563 7420 6c61 6265 6c20 2a0a 2020 5468  ect label *.  Th
-00002870: 6520 656e 7465 7265 6420 7661 6c75 6520  e entered value 
-00002880: 6973 206e 6f74 2061 2076 616c 6964 2069  is not a valid i
-00002890: 6e74 6567 6572 206c 6974 6572 616c 2e0a  nteger literal..
-000028a0: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
-000028b0: 6c20 2a0a 2020 5468 6520 656e 7465 7265  l *.  The entere
-000028c0: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
-000028d0: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
-000028e0: 6974 6572 616c 2e0a 2020 5b66 6f6f 6261  iteral..  [fooba
-000028f0: 725d 0a20 2042 6f6f 6c20 6c61 6265 6c20  r].  Bool label 
-00002900: 2a0a 2020 2820 2920 7965 7320 284f 2920  *.  ( ) yes (O) 
-00002910: 6e6f 0a20 2043 686f 6963 6520 6c61 6265  no.  Choice labe
-00002920: 6c20 2a0a 2020 5b74 776f 5d0a 2020 4368  l *.  [two].  Ch
-00002930: 6f69 6365 4f70 7420 6c61 6265 6c0a 2020  oiceOpt label.  
-00002940: 5b73 6978 5d0a 2020 5465 7874 4c69 6e65  [six].  TextLine
-00002950: 206c 6162 656c 202a 0a20 2043 6f6e 7374   label *.  Const
-00002960: 7261 696e 7420 6e6f 7420 7361 7469 7366  raint not satisf
-00002970: 6965 640a 2020 5b66 6f6f 0a20 2062 6172  ied.  [foo.  bar
-00002980: 5d0a 2020 4461 7465 206c 6162 656c 202a  ].  Date label *
-00002990: 0a20 2054 6865 2064 6174 6574 696d 6520  .  The datetime 
-000029a0: 7374 7269 6e67 2064 6964 206e 6f74 206d  string did not m
-000029b0: 6174 6368 2074 6865 2070 6174 7465 726e  atch the pattern
-000029c0: 2075 2779 792f 4d4d 2f64 6427 2e0a 2020   u'yy/MM/dd'..  
-000029d0: 5b66 6f6f 6261 725d 0a20 204f 626a 6563  [foobar].  Objec
-000029e0: 7420 6b65 7920 2a0a 2020 5b5d 0a20 204f  t key *.  [].  O
-000029f0: 626a 6563 7420 6c61 6265 6c20 2a0a 2020  bject label *.  
-00002a00: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
-00002a10: 2a0a 2020 5b5d 0a20 2042 6f6f 6c20 6c61  *.  [].  Bool la
-00002a20: 6265 6c20 2a0a 2020 2820 2920 7965 7320  bel *.  ( ) yes 
-00002a30: 2820 2920 6e6f 0a20 2043 686f 6963 6520  ( ) no.  Choice 
-00002a40: 6c61 6265 6c20 2a0a 2020 5b5b 2020 2020  label *.  [[    
-00002a50: 5d5d 0a20 2043 686f 6963 654f 7074 206c  ]].  ChoiceOpt l
-00002a60: 6162 656c 0a20 205b 4e6f 2076 616c 7565  abel.  [No value
-00002a70: 5d0a 2020 5465 7874 4c69 6e65 206c 6162  ].  TextLine lab
-00002a80: 656c 202a 0a20 205b 5d0a 2020 4461 7465  el *.  [].  Date
-00002a90: 206c 6162 656c 202a 0a20 205b 5d0a 2020   label *.  [].  
-00002aa0: 5b41 6464 5d0a 2020 5b52 656d 6f76 6520  [Add].  [Remove 
-00002ab0: 7365 6c65 6374 6564 5d0a 2020 5b41 7070  selected].  [App
-00002ac0: 6c79 5d0a 0a53 7562 6d69 7420 6167 6169  ly]..Submit agai
-00002ad0: 6e20 7769 7468 2074 6865 2065 6d70 7479  n with the empty
-00002ae0: 2066 6965 6c64 3a0a 0a20 203e 3e3e 2073   field:..  >>> s
-00002af0: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
-00002b00: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
-00002b10: 636f 6e74 656e 7429 0a20 203e 3e3e 2072  content).  >>> r
-00002b20: 6571 7565 7374 203d 2074 6573 7469 6e67  equest = testing
-00002b30: 2e54 6573 7452 6571 7565 7374 2866 6f72  .TestRequest(for
-00002b40: 6d3d 7375 626d 6974 290a 2020 3e3e 3e20  m=submit).  >>> 
-00002b50: 636f 6e74 656e 7420 3d20 6765 7446 6f72  content = getFor
-00002b60: 6d28 7265 7175 6573 742c 2027 4f62 6a65  m(request, 'Obje
-00002b70: 6374 4d75 6c74 695f 6469 6374 5f65 6469  ctMulti_dict_edi
-00002b80: 745f 7375 626d 6974 5f64 6174 655f 6167  t_submit_date_ag
-00002b90: 6169 6e2e 6874 6d6c 2729 0a20 203e 3e3e  ain.html').  >>>
-00002ba0: 2070 7269 6e74 2874 6573 7469 6e67 2e70   print(testing.p
-00002bb0: 6c61 696e 5465 7874 2863 6f6e 7465 6e74  lainText(content
-00002bc0: 2c0a 2020 2e2e 2e20 2020 2020 272e 2f2f  ,.  ...     './/
-00002bd0: 6469 765b 4069 643d 2266 6f72 6d2d 7769  div[@id="form-wi
-00002be0: 6467 6574 732d 6469 6374 4f66 4f62 6a65  dgets-dictOfObje
-00002bf0: 6374 2d31 2d72 6f77 225d 2f2f 6469 765b  ct-1-row"]//div[
-00002c00: 4063 6c61 7373 3d22 6572 726f 7222 5d27  @class="error"]'
-00002c10: 2929 0a20 2054 6865 2065 6e74 6572 6564  )).  The entered
-00002c20: 2076 616c 7565 2069 7320 6e6f 7420 6120   value is not a 
-00002c30: 7661 6c69 6420 696e 7465 6765 7220 6c69  valid integer li
-00002c40: 7465 7261 6c2e 0a20 2054 6865 2065 6e74  teral..  The ent
-00002c50: 6572 6564 2076 616c 7565 2069 7320 6e6f  ered value is no
-00002c60: 7420 6120 7661 6c69 6420 696e 7465 6765  t a valid intege
-00002c70: 7220 6c69 7465 7261 6c2e 0a20 2043 6f6e  r literal..  Con
-00002c80: 7374 7261 696e 7420 6e6f 7420 7361 7469  straint not sati
-00002c90: 7366 6965 640a 2020 5468 6520 6461 7465  sfied.  The date
-00002ca0: 7469 6d65 2073 7472 696e 6720 6469 6420  time string did 
-00002cb0: 6e6f 7420 6d61 7463 6820 7468 6520 7061  not match the pa
-00002cc0: 7474 6572 6e20 2779 792f 4d4d 2f64 6427  ttern 'yy/MM/dd'
-00002cd0: 2e0a 0a46 696c 6c20 696e 2061 2076 616c  ...Fill in a val
-00002ce0: 6964 2076 616c 7565 3a0a 0a20 203e 3e3e  id value:..  >>>
-00002cf0: 2073 7562 6d69 7420 3d20 7465 7374 696e   submit = testin
-00002d00: 672e 6765 7453 7562 6d69 7456 616c 7565  g.getSubmitValue
-00002d10: 7328 636f 6e74 656e 7429 0a20 203e 3e3e  s(content).  >>>
-00002d20: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
-00002d30: 6467 6574 732e 6469 6374 4f66 4f62 6a65  dgets.dictOfObje
-00002d40: 6374 2e30 2e77 6964 6765 7473 2e6d 756c  ct.0.widgets.mul
-00002d50: 7469 4461 7465 275d 203d 2075 2731 342f  tiDate'] = u'14/
-00002d60: 3036 2f32 3127 0a20 203e 3e3e 2072 6571  06/21'.  >>> req
-00002d70: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
-00002d80: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
-00002d90: 7375 626d 6974 290a 2020 3e3e 3e20 636f  submit).  >>> co
-00002da0: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
-00002db0: 7265 7175 6573 742c 2027 4f62 6a65 6374  request, 'Object
-00002dc0: 4d75 6c74 695f 6469 6374 5f65 6469 745f  Multi_dict_edit_
-00002dd0: 7375 626d 6974 5f64 6174 6532 2e68 746d  submit_date2.htm
-00002de0: 6c27 290a 2020 3e3e 3e20 7072 696e 7428  l').  >>> print(
-00002df0: 7465 7374 696e 672e 706c 6169 6e54 6578  testing.plainTex
-00002e00: 7428 636f 6e74 656e 7429 290a 2020 4469  t(content)).  Di
-00002e10: 6374 4f66 4f62 6a65 6374 206c 6162 656c  ctOfObject label
-00002e20: 204f 626a 6563 7420 6b65 7920 2a0a 2020   Object key *.  
-00002e30: 5265 7175 6972 6564 2069 6e70 7574 2069  Required input i
-00002e40: 7320 6d69 7373 696e 672e 0a20 205b 5d0a  s missing..  [].
-00002e50: 2020 4f62 6a65 6374 206c 6162 656c 202a    Object label *
-00002e60: 0a20 2041 6e20 6f62 6a65 6374 2066 6169  .  An object fai
-00002e70: 6c65 6420 7363 6865 6d61 206f 7220 696e  led schema or in
-00002e80: 7661 7269 616e 7420 7661 6c69 6461 7469  variant validati
-00002e90: 6f6e 2e0a 2020 5b20 5d0a 2020 496e 7420  on..  [ ].  Int 
-00002ea0: 6c61 6265 6c20 2a0a 2020 5265 7175 6972  label *.  Requir
-00002eb0: 6564 2069 6e70 7574 2069 7320 6d69 7373  ed input is miss
-00002ec0: 696e 672e 0a20 205b 5d0a 2020 426f 6f6c  ing..  [].  Bool
-00002ed0: 206c 6162 656c 202a 0a20 2052 6571 7569   label *.  Requi
-00002ee0: 7265 6420 696e 7075 7420 6973 206d 6973  red input is mis
-00002ef0: 7369 6e67 2e0a 2020 2820 2920 7965 7320  sing..  ( ) yes 
-00002f00: 2820 2920 6e6f 0a20 2043 686f 6963 6520  ( ) no.  Choice 
-00002f10: 6c61 6265 6c20 2a0a 2020 5b6f 6e65 5d0a  label *.  [one].
-00002f20: 2020 4368 6f69 6365 4f70 7420 6c61 6265    ChoiceOpt labe
-00002f30: 6c0a 2020 5b4e 6f20 7661 6c75 655d 0a20  l.  [No value]. 
-00002f40: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
-00002f50: 2a0a 2020 5265 7175 6972 6564 2069 6e70  *.  Required inp
-00002f60: 7574 2069 7320 6d69 7373 696e 672e 0a20  ut is missing.. 
-00002f70: 205b 5d0a 2020 4461 7465 206c 6162 656c   [].  Date label
-00002f80: 202a 0a20 205b 3134 2f30 362f 3231 5d0a   *.  [14/06/21].
-00002f90: 2020 4f62 6a65 6374 206b 6579 202a 0a20    Object key *. 
-00002fa0: 205b 7375 626f 6231 5d0a 2020 4f62 6a65   [subob1].  Obje
-00002fb0: 6374 206c 6162 656c 202a 0a20 2054 6865  ct label *.  The
-00002fc0: 2065 6e74 6572 6564 2076 616c 7565 2069   entered value i
-00002fd0: 7320 6e6f 7420 6120 7661 6c69 6420 696e  s not a valid in
-00002fe0: 7465 6765 7220 6c69 7465 7261 6c2e 0a20  teger literal.. 
-00002ff0: 205b 205d 0a20 2049 6e74 206c 6162 656c   [ ].  Int label
-00003000: 202a 0a20 2054 6865 2065 6e74 6572 6564   *.  The entered
-00003010: 2076 616c 7565 2069 7320 6e6f 7420 6120   value is not a 
-00003020: 7661 6c69 6420 696e 7465 6765 7220 6c69  valid integer li
-00003030: 7465 7261 6c2e 0a20 205b 666f 6f62 6172  teral..  [foobar
-00003040: 5d0a 2020 426f 6f6c 206c 6162 656c 202a  ].  Bool label *
-00003050: 0a20 2028 2029 2079 6573 2028 4f29 206e  .  ( ) yes (O) n
-00003060: 6f0a 2020 4368 6f69 6365 206c 6162 656c  o.  Choice label
-00003070: 202a 0a20 205b 7477 6f5d 0a20 2043 686f   *.  [two].  Cho
-00003080: 6963 654f 7074 206c 6162 656c 0a20 205b  iceOpt label.  [
-00003090: 7369 785d 0a20 2054 6578 744c 696e 6520  six].  TextLine 
-000030a0: 6c61 6265 6c20 2a0a 2020 436f 6e73 7472  label *.  Constr
-000030b0: 6169 6e74 206e 6f74 2073 6174 6973 6669  aint not satisfi
-000030c0: 6564 0a20 205b 666f 6f0a 2020 6261 725d  ed.  [foo.  bar]
-000030d0: 0a20 2044 6174 6520 6c61 6265 6c20 2a0a  .  Date label *.
-000030e0: 2020 5468 6520 6461 7465 7469 6d65 2073    The datetime s
-000030f0: 7472 696e 6720 6469 6420 6e6f 7420 6d61  tring did not ma
-00003100: 7463 6820 7468 6520 7061 7474 6572 6e20  tch the pattern 
-00003110: 2779 792f 4d4d 2f64 6427 2e0a 2020 5b66  'yy/MM/dd'..  [f
-00003120: 6f6f 6261 725d 0a20 205b 4164 645d 205b  oobar].  [Add] [
-00003130: 5265 6d6f 7665 2073 656c 6563 7465 645d  Remove selected]
-00003140: 0a20 205b 4170 706c 795d 0a0a 4c65 7427  .  [Apply]..Let'
-00003150: 7320 7265 6d6f 7665 2073 6f6d 6520 6974  s remove some it
-00003160: 656d 733a 0a0a 2020 3e3e 3e20 7375 626d  ems:..  >>> subm
-00003170: 6974 203d 2074 6573 7469 6e67 2e67 6574  it = testing.get
-00003180: 5375 626d 6974 5661 6c75 6573 2863 6f6e  SubmitValues(con
-00003190: 7465 6e74 290a 2020 3e3e 3e20 7375 626d  tent).  >>> subm
-000031a0: 6974 5b27 666f 726d 2e77 6964 6765 7473  it['form.widgets
-000031b0: 2e64 6963 744f 664f 626a 6563 742e 302e  .dictOfObject.0.
-000031c0: 7265 6d6f 7665 275d 203d 2075 2731 270a  remove'] = u'1'.
-000031d0: 2020 3e3e 3e20 7375 626d 6974 5b27 666f    >>> submit['fo
-000031e0: 726d 2e77 6964 6765 7473 2e64 6963 744f  rm.widgets.dictO
-000031f0: 664f 626a 6563 742e 6275 7474 6f6e 732e  fObject.buttons.
-00003200: 7265 6d6f 7665 275d 203d 2075 2752 656d  remove'] = u'Rem
-00003210: 6f76 6520 7365 6c65 6374 6564 270a 2020  ove selected'.  
-00003220: 3e3e 3e20 7265 7175 6573 7420 3d20 7465  >>> request = te
-00003230: 7374 696e 672e 5465 7374 5265 7175 6573  sting.TestReques
-00003240: 7428 666f 726d 3d73 7562 6d69 7429 0a20  t(form=submit). 
-00003250: 203e 3e3e 2063 6f6e 7465 6e74 203d 2067   >>> content = g
-00003260: 6574 466f 726d 2872 6571 7565 7374 2c20  etForm(request, 
-00003270: 274f 626a 6563 744d 756c 7469 5f64 6963  'ObjectMulti_dic
-00003280: 745f 6564 6974 5f72 656d 6f76 655f 6461  t_edit_remove_da
-00003290: 7465 2e68 746d 6c27 290a 2020 3e3e 3e20  te.html').  >>> 
-000032a0: 7072 696e 7428 7465 7374 696e 672e 706c  print(testing.pl
-000032b0: 6169 6e54 6578 7428 636f 6e74 656e 7429  ainText(content)
-000032c0: 290a 2020 4469 6374 4f66 4f62 6a65 6374  ).  DictOfObject
-000032d0: 206c 6162 656c 0a20 203c 424c 414e 4b4c   label.  <BLANKL
-000032e0: 494e 453e 0a20 204f 626a 6563 7420 6b65  INE>.  Object ke
-000032f0: 7920 2a0a 2020 5b73 7562 6f62 315d 0a20  y *.  [subob1]. 
-00003300: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
-00003310: 2020 5468 6520 656e 7465 7265 6420 7661    The entered va
-00003320: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
-00003330: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
-00003340: 616c 2e0a 2020 5b20 5d0a 2020 496e 7420  al..  [ ].  Int 
-00003350: 6c61 6265 6c20 2a0a 2020 5468 6520 656e  label *.  The en
-00003360: 7465 7265 6420 7661 6c75 6520 6973 206e  tered value is n
-00003370: 6f74 2061 2076 616c 6964 2069 6e74 6567  ot a valid integ
-00003380: 6572 206c 6974 6572 616c 2e0a 2020 5b66  er literal..  [f
-00003390: 6f6f 6261 725d 0a20 2042 6f6f 6c20 6c61  oobar].  Bool la
-000033a0: 6265 6c20 2a0a 2020 2820 2920 7965 7320  bel *.  ( ) yes 
-000033b0: 284f 2920 6e6f 0a20 2043 686f 6963 6520  (O) no.  Choice 
-000033c0: 6c61 6265 6c20 2a0a 2020 5b74 776f 5d0a  label *.  [two].
-000033d0: 2020 4368 6f69 6365 4f70 7420 6c61 6265    ChoiceOpt labe
-000033e0: 6c0a 2020 5b73 6978 5d0a 2020 5465 7874  l.  [six].  Text
-000033f0: 4c69 6e65 206c 6162 656c 202a 0a20 2043  Line label *.  C
-00003400: 6f6e 7374 7261 696e 7420 6e6f 7420 7361  onstraint not sa
-00003410: 7469 7366 6965 640a 2020 5b66 6f6f 0a20  tisfied.  [foo. 
-00003420: 2062 6172 5d0a 2020 4461 7465 206c 6162   bar].  Date lab
-00003430: 656c 202a 0a20 2054 6865 2064 6174 6574  el *.  The datet
-00003440: 696d 6520 7374 7269 6e67 2064 6964 206e  ime string did n
-00003450: 6f74 206d 6174 6368 2074 6865 2070 6174  ot match the pat
-00003460: 7465 726e 2027 7979 2f4d 4d2f 6464 272e  tern 'yy/MM/dd'.
-00003470: 0a20 205b 666f 6f62 6172 5d0a 2020 5b41  .  [foobar].  [A
-00003480: 6464 5d0a 2020 5b52 656d 6f76 6520 7365  dd].  [Remove se
-00003490: 6c65 6374 6564 5d0a 2020 5b41 7070 6c79  lected].  [Apply
-000034a0: 5d0a 0a54 6865 206f 626a 6563 7420 6973  ]..The object is
-000034b0: 2075 6e63 6861 6e67 6564 3a0a 0a20 203e   unchanged:..  >
-000034c0: 3e3e 2070 7072 696e 7428 6f62 6a2e 6469  >> pprint(obj.di
-000034d0: 6374 4f66 4f62 6a65 6374 290a 2020 7b27  ctOfObject).  {'
-000034e0: 7375 626f 6231 273a 203c 4f62 6a65 6374  subob1': <Object
-000034f0: 5769 6467 6574 4d75 6c74 6953 7562 496e  WidgetMultiSubIn
-00003500: 7465 6772 6174 696f 6e0a 2020 2020 6d75  tegration.    mu
-00003510: 6c74 6942 6f6f 6c3a 2046 616c 7365 0a20  ltiBool: False. 
-00003520: 2020 206d 756c 7469 4368 6f69 6365 3a20     multiChoice: 
-00003530: 2774 776f 270a 2020 2020 6d75 6c74 6943  'two'.    multiC
-00003540: 686f 6963 654f 7074 3a20 2773 6978 270a  hoiceOpt: 'six'.
-00003550: 2020 2020 6d75 6c74 6944 6174 653a 2064      multiDate: d
-00003560: 6174 6574 696d 652e 6461 7465 2832 3031  atetime.date(201
-00003570: 342c 2036 2c20 3230 290a 2020 2020 6d75  4, 6, 20).    mu
-00003580: 6c74 6949 6e74 3a20 2d31 3030 0a20 2020  ltiInt: -100.   
-00003590: 206d 756c 7469 5465 7874 4c69 6e65 3a20   multiTextLine: 
-000035a0: 2773 6f6d 6520 7465 7874 206f 6e65 273e  'some text one'>
-000035b0: 2c0a 2020 2027 7375 626f 6232 273a 203c  ,.   'subob2': <
-000035c0: 4f62 6a65 6374 5769 6467 6574 4d75 6c74  ObjectWidgetMult
-000035d0: 6953 7562 496e 7465 6772 6174 696f 6e0a  iSubIntegration.
-000035e0: 2020 2020 6d75 6c74 6942 6f6f 6c3a 2054      multiBool: T
-000035f0: 7275 650a 2020 2020 6d75 6c74 6943 686f  rue.    multiCho
-00003600: 6963 653a 2027 6f6e 6527 0a20 2020 206d  ice: 'one'.    m
-00003610: 756c 7469 4368 6f69 6365 4f70 743a 2027  ultiChoiceOpt: '
-00003620: 666f 7572 270a 2020 2020 6d75 6c74 6944  four'.    multiD
-00003630: 6174 653a 2064 6174 6574 696d 652e 6461  ate: datetime.da
-00003640: 7465 2832 3031 312c 2033 2c20 3135 290a  te(2011, 3, 15).
-00003650: 2020 2020 6d75 6c74 6949 6e74 3a20 3432      multiInt: 42
-00003660: 0a20 2020 206d 756c 7469 5465 7874 4c69  .    multiTextLi
-00003670: 6e65 3a20 2773 6563 6f6e 6420 7478 7427  ne: 'second txt'
-00003680: 3e7d 0a0a 4669 7820 7661 6c75 6573 0a23  >}..Fix values.#
-00003690: 2323 2323 2323 2323 230a 0a20 203e 3e3e  #########..  >>>
-000036a0: 2073 7562 6d69 7420 3d20 7465 7374 696e   submit = testin
-000036b0: 672e 6765 7453 7562 6d69 7456 616c 7565  g.getSubmitValue
-000036c0: 7328 636f 6e74 656e 7429 0a20 203e 3e3e  s(content).  >>>
-000036d0: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
-000036e0: 6467 6574 732e 6469 6374 4f66 4f62 6a65  dgets.dictOfObje
-000036f0: 6374 2e30 2e77 6964 6765 7473 2e6d 756c  ct.0.widgets.mul
-00003700: 7469 496e 7427 5d20 3d20 7527 3130 3432  tiInt'] = u'1042
-00003710: 270a 2020 3e3e 3e20 7375 626d 6974 5b27  '.  >>> submit['
-00003720: 666f 726d 2e77 6964 6765 7473 2e64 6963  form.widgets.dic
-00003730: 744f 664f 626a 6563 742e 302e 7769 6467  tOfObject.0.widg
-00003740: 6574 732e 6d75 6c74 6954 6578 744c 696e  ets.multiTextLin
-00003750: 6527 5d20 3d20 7527 6d6f 6f39 3030 270a  e'] = u'moo900'.
-00003760: 2020 3e3e 3e20 7375 626d 6974 5b27 666f    >>> submit['fo
-00003770: 726d 2e77 6964 6765 7473 2e64 6963 744f  rm.widgets.dictO
-00003780: 664f 626a 6563 742e 302e 7769 6467 6574  fObject.0.widget
-00003790: 732e 6d75 6c74 6944 6174 6527 5d20 3d20  s.multiDate'] = 
-000037a0: 7527 3134 2f30 362f 3233 270a 0a20 203e  u'14/06/23'..  >
-000037b0: 3e3e 2072 6571 7565 7374 203d 2074 6573  >> request = tes
-000037c0: 7469 6e67 2e54 6573 7452 6571 7565 7374  ting.TestRequest
-000037d0: 2866 6f72 6d3d 7375 626d 6974 290a 2020  (form=submit).  
-000037e0: 3e3e 3e20 636f 6e74 656e 7420 3d20 6765  >>> content = ge
-000037f0: 7446 6f72 6d28 7265 7175 6573 742c 2027  tForm(request, '
-00003800: 4f62 6a65 6374 4d75 6c74 695f 6469 6374  ObjectMulti_dict
-00003810: 5f65 6469 745f 6669 785f 7661 6c75 6573  _edit_fix_values
-00003820: 2e68 746d 6c27 290a 2020 3e3e 3e20 7072  .html').  >>> pr
-00003830: 696e 7428 7465 7374 696e 672e 706c 6169  int(testing.plai
-00003840: 6e54 6578 7428 636f 6e74 656e 7429 290a  nText(content)).
-00003850: 2020 4469 6374 4f66 4f62 6a65 6374 206c    DictOfObject l
-00003860: 6162 656c 0a20 203c 424c 414e 4b4c 494e  abel.  <BLANKLIN
-00003870: 453e 0a20 204f 626a 6563 7420 6b65 7920  E>.  Object key 
-00003880: 2a0a 2020 5b73 7562 6f62 315d 0a20 204f  *.  [subob1].  O
-00003890: 626a 6563 7420 6c61 6265 6c20 2a0a 2020  bject label *.  
-000038a0: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
-000038b0: 2a0a 2020 5b31 2c30 3432 5d0a 2020 426f  *.  [1,042].  Bo
-000038c0: 6f6c 206c 6162 656c 202a 0a20 2028 2029  ol label *.  ( )
-000038d0: 2079 6573 2028 4f29 206e 6f0a 2020 4368   yes (O) no.  Ch
-000038e0: 6f69 6365 206c 6162 656c 202a 0a20 205b  oice label *.  [
-000038f0: 7477 6f5d 0a20 2043 686f 6963 654f 7074  two].  ChoiceOpt
-00003900: 206c 6162 656c 0a20 205b 7369 785d 0a20   label.  [six]. 
-00003910: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
-00003920: 2a0a 2020 5b6d 6f6f 3930 305d 0a20 2044  *.  [moo900].  D
-00003930: 6174 6520 6c61 6265 6c20 2a0a 2020 5b31  ate label *.  [1
-00003940: 342f 3036 2f32 335d 0a20 205b 4164 645d  4/06/23].  [Add]
-00003950: 0a20 205b 5265 6d6f 7665 2073 656c 6563  .  [Remove selec
-00003960: 7465 645d 0a20 205b 4170 706c 795d 0a0a  ted].  [Apply]..
-00003970: 5468 6520 6f62 6a65 6374 2069 7320 756e  The object is un
-00003980: 6368 616e 6765 643a 0a0a 2020 3e3e 3e20  changed:..  >>> 
-00003990: 7070 7269 6e74 286f 626a 2e64 6963 744f  pprint(obj.dictO
-000039a0: 664f 626a 6563 7429 0a20 207b 2773 7562  fObject).  {'sub
-000039b0: 6f62 3127 3a20 3c4f 626a 6563 7457 6964  ob1': <ObjectWid
-000039c0: 6765 744d 756c 7469 5375 6249 6e74 6567  getMultiSubInteg
-000039d0: 7261 7469 6f6e 0a20 2020 206d 756c 7469  ration.    multi
-000039e0: 426f 6f6c 3a20 4661 6c73 650a 2020 2020  Bool: False.    
-000039f0: 6d75 6c74 6943 686f 6963 653a 2027 7477  multiChoice: 'tw
-00003a00: 6f27 0a20 2020 206d 756c 7469 4368 6f69  o'.    multiChoi
-00003a10: 6365 4f70 743a 2027 7369 7827 0a20 2020  ceOpt: 'six'.   
-00003a20: 206d 756c 7469 4461 7465 3a20 6461 7465   multiDate: date
-00003a30: 7469 6d65 2e64 6174 6528 3230 3134 2c20  time.date(2014, 
-00003a40: 362c 2032 3029 0a20 2020 206d 756c 7469  6, 20).    multi
-00003a50: 496e 743a 202d 3130 300a 2020 2020 6d75  Int: -100.    mu
-00003a60: 6c74 6954 6578 744c 696e 653a 2027 736f  ltiTextLine: 'so
-00003a70: 6d65 2074 6578 7420 6f6e 6527 3e2c 0a20  me text one'>,. 
-00003a80: 2020 2773 7562 6f62 3227 3a20 3c4f 626a    'subob2': <Obj
-00003a90: 6563 7457 6964 6765 744d 756c 7469 5375  ectWidgetMultiSu
-00003aa0: 6249 6e74 6567 7261 7469 6f6e 0a20 2020  bIntegration.   
-00003ab0: 206d 756c 7469 426f 6f6c 3a20 5472 7565   multiBool: True
-00003ac0: 0a20 2020 206d 756c 7469 4368 6f69 6365  .    multiChoice
-00003ad0: 3a20 276f 6e65 270a 2020 2020 6d75 6c74  : 'one'.    mult
-00003ae0: 6943 686f 6963 654f 7074 3a20 2766 6f75  iChoiceOpt: 'fou
-00003af0: 7227 0a20 2020 206d 756c 7469 4461 7465  r'.    multiDate
-00003b00: 3a20 6461 7465 7469 6d65 2e64 6174 6528  : datetime.date(
-00003b10: 3230 3131 2c20 332c 2031 3529 0a20 2020  2011, 3, 15).   
-00003b20: 206d 756c 7469 496e 743a 2034 320a 2020   multiInt: 42.  
-00003b30: 2020 6d75 6c74 6954 6578 744c 696e 653a    multiTextLine:
-00003b40: 2027 7365 636f 6e64 2074 7874 273e 7d0a   'second txt'>}.
-00003b50: 0a41 6e64 2061 7070 6c79 0a0a 2020 3e3e  .And apply..  >>
-00003b60: 3e20 7375 626d 6974 203d 2074 6573 7469  > submit = testi
-00003b70: 6e67 2e67 6574 5375 626d 6974 5661 6c75  ng.getSubmitValu
-00003b80: 6573 2863 6f6e 7465 6e74 290a 2020 3e3e  es(content).  >>
-00003b90: 3e20 7375 626d 6974 5b27 666f 726d 2e62  > submit['form.b
-00003ba0: 7574 746f 6e73 2e61 7070 6c79 275d 203d  uttons.apply'] =
-00003bb0: 2075 2741 7070 6c79 270a 0a20 203e 3e3e   u'Apply'..  >>>
-00003bc0: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
-00003bd0: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
-00003be0: 6f72 6d3d 7375 626d 6974 290a 2020 3e3e  orm=submit).  >>
-00003bf0: 3e20 636f 6e74 656e 7420 3d20 6765 7446  > content = getF
-00003c00: 6f72 6d28 7265 7175 6573 7429 0a20 203e  orm(request).  >
-00003c10: 3e3e 2070 7269 6e74 2874 6573 7469 6e67  >> print(testing
-00003c20: 2e70 6c61 696e 5465 7874 2863 6f6e 7465  .plainText(conte
-00003c30: 6e74 2929 0a20 2044 6174 6120 7375 6363  nt)).  Data succ
-00003c40: 6573 7366 756c 6c79 2075 7064 6174 6564  essfully updated
-00003c50: 2e0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  ..  <BLANKLINE>.
-00003c60: 2020 4469 6374 4f66 4f62 6a65 6374 206c    DictOfObject l
-00003c70: 6162 656c 0a20 203c 424c 414e 4b4c 494e  abel.  <BLANKLIN
-00003c80: 453e 0a20 204f 626a 6563 7420 6b65 7920  E>.  Object key 
-00003c90: 2a0a 2020 5b73 7562 6f62 315d 0a20 204f  *.  [subob1].  O
-00003ca0: 626a 6563 7420 6c61 6265 6c20 2a0a 2020  bject label *.  
-00003cb0: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
-00003cc0: 2a0a 2020 5b31 2c30 3432 5d0a 2020 426f  *.  [1,042].  Bo
-00003cd0: 6f6c 206c 6162 656c 202a 0a20 2028 2029  ol label *.  ( )
-00003ce0: 2079 6573 2028 4f29 206e 6f0a 2020 4368   yes (O) no.  Ch
-00003cf0: 6f69 6365 206c 6162 656c 202a 0a20 205b  oice label *.  [
-00003d00: 7477 6f5d 0a20 2043 686f 6963 654f 7074  two].  ChoiceOpt
-00003d10: 206c 6162 656c 0a20 205b 7369 785d 0a20   label.  [six]. 
-00003d20: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
-00003d30: 2a0a 2020 5b6d 6f6f 3930 305d 0a20 2044  *.  [moo900].  D
-00003d40: 6174 6520 6c61 6265 6c20 2a0a 2020 5b31  ate label *.  [1
-00003d50: 342f 3036 2f32 335d 0a20 205b 4164 645d  4/06/23].  [Add]
-00003d60: 0a20 205b 5265 6d6f 7665 2073 656c 6563  .  [Remove selec
-00003d70: 7465 645d 0a20 205b 4170 706c 795d 0a0a  ted].  [Apply]..
-00003d80: 4e6f 7720 7468 6520 6f62 6a65 6374 2067  Now the object g
-00003d90: 6574 7320 7570 6461 7465 643a 0a0a 2020  ets updated:..  
-00003da0: 3e3e 3e20 7070 7269 6e74 286f 626a 2e64  >>> pprint(obj.d
-00003db0: 6963 744f 664f 626a 6563 7429 0a20 207b  ictOfObject).  {
-00003dc0: 2773 7562 6f62 3127 3a20 3c4f 626a 6563  'subob1': <Objec
-00003dd0: 7457 6964 6765 744d 756c 7469 5375 6249  tWidgetMultiSubI
-00003de0: 6e74 6567 7261 7469 6f6e 0a20 2020 206d  ntegration.    m
-00003df0: 756c 7469 426f 6f6c 3a20 4661 6c73 650a  ultiBool: False.
-00003e00: 2020 2020 6d75 6c74 6943 686f 6963 653a      multiChoice:
-00003e10: 2027 7477 6f27 0a20 2020 206d 756c 7469   'two'.    multi
-00003e20: 4368 6f69 6365 4f70 743a 2027 7369 7827  ChoiceOpt: 'six'
-00003e30: 0a20 2020 206d 756c 7469 4461 7465 3a20  .    multiDate: 
-00003e40: 6461 7465 7469 6d65 2e64 6174 6528 3230  datetime.date(20
-00003e50: 3134 2c20 362c 2032 3329 0a20 2020 206d  14, 6, 23).    m
-00003e60: 756c 7469 496e 743a 2031 3034 320a 2020  ultiInt: 1042.  
-00003e70: 2020 6d75 6c74 6954 6578 744c 696e 653a    multiTextLine:
-00003e80: 2075 276d 6f6f 3930 3027 3e7d 0a0a 0a54   u'moo900'>}...T
-00003e90: 7769 7374 696e 6720 736f 6d65 206b 6579  wisting some key
-00003ea0: 730a 2323 2323 2323 2323 2323 2323 2323  s.##############
-00003eb0: 2323 2323 0a0a 4368 616e 6765 206b 6579  ####..Change key
-00003ec0: 2076 616c 7565 732c 2069 7465 6d20 7661   values, item va
-00003ed0: 6c75 6573 206d 7573 7420 7374 6963 6b20  lues must stick 
-00003ee0: 746f 2074 6865 206e 6577 2076 616c 7565  to the new value
-00003ef0: 732e 0a0a 2020 3e3e 3e20 7375 6231 203d  s...  >>> sub1 =
-00003f00: 2074 6573 7469 6e67 2e4f 626a 6563 7457   testing.ObjectW
-00003f10: 6964 6765 744d 756c 7469 5375 6249 6e74  idgetMultiSubInt
-00003f20: 6567 7261 7469 6f6e 280a 2020 2e2e 2e20  egration(.  ... 
-00003f30: 2020 2020 6d75 6c74 6949 6e74 3d2d 3130      multiInt=-10
-00003f40: 302c 0a20 202e 2e2e 2020 2020 206d 756c  0,.  ...     mul
-00003f50: 7469 426f 6f6c 3d46 616c 7365 2c0a 2020  tiBool=False,.  
-00003f60: 2e2e 2e20 2020 2020 6d75 6c74 6943 686f  ...     multiCho
-00003f70: 6963 653d 2774 776f 272c 0a20 202e 2e2e  ice='two',.  ...
-00003f80: 2020 2020 206d 756c 7469 4368 6f69 6365       multiChoice
-00003f90: 4f70 743d 2773 6978 272c 0a20 202e 2e2e  Opt='six',.  ...
-00003fa0: 2020 2020 206d 756c 7469 5465 7874 4c69       multiTextLi
-00003fb0: 6e65 3d75 2773 6f6d 6520 7465 7874 206f  ne=u'some text o
-00003fc0: 6e65 272c 0a20 202e 2e2e 2020 2020 206d  ne',.  ...     m
-00003fd0: 756c 7469 4461 7465 3d64 6174 6528 3230  ultiDate=date(20
-00003fe0: 3134 2c20 362c 2032 3029 290a 0a20 203e  14, 6, 20))..  >
-00003ff0: 3e3e 2073 7562 3220 3d20 7465 7374 696e  >> sub2 = testin
-00004000: 672e 4f62 6a65 6374 5769 6467 6574 4d75  g.ObjectWidgetMu
-00004010: 6c74 6953 7562 496e 7465 6772 6174 696f  ltiSubIntegratio
-00004020: 6e28 0a20 202e 2e2e 2020 2020 206d 756c  n(.  ...     mul
-00004030: 7469 496e 743d 3432 2c0a 2020 2e2e 2e20  tiInt=42,.  ... 
-00004040: 2020 2020 6d75 6c74 6942 6f6f 6c3d 5472      multiBool=Tr
-00004050: 7565 2c0a 2020 2e2e 2e20 2020 2020 6d75  ue,.  ...     mu
-00004060: 6c74 6943 686f 6963 653d 276f 6e65 272c  ltiChoice='one',
-00004070: 0a20 202e 2e2e 2020 2020 206d 756c 7469  .  ...     multi
-00004080: 4368 6f69 6365 4f70 743d 2766 6f75 7227  ChoiceOpt='four'
-00004090: 2c0a 2020 2e2e 2e20 2020 2020 6d75 6c74  ,.  ...     mult
-000040a0: 6954 6578 744c 696e 653d 7527 7365 636f  iTextLine=u'seco
-000040b0: 6e64 2074 7874 272c 0a20 202e 2e2e 2020  nd txt',.  ...  
-000040c0: 2020 206d 756c 7469 4461 7465 3d64 6174     multiDate=dat
-000040d0: 6528 3230 3131 2c20 332c 2031 3529 290a  e(2011, 3, 15)).
-000040e0: 0a20 203e 3e3e 206f 626a 2e64 6963 744f  .  >>> obj.dictO
-000040f0: 664f 626a 6563 7420 3d20 7b75 2773 7562  fObject = {u'sub
-00004100: 6f62 3127 3a20 7375 6231 2c20 7527 7375  ob1': sub1, u'su
-00004110: 626f 6232 273a 2073 7562 327d 0a0a 2020  bob2': sub2}..  
-00004120: 3e3e 3e20 7265 7175 6573 7420 3d20 7465  >>> request = te
-00004130: 7374 696e 672e 5465 7374 5265 7175 6573  sting.TestReques
-00004140: 7428 290a 2020 3e3e 3e20 636f 6e74 656e  t().  >>> conten
-00004150: 7420 3d20 6765 7446 6f72 6d28 7265 7175  t = getForm(requ
-00004160: 6573 742c 2027 4f62 6a65 6374 4d75 6c74  est, 'ObjectMult
-00004170: 695f 6469 6374 5f65 6469 745f 7477 6973  i_dict_edit_twis
-00004180: 742e 6874 6d6c 2729 0a0a 2020 3e3e 3e20  t.html')..  >>> 
-00004190: 7375 626d 6974 203d 2074 6573 7469 6e67  submit = testing
-000041a0: 2e67 6574 5375 626d 6974 5661 6c75 6573  .getSubmitValues
-000041b0: 2863 6f6e 7465 6e74 290a 2020 3e3e 3e20  (content).  >>> 
-000041c0: 7375 626d 6974 5b27 666f 726d 2e77 6964  submit['form.wid
-000041d0: 6765 7473 2e64 6963 744f 664f 626a 6563  gets.dictOfObjec
-000041e0: 742e 6b65 792e 3027 5d20 3d20 7527 7477  t.key.0'] = u'tw
-000041f0: 6973 7465 6427 2020 2320 7761 7320 7375  isted'  # was su
-00004200: 626f 6231 0a0a 2020 3e3e 3e20 7375 626d  bob1..  >>> subm
-00004210: 6974 5b27 666f 726d 2e62 7574 746f 6e73  it['form.buttons
-00004220: 2e61 7070 6c79 275d 203d 2075 2741 7070  .apply'] = u'App
-00004230: 6c79 270a 0a20 203e 3e3e 2072 6571 7565  ly'..  >>> reque
-00004240: 7374 203d 2074 6573 7469 6e67 2e54 6573  st = testing.Tes
-00004250: 7452 6571 7565 7374 2866 6f72 6d3d 7375  tRequest(form=su
-00004260: 626d 6974 290a 0a20 203e 3e3e 2063 6f6e  bmit)..  >>> con
-00004270: 7465 6e74 203d 2067 6574 466f 726d 2872  tent = getForm(r
-00004280: 6571 7565 7374 2c20 274f 626a 6563 744d  equest, 'ObjectM
-00004290: 756c 7469 5f64 6963 745f 6564 6974 5f74  ulti_dict_edit_t
-000042a0: 7769 7374 322e 6874 6d6c 2729 0a0a 2020  wist2.html')..  
-000042b0: 3e3e 3e20 7070 7269 6e74 286f 626a 2e64  >>> pprint(obj.d
-000042c0: 6963 744f 664f 626a 6563 7429 0a20 207b  ictOfObject).  {
-000042d0: 2773 7562 6f62 3227 3a20 3c4f 626a 6563  'subob2': <Objec
-000042e0: 7457 6964 6765 744d 756c 7469 5375 6249  tWidgetMultiSubI
-000042f0: 6e74 6567 7261 7469 6f6e 0a20 2020 206d  ntegration.    m
-00004300: 756c 7469 426f 6f6c 3a20 5472 7565 0a20  ultiBool: True. 
-00004310: 2020 206d 756c 7469 4368 6f69 6365 3a20     multiChoice: 
-00004320: 276f 6e65 270a 2020 2020 6d75 6c74 6943  'one'.    multiC
-00004330: 686f 6963 654f 7074 3a20 2766 6f75 7227  hoiceOpt: 'four'
-00004340: 0a20 2020 206d 756c 7469 4461 7465 3a20  .    multiDate: 
-00004350: 6461 7465 7469 6d65 2e64 6174 6528 3230  datetime.date(20
-00004360: 3131 2c20 332c 2031 3529 0a20 2020 206d  11, 3, 15).    m
-00004370: 756c 7469 496e 743a 2034 320a 2020 2020  ultiInt: 42.    
-00004380: 6d75 6c74 6954 6578 744c 696e 653a 2027  multiTextLine: '
-00004390: 7365 636f 6e64 2074 7874 273e 2c0a 2020  second txt'>,.  
-000043a0: 2027 7477 6973 7465 6427 3a20 3c4f 626a   'twisted': <Obj
-000043b0: 6563 7457 6964 6765 744d 756c 7469 5375  ectWidgetMultiSu
-000043c0: 6249 6e74 6567 7261 7469 6f6e 0a20 2020  bIntegration.   
-000043d0: 206d 756c 7469 426f 6f6c 3a20 4661 6c73   multiBool: Fals
-000043e0: 650a 2020 2020 6d75 6c74 6943 686f 6963  e.    multiChoic
-000043f0: 653a 2027 7477 6f27 0a20 2020 206d 756c  e: 'two'.    mul
-00004400: 7469 4368 6f69 6365 4f70 743a 2027 7369  tiChoiceOpt: 'si
-00004410: 7827 0a20 2020 206d 756c 7469 4461 7465  x'.    multiDate
-00004420: 3a20 6461 7465 7469 6d65 2e64 6174 6528  : datetime.date(
-00004430: 3230 3134 2c20 362c 2032 3029 0a20 2020  2014, 6, 20).   
-00004440: 206d 756c 7469 496e 743a 202d 3130 300a   multiInt: -100.
-00004450: 2020 2020 6d75 6c74 6954 6578 744c 696e      multiTextLin
-00004460: 653a 2027 736f 6d65 2074 6578 7420 6f6e  e: 'some text on
-00004470: 6527 3e7d 0a0a 0a20 203e 3e3e 2073 7562  e'>}...  >>> sub
-00004480: 6d69 7420 3d20 7465 7374 696e 672e 6765  mit = testing.ge
-00004490: 7453 7562 6d69 7456 616c 7565 7328 636f  tSubmitValues(co
-000044a0: 6e74 656e 7429 0a20 203e 3e3e 2073 7562  ntent).  >>> sub
-000044b0: 6d69 745b 2766 6f72 6d2e 7769 6467 6574  mit['form.widget
-000044c0: 732e 6469 6374 4f66 4f62 6a65 6374 2e6b  s.dictOfObject.k
-000044d0: 6579 2e31 275d 203d 2075 2773 7562 6f62  ey.1'] = u'subob
-000044e0: 3227 2020 2320 7761 7320 7477 6973 7465  2'  # was twiste
-000044f0: 640a 2020 3e3e 3e20 7375 626d 6974 5b27  d.  >>> submit['
-00004500: 666f 726d 2e77 6964 6765 7473 2e64 6963  form.widgets.dic
-00004510: 744f 664f 626a 6563 742e 6b65 792e 3027  tOfObject.key.0'
-00004520: 5d20 3d20 7527 7375 626f 6231 2720 2023  ] = u'subob1'  #
-00004530: 2077 6173 2073 7562 6f62 320a 0a20 203e   was subob2..  >
-00004540: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
-00004550: 6275 7474 6f6e 732e 6170 706c 7927 5d20  buttons.apply'] 
-00004560: 3d20 7527 4170 706c 7927 0a0a 2020 3e3e  = u'Apply'..  >>
-00004570: 3e20 7265 7175 6573 7420 3d20 7465 7374  > request = test
-00004580: 696e 672e 5465 7374 5265 7175 6573 7428  ing.TestRequest(
-00004590: 666f 726d 3d73 7562 6d69 7429 0a0a 2020  form=submit)..  
-000045a0: 3e3e 3e20 636f 6e74 656e 7420 3d20 6765  >>> content = ge
-000045b0: 7446 6f72 6d28 7265 7175 6573 742c 2027  tForm(request, '
-000045c0: 4f62 6a65 6374 4d75 6c74 695f 6469 6374  ObjectMulti_dict
-000045d0: 5f65 6469 745f 7477 6973 7432 2e68 746d  _edit_twist2.htm
-000045e0: 6c27 290a 0a20 203e 3e3e 2070 7072 696e  l')..  >>> pprin
-000045f0: 7428 6f62 6a2e 6469 6374 4f66 4f62 6a65  t(obj.dictOfObje
-00004600: 6374 290a 2020 7b75 2773 7562 6f62 3127  ct).  {u'subob1'
-00004610: 3a20 3c4f 626a 6563 7457 6964 6765 744d  : <ObjectWidgetM
-00004620: 756c 7469 5375 6249 6e74 6567 7261 7469  ultiSubIntegrati
-00004630: 6f6e 0a20 2020 206d 756c 7469 426f 6f6c  on.    multiBool
-00004640: 3a20 5472 7565 0a20 2020 206d 756c 7469  : True.    multi
-00004650: 4368 6f69 6365 3a20 276f 6e65 270a 2020  Choice: 'one'.  
-00004660: 2020 6d75 6c74 6943 686f 6963 654f 7074    multiChoiceOpt
-00004670: 3a20 2766 6f75 7227 0a20 2020 206d 756c  : 'four'.    mul
-00004680: 7469 4461 7465 3a20 6461 7465 7469 6d65  tiDate: datetime
-00004690: 2e64 6174 6528 3230 3131 2c20 332c 2031  .date(2011, 3, 1
-000046a0: 3529 0a20 2020 206d 756c 7469 496e 743a  5).    multiInt:
-000046b0: 2034 320a 2020 2020 6d75 6c74 6954 6578   42.    multiTex
-000046c0: 744c 696e 653a 2075 2773 6563 6f6e 6420  tLine: u'second 
-000046d0: 7478 7427 3e2c 0a20 2020 7527 7375 626f  txt'>,.   u'subo
-000046e0: 6232 273a 203c 4f62 6a65 6374 5769 6467  b2': <ObjectWidg
-000046f0: 6574 4d75 6c74 6953 7562 496e 7465 6772  etMultiSubIntegr
-00004700: 6174 696f 6e0a 2020 2020 6d75 6c74 6942  ation.    multiB
-00004710: 6f6f 6c3a 2046 616c 7365 0a20 2020 206d  ool: False.    m
-00004720: 756c 7469 4368 6f69 6365 3a20 2774 776f  ultiChoice: 'two
-00004730: 270a 2020 2020 6d75 6c74 6943 686f 6963  '.    multiChoic
-00004740: 654f 7074 3a20 2773 6978 270a 2020 2020  eOpt: 'six'.    
-00004750: 6d75 6c74 6944 6174 653a 2064 6174 6574  multiDate: datet
-00004760: 696d 652e 6461 7465 2832 3031 342c 2036  ime.date(2014, 6
-00004770: 2c20 3230 290a 2020 2020 6d75 6c74 6949  , 20).    multiI
-00004780: 6e74 3a20 2d31 3030 0a20 2020 206d 756c  nt: -100.    mul
-00004790: 7469 5465 7874 4c69 6e65 3a20 7527 736f  tiTextLine: u'so
-000047a0: 6d65 2074 6578 7420 6f6e 6527 3e7d 0a0a  me text one'>}..
-000047b0: 426f 6f6c 2077 6173 206d 6973 6265 6861  Bool was misbeha
-000047c0: 7669 6e67 0a23 2323 2323 2323 2323 2323  ving.###########
-000047d0: 2323 2323 2323 2323 230a 0a20 203e 3e3e  #########..  >>>
-000047e0: 2073 7562 3120 3d20 7465 7374 696e 672e   sub1 = testing.
-000047f0: 4f62 6a65 6374 5769 6467 6574 4d75 6c74  ObjectWidgetMult
-00004800: 6953 7562 496e 7465 6772 6174 696f 6e28  iSubIntegration(
-00004810: 0a20 202e 2e2e 2020 2020 206d 756c 7469  .  ...     multi
-00004820: 496e 743d 2d31 3030 2c0a 2020 2e2e 2e20  Int=-100,.  ... 
-00004830: 2020 2020 6d75 6c74 6942 6f6f 6c3d 4661      multiBool=Fa
-00004840: 6c73 652c 0a20 202e 2e2e 2020 2020 206d  lse,.  ...     m
-00004850: 756c 7469 4368 6f69 6365 3d27 7477 6f27  ultiChoice='two'
-00004860: 2c0a 2020 2e2e 2e20 2020 2020 6d75 6c74  ,.  ...     mult
-00004870: 6943 686f 6963 654f 7074 3d27 7369 7827  iChoiceOpt='six'
-00004880: 2c0a 2020 2e2e 2e20 2020 2020 6d75 6c74  ,.  ...     mult
-00004890: 6954 6578 744c 696e 653d 7527 736f 6d65  iTextLine=u'some
-000048a0: 2074 6578 7420 6f6e 6527 2c0a 2020 2e2e   text one',.  ..
-000048b0: 2e20 2020 2020 6d75 6c74 6944 6174 653d  .     multiDate=
-000048c0: 6461 7465 2832 3031 342c 2036 2c20 3230  date(2014, 6, 20
-000048d0: 2929 0a0a 2020 3e3e 3e20 7375 6232 203d  ))..  >>> sub2 =
-000048e0: 2074 6573 7469 6e67 2e4f 626a 6563 7457   testing.ObjectW
-000048f0: 6964 6765 744d 756c 7469 5375 6249 6e74  idgetMultiSubInt
-00004900: 6567 7261 7469 6f6e 280a 2020 2e2e 2e20  egration(.  ... 
-00004910: 2020 2020 6d75 6c74 6949 6e74 3d34 322c      multiInt=42,
-00004920: 0a20 202e 2e2e 2020 2020 206d 756c 7469  .  ...     multi
-00004930: 426f 6f6c 3d54 7275 652c 0a20 202e 2e2e  Bool=True,.  ...
-00004940: 2020 2020 206d 756c 7469 4368 6f69 6365       multiChoice
-00004950: 3d27 6f6e 6527 2c0a 2020 2e2e 2e20 2020  ='one',.  ...   
-00004960: 2020 6d75 6c74 6943 686f 6963 654f 7074    multiChoiceOpt
-00004970: 3d27 666f 7572 272c 0a20 202e 2e2e 2020  ='four',.  ...  
-00004980: 2020 206d 756c 7469 5465 7874 4c69 6e65     multiTextLine
-00004990: 3d75 2773 6563 6f6e 6420 7478 7427 2c0a  =u'second txt',.
-000049a0: 2020 2e2e 2e20 2020 2020 6d75 6c74 6944    ...     multiD
-000049b0: 6174 653d 6461 7465 2832 3031 312c 2033  ate=date(2011, 3
-000049c0: 2c20 3135 2929 0a0a 2020 3e3e 3e20 6f62  , 15))..  >>> ob
-000049d0: 6a2e 6469 6374 4f66 4f62 6a65 6374 203d  j.dictOfObject =
-000049e0: 207b 7527 7375 626f 6231 273a 2073 7562   {u'subob1': sub
-000049f0: 312c 2075 2773 7562 6f62 3227 3a20 7375  1, u'subob2': su
-00004a00: 6232 7d0a 0a20 203e 3e3e 2072 6571 7565  b2}..  >>> reque
-00004a10: 7374 203d 2074 6573 7469 6e67 2e54 6573  st = testing.Tes
-00004a20: 7452 6571 7565 7374 2829 0a20 203e 3e3e  tRequest().  >>>
-00004a30: 2063 6f6e 7465 6e74 203d 2067 6574 466f   content = getFo
-00004a40: 726d 2872 6571 7565 7374 290a 0a20 203e  rm(request)..  >
-00004a50: 3e3e 2073 7562 6d69 7420 3d20 7465 7374  >> submit = test
-00004a60: 696e 672e 6765 7453 7562 6d69 7456 616c  ing.getSubmitVal
-00004a70: 7565 7328 636f 6e74 656e 7429 0a20 203e  ues(content).  >
-00004a80: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
-00004a90: 7769 6467 6574 732e 6469 6374 4f66 4f62  widgets.dictOfOb
-00004aa0: 6a65 6374 2e30 2e77 6964 6765 7473 2e6d  ject.0.widgets.m
-00004ab0: 756c 7469 426f 6f6c 275d 203d 2075 2774  ultiBool'] = u't
-00004ac0: 7275 6527 0a20 203e 3e3e 2073 7562 6d69  rue'.  >>> submi
-00004ad0: 745b 2766 6f72 6d2e 6275 7474 6f6e 732e  t['form.buttons.
-00004ae0: 6170 706c 7927 5d20 3d20 7527 4170 706c  apply'] = u'Appl
-00004af0: 7927 0a0a 2020 3e3e 3e20 7265 7175 6573  y'..  >>> reques
-00004b00: 7420 3d20 7465 7374 696e 672e 5465 7374  t = testing.Test
-00004b10: 5265 7175 6573 7428 666f 726d 3d73 7562  Request(form=sub
-00004b20: 6d69 7429 0a0a 2020 3e3e 3e20 636f 6e74  mit)..  >>> cont
-00004b30: 656e 7420 3d20 6765 7446 6f72 6d28 7265  ent = getForm(re
-00004b40: 7175 6573 7429 0a20 203e 3e3e 2070 7269  quest).  >>> pri
-00004b50: 6e74 2874 6573 7469 6e67 2e70 6c61 696e  nt(testing.plain
-00004b60: 5465 7874 2863 6f6e 7465 6e74 2929 0a20  Text(content)). 
-00004b70: 2044 6174 6120 7375 6363 6573 7366 756c   Data successful
-00004b80: 6c79 2075 7064 6174 6564 2e0a 2020 2e2e  ly updated..  ..
-00004b90: 2e0a 0a20 203e 3e3e 2070 7072 696e 7428  ...  >>> pprint(
-00004ba0: 6f62 6a2e 6469 6374 4f66 4f62 6a65 6374  obj.dictOfObject
-00004bb0: 290a 2020 7b75 2773 7562 6f62 3127 3a20  ).  {u'subob1': 
-00004bc0: 3c4f 626a 6563 7457 6964 6765 744d 756c  <ObjectWidgetMul
-00004bd0: 7469 5375 6249 6e74 6567 7261 7469 6f6e  tiSubIntegration
-00004be0: 0a20 2020 206d 756c 7469 426f 6f6c 3a20  .    multiBool: 
-00004bf0: 5472 7565 0a20 2020 206d 756c 7469 4368  True.    multiCh
-00004c00: 6f69 6365 3a20 2774 776f 270a 2020 2020  oice: 'two'.    
-00004c10: 6d75 6c74 6943 686f 6963 654f 7074 3a20  multiChoiceOpt: 
-00004c20: 2773 6978 270a 2020 2020 6d75 6c74 6944  'six'.    multiD
-00004c30: 6174 653a 2064 6174 6574 696d 652e 6461  ate: datetime.da
-00004c40: 7465 2832 3031 342c 2036 2c20 3230 290a  te(2014, 6, 20).
-00004c50: 2020 2020 6d75 6c74 6949 6e74 3a20 2d31      multiInt: -1
-00004c60: 3030 0a20 2020 206d 756c 7469 5465 7874  00.    multiText
-00004c70: 4c69 6e65 3a20 7527 736f 6d65 2074 6578  Line: u'some tex
-00004c80: 7420 6f6e 6527 3e2c 0a20 2020 7527 7375  t one'>,.   u'su
-00004c90: 626f 6232 273a 203c 4f62 6a65 6374 5769  bob2': <ObjectWi
-00004ca0: 6467 6574 4d75 6c74 6953 7562 496e 7465  dgetMultiSubInte
-00004cb0: 6772 6174 696f 6e0a 2020 2020 6d75 6c74  gration.    mult
-00004cc0: 6942 6f6f 6c3a 2054 7275 650a 2020 2020  iBool: True.    
-00004cd0: 6d75 6c74 6943 686f 6963 653a 2027 6f6e  multiChoice: 'on
-00004ce0: 6527 0a20 2020 206d 756c 7469 4368 6f69  e'.    multiChoi
-00004cf0: 6365 4f70 743a 2027 666f 7572 270a 2020  ceOpt: 'four'.  
-00004d00: 2020 6d75 6c74 6944 6174 653a 2064 6174    multiDate: dat
-00004d10: 6574 696d 652e 6461 7465 2832 3031 312c  etime.date(2011,
-00004d20: 2033 2c20 3135 290a 2020 2020 6d75 6c74   3, 15).    mult
-00004d30: 6949 6e74 3a20 3432 0a20 2020 206d 756c  iInt: 42.    mul
-00004d40: 7469 5465 7874 4c69 6e65 3a20 7527 7365  tiTextLine: u'se
-00004d50: 636f 6e64 2074 7874 273e 7d0a 0a0a 2020  cond txt'>}...  
-00004d60: 3e3e 3e20 7375 626d 6974 203d 2074 6573  >>> submit = tes
-00004d70: 7469 6e67 2e67 6574 5375 626d 6974 5661  ting.getSubmitVa
-00004d80: 6c75 6573 2863 6f6e 7465 6e74 290a 2020  lues(content).  
-00004d90: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
-00004da0: 2e77 6964 6765 7473 2e64 6963 744f 664f  .widgets.dictOfO
-00004db0: 626a 6563 742e 302e 7769 6467 6574 732e  bject.0.widgets.
-00004dc0: 6d75 6c74 6942 6f6f 6c27 5d20 3d20 7527  multiBool'] = u'
-00004dd0: 6661 6c73 6527 0a20 203e 3e3e 2073 7562  false'.  >>> sub
-00004de0: 6d69 745b 2766 6f72 6d2e 6275 7474 6f6e  mit['form.button
-00004df0: 732e 6170 706c 7927 5d20 3d20 7527 4170  s.apply'] = u'Ap
-00004e00: 706c 7927 0a0a 2020 3e3e 3e20 7265 7175  ply'..  >>> requ
-00004e10: 6573 7420 3d20 7465 7374 696e 672e 5465  est = testing.Te
-00004e20: 7374 5265 7175 6573 7428 666f 726d 3d73  stRequest(form=s
-00004e30: 7562 6d69 7429 0a0a 2020 3e3e 3e20 636f  ubmit)..  >>> co
-00004e40: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
-00004e50: 7265 7175 6573 7429 0a20 203e 3e3e 2070  request).  >>> p
-00004e60: 7269 6e74 2874 6573 7469 6e67 2e70 6c61  rint(testing.pla
-00004e70: 696e 5465 7874 2863 6f6e 7465 6e74 2929  inText(content))
-00004e80: 0a20 2044 6174 6120 7375 6363 6573 7366  .  Data successf
-00004e90: 756c 6c79 2075 7064 6174 6564 2e0a 2020  ully updated..  
-00004ea0: 2e2e 2e0a 0a20 203e 3e3e 2070 7072 696e  .....  >>> pprin
-00004eb0: 7428 6f62 6a2e 6469 6374 4f66 4f62 6a65  t(obj.dictOfObje
-00004ec0: 6374 290a 2020 7b75 2773 7562 6f62 3127  ct).  {u'subob1'
-00004ed0: 3a20 3c4f 626a 6563 7457 6964 6765 744d  : <ObjectWidgetM
-00004ee0: 756c 7469 5375 6249 6e74 6567 7261 7469  ultiSubIntegrati
-00004ef0: 6f6e 0a20 2020 206d 756c 7469 426f 6f6c  on.    multiBool
-00004f00: 3a20 4661 6c73 650a 2020 2020 6d75 6c74  : False.    mult
-00004f10: 6943 686f 6963 653a 2027 7477 6f27 0a20  iChoice: 'two'. 
-00004f20: 2020 206d 756c 7469 4368 6f69 6365 4f70     multiChoiceOp
-00004f30: 743a 2027 7369 7827 0a20 2020 206d 756c  t: 'six'.    mul
-00004f40: 7469 4461 7465 3a20 6461 7465 7469 6d65  tiDate: datetime
-00004f50: 2e64 6174 6528 3230 3134 2c20 362c 2032  .date(2014, 6, 2
-00004f60: 3029 0a20 2020 206d 756c 7469 496e 743a  0).    multiInt:
-00004f70: 202d 3130 300a 2020 2020 6d75 6c74 6954   -100.    multiT
-00004f80: 6578 744c 696e 653a 2075 2773 6f6d 6520  extLine: u'some 
-00004f90: 7465 7874 206f 6e65 273e 2c0a 2020 2075  text one'>,.   u
-00004fa0: 2773 7562 6f62 3227 3a20 3c4f 626a 6563  'subob2': <Objec
-00004fb0: 7457 6964 6765 744d 756c 7469 5375 6249  tWidgetMultiSubI
-00004fc0: 6e74 6567 7261 7469 6f6e 0a20 2020 206d  ntegration.    m
-00004fd0: 756c 7469 426f 6f6c 3a20 5472 7565 0a20  ultiBool: True. 
-00004fe0: 2020 206d 756c 7469 4368 6f69 6365 3a20     multiChoice: 
-00004ff0: 276f 6e65 270a 2020 2020 6d75 6c74 6943  'one'.    multiC
-00005000: 686f 6963 654f 7074 3a20 2766 6f75 7227  hoiceOpt: 'four'
-00005010: 0a20 2020 206d 756c 7469 4461 7465 3a20  .    multiDate: 
-00005020: 6461 7465 7469 6d65 2e64 6174 6528 3230  datetime.date(20
-00005030: 3131 2c20 332c 2031 3529 0a20 2020 206d  11, 3, 15).    m
-00005040: 756c 7469 496e 743a 2034 320a 2020 2020  ultiInt: 42.    
-00005050: 6d75 6c74 6954 6578 744c 696e 653a 2075  multiTextLine: u
-00005060: 2773 6563 6f6e 6420 7478 7427 3e7d 0a0a  'second txt'>}..
+00000650: 744c 696e 653d 2773 6f6d 6520 7465 7874  tLine='some text
+00000660: 206f 6e65 272c 0a20 202e 2e2e 2020 2020   one',.  ...    
+00000670: 206d 756c 7469 4461 7465 3d64 6174 6528   multiDate=date(
+00000680: 3230 3134 2c20 362c 2032 3029 290a 0a20  2014, 6, 20)).. 
+00000690: 203e 3e3e 2073 7562 3220 3d20 7465 7374   >>> sub2 = test
+000006a0: 696e 672e 4f62 6a65 6374 5769 6467 6574  ing.ObjectWidget
+000006b0: 4d75 6c74 6953 7562 496e 7465 6772 6174  MultiSubIntegrat
+000006c0: 696f 6e28 0a20 202e 2e2e 2020 2020 206d  ion(.  ...     m
+000006d0: 756c 7469 496e 743d 3432 2c0a 2020 2e2e  ultiInt=42,.  ..
+000006e0: 2e20 2020 2020 6d75 6c74 6942 6f6f 6c3d  .     multiBool=
+000006f0: 5472 7565 2c0a 2020 2e2e 2e20 2020 2020  True,.  ...     
+00000700: 6d75 6c74 6943 686f 6963 653d 276f 6e65  multiChoice='one
+00000710: 272c 0a20 202e 2e2e 2020 2020 206d 756c  ',.  ...     mul
+00000720: 7469 4368 6f69 6365 4f70 743d 2766 6f75  tiChoiceOpt='fou
+00000730: 7227 2c0a 2020 2e2e 2e20 2020 2020 6d75  r',.  ...     mu
+00000740: 6c74 6954 6578 744c 696e 653d 2773 6563  ltiTextLine='sec
+00000750: 6f6e 6420 7478 7427 2c0a 2020 2e2e 2e20  ond txt',.  ... 
+00000760: 2020 2020 6d75 6c74 6944 6174 653d 6461      multiDate=da
+00000770: 7465 2832 3031 312c 2033 2c20 3135 2929  te(2011, 3, 15))
+00000780: 0a0a 2020 3e3e 3e20 6f62 6a2e 6469 6374  ..  >>> obj.dict
+00000790: 4f66 4f62 6a65 6374 203d 207b 2773 7562  OfObject = {'sub
+000007a0: 6f62 3127 3a20 7375 6231 2c20 2773 7562  ob1': sub1, 'sub
+000007b0: 6f62 3227 3a20 7375 6232 7d0a 0a20 203e  ob2': sub2}..  >
+000007c0: 3e3e 2070 7072 696e 7428 6f62 6a2e 6469  >> pprint(obj.di
+000007d0: 6374 4f66 4f62 6a65 6374 290a 2020 7b27  ctOfObject).  {'
+000007e0: 7375 626f 6231 273a 203c 4f62 6a65 6374  subob1': <Object
+000007f0: 5769 6467 6574 4d75 6c74 6953 7562 496e  WidgetMultiSubIn
+00000800: 7465 6772 6174 696f 6e0a 2020 2020 6d75  tegration.    mu
+00000810: 6c74 6942 6f6f 6c3a 2046 616c 7365 0a20  ltiBool: False. 
+00000820: 2020 206d 756c 7469 4368 6f69 6365 3a20     multiChoice: 
+00000830: 2774 776f 270a 2020 2020 6d75 6c74 6943  'two'.    multiC
+00000840: 686f 6963 654f 7074 3a20 2773 6978 270a  hoiceOpt: 'six'.
+00000850: 2020 2020 6d75 6c74 6944 6174 653a 2064      multiDate: d
+00000860: 6174 6574 696d 652e 6461 7465 2832 3031  atetime.date(201
+00000870: 342c 2036 2c20 3230 290a 2020 2020 6d75  4, 6, 20).    mu
+00000880: 6c74 6949 6e74 3a20 2d31 3030 0a20 2020  ltiInt: -100.   
+00000890: 206d 756c 7469 5465 7874 4c69 6e65 3a20   multiTextLine: 
+000008a0: 2773 6f6d 6520 7465 7874 206f 6e65 273e  'some text one'>
+000008b0: 2c0a 2020 2027 7375 626f 6232 273a 203c  ,.   'subob2': <
+000008c0: 4f62 6a65 6374 5769 6467 6574 4d75 6c74  ObjectWidgetMult
+000008d0: 6953 7562 496e 7465 6772 6174 696f 6e0a  iSubIntegration.
+000008e0: 2020 2020 6d75 6c74 6942 6f6f 6c3a 2054      multiBool: T
+000008f0: 7275 650a 2020 2020 6d75 6c74 6943 686f  rue.    multiCho
+00000900: 6963 653a 2027 6f6e 6527 0a20 2020 206d  ice: 'one'.    m
+00000910: 756c 7469 4368 6f69 6365 4f70 743a 2027  ultiChoiceOpt: '
+00000920: 666f 7572 270a 2020 2020 6d75 6c74 6944  four'.    multiD
+00000930: 6174 653a 2064 6174 6574 696d 652e 6461  ate: datetime.da
+00000940: 7465 2832 3031 312c 2033 2c20 3135 290a  te(2011, 3, 15).
+00000950: 2020 2020 6d75 6c74 6949 6e74 3a20 3432      multiInt: 42
+00000960: 0a20 2020 206d 756c 7469 5465 7874 4c69  .    multiTextLi
+00000970: 6e65 3a20 2773 6563 6f6e 6420 7478 7427  ne: 'second txt'
+00000980: 3e7d 0a0a 2020 3e3e 3e20 636f 6e74 656e  >}..  >>> conten
+00000990: 7420 3d20 6765 7446 6f72 6d28 7265 7175  t = getForm(requ
+000009a0: 6573 742c 2027 4f62 6a65 6374 4d75 6c74  est, 'ObjectMult
+000009b0: 695f 6469 6374 5f65 6469 745f 7369 6d70  i_dict_edit_simp
+000009c0: 6c65 2e68 746d 6c27 290a 2020 3e3e 3e20  le.html').  >>> 
+000009d0: 7072 696e 7428 7465 7374 696e 672e 706c  print(testing.pl
+000009e0: 6169 6e54 6578 7428 636f 6e74 656e 7429  ainText(content)
+000009f0: 290a 2020 4469 6374 4f66 4f62 6a65 6374  ).  DictOfObject
+00000a00: 206c 6162 656c 0a20 203c 424c 414e 4b4c   label.  <BLANKL
+00000a10: 494e 453e 0a20 204f 626a 6563 7420 6b65  INE>.  Object ke
+00000a20: 7920 2a0a 2020 5b73 7562 6f62 315d 0a20  y *.  [subob1]. 
+00000a30: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
+00000a40: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
+00000a50: 6c20 2a0a 2020 5b2d 3130 305d 0a20 2042  l *.  [-100].  B
+00000a60: 6f6f 6c20 6c61 6265 6c20 2a0a 2020 2820  ool label *.  ( 
+00000a70: 2920 7965 7320 284f 2920 6e6f 0a20 2043  ) yes (O) no.  C
+00000a80: 686f 6963 6520 6c61 6265 6c20 2a0a 2020  hoice label *.  
+00000a90: 5b74 776f 5d0a 2020 4368 6f69 6365 4f70  [two].  ChoiceOp
+00000aa0: 7420 6c61 6265 6c0a 2020 5b73 6978 5d0a  t label.  [six].
+00000ab0: 2020 5465 7874 4c69 6e65 206c 6162 656c    TextLine label
+00000ac0: 202a 0a20 205b 736f 6d65 2074 6578 7420   *.  [some text 
+00000ad0: 6f6e 655d 0a20 2044 6174 6520 6c61 6265  one].  Date labe
+00000ae0: 6c20 2a0a 2020 5b31 342f 3036 2f32 305d  l *.  [14/06/20]
+00000af0: 0a20 204f 626a 6563 7420 6b65 7920 2a0a  .  Object key *.
+00000b00: 2020 5b73 7562 6f62 325d 0a20 204f 626a    [subob2].  Obj
+00000b10: 6563 7420 6c61 6265 6c20 2a0a 2020 5b20  ect label *.  [ 
+00000b20: 5d0a 2020 496e 7420 6c61 6265 6c20 2a0a  ].  Int label *.
+00000b30: 2020 5b34 325d 0a20 2042 6f6f 6c20 6c61    [42].  Bool la
+00000b40: 6265 6c20 2a0a 2020 284f 2920 7965 7320  bel *.  (O) yes 
+00000b50: 2820 2920 6e6f 0a20 2043 686f 6963 6520  ( ) no.  Choice 
+00000b60: 6c61 6265 6c20 2a0a 2020 5b6f 6e65 5d0a  label *.  [one].
+00000b70: 2020 4368 6f69 6365 4f70 7420 6c61 6265    ChoiceOpt labe
+00000b80: 6c0a 2020 5b66 6f75 725d 0a20 2054 6578  l.  [four].  Tex
+00000b90: 744c 696e 6520 6c61 6265 6c20 2a0a 2020  tLine label *.  
+00000ba0: 5b73 6563 6f6e 6420 7478 745d 0a20 2044  [second txt].  D
+00000bb0: 6174 6520 6c61 6265 6c20 2a0a 2020 5b31  ate label *.  [1
+00000bc0: 312f 3033 2f31 355d 0a20 205b 4164 645d  1/03/15].  [Add]
+00000bd0: 0a20 205b 5265 6d6f 7665 2073 656c 6563  .  [Remove selec
+00000be0: 7465 645d 0a20 205b 4170 706c 795d 0a0a  ted].  [Apply]..
+00000bf0: 7772 6f6e 6720 696e 7075 7420 2849 6e74  wrong input (Int
+00000c00: 290a 2323 2323 2323 2323 2323 2323 2323  ).##############
+00000c10: 2323 230a 0a53 6574 2061 2077 726f 6e67  ###..Set a wrong
+00000c20: 2076 616c 7565 2061 6e64 2061 6464 2061   value and add a
+00000c30: 206e 6577 2069 6e70 7574 3a0a 0a20 203e   new input:..  >
+00000c40: 3e3e 2073 7562 6d69 7420 3d20 7465 7374  >> submit = test
+00000c50: 696e 672e 6765 7453 7562 6d69 7456 616c  ing.getSubmitVal
+00000c60: 7565 7328 636f 6e74 656e 7429 0a20 203e  ues(content).  >
+00000c70: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
+00000c80: 7769 6467 6574 732e 6469 6374 4f66 4f62  widgets.dictOfOb
+00000c90: 6a65 6374 2e30 2e77 6964 6765 7473 2e6d  ject.0.widgets.m
+00000ca0: 756c 7469 496e 7427 5d20 3d20 2766 6f6f  ultiInt'] = 'foo
+00000cb0: 6261 7227 0a0a 2020 3e3e 3e20 7375 626d  bar'..  >>> subm
+00000cc0: 6974 5b27 666f 726d 2e77 6964 6765 7473  it['form.widgets
+00000cd0: 2e64 6963 744f 664f 626a 6563 742e 6275  .dictOfObject.bu
+00000ce0: 7474 6f6e 732e 6164 6427 5d20 3d20 2741  ttons.add'] = 'A
+00000cf0: 6464 270a 0a20 203e 3e3e 2072 6571 7565  dd'..  >>> reque
+00000d00: 7374 203d 2074 6573 7469 6e67 2e54 6573  st = testing.Tes
+00000d10: 7452 6571 7565 7374 2866 6f72 6d3d 7375  tRequest(form=su
+00000d20: 626d 6974 290a 0a49 6d70 6f72 7461 6e74  bmit)..Important
+00000d30: 2069 7320 7468 6174 2077 6520 6765 7420   is that we get 
+00000d40: 2254 6865 2065 6e74 6572 6564 2076 616c  "The entered val
+00000d50: 7565 2069 7320 6e6f 7420 6120 7661 6c69  ue is not a vali
+00000d60: 6420 696e 7465 6765 7220 6c69 7465 7261  d integer litera
+00000d70: 6c2e 220a 666f 7220 2266 6f6f 6261 7222  l.".for "foobar"
+00000d80: 2061 6e64 2061 206e 6577 2069 6e70 7574   and a new input
+00000d90: 2e0a 0a20 203e 3e3e 2063 6f6e 7465 6e74  ...  >>> content
+00000da0: 203d 2067 6574 466f 726d 2872 6571 7565   = getForm(reque
+00000db0: 7374 2c20 274f 626a 6563 744d 756c 7469  st, 'ObjectMulti
+00000dc0: 5f64 6963 745f 6564 6974 5f73 7562 6d69  _dict_edit_submi
+00000dd0: 745f 696e 742e 6874 6d6c 2729 0a20 203e  t_int.html').  >
+00000de0: 3e3e 2070 7269 6e74 2874 6573 7469 6e67  >> print(testing
+00000df0: 2e70 6c61 696e 5465 7874 2863 6f6e 7465  .plainText(conte
+00000e00: 6e74 2c0a 2020 2e2e 2e20 2020 2020 272e  nt,.  ...     '.
+00000e10: 2f2f 6469 765b 4069 643d 2266 6f72 6d2d  //div[@id="form-
+00000e20: 7769 6467 6574 732d 6469 6374 4f66 4f62  widgets-dictOfOb
+00000e30: 6a65 6374 2d30 2d72 6f77 225d 2729 290a  ject-0-row"]')).
+00000e40: 2020 4f62 6a65 6374 206b 6579 202a 0a20    Object key *. 
+00000e50: 203c 424c 414e 4b4c 494e 453e 0a20 205b   <BLANKLINE>.  [
+00000e60: 7375 626f 6231 5d0a 2020 3c42 4c41 4e4b  subob1].  <BLANK
+00000e70: 4c49 4e45 3e0a 2020 4f62 6a65 6374 206c  LINE>.  Object l
+00000e80: 6162 656c 202a 0a20 203c 424c 414e 4b4c  abel *.  <BLANKL
+00000e90: 494e 453e 0a20 2054 6865 2065 6e74 6572  INE>.  The enter
+00000ea0: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
+00000eb0: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
+00000ec0: 6c69 7465 7261 6c2e 0a20 203c 424c 414e  literal..  <BLAN
+00000ed0: 4b4c 494e 453e 0a20 205b 205d 0a20 2049  KLINE>.  [ ].  I
+00000ee0: 6e74 206c 6162 656c 202a 0a20 2054 6865  nt label *.  The
+00000ef0: 2065 6e74 6572 6564 2076 616c 7565 2069   entered value i
+00000f00: 7320 6e6f 7420 6120 7661 6c69 6420 696e  s not a valid in
+00000f10: 7465 6765 7220 6c69 7465 7261 6c2e 0a20  teger literal.. 
+00000f20: 205b 666f 6f62 6172 5d0a 2020 426f 6f6c   [foobar].  Bool
+00000f30: 206c 6162 656c 202a 0a20 2028 2029 2079   label *.  ( ) y
+00000f40: 6573 2028 4f29 206e 6f0a 2020 4368 6f69  es (O) no.  Choi
+00000f50: 6365 206c 6162 656c 202a 0a20 205b 7477  ce label *.  [tw
+00000f60: 6f5d 0a20 2043 686f 6963 654f 7074 206c  o].  ChoiceOpt l
+00000f70: 6162 656c 0a20 205b 7369 785d 0a20 2054  abel.  [six].  T
+00000f80: 6578 744c 696e 6520 6c61 6265 6c20 2a0a  extLine label *.
+00000f90: 2020 5b73 6f6d 6520 7465 7874 206f 6e65    [some text one
+00000fa0: 5d0a 2020 4461 7465 206c 6162 656c 202a  ].  Date label *
+00000fb0: 0a20 205b 3134 2f30 362f 3230 5d0a 0a53  .  [14/06/20]..S
+00000fc0: 7562 6d69 7420 6167 6169 6e20 7769 7468  ubmit again with
+00000fd0: 2074 6865 2065 6d70 7479 2066 6965 6c64   the empty field
+00000fe0: 3a0a 0a20 203e 3e3e 2073 7562 6d69 7420  :..  >>> submit 
+00000ff0: 3d20 7465 7374 696e 672e 6765 7453 7562  = testing.getSub
+00001000: 6d69 7456 616c 7565 7328 636f 6e74 656e  mitValues(conten
+00001010: 7429 0a20 203e 3e3e 2072 6571 7565 7374  t).  >>> request
+00001020: 203d 2074 6573 7469 6e67 2e54 6573 7452   = testing.TestR
+00001030: 6571 7565 7374 2866 6f72 6d3d 7375 626d  equest(form=subm
+00001040: 6974 290a 2020 3e3e 3e20 636f 6e74 656e  it).  >>> conten
+00001050: 7420 3d20 6765 7446 6f72 6d28 7265 7175  t = getForm(requ
+00001060: 6573 742c 2027 4f62 6a65 6374 4d75 6c74  est, 'ObjectMult
+00001070: 695f 6469 6374 5f65 6469 745f 7375 626d  i_dict_edit_subm
+00001080: 6974 5f69 6e74 5f61 6761 696e 2e68 746d  it_int_again.htm
+00001090: 6c27 290a 2020 3e3e 3e20 7072 696e 7428  l').  >>> print(
+000010a0: 7465 7374 696e 672e 706c 6169 6e54 6578  testing.plainTex
+000010b0: 7428 636f 6e74 656e 742c 0a20 202e 2e2e  t(content,.  ...
+000010c0: 2020 2020 2027 2e2f 2f64 6976 5b40 6964       './/div[@id
+000010d0: 3d22 666f 726d 2d77 6964 6765 7473 2d64  ="form-widgets-d
+000010e0: 6963 744f 664f 626a 6563 742d 302d 726f  ictOfObject-0-ro
+000010f0: 7722 5d2f 2f64 6976 5b40 636c 6173 733d  w"]//div[@class=
+00001100: 2265 7272 6f72 225d 2729 290a 2020 5265  "error"]')).  Re
+00001110: 7175 6972 6564 2069 6e70 7574 2069 7320  quired input is 
+00001120: 6d69 7373 696e 672e 0a20 2041 6e20 6f62  missing..  An ob
+00001130: 6a65 6374 2066 6169 6c65 6420 7363 6865  ject failed sche
+00001140: 6d61 206f 7220 696e 7661 7269 616e 7420  ma or invariant 
+00001150: 7661 6c69 6461 7469 6f6e 2e0a 2020 5265  validation..  Re
+00001160: 7175 6972 6564 2069 6e70 7574 2069 7320  quired input is 
+00001170: 6d69 7373 696e 672e 0a20 2052 6571 7569  missing..  Requi
+00001180: 7265 6420 696e 7075 7420 6973 206d 6973  red input is mis
+00001190: 7369 6e67 2e0a 2020 5265 7175 6972 6564  sing..  Required
+000011a0: 2069 6e70 7574 2069 7320 6d69 7373 696e   input is missin
+000011b0: 672e 0a20 2052 6571 7569 7265 6420 696e  g..  Required in
+000011c0: 7075 7420 6973 206d 6973 7369 6e67 2e0a  put is missing..
+000011d0: 0a20 203e 3e3e 2070 7269 6e74 2874 6573  .  >>> print(tes
+000011e0: 7469 6e67 2e70 6c61 696e 5465 7874 2863  ting.plainText(c
+000011f0: 6f6e 7465 6e74 2c0a 2020 2e2e 2e20 2020  ontent,.  ...   
+00001200: 2020 272e 2f2f 6469 765b 4069 643d 2266    './/div[@id="f
+00001210: 6f72 6d2d 7769 6467 6574 732d 6469 6374  orm-widgets-dict
+00001220: 4f66 4f62 6a65 6374 2d31 2d72 6f77 225d  OfObject-1-row"]
+00001230: 2f2f 6469 765b 4063 6c61 7373 3d22 6572  //div[@class="er
+00001240: 726f 7222 5d27 2929 0a20 2054 6865 2065  ror"]')).  The e
+00001250: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
+00001260: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
+00001270: 6765 7220 6c69 7465 7261 6c2e 0a20 2054  ger literal..  T
+00001280: 6865 2065 6e74 6572 6564 2076 616c 7565  he entered value
+00001290: 2069 7320 6e6f 7420 6120 7661 6c69 6420   is not a valid 
+000012a0: 696e 7465 6765 7220 6c69 7465 7261 6c2e  integer literal.
+000012b0: 0a0a 2020 3e3e 3e20 7072 696e 7428 7465  ..  >>> print(te
+000012c0: 7374 696e 672e 706c 6169 6e54 6578 7428  sting.plainText(
+000012d0: 636f 6e74 656e 742c 0a20 202e 2e2e 2020  content,.  ...  
+000012e0: 2020 2027 2e2f 2f64 6976 5b40 6964 3d22     './/div[@id="
+000012f0: 666f 726d 2d77 6964 6765 7473 2d64 6963  form-widgets-dic
+00001300: 744f 664f 626a 6563 742d 302d 726f 7722  tOfObject-0-row"
+00001310: 5d27 2929 0a20 204f 626a 6563 7420 6b65  ]')).  Object ke
+00001320: 7920 2a0a 2020 3c42 4c41 4e4b 4c49 4e45  y *.  <BLANKLINE
+00001330: 3e0a 2020 5265 7175 6972 6564 2069 6e70  >.  Required inp
+00001340: 7574 2069 7320 6d69 7373 696e 672e 0a20  ut is missing.. 
+00001350: 203c 424c 414e 4b4c 494e 453e 0a20 205b   <BLANKLINE>.  [
+00001360: 5d0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  ].  <BLANKLINE>.
+00001370: 2020 4f62 6a65 6374 206c 6162 656c 202a    Object label *
+00001380: 0a20 203c 424c 414e 4b4c 494e 453e 0a20  .  <BLANKLINE>. 
+00001390: 2041 6e20 6f62 6a65 6374 2066 6169 6c65   An object faile
+000013a0: 6420 7363 6865 6d61 206f 7220 696e 7661  d schema or inva
+000013b0: 7269 616e 7420 7661 6c69 6461 7469 6f6e  riant validation
+000013c0: 2e0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  ..  <BLANKLINE>.
+000013d0: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
+000013e0: 6c20 2a0a 2020 5265 7175 6972 6564 2069  l *.  Required i
+000013f0: 6e70 7574 2069 7320 6d69 7373 696e 672e  nput is missing.
+00001400: 0a20 205b 5d0a 2020 426f 6f6c 206c 6162  .  [].  Bool lab
+00001410: 656c 202a 0a20 2052 6571 7569 7265 6420  el *.  Required 
+00001420: 696e 7075 7420 6973 206d 6973 7369 6e67  input is missing
+00001430: 2e0a 2020 2820 2920 7965 7320 2820 2920  ..  ( ) yes ( ) 
+00001440: 6e6f 0a20 2043 686f 6963 6520 6c61 6265  no.  Choice labe
+00001450: 6c20 2a0a 2020 5b6f 6e65 5d0a 2020 4368  l *.  [one].  Ch
+00001460: 6f69 6365 4f70 7420 6c61 6265 6c0a 2020  oiceOpt label.  
+00001470: 5b4e 6f20 7661 6c75 655d 0a20 2054 6578  [No value].  Tex
+00001480: 744c 696e 6520 6c61 6265 6c20 2a0a 2020  tLine label *.  
+00001490: 5265 7175 6972 6564 2069 6e70 7574 2069  Required input i
+000014a0: 7320 6d69 7373 696e 672e 0a20 205b 5d0a  s missing..  [].
+000014b0: 2020 4461 7465 206c 6162 656c 202a 0a20    Date label *. 
+000014c0: 2052 6571 7569 7265 6420 696e 7075 7420   Required input 
+000014d0: 6973 206d 6973 7369 6e67 2e0a 2020 5b5d  is missing..  []
+000014e0: 0a0a 4c65 7427 7320 7265 6d6f 7665 2073  ..Let's remove s
+000014f0: 6f6d 6520 6974 656d 733a 0a0a 2020 3e3e  ome items:..  >>
+00001500: 3e20 7375 626d 6974 203d 2074 6573 7469  > submit = testi
+00001510: 6e67 2e67 6574 5375 626d 6974 5661 6c75  ng.getSubmitValu
+00001520: 6573 2863 6f6e 7465 6e74 290a 2020 3e3e  es(content).  >>
+00001530: 3e20 7375 626d 6974 5b27 666f 726d 2e77  > submit['form.w
+00001540: 6964 6765 7473 2e64 6963 744f 664f 626a  idgets.dictOfObj
+00001550: 6563 742e 302e 7265 6d6f 7665 275d 203d  ect.0.remove'] =
+00001560: 2027 3127 0a20 203e 3e3e 2073 7562 6d69   '1'.  >>> submi
+00001570: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
+00001580: 6469 6374 4f66 4f62 6a65 6374 2e32 2e72  dictOfObject.2.r
+00001590: 656d 6f76 6527 5d20 3d20 2731 270a 2020  emove'] = '1'.  
+000015a0: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
+000015b0: 2e77 6964 6765 7473 2e64 6963 744f 664f  .widgets.dictOfO
+000015c0: 626a 6563 742e 6275 7474 6f6e 732e 7265  bject.buttons.re
+000015d0: 6d6f 7665 275d 203d 2027 5265 6d6f 7665  move'] = 'Remove
+000015e0: 2073 656c 6563 7465 6427 0a20 203e 3e3e   selected'.  >>>
+000015f0: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
+00001600: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
+00001610: 6f72 6d3d 7375 626d 6974 290a 2020 3e3e  orm=submit).  >>
+00001620: 3e20 636f 6e74 656e 7420 3d20 6765 7446  > content = getF
+00001630: 6f72 6d28 7265 7175 6573 742c 2027 4f62  orm(request, 'Ob
+00001640: 6a65 6374 4d75 6c74 695f 6469 6374 5f65  jectMulti_dict_e
+00001650: 6469 745f 7265 6d6f 7665 5f69 6e74 2e68  dit_remove_int.h
+00001660: 746d 6c27 290a 2020 3e3e 3e20 7072 696e  tml').  >>> prin
+00001670: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
+00001680: 6578 7428 636f 6e74 656e 7429 290a 2020  ext(content)).  
+00001690: 4469 6374 4f66 4f62 6a65 6374 206c 6162  DictOfObject lab
+000016a0: 656c 0a20 203c 424c 414e 4b4c 494e 453e  el.  <BLANKLINE>
+000016b0: 0a20 204f 626a 6563 7420 6b65 7920 2a0a  .  Object key *.
+000016c0: 2020 5b73 7562 6f62 315d 0a20 204f 626a    [subob1].  Obj
+000016d0: 6563 7420 6c61 6265 6c20 2a0a 2020 5468  ect label *.  Th
+000016e0: 6520 656e 7465 7265 6420 7661 6c75 6520  e entered value 
+000016f0: 6973 206e 6f74 2061 2076 616c 6964 2069  is not a valid i
+00001700: 6e74 6567 6572 206c 6974 6572 616c 2e0a  nteger literal..
+00001710: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
+00001720: 6c20 2a0a 2020 5468 6520 656e 7465 7265  l *.  The entere
+00001730: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
+00001740: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
+00001750: 6974 6572 616c 2e0a 2020 5b66 6f6f 6261  iteral..  [fooba
+00001760: 725d 0a20 2042 6f6f 6c20 6c61 6265 6c20  r].  Bool label 
+00001770: 2a0a 2020 2820 2920 7965 7320 284f 2920  *.  ( ) yes (O) 
+00001780: 6e6f 0a20 2043 686f 6963 6520 6c61 6265  no.  Choice labe
+00001790: 6c20 2a0a 2020 5b74 776f 5d0a 2020 4368  l *.  [two].  Ch
+000017a0: 6f69 6365 4f70 7420 6c61 6265 6c0a 2020  oiceOpt label.  
+000017b0: 5b73 6978 5d0a 2020 5465 7874 4c69 6e65  [six].  TextLine
+000017c0: 206c 6162 656c 202a 0a20 205b 736f 6d65   label *.  [some
+000017d0: 2074 6578 7420 6f6e 655d 0a20 2044 6174   text one].  Dat
+000017e0: 6520 6c61 6265 6c20 2a0a 2020 5b31 342f  e label *.  [14/
+000017f0: 3036 2f32 305d 0a20 205b 4164 645d 0a20  06/20].  [Add]. 
+00001800: 205b 5265 6d6f 7665 2073 656c 6563 7465   [Remove selecte
+00001810: 645d 0a20 205b 4170 706c 795d 0a0a 5468  d].  [Apply]..Th
+00001820: 6520 6f62 6a65 6374 2069 7320 756e 6368  e object is unch
+00001830: 616e 6765 643a 0a0a 2020 3e3e 3e20 7070  anged:..  >>> pp
+00001840: 7269 6e74 286f 626a 2e64 6963 744f 664f  rint(obj.dictOfO
+00001850: 626a 6563 7429 0a20 207b 2773 7562 6f62  bject).  {'subob
+00001860: 3127 3a20 3c4f 626a 6563 7457 6964 6765  1': <ObjectWidge
+00001870: 744d 756c 7469 5375 6249 6e74 6567 7261  tMultiSubIntegra
+00001880: 7469 6f6e 0a20 2020 206d 756c 7469 426f  tion.    multiBo
+00001890: 6f6c 3a20 4661 6c73 650a 2020 2020 6d75  ol: False.    mu
+000018a0: 6c74 6943 686f 6963 653a 2027 7477 6f27  ltiChoice: 'two'
+000018b0: 0a20 2020 206d 756c 7469 4368 6f69 6365  .    multiChoice
+000018c0: 4f70 743a 2027 7369 7827 0a20 2020 206d  Opt: 'six'.    m
+000018d0: 756c 7469 4461 7465 3a20 6461 7465 7469  ultiDate: dateti
+000018e0: 6d65 2e64 6174 6528 3230 3134 2c20 362c  me.date(2014, 6,
+000018f0: 2032 3029 0a20 2020 206d 756c 7469 496e   20).    multiIn
+00001900: 743a 202d 3130 300a 2020 2020 6d75 6c74  t: -100.    mult
+00001910: 6954 6578 744c 696e 653a 2027 736f 6d65  iTextLine: 'some
+00001920: 2074 6578 7420 6f6e 6527 3e2c 0a20 2020   text one'>,.   
+00001930: 2773 7562 6f62 3227 3a20 3c4f 626a 6563  'subob2': <Objec
+00001940: 7457 6964 6765 744d 756c 7469 5375 6249  tWidgetMultiSubI
+00001950: 6e74 6567 7261 7469 6f6e 0a20 2020 206d  ntegration.    m
+00001960: 756c 7469 426f 6f6c 3a20 5472 7565 0a20  ultiBool: True. 
+00001970: 2020 206d 756c 7469 4368 6f69 6365 3a20     multiChoice: 
+00001980: 276f 6e65 270a 2020 2020 6d75 6c74 6943  'one'.    multiC
+00001990: 686f 6963 654f 7074 3a20 2766 6f75 7227  hoiceOpt: 'four'
+000019a0: 0a20 2020 206d 756c 7469 4461 7465 3a20  .    multiDate: 
+000019b0: 6461 7465 7469 6d65 2e64 6174 6528 3230  datetime.date(20
+000019c0: 3131 2c20 332c 2031 3529 0a20 2020 206d  11, 3, 15).    m
+000019d0: 756c 7469 496e 743a 2034 320a 2020 2020  ultiInt: 42.    
+000019e0: 6d75 6c74 6954 6578 744c 696e 653a 2027  multiTextLine: '
+000019f0: 7365 636f 6e64 2074 7874 273e 7d0a 0a0a  second txt'>}...
+00001a00: 7772 6f6e 6720 696e 7075 7420 2854 6578  wrong input (Tex
+00001a10: 744c 696e 6529 0a23 2323 2323 2323 2323  tLine).#########
+00001a20: 2323 2323 2323 2323 2323 2323 230a 0a53  #############..S
+00001a30: 6574 2061 2077 726f 6e67 2076 616c 7565  et a wrong value
+00001a40: 2061 6e64 2061 6464 2061 206e 6577 2069   and add a new i
+00001a50: 6e70 7574 3a0a 0a20 203e 3e3e 2073 7562  nput:..  >>> sub
+00001a60: 6d69 7420 3d20 7465 7374 696e 672e 6765  mit = testing.ge
+00001a70: 7453 7562 6d69 7456 616c 7565 7328 636f  tSubmitValues(co
+00001a80: 6e74 656e 7429 0a20 203e 3e3e 2073 7562  ntent).  >>> sub
+00001a90: 6d69 745b 2766 6f72 6d2e 7769 6467 6574  mit['form.widget
+00001aa0: 732e 6469 6374 4f66 4f62 6a65 6374 2e30  s.dictOfObject.0
+00001ab0: 2e77 6964 6765 7473 2e6d 756c 7469 5465  .widgets.multiTe
+00001ac0: 7874 4c69 6e65 275d 203d 2027 666f 6f5c  xtLine'] = 'foo\
+00001ad0: 6e62 6172 270a 0a20 203e 3e3e 2073 7562  nbar'..  >>> sub
+00001ae0: 6d69 745b 2766 6f72 6d2e 7769 6467 6574  mit['form.widget
+00001af0: 732e 6469 6374 4f66 4f62 6a65 6374 2e62  s.dictOfObject.b
+00001b00: 7574 746f 6e73 2e61 6464 275d 203d 2027  uttons.add'] = '
+00001b10: 4164 6427 0a0a 2020 3e3e 3e20 7265 7175  Add'..  >>> requ
+00001b20: 6573 7420 3d20 7465 7374 696e 672e 5465  est = testing.Te
+00001b30: 7374 5265 7175 6573 7428 666f 726d 3d73  stRequest(form=s
+00001b40: 7562 6d69 7429 0a0a 496d 706f 7274 616e  ubmit)..Importan
+00001b50: 7420 6973 2074 6861 7420 7765 2067 6574  t is that we get
+00001b60: 2022 436f 6e73 7472 6169 6e74 206e 6f74   "Constraint not
+00001b70: 2073 6174 6973 6669 6564 220a 666f 7220   satisfied".for 
+00001b80: 2266 6f6f 5c6e 6261 7222 2061 6e64 2061  "foo\nbar" and a
+00001b90: 206e 6577 2069 6e70 7574 2e0a 0a20 203e   new input...  >
+00001ba0: 3e3e 2063 6f6e 7465 6e74 203d 2067 6574  >> content = get
+00001bb0: 466f 726d 2872 6571 7565 7374 2c20 274f  Form(request, 'O
+00001bc0: 626a 6563 744d 756c 7469 5f64 6963 745f  bjectMulti_dict_
+00001bd0: 6564 6974 5f73 7562 6d69 745f 7465 7874  edit_submit_text
+00001be0: 6c69 6e65 2e68 746d 6c27 290a 2020 3e3e  line.html').  >>
+00001bf0: 3e20 7072 696e 7428 7465 7374 696e 672e  > print(testing.
+00001c00: 706c 6169 6e54 6578 7428 636f 6e74 656e  plainText(conten
+00001c10: 742c 0a20 202e 2e2e 2020 2020 2027 2e2f  t,.  ...     './
+00001c20: 2f64 6976 5b40 6964 3d22 666f 726d 2d77  /div[@id="form-w
+00001c30: 6964 6765 7473 2d64 6963 744f 664f 626a  idgets-dictOfObj
+00001c40: 6563 742d 302d 726f 7722 5d27 2929 0a20  ect-0-row"]')). 
+00001c50: 204f 626a 6563 7420 6b65 7920 2a0a 2020   Object key *.  
+00001c60: 3c42 4c41 4e4b 4c49 4e45 3e0a 2020 5b73  <BLANKLINE>.  [s
+00001c70: 7562 6f62 315d 0a20 203c 424c 414e 4b4c  ubob1].  <BLANKL
+00001c80: 494e 453e 0a20 204f 626a 6563 7420 6c61  INE>.  Object la
+00001c90: 6265 6c20 2a0a 2020 3c42 4c41 4e4b 4c49  bel *.  <BLANKLI
+00001ca0: 4e45 3e0a 2020 5468 6520 656e 7465 7265  NE>.  The entere
+00001cb0: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
+00001cc0: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
+00001cd0: 6974 6572 616c 2e0a 2020 3c42 4c41 4e4b  iteral..  <BLANK
+00001ce0: 4c49 4e45 3e0a 2020 5b20 5d0a 2020 496e  LINE>.  [ ].  In
+00001cf0: 7420 6c61 6265 6c20 2a0a 2020 5468 6520  t label *.  The 
+00001d00: 656e 7465 7265 6420 7661 6c75 6520 6973  entered value is
+00001d10: 206e 6f74 2061 2076 616c 6964 2069 6e74   not a valid int
+00001d20: 6567 6572 206c 6974 6572 616c 2e0a 2020  eger literal..  
+00001d30: 5b66 6f6f 6261 725d 0a20 2042 6f6f 6c20  [foobar].  Bool 
+00001d40: 6c61 6265 6c20 2a0a 2020 2820 2920 7965  label *.  ( ) ye
+00001d50: 7320 284f 2920 6e6f 0a20 2043 686f 6963  s (O) no.  Choic
+00001d60: 6520 6c61 6265 6c20 2a0a 2020 5b74 776f  e label *.  [two
+00001d70: 5d0a 2020 4368 6f69 6365 4f70 7420 6c61  ].  ChoiceOpt la
+00001d80: 6265 6c0a 2020 5b73 6978 5d0a 2020 5465  bel.  [six].  Te
+00001d90: 7874 4c69 6e65 206c 6162 656c 202a 0a20  xtLine label *. 
+00001da0: 2043 6f6e 7374 7261 696e 7420 6e6f 7420   Constraint not 
+00001db0: 7361 7469 7366 6965 640a 2020 5b66 6f6f  satisfied.  [foo
+00001dc0: 0a20 2062 6172 5d0a 2020 4461 7465 206c  .  bar].  Date l
+00001dd0: 6162 656c 202a 0a20 205b 3134 2f30 362f  abel *.  [14/06/
+00001de0: 3230 5d0a 0a53 7562 6d69 7420 6167 6169  20]..Submit agai
+00001df0: 6e20 7769 7468 2074 6865 2065 6d70 7479  n with the empty
+00001e00: 2066 6965 6c64 3a0a 0a20 203e 3e3e 2073   field:..  >>> s
+00001e10: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
+00001e20: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
+00001e30: 636f 6e74 656e 7429 0a20 203e 3e3e 2072  content).  >>> r
+00001e40: 6571 7565 7374 203d 2074 6573 7469 6e67  equest = testing
+00001e50: 2e54 6573 7452 6571 7565 7374 2866 6f72  .TestRequest(for
+00001e60: 6d3d 7375 626d 6974 290a 2020 3e3e 3e20  m=submit).  >>> 
+00001e70: 636f 6e74 656e 7420 3d20 6765 7446 6f72  content = getFor
+00001e80: 6d28 7265 7175 6573 742c 2027 4f62 6a65  m(request, 'Obje
+00001e90: 6374 4d75 6c74 695f 6469 6374 5f65 6469  ctMulti_dict_edi
+00001ea0: 745f 7375 626d 6974 5f74 6578 746c 696e  t_submit_textlin
+00001eb0: 655f 6167 6169 6e2e 6874 6d6c 2729 0a0a  e_again.html')..
+00001ec0: 2020 3e3e 3e20 7072 696e 7428 7465 7374    >>> print(test
+00001ed0: 696e 672e 706c 6169 6e54 6578 7428 636f  ing.plainText(co
+00001ee0: 6e74 656e 742c 0a20 202e 2e2e 2020 2020  ntent,.  ...    
+00001ef0: 2027 2e2f 2f64 6976 5b40 6964 3d22 666f   './/div[@id="fo
+00001f00: 726d 2d77 6964 6765 7473 2d64 6963 744f  rm-widgets-dictO
+00001f10: 664f 626a 6563 742d 302d 726f 7722 5d2f  fObject-0-row"]/
+00001f20: 2f64 6976 5b40 636c 6173 733d 2265 7272  /div[@class="err
+00001f30: 6f72 225d 2729 290a 2020 5265 7175 6972  or"]')).  Requir
+00001f40: 6564 2069 6e70 7574 2069 7320 6d69 7373  ed input is miss
+00001f50: 696e 672e 0a20 2041 6e20 6f62 6a65 6374  ing..  An object
+00001f60: 2066 6169 6c65 6420 7363 6865 6d61 206f   failed schema o
+00001f70: 7220 696e 7661 7269 616e 7420 7661 6c69  r invariant vali
+00001f80: 6461 7469 6f6e 2e0a 2020 5265 7175 6972  dation..  Requir
+00001f90: 6564 2069 6e70 7574 2069 7320 6d69 7373  ed input is miss
+00001fa0: 696e 672e 0a20 2052 6571 7569 7265 6420  ing..  Required 
+00001fb0: 696e 7075 7420 6973 206d 6973 7369 6e67  input is missing
+00001fc0: 2e0a 2020 5265 7175 6972 6564 2069 6e70  ..  Required inp
+00001fd0: 7574 2069 7320 6d69 7373 696e 672e 0a20  ut is missing.. 
+00001fe0: 2052 6571 7569 7265 6420 696e 7075 7420   Required input 
+00001ff0: 6973 206d 6973 7369 6e67 2e0a 0a20 203e  is missing...  >
+00002000: 3e3e 2070 7269 6e74 2874 6573 7469 6e67  >> print(testing
+00002010: 2e70 6c61 696e 5465 7874 2863 6f6e 7465  .plainText(conte
+00002020: 6e74 2c0a 2020 2e2e 2e20 2020 2020 272e  nt,.  ...     '.
+00002030: 2f2f 6469 765b 4069 643d 2266 6f72 6d2d  //div[@id="form-
+00002040: 7769 6467 6574 732d 6469 6374 4f66 4f62  widgets-dictOfOb
+00002050: 6a65 6374 2d31 2d72 6f77 225d 2f2f 6469  ject-1-row"]//di
+00002060: 765b 4063 6c61 7373 3d22 6572 726f 7222  v[@class="error"
+00002070: 5d27 2929 0a20 2054 6865 2065 6e74 6572  ]')).  The enter
+00002080: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
+00002090: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
+000020a0: 6c69 7465 7261 6c2e 0a20 2054 6865 2065  literal..  The e
+000020b0: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
+000020c0: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
+000020d0: 6765 7220 6c69 7465 7261 6c2e 0a20 2043  ger literal..  C
+000020e0: 6f6e 7374 7261 696e 7420 6e6f 7420 7361  onstraint not sa
+000020f0: 7469 7366 6965 640a 0a4c 6574 2773 2072  tisfied..Let's r
+00002100: 656d 6f76 6520 736f 6d65 2069 7465 6d73  emove some items
+00002110: 3a0a 0a20 203e 3e3e 2073 7562 6d69 7420  :..  >>> submit 
+00002120: 3d20 7465 7374 696e 672e 6765 7453 7562  = testing.getSub
+00002130: 6d69 7456 616c 7565 7328 636f 6e74 656e  mitValues(conten
+00002140: 7429 0a20 203e 3e3e 2073 7562 6d69 745b  t).  >>> submit[
+00002150: 2766 6f72 6d2e 7769 6467 6574 732e 6469  'form.widgets.di
+00002160: 6374 4f66 4f62 6a65 6374 2e30 2e72 656d  ctOfObject.0.rem
+00002170: 6f76 6527 5d20 3d20 2731 270a 2020 3e3e  ove'] = '1'.  >>
+00002180: 3e20 7375 626d 6974 5b27 666f 726d 2e77  > submit['form.w
+00002190: 6964 6765 7473 2e64 6963 744f 664f 626a  idgets.dictOfObj
+000021a0: 6563 742e 6275 7474 6f6e 732e 7265 6d6f  ect.buttons.remo
+000021b0: 7665 275d 203d 2027 5265 6d6f 7665 2073  ve'] = 'Remove s
+000021c0: 656c 6563 7465 6427 0a20 203e 3e3e 2072  elected'.  >>> r
+000021d0: 6571 7565 7374 203d 2074 6573 7469 6e67  equest = testing
+000021e0: 2e54 6573 7452 6571 7565 7374 2866 6f72  .TestRequest(for
+000021f0: 6d3d 7375 626d 6974 290a 2020 3e3e 3e20  m=submit).  >>> 
+00002200: 636f 6e74 656e 7420 3d20 6765 7446 6f72  content = getFor
+00002210: 6d28 7265 7175 6573 742c 2027 4f62 6a65  m(request, 'Obje
+00002220: 6374 4d75 6c74 695f 6469 6374 5f65 6469  ctMulti_dict_edi
+00002230: 745f 7265 6d6f 7665 5f74 6578 746c 696e  t_remove_textlin
+00002240: 652e 6874 6d6c 2729 0a20 203e 3e3e 2070  e.html').  >>> p
+00002250: 7269 6e74 2874 6573 7469 6e67 2e70 6c61  rint(testing.pla
+00002260: 696e 5465 7874 2863 6f6e 7465 6e74 2929  inText(content))
+00002270: 0a20 2044 6963 744f 664f 626a 6563 7420  .  DictOfObject 
+00002280: 6c61 6265 6c0a 2020 3c42 4c41 4e4b 4c49  label.  <BLANKLI
+00002290: 4e45 3e0a 2020 4f62 6a65 6374 206b 6579  NE>.  Object key
+000022a0: 202a 0a20 205b 7375 626f 6231 5d0a 2020   *.  [subob1].  
+000022b0: 4f62 6a65 6374 206c 6162 656c 202a 0a20  Object label *. 
+000022c0: 2054 6865 2065 6e74 6572 6564 2076 616c   The entered val
+000022d0: 7565 2069 7320 6e6f 7420 6120 7661 6c69  ue is not a vali
+000022e0: 6420 696e 7465 6765 7220 6c69 7465 7261  d integer litera
+000022f0: 6c2e 0a20 205b 205d 0a20 2049 6e74 206c  l..  [ ].  Int l
+00002300: 6162 656c 202a 0a20 2054 6865 2065 6e74  abel *.  The ent
+00002310: 6572 6564 2076 616c 7565 2069 7320 6e6f  ered value is no
+00002320: 7420 6120 7661 6c69 6420 696e 7465 6765  t a valid intege
+00002330: 7220 6c69 7465 7261 6c2e 0a20 205b 666f  r literal..  [fo
+00002340: 6f62 6172 5d0a 2020 426f 6f6c 206c 6162  obar].  Bool lab
+00002350: 656c 202a 0a20 2028 2029 2079 6573 2028  el *.  ( ) yes (
+00002360: 4f29 206e 6f0a 2020 4368 6f69 6365 206c  O) no.  Choice l
+00002370: 6162 656c 202a 0a20 205b 7477 6f5d 0a20  abel *.  [two]. 
+00002380: 2043 686f 6963 654f 7074 206c 6162 656c   ChoiceOpt label
+00002390: 0a20 205b 7369 785d 0a20 2054 6578 744c  .  [six].  TextL
+000023a0: 696e 6520 6c61 6265 6c20 2a0a 2020 436f  ine label *.  Co
+000023b0: 6e73 7472 6169 6e74 206e 6f74 2073 6174  nstraint not sat
+000023c0: 6973 6669 6564 0a20 205b 666f 6f0a 2020  isfied.  [foo.  
+000023d0: 6261 725d 0a20 2044 6174 6520 6c61 6265  bar].  Date labe
+000023e0: 6c20 2a0a 2020 5b31 342f 3036 2f32 305d  l *.  [14/06/20]
+000023f0: 0a20 205b 4164 645d 0a20 205b 5265 6d6f  .  [Add].  [Remo
+00002400: 7665 2073 656c 6563 7465 645d 0a20 205b  ve selected].  [
+00002410: 4170 706c 795d 0a0a 5468 6520 6f62 6a65  Apply]..The obje
+00002420: 6374 2069 7320 756e 6368 616e 6765 643a  ct is unchanged:
+00002430: 0a0a 2020 3e3e 3e20 7070 7269 6e74 286f  ..  >>> pprint(o
+00002440: 626a 2e64 6963 744f 664f 626a 6563 7429  bj.dictOfObject)
+00002450: 0a20 207b 2773 7562 6f62 3127 3a20 3c4f  .  {'subob1': <O
+00002460: 626a 6563 7457 6964 6765 744d 756c 7469  bjectWidgetMulti
+00002470: 5375 6249 6e74 6567 7261 7469 6f6e 0a20  SubIntegration. 
+00002480: 2020 206d 756c 7469 426f 6f6c 3a20 4661     multiBool: Fa
+00002490: 6c73 650a 2020 2020 6d75 6c74 6943 686f  lse.    multiCho
+000024a0: 6963 653a 2027 7477 6f27 0a20 2020 206d  ice: 'two'.    m
+000024b0: 756c 7469 4368 6f69 6365 4f70 743a 2027  ultiChoiceOpt: '
+000024c0: 7369 7827 0a20 2020 206d 756c 7469 4461  six'.    multiDa
+000024d0: 7465 3a20 6461 7465 7469 6d65 2e64 6174  te: datetime.dat
+000024e0: 6528 3230 3134 2c20 362c 2032 3029 0a20  e(2014, 6, 20). 
+000024f0: 2020 206d 756c 7469 496e 743a 202d 3130     multiInt: -10
+00002500: 300a 2020 2020 6d75 6c74 6954 6578 744c  0.    multiTextL
+00002510: 696e 653a 2027 736f 6d65 2074 6578 7420  ine: 'some text 
+00002520: 6f6e 6527 3e2c 0a20 2020 2773 7562 6f62  one'>,.   'subob
+00002530: 3227 3a20 3c4f 626a 6563 7457 6964 6765  2': <ObjectWidge
+00002540: 744d 756c 7469 5375 6249 6e74 6567 7261  tMultiSubIntegra
+00002550: 7469 6f6e 0a20 2020 206d 756c 7469 426f  tion.    multiBo
+00002560: 6f6c 3a20 5472 7565 0a20 2020 206d 756c  ol: True.    mul
+00002570: 7469 4368 6f69 6365 3a20 276f 6e65 270a  tiChoice: 'one'.
+00002580: 2020 2020 6d75 6c74 6943 686f 6963 654f      multiChoiceO
+00002590: 7074 3a20 2766 6f75 7227 0a20 2020 206d  pt: 'four'.    m
+000025a0: 756c 7469 4461 7465 3a20 6461 7465 7469  ultiDate: dateti
+000025b0: 6d65 2e64 6174 6528 3230 3131 2c20 332c  me.date(2011, 3,
+000025c0: 2031 3529 0a20 2020 206d 756c 7469 496e   15).    multiIn
+000025d0: 743a 2034 320a 2020 2020 6d75 6c74 6954  t: 42.    multiT
+000025e0: 6578 744c 696e 653a 2027 7365 636f 6e64  extLine: 'second
+000025f0: 2074 7874 273e 7d0a 0a0a 7772 6f6e 6720   txt'>}...wrong 
+00002600: 696e 7075 7420 2844 6174 6529 0a23 2323  input (Date).###
+00002610: 2323 2323 2323 2323 2323 2323 2323 230a  ###############.
+00002620: 0a53 6574 2061 2077 726f 6e67 2076 616c  .Set a wrong val
+00002630: 7565 2061 6e64 2061 6464 2061 206e 6577  ue and add a new
+00002640: 2069 6e70 7574 3a0a 0a20 203e 3e3e 2073   input:..  >>> s
+00002650: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
+00002660: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
+00002670: 636f 6e74 656e 7429 0a20 203e 3e3e 2073  content).  >>> s
+00002680: 7562 6d69 745b 2766 6f72 6d2e 7769 6467  ubmit['form.widg
+00002690: 6574 732e 6469 6374 4f66 4f62 6a65 6374  ets.dictOfObject
+000026a0: 2e30 2e77 6964 6765 7473 2e6d 756c 7469  .0.widgets.multi
+000026b0: 4461 7465 275d 203d 2027 666f 6f62 6172  Date'] = 'foobar
+000026c0: 270a 0a20 203e 3e3e 2073 7562 6d69 745b  '..  >>> submit[
+000026d0: 2766 6f72 6d2e 7769 6467 6574 732e 6469  'form.widgets.di
+000026e0: 6374 4f66 4f62 6a65 6374 2e62 7574 746f  ctOfObject.butto
+000026f0: 6e73 2e61 6464 275d 203d 2027 4164 6427  ns.add'] = 'Add'
+00002700: 0a0a 2020 3e3e 3e20 7265 7175 6573 7420  ..  >>> request 
+00002710: 3d20 7465 7374 696e 672e 5465 7374 5265  = testing.TestRe
+00002720: 7175 6573 7428 666f 726d 3d73 7562 6d69  quest(form=submi
+00002730: 7429 0a0a 496d 706f 7274 616e 7420 6973  t)..Important is
+00002740: 2074 6861 7420 7765 2067 6574 2022 5468   that we get "Th
+00002750: 6520 6461 7465 7469 6d65 2073 7472 696e  e datetime strin
+00002760: 6720 6469 6420 6e6f 7420 6d61 7463 6820  g did not match 
+00002770: 7468 6520 7061 7474 6572 6e22 0a66 6f72  the pattern".for
+00002780: 2022 666f 6f62 6172 2220 616e 6420 6120   "foobar" and a 
+00002790: 6e65 7720 696e 7075 742e 0a0a 2020 3e3e  new input...  >>
+000027a0: 3e20 636f 6e74 656e 7420 3d20 6765 7446  > content = getF
+000027b0: 6f72 6d28 7265 7175 6573 742c 2027 4f62  orm(request, 'Ob
+000027c0: 6a65 6374 4d75 6c74 695f 6469 6374 5f65  jectMulti_dict_e
+000027d0: 6469 745f 7375 626d 6974 5f64 6174 652e  dit_submit_date.
+000027e0: 6874 6d6c 2729 0a20 203e 3e3e 2070 7269  html').  >>> pri
+000027f0: 6e74 2874 6573 7469 6e67 2e70 6c61 696e  nt(testing.plain
+00002800: 5465 7874 2863 6f6e 7465 6e74 2929 0a20  Text(content)). 
+00002810: 2044 6963 744f 664f 626a 6563 7420 6c61   DictOfObject la
+00002820: 6265 6c0a 2020 3c42 4c41 4e4b 4c49 4e45  bel.  <BLANKLINE
+00002830: 3e0a 2020 4f62 6a65 6374 206b 6579 202a  >.  Object key *
+00002840: 0a20 205b 7375 626f 6231 5d0a 2020 4f62  .  [subob1].  Ob
+00002850: 6a65 6374 206c 6162 656c 202a 0a20 2054  ject label *.  T
+00002860: 6865 2065 6e74 6572 6564 2076 616c 7565  he entered value
+00002870: 2069 7320 6e6f 7420 6120 7661 6c69 6420   is not a valid 
+00002880: 696e 7465 6765 7220 6c69 7465 7261 6c2e  integer literal.
+00002890: 0a20 205b 205d 0a20 2049 6e74 206c 6162  .  [ ].  Int lab
+000028a0: 656c 202a 0a20 2054 6865 2065 6e74 6572  el *.  The enter
+000028b0: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
+000028c0: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
+000028d0: 6c69 7465 7261 6c2e 0a20 205b 666f 6f62  literal..  [foob
+000028e0: 6172 5d0a 2020 426f 6f6c 206c 6162 656c  ar].  Bool label
+000028f0: 202a 0a20 2028 2029 2079 6573 2028 4f29   *.  ( ) yes (O)
+00002900: 206e 6f0a 2020 4368 6f69 6365 206c 6162   no.  Choice lab
+00002910: 656c 202a 0a20 205b 7477 6f5d 0a20 2043  el *.  [two].  C
+00002920: 686f 6963 654f 7074 206c 6162 656c 0a20  hoiceOpt label. 
+00002930: 205b 7369 785d 0a20 2054 6578 744c 696e   [six].  TextLin
+00002940: 6520 6c61 6265 6c20 2a0a 2020 436f 6e73  e label *.  Cons
+00002950: 7472 6169 6e74 206e 6f74 2073 6174 6973  traint not satis
+00002960: 6669 6564 0a20 205b 666f 6f0a 2020 6261  fied.  [foo.  ba
+00002970: 725d 0a20 2044 6174 6520 6c61 6265 6c20  r].  Date label 
+00002980: 2a0a 2020 5468 6520 6461 7465 7469 6d65  *.  The datetime
+00002990: 2073 7472 696e 6720 6469 6420 6e6f 7420   string did not 
+000029a0: 6d61 7463 6820 7468 6520 7061 7474 6572  match the patter
+000029b0: 6e20 2779 792f 4d4d 2f64 6427 2e0a 2020  n 'yy/MM/dd'..  
+000029c0: 5b66 6f6f 6261 725d 0a20 204f 626a 6563  [foobar].  Objec
+000029d0: 7420 6b65 7920 2a0a 2020 5b5d 0a20 204f  t key *.  [].  O
+000029e0: 626a 6563 7420 6c61 6265 6c20 2a0a 2020  bject label *.  
+000029f0: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
+00002a00: 2a0a 2020 5b5d 0a20 2042 6f6f 6c20 6c61  *.  [].  Bool la
+00002a10: 6265 6c20 2a0a 2020 2820 2920 7965 7320  bel *.  ( ) yes 
+00002a20: 2820 2920 6e6f 0a20 2043 686f 6963 6520  ( ) no.  Choice 
+00002a30: 6c61 6265 6c20 2a0a 2020 5b5b 2020 2020  label *.  [[    
+00002a40: 5d5d 0a20 2043 686f 6963 654f 7074 206c  ]].  ChoiceOpt l
+00002a50: 6162 656c 0a20 205b 4e6f 2076 616c 7565  abel.  [No value
+00002a60: 5d0a 2020 5465 7874 4c69 6e65 206c 6162  ].  TextLine lab
+00002a70: 656c 202a 0a20 205b 5d0a 2020 4461 7465  el *.  [].  Date
+00002a80: 206c 6162 656c 202a 0a20 205b 5d0a 2020   label *.  [].  
+00002a90: 5b41 6464 5d0a 2020 5b52 656d 6f76 6520  [Add].  [Remove 
+00002aa0: 7365 6c65 6374 6564 5d0a 2020 5b41 7070  selected].  [App
+00002ab0: 6c79 5d0a 0a53 7562 6d69 7420 6167 6169  ly]..Submit agai
+00002ac0: 6e20 7769 7468 2074 6865 2065 6d70 7479  n with the empty
+00002ad0: 2066 6965 6c64 3a0a 0a20 203e 3e3e 2073   field:..  >>> s
+00002ae0: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
+00002af0: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
+00002b00: 636f 6e74 656e 7429 0a20 203e 3e3e 2072  content).  >>> r
+00002b10: 6571 7565 7374 203d 2074 6573 7469 6e67  equest = testing
+00002b20: 2e54 6573 7452 6571 7565 7374 2866 6f72  .TestRequest(for
+00002b30: 6d3d 7375 626d 6974 290a 2020 3e3e 3e20  m=submit).  >>> 
+00002b40: 636f 6e74 656e 7420 3d20 6765 7446 6f72  content = getFor
+00002b50: 6d28 7265 7175 6573 742c 2027 4f62 6a65  m(request, 'Obje
+00002b60: 6374 4d75 6c74 695f 6469 6374 5f65 6469  ctMulti_dict_edi
+00002b70: 745f 7375 626d 6974 5f64 6174 655f 6167  t_submit_date_ag
+00002b80: 6169 6e2e 6874 6d6c 2729 0a20 203e 3e3e  ain.html').  >>>
+00002b90: 2070 7269 6e74 2874 6573 7469 6e67 2e70   print(testing.p
+00002ba0: 6c61 696e 5465 7874 2863 6f6e 7465 6e74  lainText(content
+00002bb0: 2c0a 2020 2e2e 2e20 2020 2020 272e 2f2f  ,.  ...     './/
+00002bc0: 6469 765b 4069 643d 2266 6f72 6d2d 7769  div[@id="form-wi
+00002bd0: 6467 6574 732d 6469 6374 4f66 4f62 6a65  dgets-dictOfObje
+00002be0: 6374 2d31 2d72 6f77 225d 2f2f 6469 765b  ct-1-row"]//div[
+00002bf0: 4063 6c61 7373 3d22 6572 726f 7222 5d27  @class="error"]'
+00002c00: 2929 0a20 2054 6865 2065 6e74 6572 6564  )).  The entered
+00002c10: 2076 616c 7565 2069 7320 6e6f 7420 6120   value is not a 
+00002c20: 7661 6c69 6420 696e 7465 6765 7220 6c69  valid integer li
+00002c30: 7465 7261 6c2e 0a20 2054 6865 2065 6e74  teral..  The ent
+00002c40: 6572 6564 2076 616c 7565 2069 7320 6e6f  ered value is no
+00002c50: 7420 6120 7661 6c69 6420 696e 7465 6765  t a valid intege
+00002c60: 7220 6c69 7465 7261 6c2e 0a20 2043 6f6e  r literal..  Con
+00002c70: 7374 7261 696e 7420 6e6f 7420 7361 7469  straint not sati
+00002c80: 7366 6965 640a 2020 5468 6520 6461 7465  sfied.  The date
+00002c90: 7469 6d65 2073 7472 696e 6720 6469 6420  time string did 
+00002ca0: 6e6f 7420 6d61 7463 6820 7468 6520 7061  not match the pa
+00002cb0: 7474 6572 6e20 2779 792f 4d4d 2f64 6427  ttern 'yy/MM/dd'
+00002cc0: 2e0a 0a46 696c 6c20 696e 2061 2076 616c  ...Fill in a val
+00002cd0: 6964 2076 616c 7565 3a0a 0a20 203e 3e3e  id value:..  >>>
+00002ce0: 2073 7562 6d69 7420 3d20 7465 7374 696e   submit = testin
+00002cf0: 672e 6765 7453 7562 6d69 7456 616c 7565  g.getSubmitValue
+00002d00: 7328 636f 6e74 656e 7429 0a20 203e 3e3e  s(content).  >>>
+00002d10: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
+00002d20: 6467 6574 732e 6469 6374 4f66 4f62 6a65  dgets.dictOfObje
+00002d30: 6374 2e30 2e77 6964 6765 7473 2e6d 756c  ct.0.widgets.mul
+00002d40: 7469 4461 7465 275d 203d 2027 3134 2f30  tiDate'] = '14/0
+00002d50: 362f 3231 270a 2020 3e3e 3e20 7265 7175  6/21'.  >>> requ
+00002d60: 6573 7420 3d20 7465 7374 696e 672e 5465  est = testing.Te
+00002d70: 7374 5265 7175 6573 7428 666f 726d 3d73  stRequest(form=s
+00002d80: 7562 6d69 7429 0a20 203e 3e3e 2063 6f6e  ubmit).  >>> con
+00002d90: 7465 6e74 203d 2067 6574 466f 726d 2872  tent = getForm(r
+00002da0: 6571 7565 7374 2c20 274f 626a 6563 744d  equest, 'ObjectM
+00002db0: 756c 7469 5f64 6963 745f 6564 6974 5f73  ulti_dict_edit_s
+00002dc0: 7562 6d69 745f 6461 7465 322e 6874 6d6c  ubmit_date2.html
+00002dd0: 2729 0a20 203e 3e3e 2070 7269 6e74 2874  ').  >>> print(t
+00002de0: 6573 7469 6e67 2e70 6c61 696e 5465 7874  esting.plainText
+00002df0: 2863 6f6e 7465 6e74 2929 0a20 2044 6963  (content)).  Dic
+00002e00: 744f 664f 626a 6563 7420 6c61 6265 6c20  tOfObject label 
+00002e10: 4f62 6a65 6374 206b 6579 202a 0a20 2052  Object key *.  R
+00002e20: 6571 7569 7265 6420 696e 7075 7420 6973  equired input is
+00002e30: 206d 6973 7369 6e67 2e0a 2020 5b5d 0a20   missing..  []. 
+00002e40: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
+00002e50: 2020 416e 206f 626a 6563 7420 6661 696c    An object fail
+00002e60: 6564 2073 6368 656d 6120 6f72 2069 6e76  ed schema or inv
+00002e70: 6172 6961 6e74 2076 616c 6964 6174 696f  ariant validatio
+00002e80: 6e2e 0a20 205b 205d 0a20 2049 6e74 206c  n..  [ ].  Int l
+00002e90: 6162 656c 202a 0a20 2052 6571 7569 7265  abel *.  Require
+00002ea0: 6420 696e 7075 7420 6973 206d 6973 7369  d input is missi
+00002eb0: 6e67 2e0a 2020 5b5d 0a20 2042 6f6f 6c20  ng..  [].  Bool 
+00002ec0: 6c61 6265 6c20 2a0a 2020 5265 7175 6972  label *.  Requir
+00002ed0: 6564 2069 6e70 7574 2069 7320 6d69 7373  ed input is miss
+00002ee0: 696e 672e 0a20 2028 2029 2079 6573 2028  ing..  ( ) yes (
+00002ef0: 2029 206e 6f0a 2020 4368 6f69 6365 206c   ) no.  Choice l
+00002f00: 6162 656c 202a 0a20 205b 6f6e 655d 0a20  abel *.  [one]. 
+00002f10: 2043 686f 6963 654f 7074 206c 6162 656c   ChoiceOpt label
+00002f20: 0a20 205b 4e6f 2076 616c 7565 5d0a 2020  .  [No value].  
+00002f30: 5465 7874 4c69 6e65 206c 6162 656c 202a  TextLine label *
+00002f40: 0a20 2052 6571 7569 7265 6420 696e 7075  .  Required inpu
+00002f50: 7420 6973 206d 6973 7369 6e67 2e0a 2020  t is missing..  
+00002f60: 5b5d 0a20 2044 6174 6520 6c61 6265 6c20  [].  Date label 
+00002f70: 2a0a 2020 5b31 342f 3036 2f32 315d 0a20  *.  [14/06/21]. 
+00002f80: 204f 626a 6563 7420 6b65 7920 2a0a 2020   Object key *.  
+00002f90: 5b73 7562 6f62 315d 0a20 204f 626a 6563  [subob1].  Objec
+00002fa0: 7420 6c61 6265 6c20 2a0a 2020 5468 6520  t label *.  The 
+00002fb0: 656e 7465 7265 6420 7661 6c75 6520 6973  entered value is
+00002fc0: 206e 6f74 2061 2076 616c 6964 2069 6e74   not a valid int
+00002fd0: 6567 6572 206c 6974 6572 616c 2e0a 2020  eger literal..  
+00002fe0: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
+00002ff0: 2a0a 2020 5468 6520 656e 7465 7265 6420  *.  The entered 
+00003000: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
+00003010: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
+00003020: 6572 616c 2e0a 2020 5b66 6f6f 6261 725d  eral..  [foobar]
+00003030: 0a20 2042 6f6f 6c20 6c61 6265 6c20 2a0a  .  Bool label *.
+00003040: 2020 2820 2920 7965 7320 284f 2920 6e6f    ( ) yes (O) no
+00003050: 0a20 2043 686f 6963 6520 6c61 6265 6c20  .  Choice label 
+00003060: 2a0a 2020 5b74 776f 5d0a 2020 4368 6f69  *.  [two].  Choi
+00003070: 6365 4f70 7420 6c61 6265 6c0a 2020 5b73  ceOpt label.  [s
+00003080: 6978 5d0a 2020 5465 7874 4c69 6e65 206c  ix].  TextLine l
+00003090: 6162 656c 202a 0a20 2043 6f6e 7374 7261  abel *.  Constra
+000030a0: 696e 7420 6e6f 7420 7361 7469 7366 6965  int not satisfie
+000030b0: 640a 2020 5b66 6f6f 0a20 2062 6172 5d0a  d.  [foo.  bar].
+000030c0: 2020 4461 7465 206c 6162 656c 202a 0a20    Date label *. 
+000030d0: 2054 6865 2064 6174 6574 696d 6520 7374   The datetime st
+000030e0: 7269 6e67 2064 6964 206e 6f74 206d 6174  ring did not mat
+000030f0: 6368 2074 6865 2070 6174 7465 726e 2027  ch the pattern '
+00003100: 7979 2f4d 4d2f 6464 272e 0a20 205b 666f  yy/MM/dd'..  [fo
+00003110: 6f62 6172 5d0a 2020 5b41 6464 5d20 5b52  obar].  [Add] [R
+00003120: 656d 6f76 6520 7365 6c65 6374 6564 5d0a  emove selected].
+00003130: 2020 5b41 7070 6c79 5d0a 0a4c 6574 2773    [Apply]..Let's
+00003140: 2072 656d 6f76 6520 736f 6d65 2069 7465   remove some ite
+00003150: 6d73 3a0a 0a20 203e 3e3e 2073 7562 6d69  ms:..  >>> submi
+00003160: 7420 3d20 7465 7374 696e 672e 6765 7453  t = testing.getS
+00003170: 7562 6d69 7456 616c 7565 7328 636f 6e74  ubmitValues(cont
+00003180: 656e 7429 0a20 203e 3e3e 2073 7562 6d69  ent).  >>> submi
+00003190: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
+000031a0: 6469 6374 4f66 4f62 6a65 6374 2e30 2e72  dictOfObject.0.r
+000031b0: 656d 6f76 6527 5d20 3d20 2731 270a 2020  emove'] = '1'.  
+000031c0: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
+000031d0: 2e77 6964 6765 7473 2e64 6963 744f 664f  .widgets.dictOfO
+000031e0: 626a 6563 742e 6275 7474 6f6e 732e 7265  bject.buttons.re
+000031f0: 6d6f 7665 275d 203d 2027 5265 6d6f 7665  move'] = 'Remove
+00003200: 2073 656c 6563 7465 6427 0a20 203e 3e3e   selected'.  >>>
+00003210: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
+00003220: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
+00003230: 6f72 6d3d 7375 626d 6974 290a 2020 3e3e  orm=submit).  >>
+00003240: 3e20 636f 6e74 656e 7420 3d20 6765 7446  > content = getF
+00003250: 6f72 6d28 7265 7175 6573 742c 2027 4f62  orm(request, 'Ob
+00003260: 6a65 6374 4d75 6c74 695f 6469 6374 5f65  jectMulti_dict_e
+00003270: 6469 745f 7265 6d6f 7665 5f64 6174 652e  dit_remove_date.
+00003280: 6874 6d6c 2729 0a20 203e 3e3e 2070 7269  html').  >>> pri
+00003290: 6e74 2874 6573 7469 6e67 2e70 6c61 696e  nt(testing.plain
+000032a0: 5465 7874 2863 6f6e 7465 6e74 2929 0a20  Text(content)). 
+000032b0: 2044 6963 744f 664f 626a 6563 7420 6c61   DictOfObject la
+000032c0: 6265 6c0a 2020 3c42 4c41 4e4b 4c49 4e45  bel.  <BLANKLINE
+000032d0: 3e0a 2020 4f62 6a65 6374 206b 6579 202a  >.  Object key *
+000032e0: 0a20 205b 7375 626f 6231 5d0a 2020 4f62  .  [subob1].  Ob
+000032f0: 6a65 6374 206c 6162 656c 202a 0a20 2054  ject label *.  T
+00003300: 6865 2065 6e74 6572 6564 2076 616c 7565  he entered value
+00003310: 2069 7320 6e6f 7420 6120 7661 6c69 6420   is not a valid 
+00003320: 696e 7465 6765 7220 6c69 7465 7261 6c2e  integer literal.
+00003330: 0a20 205b 205d 0a20 2049 6e74 206c 6162  .  [ ].  Int lab
+00003340: 656c 202a 0a20 2054 6865 2065 6e74 6572  el *.  The enter
+00003350: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
+00003360: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
+00003370: 6c69 7465 7261 6c2e 0a20 205b 666f 6f62  literal..  [foob
+00003380: 6172 5d0a 2020 426f 6f6c 206c 6162 656c  ar].  Bool label
+00003390: 202a 0a20 2028 2029 2079 6573 2028 4f29   *.  ( ) yes (O)
+000033a0: 206e 6f0a 2020 4368 6f69 6365 206c 6162   no.  Choice lab
+000033b0: 656c 202a 0a20 205b 7477 6f5d 0a20 2043  el *.  [two].  C
+000033c0: 686f 6963 654f 7074 206c 6162 656c 0a20  hoiceOpt label. 
+000033d0: 205b 7369 785d 0a20 2054 6578 744c 696e   [six].  TextLin
+000033e0: 6520 6c61 6265 6c20 2a0a 2020 436f 6e73  e label *.  Cons
+000033f0: 7472 6169 6e74 206e 6f74 2073 6174 6973  traint not satis
+00003400: 6669 6564 0a20 205b 666f 6f0a 2020 6261  fied.  [foo.  ba
+00003410: 725d 0a20 2044 6174 6520 6c61 6265 6c20  r].  Date label 
+00003420: 2a0a 2020 5468 6520 6461 7465 7469 6d65  *.  The datetime
+00003430: 2073 7472 696e 6720 6469 6420 6e6f 7420   string did not 
+00003440: 6d61 7463 6820 7468 6520 7061 7474 6572  match the patter
+00003450: 6e20 2779 792f 4d4d 2f64 6427 2e0a 2020  n 'yy/MM/dd'..  
+00003460: 5b66 6f6f 6261 725d 0a20 205b 4164 645d  [foobar].  [Add]
+00003470: 0a20 205b 5265 6d6f 7665 2073 656c 6563  .  [Remove selec
+00003480: 7465 645d 0a20 205b 4170 706c 795d 0a0a  ted].  [Apply]..
+00003490: 5468 6520 6f62 6a65 6374 2069 7320 756e  The object is un
+000034a0: 6368 616e 6765 643a 0a0a 2020 3e3e 3e20  changed:..  >>> 
+000034b0: 7070 7269 6e74 286f 626a 2e64 6963 744f  pprint(obj.dictO
+000034c0: 664f 626a 6563 7429 0a20 207b 2773 7562  fObject).  {'sub
+000034d0: 6f62 3127 3a20 3c4f 626a 6563 7457 6964  ob1': <ObjectWid
+000034e0: 6765 744d 756c 7469 5375 6249 6e74 6567  getMultiSubInteg
+000034f0: 7261 7469 6f6e 0a20 2020 206d 756c 7469  ration.    multi
+00003500: 426f 6f6c 3a20 4661 6c73 650a 2020 2020  Bool: False.    
+00003510: 6d75 6c74 6943 686f 6963 653a 2027 7477  multiChoice: 'tw
+00003520: 6f27 0a20 2020 206d 756c 7469 4368 6f69  o'.    multiChoi
+00003530: 6365 4f70 743a 2027 7369 7827 0a20 2020  ceOpt: 'six'.   
+00003540: 206d 756c 7469 4461 7465 3a20 6461 7465   multiDate: date
+00003550: 7469 6d65 2e64 6174 6528 3230 3134 2c20  time.date(2014, 
+00003560: 362c 2032 3029 0a20 2020 206d 756c 7469  6, 20).    multi
+00003570: 496e 743a 202d 3130 300a 2020 2020 6d75  Int: -100.    mu
+00003580: 6c74 6954 6578 744c 696e 653a 2027 736f  ltiTextLine: 'so
+00003590: 6d65 2074 6578 7420 6f6e 6527 3e2c 0a20  me text one'>,. 
+000035a0: 2020 2773 7562 6f62 3227 3a20 3c4f 626a    'subob2': <Obj
+000035b0: 6563 7457 6964 6765 744d 756c 7469 5375  ectWidgetMultiSu
+000035c0: 6249 6e74 6567 7261 7469 6f6e 0a20 2020  bIntegration.   
+000035d0: 206d 756c 7469 426f 6f6c 3a20 5472 7565   multiBool: True
+000035e0: 0a20 2020 206d 756c 7469 4368 6f69 6365  .    multiChoice
+000035f0: 3a20 276f 6e65 270a 2020 2020 6d75 6c74  : 'one'.    mult
+00003600: 6943 686f 6963 654f 7074 3a20 2766 6f75  iChoiceOpt: 'fou
+00003610: 7227 0a20 2020 206d 756c 7469 4461 7465  r'.    multiDate
+00003620: 3a20 6461 7465 7469 6d65 2e64 6174 6528  : datetime.date(
+00003630: 3230 3131 2c20 332c 2031 3529 0a20 2020  2011, 3, 15).   
+00003640: 206d 756c 7469 496e 743a 2034 320a 2020   multiInt: 42.  
+00003650: 2020 6d75 6c74 6954 6578 744c 696e 653a    multiTextLine:
+00003660: 2027 7365 636f 6e64 2074 7874 273e 7d0a   'second txt'>}.
+00003670: 0a46 6978 2076 616c 7565 730a 2323 2323  .Fix values.####
+00003680: 2323 2323 2323 0a0a 2020 3e3e 3e20 7375  ######..  >>> su
+00003690: 626d 6974 203d 2074 6573 7469 6e67 2e67  bmit = testing.g
+000036a0: 6574 5375 626d 6974 5661 6c75 6573 2863  etSubmitValues(c
+000036b0: 6f6e 7465 6e74 290a 2020 3e3e 3e20 7375  ontent).  >>> su
+000036c0: 626d 6974 5b27 666f 726d 2e77 6964 6765  bmit['form.widge
+000036d0: 7473 2e64 6963 744f 664f 626a 6563 742e  ts.dictOfObject.
+000036e0: 302e 7769 6467 6574 732e 6d75 6c74 6949  0.widgets.multiI
+000036f0: 6e74 275d 203d 2027 3130 3432 270a 2020  nt'] = '1042'.  
+00003700: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
+00003710: 2e77 6964 6765 7473 2e64 6963 744f 664f  .widgets.dictOfO
+00003720: 626a 6563 742e 302e 7769 6467 6574 732e  bject.0.widgets.
+00003730: 6d75 6c74 6954 6578 744c 696e 6527 5d20  multiTextLine'] 
+00003740: 3d20 276d 6f6f 3930 3027 0a20 203e 3e3e  = 'moo900'.  >>>
+00003750: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
+00003760: 6467 6574 732e 6469 6374 4f66 4f62 6a65  dgets.dictOfObje
+00003770: 6374 2e30 2e77 6964 6765 7473 2e6d 756c  ct.0.widgets.mul
+00003780: 7469 4461 7465 275d 203d 2027 3134 2f30  tiDate'] = '14/0
+00003790: 362f 3233 270a 0a20 203e 3e3e 2072 6571  6/23'..  >>> req
+000037a0: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
+000037b0: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
+000037c0: 7375 626d 6974 290a 2020 3e3e 3e20 636f  submit).  >>> co
+000037d0: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
+000037e0: 7265 7175 6573 742c 2027 4f62 6a65 6374  request, 'Object
+000037f0: 4d75 6c74 695f 6469 6374 5f65 6469 745f  Multi_dict_edit_
+00003800: 6669 785f 7661 6c75 6573 2e68 746d 6c27  fix_values.html'
+00003810: 290a 2020 3e3e 3e20 7072 696e 7428 7465  ).  >>> print(te
+00003820: 7374 696e 672e 706c 6169 6e54 6578 7428  sting.plainText(
+00003830: 636f 6e74 656e 7429 290a 2020 4469 6374  content)).  Dict
+00003840: 4f66 4f62 6a65 6374 206c 6162 656c 0a20  OfObject label. 
+00003850: 203c 424c 414e 4b4c 494e 453e 0a20 204f   <BLANKLINE>.  O
+00003860: 626a 6563 7420 6b65 7920 2a0a 2020 5b73  bject key *.  [s
+00003870: 7562 6f62 315d 0a20 204f 626a 6563 7420  ubob1].  Object 
+00003880: 6c61 6265 6c20 2a0a 2020 5b20 5d0a 2020  label *.  [ ].  
+00003890: 496e 7420 6c61 6265 6c20 2a0a 2020 5b31  Int label *.  [1
+000038a0: 2c30 3432 5d0a 2020 426f 6f6c 206c 6162  ,042].  Bool lab
+000038b0: 656c 202a 0a20 2028 2029 2079 6573 2028  el *.  ( ) yes (
+000038c0: 4f29 206e 6f0a 2020 4368 6f69 6365 206c  O) no.  Choice l
+000038d0: 6162 656c 202a 0a20 205b 7477 6f5d 0a20  abel *.  [two]. 
+000038e0: 2043 686f 6963 654f 7074 206c 6162 656c   ChoiceOpt label
+000038f0: 0a20 205b 7369 785d 0a20 2054 6578 744c  .  [six].  TextL
+00003900: 696e 6520 6c61 6265 6c20 2a0a 2020 5b6d  ine label *.  [m
+00003910: 6f6f 3930 305d 0a20 2044 6174 6520 6c61  oo900].  Date la
+00003920: 6265 6c20 2a0a 2020 5b31 342f 3036 2f32  bel *.  [14/06/2
+00003930: 335d 0a20 205b 4164 645d 0a20 205b 5265  3].  [Add].  [Re
+00003940: 6d6f 7665 2073 656c 6563 7465 645d 0a20  move selected]. 
+00003950: 205b 4170 706c 795d 0a0a 5468 6520 6f62   [Apply]..The ob
+00003960: 6a65 6374 2069 7320 756e 6368 616e 6765  ject is unchange
+00003970: 643a 0a0a 2020 3e3e 3e20 7070 7269 6e74  d:..  >>> pprint
+00003980: 286f 626a 2e64 6963 744f 664f 626a 6563  (obj.dictOfObjec
+00003990: 7429 0a20 207b 2773 7562 6f62 3127 3a20  t).  {'subob1': 
+000039a0: 3c4f 626a 6563 7457 6964 6765 744d 756c  <ObjectWidgetMul
+000039b0: 7469 5375 6249 6e74 6567 7261 7469 6f6e  tiSubIntegration
+000039c0: 0a20 2020 206d 756c 7469 426f 6f6c 3a20  .    multiBool: 
+000039d0: 4661 6c73 650a 2020 2020 6d75 6c74 6943  False.    multiC
+000039e0: 686f 6963 653a 2027 7477 6f27 0a20 2020  hoice: 'two'.   
+000039f0: 206d 756c 7469 4368 6f69 6365 4f70 743a   multiChoiceOpt:
+00003a00: 2027 7369 7827 0a20 2020 206d 756c 7469   'six'.    multi
+00003a10: 4461 7465 3a20 6461 7465 7469 6d65 2e64  Date: datetime.d
+00003a20: 6174 6528 3230 3134 2c20 362c 2032 3029  ate(2014, 6, 20)
+00003a30: 0a20 2020 206d 756c 7469 496e 743a 202d  .    multiInt: -
+00003a40: 3130 300a 2020 2020 6d75 6c74 6954 6578  100.    multiTex
+00003a50: 744c 696e 653a 2027 736f 6d65 2074 6578  tLine: 'some tex
+00003a60: 7420 6f6e 6527 3e2c 0a20 2020 2773 7562  t one'>,.   'sub
+00003a70: 6f62 3227 3a20 3c4f 626a 6563 7457 6964  ob2': <ObjectWid
+00003a80: 6765 744d 756c 7469 5375 6249 6e74 6567  getMultiSubInteg
+00003a90: 7261 7469 6f6e 0a20 2020 206d 756c 7469  ration.    multi
+00003aa0: 426f 6f6c 3a20 5472 7565 0a20 2020 206d  Bool: True.    m
+00003ab0: 756c 7469 4368 6f69 6365 3a20 276f 6e65  ultiChoice: 'one
+00003ac0: 270a 2020 2020 6d75 6c74 6943 686f 6963  '.    multiChoic
+00003ad0: 654f 7074 3a20 2766 6f75 7227 0a20 2020  eOpt: 'four'.   
+00003ae0: 206d 756c 7469 4461 7465 3a20 6461 7465   multiDate: date
+00003af0: 7469 6d65 2e64 6174 6528 3230 3131 2c20  time.date(2011, 
+00003b00: 332c 2031 3529 0a20 2020 206d 756c 7469  3, 15).    multi
+00003b10: 496e 743a 2034 320a 2020 2020 6d75 6c74  Int: 42.    mult
+00003b20: 6954 6578 744c 696e 653a 2027 7365 636f  iTextLine: 'seco
+00003b30: 6e64 2074 7874 273e 7d0a 0a41 6e64 2061  nd txt'>}..And a
+00003b40: 7070 6c79 0a0a 2020 3e3e 3e20 7375 626d  pply..  >>> subm
+00003b50: 6974 203d 2074 6573 7469 6e67 2e67 6574  it = testing.get
+00003b60: 5375 626d 6974 5661 6c75 6573 2863 6f6e  SubmitValues(con
+00003b70: 7465 6e74 290a 2020 3e3e 3e20 7375 626d  tent).  >>> subm
+00003b80: 6974 5b27 666f 726d 2e62 7574 746f 6e73  it['form.buttons
+00003b90: 2e61 7070 6c79 275d 203d 2027 4170 706c  .apply'] = 'Appl
+00003ba0: 7927 0a0a 2020 3e3e 3e20 7265 7175 6573  y'..  >>> reques
+00003bb0: 7420 3d20 7465 7374 696e 672e 5465 7374  t = testing.Test
+00003bc0: 5265 7175 6573 7428 666f 726d 3d73 7562  Request(form=sub
+00003bd0: 6d69 7429 0a20 203e 3e3e 2063 6f6e 7465  mit).  >>> conte
+00003be0: 6e74 203d 2067 6574 466f 726d 2872 6571  nt = getForm(req
+00003bf0: 7565 7374 290a 2020 3e3e 3e20 7072 696e  uest).  >>> prin
+00003c00: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
+00003c10: 6578 7428 636f 6e74 656e 7429 290a 2020  ext(content)).  
+00003c20: 4461 7461 2073 7563 6365 7373 6675 6c6c  Data successfull
+00003c30: 7920 7570 6461 7465 642e 0a20 203c 424c  y updated..  <BL
+00003c40: 414e 4b4c 494e 453e 0a20 2044 6963 744f  ANKLINE>.  DictO
+00003c50: 664f 626a 6563 7420 6c61 6265 6c0a 2020  fObject label.  
+00003c60: 3c42 4c41 4e4b 4c49 4e45 3e0a 2020 4f62  <BLANKLINE>.  Ob
+00003c70: 6a65 6374 206b 6579 202a 0a20 205b 7375  ject key *.  [su
+00003c80: 626f 6231 5d0a 2020 4f62 6a65 6374 206c  bob1].  Object l
+00003c90: 6162 656c 202a 0a20 205b 205d 0a20 2049  abel *.  [ ].  I
+00003ca0: 6e74 206c 6162 656c 202a 0a20 205b 312c  nt label *.  [1,
+00003cb0: 3034 325d 0a20 2042 6f6f 6c20 6c61 6265  042].  Bool labe
+00003cc0: 6c20 2a0a 2020 2820 2920 7965 7320 284f  l *.  ( ) yes (O
+00003cd0: 2920 6e6f 0a20 2043 686f 6963 6520 6c61  ) no.  Choice la
+00003ce0: 6265 6c20 2a0a 2020 5b74 776f 5d0a 2020  bel *.  [two].  
+00003cf0: 4368 6f69 6365 4f70 7420 6c61 6265 6c0a  ChoiceOpt label.
+00003d00: 2020 5b73 6978 5d0a 2020 5465 7874 4c69    [six].  TextLi
+00003d10: 6e65 206c 6162 656c 202a 0a20 205b 6d6f  ne label *.  [mo
+00003d20: 6f39 3030 5d0a 2020 4461 7465 206c 6162  o900].  Date lab
+00003d30: 656c 202a 0a20 205b 3134 2f30 362f 3233  el *.  [14/06/23
+00003d40: 5d0a 2020 5b41 6464 5d0a 2020 5b52 656d  ].  [Add].  [Rem
+00003d50: 6f76 6520 7365 6c65 6374 6564 5d0a 2020  ove selected].  
+00003d60: 5b41 7070 6c79 5d0a 0a4e 6f77 2074 6865  [Apply]..Now the
+00003d70: 206f 626a 6563 7420 6765 7473 2075 7064   object gets upd
+00003d80: 6174 6564 3a0a 0a20 203e 3e3e 2070 7072  ated:..  >>> ppr
+00003d90: 696e 7428 6f62 6a2e 6469 6374 4f66 4f62  int(obj.dictOfOb
+00003da0: 6a65 6374 290a 2020 7b27 7375 626f 6231  ject).  {'subob1
+00003db0: 273a 203c 4f62 6a65 6374 5769 6467 6574  ': <ObjectWidget
+00003dc0: 4d75 6c74 6953 7562 496e 7465 6772 6174  MultiSubIntegrat
+00003dd0: 696f 6e0a 2020 2020 6d75 6c74 6942 6f6f  ion.    multiBoo
+00003de0: 6c3a 2046 616c 7365 0a20 2020 206d 756c  l: False.    mul
+00003df0: 7469 4368 6f69 6365 3a20 2774 776f 270a  tiChoice: 'two'.
+00003e00: 2020 2020 6d75 6c74 6943 686f 6963 654f      multiChoiceO
+00003e10: 7074 3a20 2773 6978 270a 2020 2020 6d75  pt: 'six'.    mu
+00003e20: 6c74 6944 6174 653a 2064 6174 6574 696d  ltiDate: datetim
+00003e30: 652e 6461 7465 2832 3031 342c 2036 2c20  e.date(2014, 6, 
+00003e40: 3233 290a 2020 2020 6d75 6c74 6949 6e74  23).    multiInt
+00003e50: 3a20 3130 3432 0a20 2020 206d 756c 7469  : 1042.    multi
+00003e60: 5465 7874 4c69 6e65 3a20 276d 6f6f 3930  TextLine: 'moo90
+00003e70: 3027 3e7d 0a0a 0a54 7769 7374 696e 6720  0'>}...Twisting 
+00003e80: 736f 6d65 206b 6579 730a 2323 2323 2323  some keys.######
+00003e90: 2323 2323 2323 2323 2323 2323 0a0a 4368  ############..Ch
+00003ea0: 616e 6765 206b 6579 2076 616c 7565 732c  ange key values,
+00003eb0: 2069 7465 6d20 7661 6c75 6573 206d 7573   item values mus
+00003ec0: 7420 7374 6963 6b20 746f 2074 6865 206e  t stick to the n
+00003ed0: 6577 2076 616c 7565 732e 0a0a 2020 3e3e  ew values...  >>
+00003ee0: 3e20 7375 6231 203d 2074 6573 7469 6e67  > sub1 = testing
+00003ef0: 2e4f 626a 6563 7457 6964 6765 744d 756c  .ObjectWidgetMul
+00003f00: 7469 5375 6249 6e74 6567 7261 7469 6f6e  tiSubIntegration
+00003f10: 280a 2020 2e2e 2e20 2020 2020 6d75 6c74  (.  ...     mult
+00003f20: 6949 6e74 3d2d 3130 302c 0a20 202e 2e2e  iInt=-100,.  ...
+00003f30: 2020 2020 206d 756c 7469 426f 6f6c 3d46       multiBool=F
+00003f40: 616c 7365 2c0a 2020 2e2e 2e20 2020 2020  alse,.  ...     
+00003f50: 6d75 6c74 6943 686f 6963 653d 2774 776f  multiChoice='two
+00003f60: 272c 0a20 202e 2e2e 2020 2020 206d 756c  ',.  ...     mul
+00003f70: 7469 4368 6f69 6365 4f70 743d 2773 6978  tiChoiceOpt='six
+00003f80: 272c 0a20 202e 2e2e 2020 2020 206d 756c  ',.  ...     mul
+00003f90: 7469 5465 7874 4c69 6e65 3d27 736f 6d65  tiTextLine='some
+00003fa0: 2074 6578 7420 6f6e 6527 2c0a 2020 2e2e   text one',.  ..
+00003fb0: 2e20 2020 2020 6d75 6c74 6944 6174 653d  .     multiDate=
+00003fc0: 6461 7465 2832 3031 342c 2036 2c20 3230  date(2014, 6, 20
+00003fd0: 2929 0a0a 2020 3e3e 3e20 7375 6232 203d  ))..  >>> sub2 =
+00003fe0: 2074 6573 7469 6e67 2e4f 626a 6563 7457   testing.ObjectW
+00003ff0: 6964 6765 744d 756c 7469 5375 6249 6e74  idgetMultiSubInt
+00004000: 6567 7261 7469 6f6e 280a 2020 2e2e 2e20  egration(.  ... 
+00004010: 2020 2020 6d75 6c74 6949 6e74 3d34 322c      multiInt=42,
+00004020: 0a20 202e 2e2e 2020 2020 206d 756c 7469  .  ...     multi
+00004030: 426f 6f6c 3d54 7275 652c 0a20 202e 2e2e  Bool=True,.  ...
+00004040: 2020 2020 206d 756c 7469 4368 6f69 6365       multiChoice
+00004050: 3d27 6f6e 6527 2c0a 2020 2e2e 2e20 2020  ='one',.  ...   
+00004060: 2020 6d75 6c74 6943 686f 6963 654f 7074    multiChoiceOpt
+00004070: 3d27 666f 7572 272c 0a20 202e 2e2e 2020  ='four',.  ...  
+00004080: 2020 206d 756c 7469 5465 7874 4c69 6e65     multiTextLine
+00004090: 3d27 7365 636f 6e64 2074 7874 272c 0a20  ='second txt',. 
+000040a0: 202e 2e2e 2020 2020 206d 756c 7469 4461   ...     multiDa
+000040b0: 7465 3d64 6174 6528 3230 3131 2c20 332c  te=date(2011, 3,
+000040c0: 2031 3529 290a 0a20 203e 3e3e 206f 626a   15))..  >>> obj
+000040d0: 2e64 6963 744f 664f 626a 6563 7420 3d20  .dictOfObject = 
+000040e0: 7b27 7375 626f 6231 273a 2073 7562 312c  {'subob1': sub1,
+000040f0: 2027 7375 626f 6232 273a 2073 7562 327d   'subob2': sub2}
+00004100: 0a0a 2020 3e3e 3e20 7265 7175 6573 7420  ..  >>> request 
+00004110: 3d20 7465 7374 696e 672e 5465 7374 5265  = testing.TestRe
+00004120: 7175 6573 7428 290a 2020 3e3e 3e20 636f  quest().  >>> co
+00004130: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
+00004140: 7265 7175 6573 742c 2027 4f62 6a65 6374  request, 'Object
+00004150: 4d75 6c74 695f 6469 6374 5f65 6469 745f  Multi_dict_edit_
+00004160: 7477 6973 742e 6874 6d6c 2729 0a0a 2020  twist.html')..  
+00004170: 3e3e 3e20 7375 626d 6974 203d 2074 6573  >>> submit = tes
+00004180: 7469 6e67 2e67 6574 5375 626d 6974 5661  ting.getSubmitVa
+00004190: 6c75 6573 2863 6f6e 7465 6e74 290a 2020  lues(content).  
+000041a0: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
+000041b0: 2e77 6964 6765 7473 2e64 6963 744f 664f  .widgets.dictOfO
+000041c0: 626a 6563 742e 6b65 792e 3027 5d20 3d20  bject.key.0'] = 
+000041d0: 2774 7769 7374 6564 2720 2023 2077 6173  'twisted'  # was
+000041e0: 2073 7562 6f62 310a 0a20 203e 3e3e 2073   subob1..  >>> s
+000041f0: 7562 6d69 745b 2766 6f72 6d2e 6275 7474  ubmit['form.butt
+00004200: 6f6e 732e 6170 706c 7927 5d20 3d20 2741  ons.apply'] = 'A
+00004210: 7070 6c79 270a 0a20 203e 3e3e 2072 6571  pply'..  >>> req
+00004220: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
+00004230: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
+00004240: 7375 626d 6974 290a 0a20 203e 3e3e 2063  submit)..  >>> c
+00004250: 6f6e 7465 6e74 203d 2067 6574 466f 726d  ontent = getForm
+00004260: 2872 6571 7565 7374 2c20 274f 626a 6563  (request, 'Objec
+00004270: 744d 756c 7469 5f64 6963 745f 6564 6974  tMulti_dict_edit
+00004280: 5f74 7769 7374 322e 6874 6d6c 2729 0a0a  _twist2.html')..
+00004290: 2020 3e3e 3e20 7070 7269 6e74 286f 626a    >>> pprint(obj
+000042a0: 2e64 6963 744f 664f 626a 6563 7429 0a20  .dictOfObject). 
+000042b0: 207b 2773 7562 6f62 3227 3a20 3c4f 626a   {'subob2': <Obj
+000042c0: 6563 7457 6964 6765 744d 756c 7469 5375  ectWidgetMultiSu
+000042d0: 6249 6e74 6567 7261 7469 6f6e 0a20 2020  bIntegration.   
+000042e0: 206d 756c 7469 426f 6f6c 3a20 5472 7565   multiBool: True
+000042f0: 0a20 2020 206d 756c 7469 4368 6f69 6365  .    multiChoice
+00004300: 3a20 276f 6e65 270a 2020 2020 6d75 6c74  : 'one'.    mult
+00004310: 6943 686f 6963 654f 7074 3a20 2766 6f75  iChoiceOpt: 'fou
+00004320: 7227 0a20 2020 206d 756c 7469 4461 7465  r'.    multiDate
+00004330: 3a20 6461 7465 7469 6d65 2e64 6174 6528  : datetime.date(
+00004340: 3230 3131 2c20 332c 2031 3529 0a20 2020  2011, 3, 15).   
+00004350: 206d 756c 7469 496e 743a 2034 320a 2020   multiInt: 42.  
+00004360: 2020 6d75 6c74 6954 6578 744c 696e 653a    multiTextLine:
+00004370: 2027 7365 636f 6e64 2074 7874 273e 2c0a   'second txt'>,.
+00004380: 2020 2027 7477 6973 7465 6427 3a20 3c4f     'twisted': <O
+00004390: 626a 6563 7457 6964 6765 744d 756c 7469  bjectWidgetMulti
+000043a0: 5375 6249 6e74 6567 7261 7469 6f6e 0a20  SubIntegration. 
+000043b0: 2020 206d 756c 7469 426f 6f6c 3a20 4661     multiBool: Fa
+000043c0: 6c73 650a 2020 2020 6d75 6c74 6943 686f  lse.    multiCho
+000043d0: 6963 653a 2027 7477 6f27 0a20 2020 206d  ice: 'two'.    m
+000043e0: 756c 7469 4368 6f69 6365 4f70 743a 2027  ultiChoiceOpt: '
+000043f0: 7369 7827 0a20 2020 206d 756c 7469 4461  six'.    multiDa
+00004400: 7465 3a20 6461 7465 7469 6d65 2e64 6174  te: datetime.dat
+00004410: 6528 3230 3134 2c20 362c 2032 3029 0a20  e(2014, 6, 20). 
+00004420: 2020 206d 756c 7469 496e 743a 202d 3130     multiInt: -10
+00004430: 300a 2020 2020 6d75 6c74 6954 6578 744c  0.    multiTextL
+00004440: 696e 653a 2027 736f 6d65 2074 6578 7420  ine: 'some text 
+00004450: 6f6e 6527 3e7d 0a0a 0a20 203e 3e3e 2073  one'>}...  >>> s
+00004460: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
+00004470: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
+00004480: 636f 6e74 656e 7429 0a20 203e 3e3e 2073  content).  >>> s
+00004490: 7562 6d69 745b 2766 6f72 6d2e 7769 6467  ubmit['form.widg
+000044a0: 6574 732e 6469 6374 4f66 4f62 6a65 6374  ets.dictOfObject
+000044b0: 2e6b 6579 2e31 275d 203d 2027 7375 626f  .key.1'] = 'subo
+000044c0: 6232 2720 2023 2077 6173 2074 7769 7374  b2'  # was twist
+000044d0: 6564 0a20 203e 3e3e 2073 7562 6d69 745b  ed.  >>> submit[
+000044e0: 2766 6f72 6d2e 7769 6467 6574 732e 6469  'form.widgets.di
+000044f0: 6374 4f66 4f62 6a65 6374 2e6b 6579 2e30  ctOfObject.key.0
+00004500: 275d 203d 2027 7375 626f 6231 2720 2023  '] = 'subob1'  #
+00004510: 2077 6173 2073 7562 6f62 320a 0a20 203e   was subob2..  >
+00004520: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
+00004530: 6275 7474 6f6e 732e 6170 706c 7927 5d20  buttons.apply'] 
+00004540: 3d20 2741 7070 6c79 270a 0a20 203e 3e3e  = 'Apply'..  >>>
+00004550: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
+00004560: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
+00004570: 6f72 6d3d 7375 626d 6974 290a 0a20 203e  orm=submit)..  >
+00004580: 3e3e 2063 6f6e 7465 6e74 203d 2067 6574  >> content = get
+00004590: 466f 726d 2872 6571 7565 7374 2c20 274f  Form(request, 'O
+000045a0: 626a 6563 744d 756c 7469 5f64 6963 745f  bjectMulti_dict_
+000045b0: 6564 6974 5f74 7769 7374 322e 6874 6d6c  edit_twist2.html
+000045c0: 2729 0a0a 2020 3e3e 3e20 7070 7269 6e74  ')..  >>> pprint
+000045d0: 286f 626a 2e64 6963 744f 664f 626a 6563  (obj.dictOfObjec
+000045e0: 7429 0a20 207b 2773 7562 6f62 3127 3a20  t).  {'subob1': 
+000045f0: 3c4f 626a 6563 7457 6964 6765 744d 756c  <ObjectWidgetMul
+00004600: 7469 5375 6249 6e74 6567 7261 7469 6f6e  tiSubIntegration
+00004610: 0a20 2020 206d 756c 7469 426f 6f6c 3a20  .    multiBool: 
+00004620: 5472 7565 0a20 2020 206d 756c 7469 4368  True.    multiCh
+00004630: 6f69 6365 3a20 276f 6e65 270a 2020 2020  oice: 'one'.    
+00004640: 6d75 6c74 6943 686f 6963 654f 7074 3a20  multiChoiceOpt: 
+00004650: 2766 6f75 7227 0a20 2020 206d 756c 7469  'four'.    multi
+00004660: 4461 7465 3a20 6461 7465 7469 6d65 2e64  Date: datetime.d
+00004670: 6174 6528 3230 3131 2c20 332c 2031 3529  ate(2011, 3, 15)
+00004680: 0a20 2020 206d 756c 7469 496e 743a 2034  .    multiInt: 4
+00004690: 320a 2020 2020 6d75 6c74 6954 6578 744c  2.    multiTextL
+000046a0: 696e 653a 2027 7365 636f 6e64 2074 7874  ine: 'second txt
+000046b0: 273e 2c0a 2020 2027 7375 626f 6232 273a  '>,.   'subob2':
+000046c0: 203c 4f62 6a65 6374 5769 6467 6574 4d75   <ObjectWidgetMu
+000046d0: 6c74 6953 7562 496e 7465 6772 6174 696f  ltiSubIntegratio
+000046e0: 6e0a 2020 2020 6d75 6c74 6942 6f6f 6c3a  n.    multiBool:
+000046f0: 2046 616c 7365 0a20 2020 206d 756c 7469   False.    multi
+00004700: 4368 6f69 6365 3a20 2774 776f 270a 2020  Choice: 'two'.  
+00004710: 2020 6d75 6c74 6943 686f 6963 654f 7074    multiChoiceOpt
+00004720: 3a20 2773 6978 270a 2020 2020 6d75 6c74  : 'six'.    mult
+00004730: 6944 6174 653a 2064 6174 6574 696d 652e  iDate: datetime.
+00004740: 6461 7465 2832 3031 342c 2036 2c20 3230  date(2014, 6, 20
+00004750: 290a 2020 2020 6d75 6c74 6949 6e74 3a20  ).    multiInt: 
+00004760: 2d31 3030 0a20 2020 206d 756c 7469 5465  -100.    multiTe
+00004770: 7874 4c69 6e65 3a20 2773 6f6d 6520 7465  xtLine: 'some te
+00004780: 7874 206f 6e65 273e 7d0a 0a42 6f6f 6c20  xt one'>}..Bool 
+00004790: 7761 7320 6d69 7362 6568 6176 696e 670a  was misbehaving.
+000047a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000047b0: 2323 2323 0a0a 2020 3e3e 3e20 7375 6231  ####..  >>> sub1
+000047c0: 203d 2074 6573 7469 6e67 2e4f 626a 6563   = testing.Objec
+000047d0: 7457 6964 6765 744d 756c 7469 5375 6249  tWidgetMultiSubI
+000047e0: 6e74 6567 7261 7469 6f6e 280a 2020 2e2e  ntegration(.  ..
+000047f0: 2e20 2020 2020 6d75 6c74 6949 6e74 3d2d  .     multiInt=-
+00004800: 3130 302c 0a20 202e 2e2e 2020 2020 206d  100,.  ...     m
+00004810: 756c 7469 426f 6f6c 3d46 616c 7365 2c0a  ultiBool=False,.
+00004820: 2020 2e2e 2e20 2020 2020 6d75 6c74 6943    ...     multiC
+00004830: 686f 6963 653d 2774 776f 272c 0a20 202e  hoice='two',.  .
+00004840: 2e2e 2020 2020 206d 756c 7469 4368 6f69  ..     multiChoi
+00004850: 6365 4f70 743d 2773 6978 272c 0a20 202e  ceOpt='six',.  .
+00004860: 2e2e 2020 2020 206d 756c 7469 5465 7874  ..     multiText
+00004870: 4c69 6e65 3d27 736f 6d65 2074 6578 7420  Line='some text 
+00004880: 6f6e 6527 2c0a 2020 2e2e 2e20 2020 2020  one',.  ...     
+00004890: 6d75 6c74 6944 6174 653d 6461 7465 2832  multiDate=date(2
+000048a0: 3031 342c 2036 2c20 3230 2929 0a0a 2020  014, 6, 20))..  
+000048b0: 3e3e 3e20 7375 6232 203d 2074 6573 7469  >>> sub2 = testi
+000048c0: 6e67 2e4f 626a 6563 7457 6964 6765 744d  ng.ObjectWidgetM
+000048d0: 756c 7469 5375 6249 6e74 6567 7261 7469  ultiSubIntegrati
+000048e0: 6f6e 280a 2020 2e2e 2e20 2020 2020 6d75  on(.  ...     mu
+000048f0: 6c74 6949 6e74 3d34 322c 0a20 202e 2e2e  ltiInt=42,.  ...
+00004900: 2020 2020 206d 756c 7469 426f 6f6c 3d54       multiBool=T
+00004910: 7275 652c 0a20 202e 2e2e 2020 2020 206d  rue,.  ...     m
+00004920: 756c 7469 4368 6f69 6365 3d27 6f6e 6527  ultiChoice='one'
+00004930: 2c0a 2020 2e2e 2e20 2020 2020 6d75 6c74  ,.  ...     mult
+00004940: 6943 686f 6963 654f 7074 3d27 666f 7572  iChoiceOpt='four
+00004950: 272c 0a20 202e 2e2e 2020 2020 206d 756c  ',.  ...     mul
+00004960: 7469 5465 7874 4c69 6e65 3d27 7365 636f  tiTextLine='seco
+00004970: 6e64 2074 7874 272c 0a20 202e 2e2e 2020  nd txt',.  ...  
+00004980: 2020 206d 756c 7469 4461 7465 3d64 6174     multiDate=dat
+00004990: 6528 3230 3131 2c20 332c 2031 3529 290a  e(2011, 3, 15)).
+000049a0: 0a20 203e 3e3e 206f 626a 2e64 6963 744f  .  >>> obj.dictO
+000049b0: 664f 626a 6563 7420 3d20 7b27 7375 626f  fObject = {'subo
+000049c0: 6231 273a 2073 7562 312c 2027 7375 626f  b1': sub1, 'subo
+000049d0: 6232 273a 2073 7562 327d 0a0a 2020 3e3e  b2': sub2}..  >>
+000049e0: 3e20 7265 7175 6573 7420 3d20 7465 7374  > request = test
+000049f0: 696e 672e 5465 7374 5265 7175 6573 7428  ing.TestRequest(
+00004a00: 290a 2020 3e3e 3e20 636f 6e74 656e 7420  ).  >>> content 
+00004a10: 3d20 6765 7446 6f72 6d28 7265 7175 6573  = getForm(reques
+00004a20: 7429 0a0a 2020 3e3e 3e20 7375 626d 6974  t)..  >>> submit
+00004a30: 203d 2074 6573 7469 6e67 2e67 6574 5375   = testing.getSu
+00004a40: 626d 6974 5661 6c75 6573 2863 6f6e 7465  bmitValues(conte
+00004a50: 6e74 290a 2020 3e3e 3e20 7375 626d 6974  nt).  >>> submit
+00004a60: 5b27 666f 726d 2e77 6964 6765 7473 2e64  ['form.widgets.d
+00004a70: 6963 744f 664f 626a 6563 742e 302e 7769  ictOfObject.0.wi
+00004a80: 6467 6574 732e 6d75 6c74 6942 6f6f 6c27  dgets.multiBool'
+00004a90: 5d20 3d20 2774 7275 6527 0a20 203e 3e3e  ] = 'true'.  >>>
+00004aa0: 2073 7562 6d69 745b 2766 6f72 6d2e 6275   submit['form.bu
+00004ab0: 7474 6f6e 732e 6170 706c 7927 5d20 3d20  ttons.apply'] = 
+00004ac0: 2741 7070 6c79 270a 0a20 203e 3e3e 2072  'Apply'..  >>> r
+00004ad0: 6571 7565 7374 203d 2074 6573 7469 6e67  equest = testing
+00004ae0: 2e54 6573 7452 6571 7565 7374 2866 6f72  .TestRequest(for
+00004af0: 6d3d 7375 626d 6974 290a 0a20 203e 3e3e  m=submit)..  >>>
+00004b00: 2063 6f6e 7465 6e74 203d 2067 6574 466f   content = getFo
+00004b10: 726d 2872 6571 7565 7374 290a 2020 3e3e  rm(request).  >>
+00004b20: 3e20 7072 696e 7428 7465 7374 696e 672e  > print(testing.
+00004b30: 706c 6169 6e54 6578 7428 636f 6e74 656e  plainText(conten
+00004b40: 7429 290a 2020 4461 7461 2073 7563 6365  t)).  Data succe
+00004b50: 7373 6675 6c6c 7920 7570 6461 7465 642e  ssfully updated.
+00004b60: 0a20 202e 2e2e 0a0a 2020 3e3e 3e20 7070  .  .....  >>> pp
+00004b70: 7269 6e74 286f 626a 2e64 6963 744f 664f  rint(obj.dictOfO
+00004b80: 626a 6563 7429 0a20 207b 2773 7562 6f62  bject).  {'subob
+00004b90: 3127 3a20 3c4f 626a 6563 7457 6964 6765  1': <ObjectWidge
+00004ba0: 744d 756c 7469 5375 6249 6e74 6567 7261  tMultiSubIntegra
+00004bb0: 7469 6f6e 0a20 2020 206d 756c 7469 426f  tion.    multiBo
+00004bc0: 6f6c 3a20 5472 7565 0a20 2020 206d 756c  ol: True.    mul
+00004bd0: 7469 4368 6f69 6365 3a20 2774 776f 270a  tiChoice: 'two'.
+00004be0: 2020 2020 6d75 6c74 6943 686f 6963 654f      multiChoiceO
+00004bf0: 7074 3a20 2773 6978 270a 2020 2020 6d75  pt: 'six'.    mu
+00004c00: 6c74 6944 6174 653a 2064 6174 6574 696d  ltiDate: datetim
+00004c10: 652e 6461 7465 2832 3031 342c 2036 2c20  e.date(2014, 6, 
+00004c20: 3230 290a 2020 2020 6d75 6c74 6949 6e74  20).    multiInt
+00004c30: 3a20 2d31 3030 0a20 2020 206d 756c 7469  : -100.    multi
+00004c40: 5465 7874 4c69 6e65 3a20 2773 6f6d 6520  TextLine: 'some 
+00004c50: 7465 7874 206f 6e65 273e 2c0a 2020 2027  text one'>,.   '
+00004c60: 7375 626f 6232 273a 203c 4f62 6a65 6374  subob2': <Object
+00004c70: 5769 6467 6574 4d75 6c74 6953 7562 496e  WidgetMultiSubIn
+00004c80: 7465 6772 6174 696f 6e0a 2020 2020 6d75  tegration.    mu
+00004c90: 6c74 6942 6f6f 6c3a 2054 7275 650a 2020  ltiBool: True.  
+00004ca0: 2020 6d75 6c74 6943 686f 6963 653a 2027    multiChoice: '
+00004cb0: 6f6e 6527 0a20 2020 206d 756c 7469 4368  one'.    multiCh
+00004cc0: 6f69 6365 4f70 743a 2027 666f 7572 270a  oiceOpt: 'four'.
+00004cd0: 2020 2020 6d75 6c74 6944 6174 653a 2064      multiDate: d
+00004ce0: 6174 6574 696d 652e 6461 7465 2832 3031  atetime.date(201
+00004cf0: 312c 2033 2c20 3135 290a 2020 2020 6d75  1, 3, 15).    mu
+00004d00: 6c74 6949 6e74 3a20 3432 0a20 2020 206d  ltiInt: 42.    m
+00004d10: 756c 7469 5465 7874 4c69 6e65 3a20 2773  ultiTextLine: 's
+00004d20: 6563 6f6e 6420 7478 7427 3e7d 0a0a 0a20  econd txt'>}... 
+00004d30: 203e 3e3e 2073 7562 6d69 7420 3d20 7465   >>> submit = te
+00004d40: 7374 696e 672e 6765 7453 7562 6d69 7456  sting.getSubmitV
+00004d50: 616c 7565 7328 636f 6e74 656e 7429 0a20  alues(content). 
+00004d60: 203e 3e3e 2073 7562 6d69 745b 2766 6f72   >>> submit['for
+00004d70: 6d2e 7769 6467 6574 732e 6469 6374 4f66  m.widgets.dictOf
+00004d80: 4f62 6a65 6374 2e30 2e77 6964 6765 7473  Object.0.widgets
+00004d90: 2e6d 756c 7469 426f 6f6c 275d 203d 2027  .multiBool'] = '
+00004da0: 6661 6c73 6527 0a20 203e 3e3e 2073 7562  false'.  >>> sub
+00004db0: 6d69 745b 2766 6f72 6d2e 6275 7474 6f6e  mit['form.button
+00004dc0: 732e 6170 706c 7927 5d20 3d20 2741 7070  s.apply'] = 'App
+00004dd0: 6c79 270a 0a20 203e 3e3e 2072 6571 7565  ly'..  >>> reque
+00004de0: 7374 203d 2074 6573 7469 6e67 2e54 6573  st = testing.Tes
+00004df0: 7452 6571 7565 7374 2866 6f72 6d3d 7375  tRequest(form=su
+00004e00: 626d 6974 290a 0a20 203e 3e3e 2063 6f6e  bmit)..  >>> con
+00004e10: 7465 6e74 203d 2067 6574 466f 726d 2872  tent = getForm(r
+00004e20: 6571 7565 7374 290a 2020 3e3e 3e20 7072  equest).  >>> pr
+00004e30: 696e 7428 7465 7374 696e 672e 706c 6169  int(testing.plai
+00004e40: 6e54 6578 7428 636f 6e74 656e 7429 290a  nText(content)).
+00004e50: 2020 4461 7461 2073 7563 6365 7373 6675    Data successfu
+00004e60: 6c6c 7920 7570 6461 7465 642e 0a20 202e  lly updated..  .
+00004e70: 2e2e 0a0a 2020 3e3e 3e20 7070 7269 6e74  ....  >>> pprint
+00004e80: 286f 626a 2e64 6963 744f 664f 626a 6563  (obj.dictOfObjec
+00004e90: 7429 0a20 207b 2773 7562 6f62 3127 3a20  t).  {'subob1': 
+00004ea0: 3c4f 626a 6563 7457 6964 6765 744d 756c  <ObjectWidgetMul
+00004eb0: 7469 5375 6249 6e74 6567 7261 7469 6f6e  tiSubIntegration
+00004ec0: 0a20 2020 206d 756c 7469 426f 6f6c 3a20  .    multiBool: 
+00004ed0: 4661 6c73 650a 2020 2020 6d75 6c74 6943  False.    multiC
+00004ee0: 686f 6963 653a 2027 7477 6f27 0a20 2020  hoice: 'two'.   
+00004ef0: 206d 756c 7469 4368 6f69 6365 4f70 743a   multiChoiceOpt:
+00004f00: 2027 7369 7827 0a20 2020 206d 756c 7469   'six'.    multi
+00004f10: 4461 7465 3a20 6461 7465 7469 6d65 2e64  Date: datetime.d
+00004f20: 6174 6528 3230 3134 2c20 362c 2032 3029  ate(2014, 6, 20)
+00004f30: 0a20 2020 206d 756c 7469 496e 743a 202d  .    multiInt: -
+00004f40: 3130 300a 2020 2020 6d75 6c74 6954 6578  100.    multiTex
+00004f50: 744c 696e 653a 2027 736f 6d65 2074 6578  tLine: 'some tex
+00004f60: 7420 6f6e 6527 3e2c 0a20 2020 2773 7562  t one'>,.   'sub
+00004f70: 6f62 3227 3a20 3c4f 626a 6563 7457 6964  ob2': <ObjectWid
+00004f80: 6765 744d 756c 7469 5375 6249 6e74 6567  getMultiSubInteg
+00004f90: 7261 7469 6f6e 0a20 2020 206d 756c 7469  ration.    multi
+00004fa0: 426f 6f6c 3a20 5472 7565 0a20 2020 206d  Bool: True.    m
+00004fb0: 756c 7469 4368 6f69 6365 3a20 276f 6e65  ultiChoice: 'one
+00004fc0: 270a 2020 2020 6d75 6c74 6943 686f 6963  '.    multiChoic
+00004fd0: 654f 7074 3a20 2766 6f75 7227 0a20 2020  eOpt: 'four'.   
+00004fe0: 206d 756c 7469 4461 7465 3a20 6461 7465   multiDate: date
+00004ff0: 7469 6d65 2e64 6174 6528 3230 3131 2c20  time.date(2011, 
+00005000: 332c 2031 3529 0a20 2020 206d 756c 7469  3, 15).    multi
+00005010: 496e 743a 2034 320a 2020 2020 6d75 6c74  Int: 42.    mult
+00005020: 6954 6578 744c 696e 653a 2027 7365 636f  iTextLine: 'seco
+00005030: 6e64 2074 7874 273e 7d0a                 nd txt'>}.
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/object_multi_list_integration.rst` & `z3c.form-5.0/src/z3c/form/browser/object_multi_list_integration.rst`

 * *Files 6% similar despite different names*

```diff
@@ -95,988 +95,986 @@
 000005e0: 2d31 3030 2c0a 2020 2e2e 2e20 2020 2020  -100,.  ...     
 000005f0: 6d75 6c74 6942 6f6f 6c3d 4661 6c73 652c  multiBool=False,
 00000600: 0a20 202e 2e2e 2020 2020 206d 756c 7469  .  ...     multi
 00000610: 4368 6f69 6365 3d27 7477 6f27 2c0a 2020  Choice='two',.  
 00000620: 2e2e 2e20 2020 2020 6d75 6c74 6943 686f  ...     multiCho
 00000630: 6963 654f 7074 3d27 7369 7827 2c0a 2020  iceOpt='six',.  
 00000640: 2e2e 2e20 2020 2020 6d75 6c74 6954 6578  ...     multiTex
-00000650: 744c 696e 653d 7527 736f 6d65 2074 6578  tLine=u'some tex
-00000660: 7420 6f6e 6527 2c0a 2020 2e2e 2e20 2020  t one',.  ...   
-00000670: 2020 6d75 6c74 6944 6174 653d 6461 7465    multiDate=date
-00000680: 2832 3031 342c 2036 2c20 3230 2929 0a0a  (2014, 6, 20))..
-00000690: 2020 3e3e 3e20 7375 6232 203d 2074 6573    >>> sub2 = tes
-000006a0: 7469 6e67 2e4f 626a 6563 7457 6964 6765  ting.ObjectWidge
-000006b0: 744d 756c 7469 5375 6249 6e74 6567 7261  tMultiSubIntegra
-000006c0: 7469 6f6e 280a 2020 2e2e 2e20 2020 2020  tion(.  ...     
-000006d0: 6d75 6c74 6949 6e74 3d34 322c 0a20 202e  multiInt=42,.  .
-000006e0: 2e2e 2020 2020 206d 756c 7469 426f 6f6c  ..     multiBool
-000006f0: 3d54 7275 652c 0a20 202e 2e2e 2020 2020  =True,.  ...    
-00000700: 206d 756c 7469 4368 6f69 6365 3d27 6f6e   multiChoice='on
-00000710: 6527 2c0a 2020 2e2e 2e20 2020 2020 6d75  e',.  ...     mu
-00000720: 6c74 6943 686f 6963 654f 7074 3d27 666f  ltiChoiceOpt='fo
-00000730: 7572 272c 0a20 202e 2e2e 2020 2020 206d  ur',.  ...     m
-00000740: 756c 7469 5465 7874 4c69 6e65 3d75 2773  ultiTextLine=u's
-00000750: 6563 6f6e 6420 7478 7427 2c0a 2020 2e2e  econd txt',.  ..
-00000760: 2e20 2020 2020 6d75 6c74 6944 6174 653d  .     multiDate=
-00000770: 6461 7465 2832 3031 312c 2033 2c20 3135  date(2011, 3, 15
-00000780: 2929 0a0a 2020 3e3e 3e20 6f62 6a2e 6c69  ))..  >>> obj.li
-00000790: 7374 4f66 4f62 6a65 6374 203d 205b 7375  stOfObject = [su
-000007a0: 6231 2c20 7375 6232 5d0a 0a20 203e 3e3e  b1, sub2]..  >>>
-000007b0: 2070 7072 696e 7428 6f62 6a2e 6c69 7374   pprint(obj.list
-000007c0: 4f66 4f62 6a65 6374 290a 2020 5b3c 4f62  OfObject).  [<Ob
-000007d0: 6a65 6374 5769 6467 6574 4d75 6c74 6953  jectWidgetMultiS
-000007e0: 7562 496e 7465 6772 6174 696f 6e0a 2020  ubIntegration.  
-000007f0: 2020 6d75 6c74 6942 6f6f 6c3a 2046 616c    multiBool: Fal
-00000800: 7365 0a20 2020 206d 756c 7469 4368 6f69  se.    multiChoi
-00000810: 6365 3a20 2774 776f 270a 2020 2020 6d75  ce: 'two'.    mu
-00000820: 6c74 6943 686f 6963 654f 7074 3a20 2773  ltiChoiceOpt: 's
-00000830: 6978 270a 2020 2020 6d75 6c74 6944 6174  ix'.    multiDat
-00000840: 653a 2064 6174 6574 696d 652e 6461 7465  e: datetime.date
-00000850: 2832 3031 342c 2036 2c20 3230 290a 2020  (2014, 6, 20).  
-00000860: 2020 6d75 6c74 6949 6e74 3a20 2d31 3030    multiInt: -100
-00000870: 0a20 2020 206d 756c 7469 5465 7874 4c69  .    multiTextLi
-00000880: 6e65 3a20 7527 736f 6d65 2074 6578 7420  ne: u'some text 
-00000890: 6f6e 6527 3e2c 0a20 2020 3c4f 626a 6563  one'>,.   <Objec
-000008a0: 7457 6964 6765 744d 756c 7469 5375 6249  tWidgetMultiSubI
-000008b0: 6e74 6567 7261 7469 6f6e 0a20 2020 206d  ntegration.    m
-000008c0: 756c 7469 426f 6f6c 3a20 5472 7565 0a20  ultiBool: True. 
-000008d0: 2020 206d 756c 7469 4368 6f69 6365 3a20     multiChoice: 
-000008e0: 276f 6e65 270a 2020 2020 6d75 6c74 6943  'one'.    multiC
-000008f0: 686f 6963 654f 7074 3a20 2766 6f75 7227  hoiceOpt: 'four'
-00000900: 0a20 2020 206d 756c 7469 4461 7465 3a20  .    multiDate: 
-00000910: 6461 7465 7469 6d65 2e64 6174 6528 3230  datetime.date(20
-00000920: 3131 2c20 332c 2031 3529 0a20 2020 206d  11, 3, 15).    m
-00000930: 756c 7469 496e 743a 2034 320a 2020 2020  ultiInt: 42.    
-00000940: 6d75 6c74 6954 6578 744c 696e 653a 2075  multiTextLine: u
-00000950: 2773 6563 6f6e 6420 7478 7427 3e5d 0a0a  'second txt'>]..
-00000960: 2020 3e3e 3e20 636f 6e74 656e 7420 3d20    >>> content = 
-00000970: 6765 7446 6f72 6d28 7265 7175 6573 742c  getForm(request,
-00000980: 2027 4f62 6a65 6374 4d75 6c74 695f 6c69   'ObjectMulti_li
-00000990: 7374 5f65 6469 745f 7369 6d70 6c65 2e68  st_edit_simple.h
-000009a0: 746d 6c27 290a 2020 3e3e 3e20 7072 696e  tml').  >>> prin
-000009b0: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
-000009c0: 6578 7428 636f 6e74 656e 7429 290a 2020  ext(content)).  
-000009d0: 4c69 7374 4f66 4f62 6a65 6374 206c 6162  ListOfObject lab
-000009e0: 656c 0a20 203c 424c 414e 4b4c 494e 453e  el.  <BLANKLINE>
-000009f0: 0a20 204f 626a 6563 7420 6c61 6265 6c20  .  Object label 
-00000a00: 2a0a 2020 5b20 5d0a 2020 496e 7420 6c61  *.  [ ].  Int la
-00000a10: 6265 6c20 2a0a 2020 5b2d 3130 305d 0a20  bel *.  [-100]. 
-00000a20: 2042 6f6f 6c20 6c61 6265 6c20 2a0a 2020   Bool label *.  
-00000a30: 2820 2920 7965 7320 284f 2920 6e6f 0a20  ( ) yes (O) no. 
-00000a40: 2043 686f 6963 6520 6c61 6265 6c20 2a0a   Choice label *.
-00000a50: 2020 5b74 776f 5d0a 2020 4368 6f69 6365    [two].  Choice
-00000a60: 4f70 7420 6c61 6265 6c0a 2020 5b73 6978  Opt label.  [six
-00000a70: 5d0a 2020 5465 7874 4c69 6e65 206c 6162  ].  TextLine lab
-00000a80: 656c 202a 0a20 205b 736f 6d65 2074 6578  el *.  [some tex
-00000a90: 7420 6f6e 655d 0a20 2044 6174 6520 6c61  t one].  Date la
-00000aa0: 6265 6c20 2a0a 2020 5b31 342f 3036 2f32  bel *.  [14/06/2
-00000ab0: 305d 0a20 204f 626a 6563 7420 6c61 6265  0].  Object labe
-00000ac0: 6c20 2a0a 2020 5b20 5d0a 2020 496e 7420  l *.  [ ].  Int 
-00000ad0: 6c61 6265 6c20 2a0a 2020 5b34 325d 0a20  label *.  [42]. 
-00000ae0: 2042 6f6f 6c20 6c61 6265 6c20 2a0a 2020   Bool label *.  
-00000af0: 284f 2920 7965 7320 2820 2920 6e6f 0a20  (O) yes ( ) no. 
-00000b00: 2043 686f 6963 6520 6c61 6265 6c20 2a0a   Choice label *.
-00000b10: 2020 5b6f 6e65 5d0a 2020 4368 6f69 6365    [one].  Choice
-00000b20: 4f70 7420 6c61 6265 6c0a 2020 5b66 6f75  Opt label.  [fou
-00000b30: 725d 0a20 2054 6578 744c 696e 6520 6c61  r].  TextLine la
-00000b40: 6265 6c20 2a0a 2020 5b73 6563 6f6e 6420  bel *.  [second 
-00000b50: 7478 745d 0a20 2044 6174 6520 6c61 6265  txt].  Date labe
-00000b60: 6c20 2a0a 2020 5b31 312f 3033 2f31 355d  l *.  [11/03/15]
-00000b70: 0a20 205b 4164 645d 0a20 205b 5265 6d6f  .  [Add].  [Remo
-00000b80: 7665 2073 656c 6563 7465 645d 0a20 205b  ve selected].  [
-00000b90: 4170 706c 795d 0a0a 7772 6f6e 6720 696e  Apply]..wrong in
-00000ba0: 7075 7420 2849 6e74 290a 2323 2323 2323  put (Int).######
-00000bb0: 2323 2323 2323 2323 2323 230a 0a53 6574  ###########..Set
-00000bc0: 2061 2077 726f 6e67 2076 616c 7565 2061   a wrong value a
-00000bd0: 6e64 2061 6464 2061 206e 6577 2069 6e70  nd add a new inp
-00000be0: 7574 3a0a 0a20 203e 3e3e 2073 7562 6d69  ut:..  >>> submi
-00000bf0: 7420 3d20 7465 7374 696e 672e 6765 7453  t = testing.getS
-00000c00: 7562 6d69 7456 616c 7565 7328 636f 6e74  ubmitValues(cont
-00000c10: 656e 7429 0a20 203e 3e3e 2073 7562 6d69  ent).  >>> submi
-00000c20: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
-00000c30: 6c69 7374 4f66 4f62 6a65 6374 2e30 2e77  listOfObject.0.w
-00000c40: 6964 6765 7473 2e6d 756c 7469 496e 7427  idgets.multiInt'
-00000c50: 5d20 3d20 7527 666f 6f62 6172 270a 0a20  ] = u'foobar'.. 
-00000c60: 203e 3e3e 2073 7562 6d69 745b 2766 6f72   >>> submit['for
-00000c70: 6d2e 7769 6467 6574 732e 6c69 7374 4f66  m.widgets.listOf
-00000c80: 4f62 6a65 6374 2e62 7574 746f 6e73 2e61  Object.buttons.a
-00000c90: 6464 275d 203d 2075 2741 6464 270a 0a20  dd'] = u'Add'.. 
-00000ca0: 203e 3e3e 2072 6571 7565 7374 203d 2074   >>> request = t
-00000cb0: 6573 7469 6e67 2e54 6573 7452 6571 7565  esting.TestReque
-00000cc0: 7374 2866 6f72 6d3d 7375 626d 6974 290a  st(form=submit).
-00000cd0: 0a49 6d70 6f72 7461 6e74 2069 7320 7468  .Important is th
-00000ce0: 6174 2077 6520 6765 7420 2254 6865 2065  at we get "The e
-00000cf0: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
-00000d00: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
-00000d10: 6765 7220 6c69 7465 7261 6c2e 220a 666f  ger literal.".fo
-00000d20: 7220 2266 6f6f 6261 7222 2061 6e64 2061  r "foobar" and a
-00000d30: 206e 6577 2069 6e70 7574 2e0a 0a20 203e   new input...  >
-00000d40: 3e3e 2063 6f6e 7465 6e74 203d 2067 6574  >> content = get
-00000d50: 466f 726d 2872 6571 7565 7374 2c20 274f  Form(request, 'O
-00000d60: 626a 6563 744d 756c 7469 5f6c 6973 745f  bjectMulti_list_
-00000d70: 6564 6974 5f73 7562 6d69 745f 696e 742e  edit_submit_int.
-00000d80: 6874 6d6c 2729 0a20 203e 3e3e 2070 7269  html').  >>> pri
-00000d90: 6e74 2874 6573 7469 6e67 2e70 6c61 696e  nt(testing.plain
-00000da0: 5465 7874 2863 6f6e 7465 6e74 2c0a 2020  Text(content,.  
-00000db0: 2e2e 2e20 2020 2020 272e 2f2f 6469 765b  ...     './/div[
-00000dc0: 4069 643d 2266 6f72 6d2d 7769 6467 6574  @id="form-widget
-00000dd0: 732d 6c69 7374 4f66 4f62 6a65 6374 2d30  s-listOfObject-0
-00000de0: 2d72 6f77 225d 2729 290a 2020 4f62 6a65  -row"]')).  Obje
-00000df0: 6374 206c 6162 656c 202a 0a20 203c 424c  ct label *.  <BL
-00000e00: 414e 4b4c 494e 453e 0a20 2054 6865 2065  ANKLINE>.  The e
-00000e10: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
-00000e20: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
-00000e30: 6765 7220 6c69 7465 7261 6c2e 0a20 203c  ger literal..  <
-00000e40: 424c 414e 4b4c 494e 453e 0a20 205b 205d  BLANKLINE>.  [ ]
-00000e50: 0a20 2049 6e74 206c 6162 656c 202a 0a20  .  Int label *. 
-00000e60: 2054 6865 2065 6e74 6572 6564 2076 616c   The entered val
-00000e70: 7565 2069 7320 6e6f 7420 6120 7661 6c69  ue is not a vali
-00000e80: 6420 696e 7465 6765 7220 6c69 7465 7261  d integer litera
-00000e90: 6c2e 0a20 205b 666f 6f62 6172 5d0a 2020  l..  [foobar].  
-00000ea0: 426f 6f6c 206c 6162 656c 202a 0a20 2028  Bool label *.  (
-00000eb0: 2029 2079 6573 2028 4f29 206e 6f0a 2020   ) yes (O) no.  
-00000ec0: 4368 6f69 6365 206c 6162 656c 202a 0a20  Choice label *. 
-00000ed0: 205b 7477 6f5d 0a20 2043 686f 6963 654f   [two].  ChoiceO
-00000ee0: 7074 206c 6162 656c 0a20 205b 7369 785d  pt label.  [six]
-00000ef0: 0a20 2054 6578 744c 696e 6520 6c61 6265  .  TextLine labe
-00000f00: 6c20 2a0a 2020 5b73 6f6d 6520 7465 7874  l *.  [some text
-00000f10: 206f 6e65 5d0a 2020 4461 7465 206c 6162   one].  Date lab
-00000f20: 656c 202a 0a20 205b 3134 2f30 362f 3230  el *.  [14/06/20
-00000f30: 5d0a 0a53 7562 6d69 7420 6167 6169 6e20  ]..Submit again 
-00000f40: 7769 7468 2074 6865 2065 6d70 7479 2066  with the empty f
-00000f50: 6965 6c64 3a0a 0a20 203e 3e3e 2073 7562  ield:..  >>> sub
-00000f60: 6d69 7420 3d20 7465 7374 696e 672e 6765  mit = testing.ge
-00000f70: 7453 7562 6d69 7456 616c 7565 7328 636f  tSubmitValues(co
-00000f80: 6e74 656e 7429 0a20 203e 3e3e 2072 6571  ntent).  >>> req
-00000f90: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
-00000fa0: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
-00000fb0: 7375 626d 6974 290a 2020 3e3e 3e20 636f  submit).  >>> co
-00000fc0: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
-00000fd0: 7265 7175 6573 742c 2027 4f62 6a65 6374  request, 'Object
-00000fe0: 4d75 6c74 695f 6c69 7374 5f65 6469 745f  Multi_list_edit_
-00000ff0: 7375 626d 6974 5f69 6e74 5f61 6761 696e  submit_int_again
-00001000: 2e68 746d 6c27 290a 2020 3e3e 3e20 7072  .html').  >>> pr
-00001010: 696e 7428 7465 7374 696e 672e 706c 6169  int(testing.plai
-00001020: 6e54 6578 7428 636f 6e74 656e 742c 0a20  nText(content,. 
-00001030: 202e 2e2e 2020 2020 2027 2e2f 2f64 6976   ...     './/div
-00001040: 5b40 6964 3d22 666f 726d 2d77 6964 6765  [@id="form-widge
-00001050: 7473 2d6c 6973 744f 664f 626a 6563 742d  ts-listOfObject-
-00001060: 302d 726f 7722 5d2f 2f64 6976 5b40 636c  0-row"]//div[@cl
-00001070: 6173 733d 2265 7272 6f72 225d 2729 290a  ass="error"]')).
-00001080: 2020 5468 6520 656e 7465 7265 6420 7661    The entered va
-00001090: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
-000010a0: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
-000010b0: 616c 2e0a 2020 5468 6520 656e 7465 7265  al..  The entere
-000010c0: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
-000010d0: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
-000010e0: 6974 6572 616c 2e0a 0a20 203e 3e3e 2070  iteral...  >>> p
-000010f0: 7269 6e74 2874 6573 7469 6e67 2e70 6c61  rint(testing.pla
-00001100: 696e 5465 7874 2863 6f6e 7465 6e74 2c0a  inText(content,.
-00001110: 2020 2e2e 2e20 2020 2020 272e 2f2f 6469    ...     './/di
-00001120: 765b 4069 643d 2266 6f72 6d2d 7769 6467  v[@id="form-widg
-00001130: 6574 732d 6c69 7374 4f66 4f62 6a65 6374  ets-listOfObject
-00001140: 2d31 2d72 6f77 225d 2f2f 6469 765b 4063  -1-row"]//div[@c
-00001150: 6c61 7373 3d22 6572 726f 7222 5d27 2929  lass="error"]'))
-00001160: 0a0a 2020 3e3e 3e20 7072 696e 7428 7465  ..  >>> print(te
-00001170: 7374 696e 672e 706c 6169 6e54 6578 7428  sting.plainText(
-00001180: 636f 6e74 656e 742c 0a20 202e 2e2e 2020  content,.  ...  
-00001190: 2020 2027 2e2f 2f64 6976 5b40 6964 3d22     './/div[@id="
-000011a0: 666f 726d 2d77 6964 6765 7473 2d6c 6973  form-widgets-lis
-000011b0: 744f 664f 626a 6563 742d 322d 726f 7722  tOfObject-2-row"
-000011c0: 5d27 2929 0a20 204f 626a 6563 7420 6c61  ]')).  Object la
-000011d0: 6265 6c20 2a0a 2020 3c42 4c41 4e4b 4c49  bel *.  <BLANKLI
-000011e0: 4e45 3e0a 2020 416e 206f 626a 6563 7420  NE>.  An object 
-000011f0: 6661 696c 6564 2073 6368 656d 6120 6f72  failed schema or
-00001200: 2069 6e76 6172 6961 6e74 2076 616c 6964   invariant valid
-00001210: 6174 696f 6e2e 0a20 203c 424c 414e 4b4c  ation..  <BLANKL
-00001220: 494e 453e 0a20 205b 205d 0a20 2049 6e74  INE>.  [ ].  Int
-00001230: 206c 6162 656c 202a 0a20 2052 6571 7569   label *.  Requi
-00001240: 7265 6420 696e 7075 7420 6973 206d 6973  red input is mis
-00001250: 7369 6e67 2e0a 2020 5b5d 0a20 2042 6f6f  sing..  [].  Boo
-00001260: 6c20 6c61 6265 6c20 2a0a 2020 5265 7175  l label *.  Requ
-00001270: 6972 6564 2069 6e70 7574 2069 7320 6d69  ired input is mi
-00001280: 7373 696e 672e 0a20 2028 2029 2079 6573  ssing..  ( ) yes
-00001290: 2028 2029 206e 6f0a 2020 4368 6f69 6365   ( ) no.  Choice
-000012a0: 206c 6162 656c 202a 0a20 205b 6f6e 655d   label *.  [one]
-000012b0: 0a20 2043 686f 6963 654f 7074 206c 6162  .  ChoiceOpt lab
-000012c0: 656c 0a20 205b 4e6f 2076 616c 7565 5d0a  el.  [No value].
-000012d0: 2020 5465 7874 4c69 6e65 206c 6162 656c    TextLine label
-000012e0: 202a 0a20 2052 6571 7569 7265 6420 696e   *.  Required in
-000012f0: 7075 7420 6973 206d 6973 7369 6e67 2e0a  put is missing..
-00001300: 2020 5b5d 0a20 2044 6174 6520 6c61 6265    [].  Date labe
-00001310: 6c20 2a0a 2020 5265 7175 6972 6564 2069  l *.  Required i
-00001320: 6e70 7574 2069 7320 6d69 7373 696e 672e  nput is missing.
-00001330: 0a20 205b 5d0a 0a4c 6574 2773 2072 656d  .  []..Let's rem
-00001340: 6f76 6520 736f 6d65 2069 7465 6d73 3a0a  ove some items:.
-00001350: 0a20 203e 3e3e 2073 7562 6d69 7420 3d20  .  >>> submit = 
-00001360: 7465 7374 696e 672e 6765 7453 7562 6d69  testing.getSubmi
-00001370: 7456 616c 7565 7328 636f 6e74 656e 7429  tValues(content)
-00001380: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
-00001390: 6f72 6d2e 7769 6467 6574 732e 6c69 7374  orm.widgets.list
-000013a0: 4f66 4f62 6a65 6374 2e31 2e72 656d 6f76  OfObject.1.remov
-000013b0: 6527 5d20 3d20 7527 3127 0a20 203e 3e3e  e'] = u'1'.  >>>
-000013c0: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
-000013d0: 6467 6574 732e 6c69 7374 4f66 4f62 6a65  dgets.listOfObje
-000013e0: 6374 2e32 2e72 656d 6f76 6527 5d20 3d20  ct.2.remove'] = 
-000013f0: 7527 3127 0a20 203e 3e3e 2073 7562 6d69  u'1'.  >>> submi
-00001400: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
-00001410: 6c69 7374 4f66 4f62 6a65 6374 2e62 7574  listOfObject.but
-00001420: 746f 6e73 2e72 656d 6f76 6527 5d20 3d20  tons.remove'] = 
-00001430: 7527 5265 6d6f 7665 2073 656c 6563 7465  u'Remove selecte
-00001440: 6427 0a20 203e 3e3e 2072 6571 7565 7374  d'.  >>> request
-00001450: 203d 2074 6573 7469 6e67 2e54 6573 7452   = testing.TestR
-00001460: 6571 7565 7374 2866 6f72 6d3d 7375 626d  equest(form=subm
-00001470: 6974 290a 2020 3e3e 3e20 636f 6e74 656e  it).  >>> conten
-00001480: 7420 3d20 6765 7446 6f72 6d28 7265 7175  t = getForm(requ
-00001490: 6573 742c 2027 4f62 6a65 6374 4d75 6c74  est, 'ObjectMult
-000014a0: 695f 6c69 7374 5f65 6469 745f 7265 6d6f  i_list_edit_remo
-000014b0: 7665 5f69 6e74 2e68 746d 6c27 290a 2020  ve_int.html').  
-000014c0: 3e3e 3e20 7072 696e 7428 7465 7374 696e  >>> print(testin
-000014d0: 672e 706c 6169 6e54 6578 7428 636f 6e74  g.plainText(cont
-000014e0: 656e 7429 290a 2020 4c69 7374 4f66 4f62  ent)).  ListOfOb
-000014f0: 6a65 6374 206c 6162 656c 0a20 203c 424c  ject label.  <BL
-00001500: 414e 4b4c 494e 453e 0a20 204f 626a 6563  ANKLINE>.  Objec
-00001510: 7420 6c61 6265 6c20 2a0a 2020 5468 6520  t label *.  The 
-00001520: 656e 7465 7265 6420 7661 6c75 6520 6973  entered value is
-00001530: 206e 6f74 2061 2076 616c 6964 2069 6e74   not a valid int
-00001540: 6567 6572 206c 6974 6572 616c 2e0a 2020  eger literal..  
-00001550: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
-00001560: 2a0a 2020 5468 6520 656e 7465 7265 6420  *.  The entered 
-00001570: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
-00001580: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
-00001590: 6572 616c 2e0a 2020 5b66 6f6f 6261 725d  eral..  [foobar]
-000015a0: 0a20 2042 6f6f 6c20 6c61 6265 6c20 2a0a  .  Bool label *.
-000015b0: 2020 2820 2920 7965 7320 284f 2920 6e6f    ( ) yes (O) no
-000015c0: 0a20 2043 686f 6963 6520 6c61 6265 6c20  .  Choice label 
-000015d0: 2a0a 2020 5b74 776f 5d0a 2020 4368 6f69  *.  [two].  Choi
-000015e0: 6365 4f70 7420 6c61 6265 6c0a 2020 5b73  ceOpt label.  [s
-000015f0: 6978 5d0a 2020 5465 7874 4c69 6e65 206c  ix].  TextLine l
-00001600: 6162 656c 202a 0a20 205b 736f 6d65 2074  abel *.  [some t
-00001610: 6578 7420 6f6e 655d 0a20 2044 6174 6520  ext one].  Date 
-00001620: 6c61 6265 6c20 2a0a 2020 5b31 342f 3036  label *.  [14/06
-00001630: 2f32 305d 0a20 205b 4164 645d 0a20 205b  /20].  [Add].  [
-00001640: 5265 6d6f 7665 2073 656c 6563 7465 645d  Remove selected]
-00001650: 0a20 205b 4170 706c 795d 0a0a 5468 6520  .  [Apply]..The 
-00001660: 6f62 6a65 6374 2069 7320 756e 6368 616e  object is unchan
-00001670: 6765 643a 0a0a 2020 3e3e 3e20 7070 7269  ged:..  >>> ppri
-00001680: 6e74 286f 626a 2e6c 6973 744f 664f 626a  nt(obj.listOfObj
-00001690: 6563 7429 0a20 205b 3c4f 626a 6563 7457  ect).  [<ObjectW
-000016a0: 6964 6765 744d 756c 7469 5375 6249 6e74  idgetMultiSubInt
-000016b0: 6567 7261 7469 6f6e 0a20 2020 206d 756c  egration.    mul
-000016c0: 7469 426f 6f6c 3a20 4661 6c73 650a 2020  tiBool: False.  
-000016d0: 2020 6d75 6c74 6943 686f 6963 653a 2027    multiChoice: '
-000016e0: 7477 6f27 0a20 2020 206d 756c 7469 4368  two'.    multiCh
-000016f0: 6f69 6365 4f70 743a 2027 7369 7827 0a20  oiceOpt: 'six'. 
-00001700: 2020 206d 756c 7469 4461 7465 3a20 6461     multiDate: da
-00001710: 7465 7469 6d65 2e64 6174 6528 3230 3134  tetime.date(2014
-00001720: 2c20 362c 2032 3029 0a20 2020 206d 756c  , 6, 20).    mul
-00001730: 7469 496e 743a 202d 3130 300a 2020 2020  tiInt: -100.    
-00001740: 6d75 6c74 6954 6578 744c 696e 653a 2075  multiTextLine: u
-00001750: 2773 6f6d 6520 7465 7874 206f 6e65 273e  'some text one'>
-00001760: 2c0a 2020 203c 4f62 6a65 6374 5769 6467  ,.   <ObjectWidg
-00001770: 6574 4d75 6c74 6953 7562 496e 7465 6772  etMultiSubIntegr
-00001780: 6174 696f 6e0a 2020 2020 6d75 6c74 6942  ation.    multiB
-00001790: 6f6f 6c3a 2054 7275 650a 2020 2020 6d75  ool: True.    mu
-000017a0: 6c74 6943 686f 6963 653a 2027 6f6e 6527  ltiChoice: 'one'
-000017b0: 0a20 2020 206d 756c 7469 4368 6f69 6365  .    multiChoice
-000017c0: 4f70 743a 2027 666f 7572 270a 2020 2020  Opt: 'four'.    
-000017d0: 6d75 6c74 6944 6174 653a 2064 6174 6574  multiDate: datet
-000017e0: 696d 652e 6461 7465 2832 3031 312c 2033  ime.date(2011, 3
-000017f0: 2c20 3135 290a 2020 2020 6d75 6c74 6949  , 15).    multiI
-00001800: 6e74 3a20 3432 0a20 2020 206d 756c 7469  nt: 42.    multi
-00001810: 5465 7874 4c69 6e65 3a20 7527 7365 636f  TextLine: u'seco
-00001820: 6e64 2074 7874 273e 5d0a 0a0a 7772 6f6e  nd txt'>]...wron
-00001830: 6720 696e 7075 7420 2854 6578 744c 696e  g input (TextLin
-00001840: 6529 0a23 2323 2323 2323 2323 2323 2323  e).#############
-00001850: 2323 2323 2323 2323 230a 0a53 6574 2061  #########..Set a
-00001860: 2077 726f 6e67 2076 616c 7565 2061 6e64   wrong value and
-00001870: 2061 6464 2061 206e 6577 2069 6e70 7574   add a new input
-00001880: 3a0a 0a20 203e 3e3e 2073 7562 6d69 7420  :..  >>> submit 
-00001890: 3d20 7465 7374 696e 672e 6765 7453 7562  = testing.getSub
-000018a0: 6d69 7456 616c 7565 7328 636f 6e74 656e  mitValues(conten
-000018b0: 7429 0a20 203e 3e3e 2073 7562 6d69 745b  t).  >>> submit[
-000018c0: 2766 6f72 6d2e 7769 6467 6574 732e 6c69  'form.widgets.li
-000018d0: 7374 4f66 4f62 6a65 6374 2e30 2e77 6964  stOfObject.0.wid
-000018e0: 6765 7473 2e6d 756c 7469 5465 7874 4c69  gets.multiTextLi
-000018f0: 6e65 275d 203d 2075 2766 6f6f 5c6e 6261  ne'] = u'foo\nba
-00001900: 7227 0a0a 2020 3e3e 3e20 7375 626d 6974  r'..  >>> submit
-00001910: 5b27 666f 726d 2e77 6964 6765 7473 2e6c  ['form.widgets.l
-00001920: 6973 744f 664f 626a 6563 742e 6275 7474  istOfObject.butt
-00001930: 6f6e 732e 6164 6427 5d20 3d20 7527 4164  ons.add'] = u'Ad
-00001940: 6427 0a0a 2020 3e3e 3e20 7265 7175 6573  d'..  >>> reques
-00001950: 7420 3d20 7465 7374 696e 672e 5465 7374  t = testing.Test
-00001960: 5265 7175 6573 7428 666f 726d 3d73 7562  Request(form=sub
-00001970: 6d69 7429 0a0a 496d 706f 7274 616e 7420  mit)..Important 
-00001980: 6973 2074 6861 7420 7765 2067 6574 2022  is that we get "
-00001990: 436f 6e73 7472 6169 6e74 206e 6f74 2073  Constraint not s
-000019a0: 6174 6973 6669 6564 220a 666f 7220 2266  atisfied".for "f
-000019b0: 6f6f 5c6e 6261 7222 2061 6e64 2061 206e  oo\nbar" and a n
-000019c0: 6577 2069 6e70 7574 2e0a 0a20 203e 3e3e  ew input...  >>>
-000019d0: 2063 6f6e 7465 6e74 203d 2067 6574 466f   content = getFo
-000019e0: 726d 2872 6571 7565 7374 2c20 274f 626a  rm(request, 'Obj
-000019f0: 6563 744d 756c 7469 5f6c 6973 745f 6564  ectMulti_list_ed
-00001a00: 6974 5f73 7562 6d69 745f 7465 7874 6c69  it_submit_textli
-00001a10: 6e65 2e68 746d 6c27 290a 2020 3e3e 3e20  ne.html').  >>> 
-00001a20: 7072 696e 7428 7465 7374 696e 672e 706c  print(testing.pl
-00001a30: 6169 6e54 6578 7428 636f 6e74 656e 742c  ainText(content,
-00001a40: 0a20 202e 2e2e 2020 2020 2027 2e2f 2f64  .  ...     './/d
-00001a50: 6976 5b40 6964 3d22 666f 726d 2d77 6964  iv[@id="form-wid
-00001a60: 6765 7473 2d6c 6973 744f 664f 626a 6563  gets-listOfObjec
-00001a70: 742d 302d 726f 7722 5d27 2929 0a20 204f  t-0-row"]')).  O
-00001a80: 626a 6563 7420 6c61 6265 6c20 2a0a 2020  bject label *.  
-00001a90: 3c42 4c41 4e4b 4c49 4e45 3e0a 2020 5468  <BLANKLINE>.  Th
-00001aa0: 6520 656e 7465 7265 6420 7661 6c75 6520  e entered value 
-00001ab0: 6973 206e 6f74 2061 2076 616c 6964 2069  is not a valid i
-00001ac0: 6e74 6567 6572 206c 6974 6572 616c 2e0a  nteger literal..
-00001ad0: 2020 3c42 4c41 4e4b 4c49 4e45 3e0a 2020    <BLANKLINE>.  
-00001ae0: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
-00001af0: 2a0a 2020 5468 6520 656e 7465 7265 6420  *.  The entered 
-00001b00: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
-00001b10: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
-00001b20: 6572 616c 2e0a 2020 5b66 6f6f 6261 725d  eral..  [foobar]
-00001b30: 0a20 2042 6f6f 6c20 6c61 6265 6c20 2a0a  .  Bool label *.
-00001b40: 2020 2820 2920 7965 7320 284f 2920 6e6f    ( ) yes (O) no
-00001b50: 0a20 2043 686f 6963 6520 6c61 6265 6c20  .  Choice label 
-00001b60: 2a0a 2020 5b74 776f 5d0a 2020 4368 6f69  *.  [two].  Choi
-00001b70: 6365 4f70 7420 6c61 6265 6c0a 2020 5b73  ceOpt label.  [s
-00001b80: 6978 5d0a 2020 5465 7874 4c69 6e65 206c  ix].  TextLine l
-00001b90: 6162 656c 202a 0a20 2043 6f6e 7374 7261  abel *.  Constra
-00001ba0: 696e 7420 6e6f 7420 7361 7469 7366 6965  int not satisfie
-00001bb0: 640a 2020 5b66 6f6f 0a20 2062 6172 5d0a  d.  [foo.  bar].
-00001bc0: 2020 4461 7465 206c 6162 656c 202a 0a20    Date label *. 
-00001bd0: 205b 3134 2f30 362f 3230 5d0a 0a53 7562   [14/06/20]..Sub
-00001be0: 6d69 7420 6167 6169 6e20 7769 7468 2074  mit again with t
-00001bf0: 6865 2065 6d70 7479 2066 6965 6c64 3a0a  he empty field:.
-00001c00: 0a20 203e 3e3e 2073 7562 6d69 7420 3d20  .  >>> submit = 
-00001c10: 7465 7374 696e 672e 6765 7453 7562 6d69  testing.getSubmi
-00001c20: 7456 616c 7565 7328 636f 6e74 656e 7429  tValues(content)
-00001c30: 0a20 203e 3e3e 2072 6571 7565 7374 203d  .  >>> request =
-00001c40: 2074 6573 7469 6e67 2e54 6573 7452 6571   testing.TestReq
-00001c50: 7565 7374 2866 6f72 6d3d 7375 626d 6974  uest(form=submit
-00001c60: 290a 2020 3e3e 3e20 636f 6e74 656e 7420  ).  >>> content 
-00001c70: 3d20 6765 7446 6f72 6d28 7265 7175 6573  = getForm(reques
-00001c80: 742c 2027 4f62 6a65 6374 4d75 6c74 695f  t, 'ObjectMulti_
-00001c90: 6c69 7374 5f65 6469 745f 7375 626d 6974  list_edit_submit
-00001ca0: 5f74 6578 746c 696e 655f 6167 6169 6e2e  _textline_again.
-00001cb0: 6874 6d6c 2729 0a20 203e 3e3e 2070 7269  html').  >>> pri
-00001cc0: 6e74 2874 6573 7469 6e67 2e70 6c61 696e  nt(testing.plain
-00001cd0: 5465 7874 2863 6f6e 7465 6e74 2c0a 2020  Text(content,.  
-00001ce0: 2e2e 2e20 2020 2020 272e 2f2f 6469 765b  ...     './/div[
-00001cf0: 4069 643d 2266 6f72 6d2d 7769 6467 6574  @id="form-widget
-00001d00: 732d 6c69 7374 4f66 4f62 6a65 6374 2d30  s-listOfObject-0
-00001d10: 2d72 6f77 225d 2f2f 6469 765b 4063 6c61  -row"]//div[@cla
-00001d20: 7373 3d22 6572 726f 7222 5d27 2929 0a20  ss="error"]')). 
-00001d30: 2054 6865 2065 6e74 6572 6564 2076 616c   The entered val
-00001d40: 7565 2069 7320 6e6f 7420 6120 7661 6c69  ue is not a vali
-00001d50: 6420 696e 7465 6765 7220 6c69 7465 7261  d integer litera
-00001d60: 6c2e 0a20 2054 6865 2065 6e74 6572 6564  l..  The entered
-00001d70: 2076 616c 7565 2069 7320 6e6f 7420 6120   value is not a 
-00001d80: 7661 6c69 6420 696e 7465 6765 7220 6c69  valid integer li
-00001d90: 7465 7261 6c2e 0a20 2043 6f6e 7374 7261  teral..  Constra
-00001da0: 696e 7420 6e6f 7420 7361 7469 7366 6965  int not satisfie
-00001db0: 640a 0a20 203e 3e3e 2070 7269 6e74 2874  d..  >>> print(t
-00001dc0: 6573 7469 6e67 2e70 6c61 696e 5465 7874  esting.plainText
-00001dd0: 2863 6f6e 7465 6e74 2c0a 2020 2e2e 2e20  (content,.  ... 
-00001de0: 2020 2020 272e 2f2f 6469 765b 4069 643d      './/div[@id=
-00001df0: 2266 6f72 6d2d 7769 6467 6574 732d 6c69  "form-widgets-li
-00001e00: 7374 4f66 4f62 6a65 6374 2d31 2d72 6f77  stOfObject-1-row
-00001e10: 225d 2f2f 6469 765b 4063 6c61 7373 3d22  "]//div[@class="
-00001e20: 6572 726f 7222 5d27 2929 0a20 2041 6e20  error"]')).  An 
-00001e30: 6f62 6a65 6374 2066 6169 6c65 6420 7363  object failed sc
-00001e40: 6865 6d61 206f 7220 696e 7661 7269 616e  hema or invarian
-00001e50: 7420 7661 6c69 6461 7469 6f6e 2e0a 2020  t validation..  
-00001e60: 5265 7175 6972 6564 2069 6e70 7574 2069  Required input i
-00001e70: 7320 6d69 7373 696e 672e 0a20 2052 6571  s missing..  Req
-00001e80: 7569 7265 6420 696e 7075 7420 6973 206d  uired input is m
-00001e90: 6973 7369 6e67 2e0a 2020 5265 7175 6972  issing..  Requir
-00001ea0: 6564 2069 6e70 7574 2069 7320 6d69 7373  ed input is miss
-00001eb0: 696e 672e 0a20 2052 6571 7569 7265 6420  ing..  Required 
-00001ec0: 696e 7075 7420 6973 206d 6973 7369 6e67  input is missing
-00001ed0: 2e0a 0a4c 6574 2773 2072 656d 6f76 6520  ...Let's remove 
-00001ee0: 736f 6d65 2069 7465 6d73 3a0a 0a20 203e  some items:..  >
-00001ef0: 3e3e 2073 7562 6d69 7420 3d20 7465 7374  >> submit = test
-00001f00: 696e 672e 6765 7453 7562 6d69 7456 616c  ing.getSubmitVal
-00001f10: 7565 7328 636f 6e74 656e 7429 0a20 203e  ues(content).  >
-00001f20: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
-00001f30: 7769 6467 6574 732e 6c69 7374 4f66 4f62  widgets.listOfOb
-00001f40: 6a65 6374 2e31 2e72 656d 6f76 6527 5d20  ject.1.remove'] 
-00001f50: 3d20 7527 3127 0a20 203e 3e3e 2073 7562  = u'1'.  >>> sub
-00001f60: 6d69 745b 2766 6f72 6d2e 7769 6467 6574  mit['form.widget
-00001f70: 732e 6c69 7374 4f66 4f62 6a65 6374 2e62  s.listOfObject.b
-00001f80: 7574 746f 6e73 2e72 656d 6f76 6527 5d20  uttons.remove'] 
-00001f90: 3d20 7527 5265 6d6f 7665 2073 656c 6563  = u'Remove selec
-00001fa0: 7465 6427 0a20 203e 3e3e 2072 6571 7565  ted'.  >>> reque
-00001fb0: 7374 203d 2074 6573 7469 6e67 2e54 6573  st = testing.Tes
-00001fc0: 7452 6571 7565 7374 2866 6f72 6d3d 7375  tRequest(form=su
-00001fd0: 626d 6974 290a 2020 3e3e 3e20 636f 6e74  bmit).  >>> cont
-00001fe0: 656e 7420 3d20 6765 7446 6f72 6d28 7265  ent = getForm(re
-00001ff0: 7175 6573 742c 2027 4f62 6a65 6374 4d75  quest, 'ObjectMu
-00002000: 6c74 695f 6c69 7374 5f65 6469 745f 7265  lti_list_edit_re
-00002010: 6d6f 7665 5f74 6578 746c 696e 652e 6874  move_textline.ht
-00002020: 6d6c 2729 0a20 203e 3e3e 2070 7269 6e74  ml').  >>> print
-00002030: 2874 6573 7469 6e67 2e70 6c61 696e 5465  (testing.plainTe
-00002040: 7874 2863 6f6e 7465 6e74 2929 0a20 204c  xt(content)).  L
-00002050: 6973 744f 664f 626a 6563 7420 6c61 6265  istOfObject labe
-00002060: 6c0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  l.  <BLANKLINE>.
-00002070: 2020 4f62 6a65 6374 206c 6162 656c 202a    Object label *
-00002080: 0a20 2054 6865 2065 6e74 6572 6564 2076  .  The entered v
-00002090: 616c 7565 2069 7320 6e6f 7420 6120 7661  alue is not a va
-000020a0: 6c69 6420 696e 7465 6765 7220 6c69 7465  lid integer lite
-000020b0: 7261 6c2e 0a20 205b 205d 0a20 2049 6e74  ral..  [ ].  Int
-000020c0: 206c 6162 656c 202a 0a20 2054 6865 2065   label *.  The e
-000020d0: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
-000020e0: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
-000020f0: 6765 7220 6c69 7465 7261 6c2e 0a20 205b  ger literal..  [
-00002100: 666f 6f62 6172 5d0a 2020 426f 6f6c 206c  foobar].  Bool l
-00002110: 6162 656c 202a 0a20 2028 2029 2079 6573  abel *.  ( ) yes
-00002120: 2028 4f29 206e 6f0a 2020 4368 6f69 6365   (O) no.  Choice
-00002130: 206c 6162 656c 202a 0a20 205b 7477 6f5d   label *.  [two]
-00002140: 0a20 2043 686f 6963 654f 7074 206c 6162  .  ChoiceOpt lab
-00002150: 656c 0a20 205b 7369 785d 0a20 2054 6578  el.  [six].  Tex
-00002160: 744c 696e 6520 6c61 6265 6c20 2a0a 2020  tLine label *.  
-00002170: 436f 6e73 7472 6169 6e74 206e 6f74 2073  Constraint not s
-00002180: 6174 6973 6669 6564 0a20 205b 666f 6f0a  atisfied.  [foo.
-00002190: 2020 6261 725d 0a20 2044 6174 6520 6c61    bar].  Date la
-000021a0: 6265 6c20 2a0a 2020 5b31 342f 3036 2f32  bel *.  [14/06/2
-000021b0: 305d 0a20 205b 4164 645d 0a20 205b 5265  0].  [Add].  [Re
-000021c0: 6d6f 7665 2073 656c 6563 7465 645d 0a20  move selected]. 
-000021d0: 205b 4170 706c 795d 0a0a 5468 6520 6f62   [Apply]..The ob
-000021e0: 6a65 6374 2069 7320 756e 6368 616e 6765  ject is unchange
-000021f0: 643a 0a0a 2020 3e3e 3e20 7070 7269 6e74  d:..  >>> pprint
-00002200: 286f 626a 2e6c 6973 744f 664f 626a 6563  (obj.listOfObjec
-00002210: 7429 0a20 205b 3c4f 626a 6563 7457 6964  t).  [<ObjectWid
-00002220: 6765 744d 756c 7469 5375 6249 6e74 6567  getMultiSubInteg
-00002230: 7261 7469 6f6e 0a20 2020 206d 756c 7469  ration.    multi
-00002240: 426f 6f6c 3a20 4661 6c73 650a 2020 2020  Bool: False.    
-00002250: 6d75 6c74 6943 686f 6963 653a 2027 7477  multiChoice: 'tw
-00002260: 6f27 0a20 2020 206d 756c 7469 4368 6f69  o'.    multiChoi
-00002270: 6365 4f70 743a 2027 7369 7827 0a20 2020  ceOpt: 'six'.   
-00002280: 206d 756c 7469 4461 7465 3a20 6461 7465   multiDate: date
-00002290: 7469 6d65 2e64 6174 6528 3230 3134 2c20  time.date(2014, 
-000022a0: 362c 2032 3029 0a20 2020 206d 756c 7469  6, 20).    multi
-000022b0: 496e 743a 202d 3130 300a 2020 2020 6d75  Int: -100.    mu
-000022c0: 6c74 6954 6578 744c 696e 653a 2075 2773  ltiTextLine: u's
-000022d0: 6f6d 6520 7465 7874 206f 6e65 273e 2c0a  ome text one'>,.
-000022e0: 2020 203c 4f62 6a65 6374 5769 6467 6574     <ObjectWidget
-000022f0: 4d75 6c74 6953 7562 496e 7465 6772 6174  MultiSubIntegrat
-00002300: 696f 6e0a 2020 2020 6d75 6c74 6942 6f6f  ion.    multiBoo
-00002310: 6c3a 2054 7275 650a 2020 2020 6d75 6c74  l: True.    mult
-00002320: 6943 686f 6963 653a 2027 6f6e 6527 0a20  iChoice: 'one'. 
-00002330: 2020 206d 756c 7469 4368 6f69 6365 4f70     multiChoiceOp
-00002340: 743a 2027 666f 7572 270a 2020 2020 6d75  t: 'four'.    mu
-00002350: 6c74 6944 6174 653a 2064 6174 6574 696d  ltiDate: datetim
-00002360: 652e 6461 7465 2832 3031 312c 2033 2c20  e.date(2011, 3, 
-00002370: 3135 290a 2020 2020 6d75 6c74 6949 6e74  15).    multiInt
-00002380: 3a20 3432 0a20 2020 206d 756c 7469 5465  : 42.    multiTe
-00002390: 7874 4c69 6e65 3a20 7527 7365 636f 6e64  xtLine: u'second
-000023a0: 2074 7874 273e 5d0a 0a0a 7772 6f6e 6720   txt'>]...wrong 
-000023b0: 696e 7075 7420 2844 6174 6529 0a23 2323  input (Date).###
-000023c0: 2323 2323 2323 2323 2323 2323 2323 230a  ###############.
-000023d0: 0a53 6574 2061 2077 726f 6e67 2076 616c  .Set a wrong val
-000023e0: 7565 2061 6e64 2061 6464 2061 206e 6577  ue and add a new
-000023f0: 2069 6e70 7574 3a0a 0a20 203e 3e3e 2073   input:..  >>> s
-00002400: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
-00002410: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
-00002420: 636f 6e74 656e 7429 0a20 203e 3e3e 2073  content).  >>> s
-00002430: 7562 6d69 745b 2766 6f72 6d2e 7769 6467  ubmit['form.widg
-00002440: 6574 732e 6c69 7374 4f66 4f62 6a65 6374  ets.listOfObject
-00002450: 2e30 2e77 6964 6765 7473 2e6d 756c 7469  .0.widgets.multi
-00002460: 4461 7465 275d 203d 2075 2766 6f6f 6261  Date'] = u'fooba
-00002470: 7227 0a0a 2020 3e3e 3e20 7375 626d 6974  r'..  >>> submit
-00002480: 5b27 666f 726d 2e77 6964 6765 7473 2e6c  ['form.widgets.l
-00002490: 6973 744f 664f 626a 6563 742e 6275 7474  istOfObject.butt
-000024a0: 6f6e 732e 6164 6427 5d20 3d20 7527 4164  ons.add'] = u'Ad
-000024b0: 6427 0a0a 2020 3e3e 3e20 7265 7175 6573  d'..  >>> reques
-000024c0: 7420 3d20 7465 7374 696e 672e 5465 7374  t = testing.Test
-000024d0: 5265 7175 6573 7428 666f 726d 3d73 7562  Request(form=sub
-000024e0: 6d69 7429 0a0a 496d 706f 7274 616e 7420  mit)..Important 
-000024f0: 6973 2074 6861 7420 7765 2067 6574 2022  is that we get "
-00002500: 5468 6520 6461 7465 7469 6d65 2073 7472  The datetime str
-00002510: 696e 6720 6469 6420 6e6f 7420 6d61 7463  ing did not matc
-00002520: 6820 7468 6520 7061 7474 6572 6e22 0a66  h the pattern".f
-00002530: 6f72 2022 666f 6f62 6172 2220 616e 6420  or "foobar" and 
-00002540: 6120 6e65 7720 696e 7075 742e 0a0a 2020  a new input...  
-00002550: 3e3e 3e20 636f 6e74 656e 7420 3d20 6765  >>> content = ge
-00002560: 7446 6f72 6d28 7265 7175 6573 742c 2027  tForm(request, '
-00002570: 4f62 6a65 6374 4d75 6c74 695f 6c69 7374  ObjectMulti_list
-00002580: 5f65 6469 745f 7375 626d 6974 5f64 6174  _edit_submit_dat
-00002590: 652e 6874 6d6c 2729 0a20 203e 3e3e 2070  e.html').  >>> p
-000025a0: 7269 6e74 2874 6573 7469 6e67 2e70 6c61  rint(testing.pla
-000025b0: 696e 5465 7874 2863 6f6e 7465 6e74 2929  inText(content))
-000025c0: 0a20 204c 6973 744f 664f 626a 6563 7420  .  ListOfObject 
-000025d0: 6c61 6265 6c0a 2020 3c42 4c41 4e4b 4c49  label.  <BLANKLI
-000025e0: 4e45 3e0a 2020 4f62 6a65 6374 206c 6162  NE>.  Object lab
-000025f0: 656c 202a 0a20 2054 6865 2065 6e74 6572  el *.  The enter
-00002600: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
-00002610: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
-00002620: 6c69 7465 7261 6c2e 0a20 205b 205d 0a20  literal..  [ ]. 
-00002630: 2049 6e74 206c 6162 656c 202a 0a20 2054   Int label *.  T
-00002640: 6865 2065 6e74 6572 6564 2076 616c 7565  he entered value
-00002650: 2069 7320 6e6f 7420 6120 7661 6c69 6420   is not a valid 
-00002660: 696e 7465 6765 7220 6c69 7465 7261 6c2e  integer literal.
-00002670: 0a20 205b 666f 6f62 6172 5d0a 2020 426f  .  [foobar].  Bo
-00002680: 6f6c 206c 6162 656c 202a 0a20 2028 2029  ol label *.  ( )
-00002690: 2079 6573 2028 4f29 206e 6f0a 2020 4368   yes (O) no.  Ch
-000026a0: 6f69 6365 206c 6162 656c 202a 0a20 205b  oice label *.  [
-000026b0: 7477 6f5d 0a20 2043 686f 6963 654f 7074  two].  ChoiceOpt
-000026c0: 206c 6162 656c 0a20 205b 7369 785d 0a20   label.  [six]. 
-000026d0: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
-000026e0: 2a0a 2020 436f 6e73 7472 6169 6e74 206e  *.  Constraint n
-000026f0: 6f74 2073 6174 6973 6669 6564 0a20 205b  ot satisfied.  [
-00002700: 666f 6f0a 2020 6261 725d 0a20 2044 6174  foo.  bar].  Dat
-00002710: 6520 6c61 6265 6c20 2a0a 2020 5468 6520  e label *.  The 
-00002720: 6461 7465 7469 6d65 2073 7472 696e 6720  datetime string 
-00002730: 6469 6420 6e6f 7420 6d61 7463 6820 7468  did not match th
-00002740: 6520 7061 7474 6572 6e20 7527 7979 2f4d  e pattern u'yy/M
-00002750: 4d2f 6464 272e 0a20 205b 666f 6f62 6172  M/dd'..  [foobar
-00002760: 5d0a 2020 4f62 6a65 6374 206c 6162 656c  ].  Object label
-00002770: 202a 0a20 205b 205d 0a20 2049 6e74 206c   *.  [ ].  Int l
-00002780: 6162 656c 202a 0a20 205b 5d0a 2020 426f  abel *.  [].  Bo
-00002790: 6f6c 206c 6162 656c 202a 0a20 2028 2029  ol label *.  ( )
-000027a0: 2079 6573 2028 2029 206e 6f0a 2020 4368   yes ( ) no.  Ch
-000027b0: 6f69 6365 206c 6162 656c 202a 0a20 205b  oice label *.  [
-000027c0: 5b20 2020 205d 5d0a 2020 4368 6f69 6365  [    ]].  Choice
-000027d0: 4f70 7420 6c61 6265 6c0a 2020 5b4e 6f20  Opt label.  [No 
-000027e0: 7661 6c75 655d 0a20 2054 6578 744c 696e  value].  TextLin
+00000650: 744c 696e 653d 2773 6f6d 6520 7465 7874  tLine='some text
+00000660: 206f 6e65 272c 0a20 202e 2e2e 2020 2020   one',.  ...    
+00000670: 206d 756c 7469 4461 7465 3d64 6174 6528   multiDate=date(
+00000680: 3230 3134 2c20 362c 2032 3029 290a 0a20  2014, 6, 20)).. 
+00000690: 203e 3e3e 2073 7562 3220 3d20 7465 7374   >>> sub2 = test
+000006a0: 696e 672e 4f62 6a65 6374 5769 6467 6574  ing.ObjectWidget
+000006b0: 4d75 6c74 6953 7562 496e 7465 6772 6174  MultiSubIntegrat
+000006c0: 696f 6e28 0a20 202e 2e2e 2020 2020 206d  ion(.  ...     m
+000006d0: 756c 7469 496e 743d 3432 2c0a 2020 2e2e  ultiInt=42,.  ..
+000006e0: 2e20 2020 2020 6d75 6c74 6942 6f6f 6c3d  .     multiBool=
+000006f0: 5472 7565 2c0a 2020 2e2e 2e20 2020 2020  True,.  ...     
+00000700: 6d75 6c74 6943 686f 6963 653d 276f 6e65  multiChoice='one
+00000710: 272c 0a20 202e 2e2e 2020 2020 206d 756c  ',.  ...     mul
+00000720: 7469 4368 6f69 6365 4f70 743d 2766 6f75  tiChoiceOpt='fou
+00000730: 7227 2c0a 2020 2e2e 2e20 2020 2020 6d75  r',.  ...     mu
+00000740: 6c74 6954 6578 744c 696e 653d 2773 6563  ltiTextLine='sec
+00000750: 6f6e 6420 7478 7427 2c0a 2020 2e2e 2e20  ond txt',.  ... 
+00000760: 2020 2020 6d75 6c74 6944 6174 653d 6461      multiDate=da
+00000770: 7465 2832 3031 312c 2033 2c20 3135 2929  te(2011, 3, 15))
+00000780: 0a0a 2020 3e3e 3e20 6f62 6a2e 6c69 7374  ..  >>> obj.list
+00000790: 4f66 4f62 6a65 6374 203d 205b 7375 6231  OfObject = [sub1
+000007a0: 2c20 7375 6232 5d0a 0a20 203e 3e3e 2070  , sub2]..  >>> p
+000007b0: 7072 696e 7428 6f62 6a2e 6c69 7374 4f66  print(obj.listOf
+000007c0: 4f62 6a65 6374 290a 2020 5b3c 4f62 6a65  Object).  [<Obje
+000007d0: 6374 5769 6467 6574 4d75 6c74 6953 7562  ctWidgetMultiSub
+000007e0: 496e 7465 6772 6174 696f 6e0a 2020 2020  Integration.    
+000007f0: 6d75 6c74 6942 6f6f 6c3a 2046 616c 7365  multiBool: False
+00000800: 0a20 2020 206d 756c 7469 4368 6f69 6365  .    multiChoice
+00000810: 3a20 2774 776f 270a 2020 2020 6d75 6c74  : 'two'.    mult
+00000820: 6943 686f 6963 654f 7074 3a20 2773 6978  iChoiceOpt: 'six
+00000830: 270a 2020 2020 6d75 6c74 6944 6174 653a  '.    multiDate:
+00000840: 2064 6174 6574 696d 652e 6461 7465 2832   datetime.date(2
+00000850: 3031 342c 2036 2c20 3230 290a 2020 2020  014, 6, 20).    
+00000860: 6d75 6c74 6949 6e74 3a20 2d31 3030 0a20  multiInt: -100. 
+00000870: 2020 206d 756c 7469 5465 7874 4c69 6e65     multiTextLine
+00000880: 3a20 2773 6f6d 6520 7465 7874 206f 6e65  : 'some text one
+00000890: 273e 2c0a 2020 203c 4f62 6a65 6374 5769  '>,.   <ObjectWi
+000008a0: 6467 6574 4d75 6c74 6953 7562 496e 7465  dgetMultiSubInte
+000008b0: 6772 6174 696f 6e0a 2020 2020 6d75 6c74  gration.    mult
+000008c0: 6942 6f6f 6c3a 2054 7275 650a 2020 2020  iBool: True.    
+000008d0: 6d75 6c74 6943 686f 6963 653a 2027 6f6e  multiChoice: 'on
+000008e0: 6527 0a20 2020 206d 756c 7469 4368 6f69  e'.    multiChoi
+000008f0: 6365 4f70 743a 2027 666f 7572 270a 2020  ceOpt: 'four'.  
+00000900: 2020 6d75 6c74 6944 6174 653a 2064 6174    multiDate: dat
+00000910: 6574 696d 652e 6461 7465 2832 3031 312c  etime.date(2011,
+00000920: 2033 2c20 3135 290a 2020 2020 6d75 6c74   3, 15).    mult
+00000930: 6949 6e74 3a20 3432 0a20 2020 206d 756c  iInt: 42.    mul
+00000940: 7469 5465 7874 4c69 6e65 3a20 2773 6563  tiTextLine: 'sec
+00000950: 6f6e 6420 7478 7427 3e5d 0a0a 2020 3e3e  ond txt'>]..  >>
+00000960: 3e20 636f 6e74 656e 7420 3d20 6765 7446  > content = getF
+00000970: 6f72 6d28 7265 7175 6573 742c 2027 4f62  orm(request, 'Ob
+00000980: 6a65 6374 4d75 6c74 695f 6c69 7374 5f65  jectMulti_list_e
+00000990: 6469 745f 7369 6d70 6c65 2e68 746d 6c27  dit_simple.html'
+000009a0: 290a 2020 3e3e 3e20 7072 696e 7428 7465  ).  >>> print(te
+000009b0: 7374 696e 672e 706c 6169 6e54 6578 7428  sting.plainText(
+000009c0: 636f 6e74 656e 7429 290a 2020 4c69 7374  content)).  List
+000009d0: 4f66 4f62 6a65 6374 206c 6162 656c 0a20  OfObject label. 
+000009e0: 203c 424c 414e 4b4c 494e 453e 0a20 204f   <BLANKLINE>.  O
+000009f0: 626a 6563 7420 6c61 6265 6c20 2a0a 2020  bject label *.  
+00000a00: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
+00000a10: 2a0a 2020 5b2d 3130 305d 0a20 2042 6f6f  *.  [-100].  Boo
+00000a20: 6c20 6c61 6265 6c20 2a0a 2020 2820 2920  l label *.  ( ) 
+00000a30: 7965 7320 284f 2920 6e6f 0a20 2043 686f  yes (O) no.  Cho
+00000a40: 6963 6520 6c61 6265 6c20 2a0a 2020 5b74  ice label *.  [t
+00000a50: 776f 5d0a 2020 4368 6f69 6365 4f70 7420  wo].  ChoiceOpt 
+00000a60: 6c61 6265 6c0a 2020 5b73 6978 5d0a 2020  label.  [six].  
+00000a70: 5465 7874 4c69 6e65 206c 6162 656c 202a  TextLine label *
+00000a80: 0a20 205b 736f 6d65 2074 6578 7420 6f6e  .  [some text on
+00000a90: 655d 0a20 2044 6174 6520 6c61 6265 6c20  e].  Date label 
+00000aa0: 2a0a 2020 5b31 342f 3036 2f32 305d 0a20  *.  [14/06/20]. 
+00000ab0: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
+00000ac0: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
+00000ad0: 6c20 2a0a 2020 5b34 325d 0a20 2042 6f6f  l *.  [42].  Boo
+00000ae0: 6c20 6c61 6265 6c20 2a0a 2020 284f 2920  l label *.  (O) 
+00000af0: 7965 7320 2820 2920 6e6f 0a20 2043 686f  yes ( ) no.  Cho
+00000b00: 6963 6520 6c61 6265 6c20 2a0a 2020 5b6f  ice label *.  [o
+00000b10: 6e65 5d0a 2020 4368 6f69 6365 4f70 7420  ne].  ChoiceOpt 
+00000b20: 6c61 6265 6c0a 2020 5b66 6f75 725d 0a20  label.  [four]. 
+00000b30: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
+00000b40: 2a0a 2020 5b73 6563 6f6e 6420 7478 745d  *.  [second txt]
+00000b50: 0a20 2044 6174 6520 6c61 6265 6c20 2a0a  .  Date label *.
+00000b60: 2020 5b31 312f 3033 2f31 355d 0a20 205b    [11/03/15].  [
+00000b70: 4164 645d 0a20 205b 5265 6d6f 7665 2073  Add].  [Remove s
+00000b80: 656c 6563 7465 645d 0a20 205b 4170 706c  elected].  [Appl
+00000b90: 795d 0a0a 7772 6f6e 6720 696e 7075 7420  y]..wrong input 
+00000ba0: 2849 6e74 290a 2323 2323 2323 2323 2323  (Int).##########
+00000bb0: 2323 2323 2323 230a 0a53 6574 2061 2077  #######..Set a w
+00000bc0: 726f 6e67 2076 616c 7565 2061 6e64 2061  rong value and a
+00000bd0: 6464 2061 206e 6577 2069 6e70 7574 3a0a  dd a new input:.
+00000be0: 0a20 203e 3e3e 2073 7562 6d69 7420 3d20  .  >>> submit = 
+00000bf0: 7465 7374 696e 672e 6765 7453 7562 6d69  testing.getSubmi
+00000c00: 7456 616c 7565 7328 636f 6e74 656e 7429  tValues(content)
+00000c10: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
+00000c20: 6f72 6d2e 7769 6467 6574 732e 6c69 7374  orm.widgets.list
+00000c30: 4f66 4f62 6a65 6374 2e30 2e77 6964 6765  OfObject.0.widge
+00000c40: 7473 2e6d 756c 7469 496e 7427 5d20 3d20  ts.multiInt'] = 
+00000c50: 2766 6f6f 6261 7227 0a0a 2020 3e3e 3e20  'foobar'..  >>> 
+00000c60: 7375 626d 6974 5b27 666f 726d 2e77 6964  submit['form.wid
+00000c70: 6765 7473 2e6c 6973 744f 664f 626a 6563  gets.listOfObjec
+00000c80: 742e 6275 7474 6f6e 732e 6164 6427 5d20  t.buttons.add'] 
+00000c90: 3d20 2741 6464 270a 0a20 203e 3e3e 2072  = 'Add'..  >>> r
+00000ca0: 6571 7565 7374 203d 2074 6573 7469 6e67  equest = testing
+00000cb0: 2e54 6573 7452 6571 7565 7374 2866 6f72  .TestRequest(for
+00000cc0: 6d3d 7375 626d 6974 290a 0a49 6d70 6f72  m=submit)..Impor
+00000cd0: 7461 6e74 2069 7320 7468 6174 2077 6520  tant is that we 
+00000ce0: 6765 7420 2254 6865 2065 6e74 6572 6564  get "The entered
+00000cf0: 2076 616c 7565 2069 7320 6e6f 7420 6120   value is not a 
+00000d00: 7661 6c69 6420 696e 7465 6765 7220 6c69  valid integer li
+00000d10: 7465 7261 6c2e 220a 666f 7220 2266 6f6f  teral.".for "foo
+00000d20: 6261 7222 2061 6e64 2061 206e 6577 2069  bar" and a new i
+00000d30: 6e70 7574 2e0a 0a20 203e 3e3e 2063 6f6e  nput...  >>> con
+00000d40: 7465 6e74 203d 2067 6574 466f 726d 2872  tent = getForm(r
+00000d50: 6571 7565 7374 2c20 274f 626a 6563 744d  equest, 'ObjectM
+00000d60: 756c 7469 5f6c 6973 745f 6564 6974 5f73  ulti_list_edit_s
+00000d70: 7562 6d69 745f 696e 742e 6874 6d6c 2729  ubmit_int.html')
+00000d80: 0a20 203e 3e3e 2070 7269 6e74 2874 6573  .  >>> print(tes
+00000d90: 7469 6e67 2e70 6c61 696e 5465 7874 2863  ting.plainText(c
+00000da0: 6f6e 7465 6e74 2c0a 2020 2e2e 2e20 2020  ontent,.  ...   
+00000db0: 2020 272e 2f2f 6469 765b 4069 643d 2266    './/div[@id="f
+00000dc0: 6f72 6d2d 7769 6467 6574 732d 6c69 7374  orm-widgets-list
+00000dd0: 4f66 4f62 6a65 6374 2d30 2d72 6f77 225d  OfObject-0-row"]
+00000de0: 2729 290a 2020 4f62 6a65 6374 206c 6162  ')).  Object lab
+00000df0: 656c 202a 0a20 203c 424c 414e 4b4c 494e  el *.  <BLANKLIN
+00000e00: 453e 0a20 2054 6865 2065 6e74 6572 6564  E>.  The entered
+00000e10: 2076 616c 7565 2069 7320 6e6f 7420 6120   value is not a 
+00000e20: 7661 6c69 6420 696e 7465 6765 7220 6c69  valid integer li
+00000e30: 7465 7261 6c2e 0a20 203c 424c 414e 4b4c  teral..  <BLANKL
+00000e40: 494e 453e 0a20 205b 205d 0a20 2049 6e74  INE>.  [ ].  Int
+00000e50: 206c 6162 656c 202a 0a20 2054 6865 2065   label *.  The e
+00000e60: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
+00000e70: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
+00000e80: 6765 7220 6c69 7465 7261 6c2e 0a20 205b  ger literal..  [
+00000e90: 666f 6f62 6172 5d0a 2020 426f 6f6c 206c  foobar].  Bool l
+00000ea0: 6162 656c 202a 0a20 2028 2029 2079 6573  abel *.  ( ) yes
+00000eb0: 2028 4f29 206e 6f0a 2020 4368 6f69 6365   (O) no.  Choice
+00000ec0: 206c 6162 656c 202a 0a20 205b 7477 6f5d   label *.  [two]
+00000ed0: 0a20 2043 686f 6963 654f 7074 206c 6162  .  ChoiceOpt lab
+00000ee0: 656c 0a20 205b 7369 785d 0a20 2054 6578  el.  [six].  Tex
+00000ef0: 744c 696e 6520 6c61 6265 6c20 2a0a 2020  tLine label *.  
+00000f00: 5b73 6f6d 6520 7465 7874 206f 6e65 5d0a  [some text one].
+00000f10: 2020 4461 7465 206c 6162 656c 202a 0a20    Date label *. 
+00000f20: 205b 3134 2f30 362f 3230 5d0a 0a53 7562   [14/06/20]..Sub
+00000f30: 6d69 7420 6167 6169 6e20 7769 7468 2074  mit again with t
+00000f40: 6865 2065 6d70 7479 2066 6965 6c64 3a0a  he empty field:.
+00000f50: 0a20 203e 3e3e 2073 7562 6d69 7420 3d20  .  >>> submit = 
+00000f60: 7465 7374 696e 672e 6765 7453 7562 6d69  testing.getSubmi
+00000f70: 7456 616c 7565 7328 636f 6e74 656e 7429  tValues(content)
+00000f80: 0a20 203e 3e3e 2072 6571 7565 7374 203d  .  >>> request =
+00000f90: 2074 6573 7469 6e67 2e54 6573 7452 6571   testing.TestReq
+00000fa0: 7565 7374 2866 6f72 6d3d 7375 626d 6974  uest(form=submit
+00000fb0: 290a 2020 3e3e 3e20 636f 6e74 656e 7420  ).  >>> content 
+00000fc0: 3d20 6765 7446 6f72 6d28 7265 7175 6573  = getForm(reques
+00000fd0: 742c 2027 4f62 6a65 6374 4d75 6c74 695f  t, 'ObjectMulti_
+00000fe0: 6c69 7374 5f65 6469 745f 7375 626d 6974  list_edit_submit
+00000ff0: 5f69 6e74 5f61 6761 696e 2e68 746d 6c27  _int_again.html'
+00001000: 290a 2020 3e3e 3e20 7072 696e 7428 7465  ).  >>> print(te
+00001010: 7374 696e 672e 706c 6169 6e54 6578 7428  sting.plainText(
+00001020: 636f 6e74 656e 742c 0a20 202e 2e2e 2020  content,.  ...  
+00001030: 2020 2027 2e2f 2f64 6976 5b40 6964 3d22     './/div[@id="
+00001040: 666f 726d 2d77 6964 6765 7473 2d6c 6973  form-widgets-lis
+00001050: 744f 664f 626a 6563 742d 302d 726f 7722  tOfObject-0-row"
+00001060: 5d2f 2f64 6976 5b40 636c 6173 733d 2265  ]//div[@class="e
+00001070: 7272 6f72 225d 2729 290a 2020 5468 6520  rror"]')).  The 
+00001080: 656e 7465 7265 6420 7661 6c75 6520 6973  entered value is
+00001090: 206e 6f74 2061 2076 616c 6964 2069 6e74   not a valid int
+000010a0: 6567 6572 206c 6974 6572 616c 2e0a 2020  eger literal..  
+000010b0: 5468 6520 656e 7465 7265 6420 7661 6c75  The entered valu
+000010c0: 6520 6973 206e 6f74 2061 2076 616c 6964  e is not a valid
+000010d0: 2069 6e74 6567 6572 206c 6974 6572 616c   integer literal
+000010e0: 2e0a 0a20 203e 3e3e 2070 7269 6e74 2874  ...  >>> print(t
+000010f0: 6573 7469 6e67 2e70 6c61 696e 5465 7874  esting.plainText
+00001100: 2863 6f6e 7465 6e74 2c0a 2020 2e2e 2e20  (content,.  ... 
+00001110: 2020 2020 272e 2f2f 6469 765b 4069 643d      './/div[@id=
+00001120: 2266 6f72 6d2d 7769 6467 6574 732d 6c69  "form-widgets-li
+00001130: 7374 4f66 4f62 6a65 6374 2d31 2d72 6f77  stOfObject-1-row
+00001140: 225d 2f2f 6469 765b 4063 6c61 7373 3d22  "]//div[@class="
+00001150: 6572 726f 7222 5d27 2929 0a0a 2020 3e3e  error"]'))..  >>
+00001160: 3e20 7072 696e 7428 7465 7374 696e 672e  > print(testing.
+00001170: 706c 6169 6e54 6578 7428 636f 6e74 656e  plainText(conten
+00001180: 742c 0a20 202e 2e2e 2020 2020 2027 2e2f  t,.  ...     './
+00001190: 2f64 6976 5b40 6964 3d22 666f 726d 2d77  /div[@id="form-w
+000011a0: 6964 6765 7473 2d6c 6973 744f 664f 626a  idgets-listOfObj
+000011b0: 6563 742d 322d 726f 7722 5d27 2929 0a20  ect-2-row"]')). 
+000011c0: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
+000011d0: 2020 3c42 4c41 4e4b 4c49 4e45 3e0a 2020    <BLANKLINE>.  
+000011e0: 416e 206f 626a 6563 7420 6661 696c 6564  An object failed
+000011f0: 2073 6368 656d 6120 6f72 2069 6e76 6172   schema or invar
+00001200: 6961 6e74 2076 616c 6964 6174 696f 6e2e  iant validation.
+00001210: 0a20 203c 424c 414e 4b4c 494e 453e 0a20  .  <BLANKLINE>. 
+00001220: 205b 205d 0a20 2049 6e74 206c 6162 656c   [ ].  Int label
+00001230: 202a 0a20 2052 6571 7569 7265 6420 696e   *.  Required in
+00001240: 7075 7420 6973 206d 6973 7369 6e67 2e0a  put is missing..
+00001250: 2020 5b5d 0a20 2042 6f6f 6c20 6c61 6265    [].  Bool labe
+00001260: 6c20 2a0a 2020 5265 7175 6972 6564 2069  l *.  Required i
+00001270: 6e70 7574 2069 7320 6d69 7373 696e 672e  nput is missing.
+00001280: 0a20 2028 2029 2079 6573 2028 2029 206e  .  ( ) yes ( ) n
+00001290: 6f0a 2020 4368 6f69 6365 206c 6162 656c  o.  Choice label
+000012a0: 202a 0a20 205b 6f6e 655d 0a20 2043 686f   *.  [one].  Cho
+000012b0: 6963 654f 7074 206c 6162 656c 0a20 205b  iceOpt label.  [
+000012c0: 4e6f 2076 616c 7565 5d0a 2020 5465 7874  No value].  Text
+000012d0: 4c69 6e65 206c 6162 656c 202a 0a20 2052  Line label *.  R
+000012e0: 6571 7569 7265 6420 696e 7075 7420 6973  equired input is
+000012f0: 206d 6973 7369 6e67 2e0a 2020 5b5d 0a20   missing..  []. 
+00001300: 2044 6174 6520 6c61 6265 6c20 2a0a 2020   Date label *.  
+00001310: 5265 7175 6972 6564 2069 6e70 7574 2069  Required input i
+00001320: 7320 6d69 7373 696e 672e 0a20 205b 5d0a  s missing..  [].
+00001330: 0a4c 6574 2773 2072 656d 6f76 6520 736f  .Let's remove so
+00001340: 6d65 2069 7465 6d73 3a0a 0a20 203e 3e3e  me items:..  >>>
+00001350: 2073 7562 6d69 7420 3d20 7465 7374 696e   submit = testin
+00001360: 672e 6765 7453 7562 6d69 7456 616c 7565  g.getSubmitValue
+00001370: 7328 636f 6e74 656e 7429 0a20 203e 3e3e  s(content).  >>>
+00001380: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
+00001390: 6467 6574 732e 6c69 7374 4f66 4f62 6a65  dgets.listOfObje
+000013a0: 6374 2e31 2e72 656d 6f76 6527 5d20 3d20  ct.1.remove'] = 
+000013b0: 2731 270a 2020 3e3e 3e20 7375 626d 6974  '1'.  >>> submit
+000013c0: 5b27 666f 726d 2e77 6964 6765 7473 2e6c  ['form.widgets.l
+000013d0: 6973 744f 664f 626a 6563 742e 322e 7265  istOfObject.2.re
+000013e0: 6d6f 7665 275d 203d 2027 3127 0a20 203e  move'] = '1'.  >
+000013f0: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
+00001400: 7769 6467 6574 732e 6c69 7374 4f66 4f62  widgets.listOfOb
+00001410: 6a65 6374 2e62 7574 746f 6e73 2e72 656d  ject.buttons.rem
+00001420: 6f76 6527 5d20 3d20 2752 656d 6f76 6520  ove'] = 'Remove 
+00001430: 7365 6c65 6374 6564 270a 2020 3e3e 3e20  selected'.  >>> 
+00001440: 7265 7175 6573 7420 3d20 7465 7374 696e  request = testin
+00001450: 672e 5465 7374 5265 7175 6573 7428 666f  g.TestRequest(fo
+00001460: 726d 3d73 7562 6d69 7429 0a20 203e 3e3e  rm=submit).  >>>
+00001470: 2063 6f6e 7465 6e74 203d 2067 6574 466f   content = getFo
+00001480: 726d 2872 6571 7565 7374 2c20 274f 626a  rm(request, 'Obj
+00001490: 6563 744d 756c 7469 5f6c 6973 745f 6564  ectMulti_list_ed
+000014a0: 6974 5f72 656d 6f76 655f 696e 742e 6874  it_remove_int.ht
+000014b0: 6d6c 2729 0a20 203e 3e3e 2070 7269 6e74  ml').  >>> print
+000014c0: 2874 6573 7469 6e67 2e70 6c61 696e 5465  (testing.plainTe
+000014d0: 7874 2863 6f6e 7465 6e74 2929 0a20 204c  xt(content)).  L
+000014e0: 6973 744f 664f 626a 6563 7420 6c61 6265  istOfObject labe
+000014f0: 6c0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  l.  <BLANKLINE>.
+00001500: 2020 4f62 6a65 6374 206c 6162 656c 202a    Object label *
+00001510: 0a20 2054 6865 2065 6e74 6572 6564 2076  .  The entered v
+00001520: 616c 7565 2069 7320 6e6f 7420 6120 7661  alue is not a va
+00001530: 6c69 6420 696e 7465 6765 7220 6c69 7465  lid integer lite
+00001540: 7261 6c2e 0a20 205b 205d 0a20 2049 6e74  ral..  [ ].  Int
+00001550: 206c 6162 656c 202a 0a20 2054 6865 2065   label *.  The e
+00001560: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
+00001570: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
+00001580: 6765 7220 6c69 7465 7261 6c2e 0a20 205b  ger literal..  [
+00001590: 666f 6f62 6172 5d0a 2020 426f 6f6c 206c  foobar].  Bool l
+000015a0: 6162 656c 202a 0a20 2028 2029 2079 6573  abel *.  ( ) yes
+000015b0: 2028 4f29 206e 6f0a 2020 4368 6f69 6365   (O) no.  Choice
+000015c0: 206c 6162 656c 202a 0a20 205b 7477 6f5d   label *.  [two]
+000015d0: 0a20 2043 686f 6963 654f 7074 206c 6162  .  ChoiceOpt lab
+000015e0: 656c 0a20 205b 7369 785d 0a20 2054 6578  el.  [six].  Tex
+000015f0: 744c 696e 6520 6c61 6265 6c20 2a0a 2020  tLine label *.  
+00001600: 5b73 6f6d 6520 7465 7874 206f 6e65 5d0a  [some text one].
+00001610: 2020 4461 7465 206c 6162 656c 202a 0a20    Date label *. 
+00001620: 205b 3134 2f30 362f 3230 5d0a 2020 5b41   [14/06/20].  [A
+00001630: 6464 5d0a 2020 5b52 656d 6f76 6520 7365  dd].  [Remove se
+00001640: 6c65 6374 6564 5d0a 2020 5b41 7070 6c79  lected].  [Apply
+00001650: 5d0a 0a54 6865 206f 626a 6563 7420 6973  ]..The object is
+00001660: 2075 6e63 6861 6e67 6564 3a0a 0a20 203e   unchanged:..  >
+00001670: 3e3e 2070 7072 696e 7428 6f62 6a2e 6c69  >> pprint(obj.li
+00001680: 7374 4f66 4f62 6a65 6374 290a 2020 5b3c  stOfObject).  [<
+00001690: 4f62 6a65 6374 5769 6467 6574 4d75 6c74  ObjectWidgetMult
+000016a0: 6953 7562 496e 7465 6772 6174 696f 6e0a  iSubIntegration.
+000016b0: 2020 2020 6d75 6c74 6942 6f6f 6c3a 2046      multiBool: F
+000016c0: 616c 7365 0a20 2020 206d 756c 7469 4368  alse.    multiCh
+000016d0: 6f69 6365 3a20 2774 776f 270a 2020 2020  oice: 'two'.    
+000016e0: 6d75 6c74 6943 686f 6963 654f 7074 3a20  multiChoiceOpt: 
+000016f0: 2773 6978 270a 2020 2020 6d75 6c74 6944  'six'.    multiD
+00001700: 6174 653a 2064 6174 6574 696d 652e 6461  ate: datetime.da
+00001710: 7465 2832 3031 342c 2036 2c20 3230 290a  te(2014, 6, 20).
+00001720: 2020 2020 6d75 6c74 6949 6e74 3a20 2d31      multiInt: -1
+00001730: 3030 0a20 2020 206d 756c 7469 5465 7874  00.    multiText
+00001740: 4c69 6e65 3a20 2773 6f6d 6520 7465 7874  Line: 'some text
+00001750: 206f 6e65 273e 2c0a 2020 203c 4f62 6a65   one'>,.   <Obje
+00001760: 6374 5769 6467 6574 4d75 6c74 6953 7562  ctWidgetMultiSub
+00001770: 496e 7465 6772 6174 696f 6e0a 2020 2020  Integration.    
+00001780: 6d75 6c74 6942 6f6f 6c3a 2054 7275 650a  multiBool: True.
+00001790: 2020 2020 6d75 6c74 6943 686f 6963 653a      multiChoice:
+000017a0: 2027 6f6e 6527 0a20 2020 206d 756c 7469   'one'.    multi
+000017b0: 4368 6f69 6365 4f70 743a 2027 666f 7572  ChoiceOpt: 'four
+000017c0: 270a 2020 2020 6d75 6c74 6944 6174 653a  '.    multiDate:
+000017d0: 2064 6174 6574 696d 652e 6461 7465 2832   datetime.date(2
+000017e0: 3031 312c 2033 2c20 3135 290a 2020 2020  011, 3, 15).    
+000017f0: 6d75 6c74 6949 6e74 3a20 3432 0a20 2020  multiInt: 42.   
+00001800: 206d 756c 7469 5465 7874 4c69 6e65 3a20   multiTextLine: 
+00001810: 2773 6563 6f6e 6420 7478 7427 3e5d 0a0a  'second txt'>]..
+00001820: 0a77 726f 6e67 2069 6e70 7574 2028 5465  .wrong input (Te
+00001830: 7874 4c69 6e65 290a 2323 2323 2323 2323  xtLine).########
+00001840: 2323 2323 2323 2323 2323 2323 2323 0a0a  ##############..
+00001850: 5365 7420 6120 7772 6f6e 6720 7661 6c75  Set a wrong valu
+00001860: 6520 616e 6420 6164 6420 6120 6e65 7720  e and add a new 
+00001870: 696e 7075 743a 0a0a 2020 3e3e 3e20 7375  input:..  >>> su
+00001880: 626d 6974 203d 2074 6573 7469 6e67 2e67  bmit = testing.g
+00001890: 6574 5375 626d 6974 5661 6c75 6573 2863  etSubmitValues(c
+000018a0: 6f6e 7465 6e74 290a 2020 3e3e 3e20 7375  ontent).  >>> su
+000018b0: 626d 6974 5b27 666f 726d 2e77 6964 6765  bmit['form.widge
+000018c0: 7473 2e6c 6973 744f 664f 626a 6563 742e  ts.listOfObject.
+000018d0: 302e 7769 6467 6574 732e 6d75 6c74 6954  0.widgets.multiT
+000018e0: 6578 744c 696e 6527 5d20 3d20 2766 6f6f  extLine'] = 'foo
+000018f0: 5c6e 6261 7227 0a0a 2020 3e3e 3e20 7375  \nbar'..  >>> su
+00001900: 626d 6974 5b27 666f 726d 2e77 6964 6765  bmit['form.widge
+00001910: 7473 2e6c 6973 744f 664f 626a 6563 742e  ts.listOfObject.
+00001920: 6275 7474 6f6e 732e 6164 6427 5d20 3d20  buttons.add'] = 
+00001930: 2741 6464 270a 0a20 203e 3e3e 2072 6571  'Add'..  >>> req
+00001940: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
+00001950: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
+00001960: 7375 626d 6974 290a 0a49 6d70 6f72 7461  submit)..Importa
+00001970: 6e74 2069 7320 7468 6174 2077 6520 6765  nt is that we ge
+00001980: 7420 2243 6f6e 7374 7261 696e 7420 6e6f  t "Constraint no
+00001990: 7420 7361 7469 7366 6965 6422 0a66 6f72  t satisfied".for
+000019a0: 2022 666f 6f5c 6e62 6172 2220 616e 6420   "foo\nbar" and 
+000019b0: 6120 6e65 7720 696e 7075 742e 0a0a 2020  a new input...  
+000019c0: 3e3e 3e20 636f 6e74 656e 7420 3d20 6765  >>> content = ge
+000019d0: 7446 6f72 6d28 7265 7175 6573 742c 2027  tForm(request, '
+000019e0: 4f62 6a65 6374 4d75 6c74 695f 6c69 7374  ObjectMulti_list
+000019f0: 5f65 6469 745f 7375 626d 6974 5f74 6578  _edit_submit_tex
+00001a00: 746c 696e 652e 6874 6d6c 2729 0a20 203e  tline.html').  >
+00001a10: 3e3e 2070 7269 6e74 2874 6573 7469 6e67  >> print(testing
+00001a20: 2e70 6c61 696e 5465 7874 2863 6f6e 7465  .plainText(conte
+00001a30: 6e74 2c0a 2020 2e2e 2e20 2020 2020 272e  nt,.  ...     '.
+00001a40: 2f2f 6469 765b 4069 643d 2266 6f72 6d2d  //div[@id="form-
+00001a50: 7769 6467 6574 732d 6c69 7374 4f66 4f62  widgets-listOfOb
+00001a60: 6a65 6374 2d30 2d72 6f77 225d 2729 290a  ject-0-row"]')).
+00001a70: 2020 4f62 6a65 6374 206c 6162 656c 202a    Object label *
+00001a80: 0a20 203c 424c 414e 4b4c 494e 453e 0a20  .  <BLANKLINE>. 
+00001a90: 2054 6865 2065 6e74 6572 6564 2076 616c   The entered val
+00001aa0: 7565 2069 7320 6e6f 7420 6120 7661 6c69  ue is not a vali
+00001ab0: 6420 696e 7465 6765 7220 6c69 7465 7261  d integer litera
+00001ac0: 6c2e 0a20 203c 424c 414e 4b4c 494e 453e  l..  <BLANKLINE>
+00001ad0: 0a20 205b 205d 0a20 2049 6e74 206c 6162  .  [ ].  Int lab
+00001ae0: 656c 202a 0a20 2054 6865 2065 6e74 6572  el *.  The enter
+00001af0: 6564 2076 616c 7565 2069 7320 6e6f 7420  ed value is not 
+00001b00: 6120 7661 6c69 6420 696e 7465 6765 7220  a valid integer 
+00001b10: 6c69 7465 7261 6c2e 0a20 205b 666f 6f62  literal..  [foob
+00001b20: 6172 5d0a 2020 426f 6f6c 206c 6162 656c  ar].  Bool label
+00001b30: 202a 0a20 2028 2029 2079 6573 2028 4f29   *.  ( ) yes (O)
+00001b40: 206e 6f0a 2020 4368 6f69 6365 206c 6162   no.  Choice lab
+00001b50: 656c 202a 0a20 205b 7477 6f5d 0a20 2043  el *.  [two].  C
+00001b60: 686f 6963 654f 7074 206c 6162 656c 0a20  hoiceOpt label. 
+00001b70: 205b 7369 785d 0a20 2054 6578 744c 696e   [six].  TextLin
+00001b80: 6520 6c61 6265 6c20 2a0a 2020 436f 6e73  e label *.  Cons
+00001b90: 7472 6169 6e74 206e 6f74 2073 6174 6973  traint not satis
+00001ba0: 6669 6564 0a20 205b 666f 6f0a 2020 6261  fied.  [foo.  ba
+00001bb0: 725d 0a20 2044 6174 6520 6c61 6265 6c20  r].  Date label 
+00001bc0: 2a0a 2020 5b31 342f 3036 2f32 305d 0a0a  *.  [14/06/20]..
+00001bd0: 5375 626d 6974 2061 6761 696e 2077 6974  Submit again wit
+00001be0: 6820 7468 6520 656d 7074 7920 6669 656c  h the empty fiel
+00001bf0: 643a 0a0a 2020 3e3e 3e20 7375 626d 6974  d:..  >>> submit
+00001c00: 203d 2074 6573 7469 6e67 2e67 6574 5375   = testing.getSu
+00001c10: 626d 6974 5661 6c75 6573 2863 6f6e 7465  bmitValues(conte
+00001c20: 6e74 290a 2020 3e3e 3e20 7265 7175 6573  nt).  >>> reques
+00001c30: 7420 3d20 7465 7374 696e 672e 5465 7374  t = testing.Test
+00001c40: 5265 7175 6573 7428 666f 726d 3d73 7562  Request(form=sub
+00001c50: 6d69 7429 0a20 203e 3e3e 2063 6f6e 7465  mit).  >>> conte
+00001c60: 6e74 203d 2067 6574 466f 726d 2872 6571  nt = getForm(req
+00001c70: 7565 7374 2c20 274f 626a 6563 744d 756c  uest, 'ObjectMul
+00001c80: 7469 5f6c 6973 745f 6564 6974 5f73 7562  ti_list_edit_sub
+00001c90: 6d69 745f 7465 7874 6c69 6e65 5f61 6761  mit_textline_aga
+00001ca0: 696e 2e68 746d 6c27 290a 2020 3e3e 3e20  in.html').  >>> 
+00001cb0: 7072 696e 7428 7465 7374 696e 672e 706c  print(testing.pl
+00001cc0: 6169 6e54 6578 7428 636f 6e74 656e 742c  ainText(content,
+00001cd0: 0a20 202e 2e2e 2020 2020 2027 2e2f 2f64  .  ...     './/d
+00001ce0: 6976 5b40 6964 3d22 666f 726d 2d77 6964  iv[@id="form-wid
+00001cf0: 6765 7473 2d6c 6973 744f 664f 626a 6563  gets-listOfObjec
+00001d00: 742d 302d 726f 7722 5d2f 2f64 6976 5b40  t-0-row"]//div[@
+00001d10: 636c 6173 733d 2265 7272 6f72 225d 2729  class="error"]')
+00001d20: 290a 2020 5468 6520 656e 7465 7265 6420  ).  The entered 
+00001d30: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
+00001d40: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
+00001d50: 6572 616c 2e0a 2020 5468 6520 656e 7465  eral..  The ente
+00001d60: 7265 6420 7661 6c75 6520 6973 206e 6f74  red value is not
+00001d70: 2061 2076 616c 6964 2069 6e74 6567 6572   a valid integer
+00001d80: 206c 6974 6572 616c 2e0a 2020 436f 6e73   literal..  Cons
+00001d90: 7472 6169 6e74 206e 6f74 2073 6174 6973  traint not satis
+00001da0: 6669 6564 0a0a 2020 3e3e 3e20 7072 696e  fied..  >>> prin
+00001db0: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
+00001dc0: 6578 7428 636f 6e74 656e 742c 0a20 202e  ext(content,.  .
+00001dd0: 2e2e 2020 2020 2027 2e2f 2f64 6976 5b40  ..     './/div[@
+00001de0: 6964 3d22 666f 726d 2d77 6964 6765 7473  id="form-widgets
+00001df0: 2d6c 6973 744f 664f 626a 6563 742d 312d  -listOfObject-1-
+00001e00: 726f 7722 5d2f 2f64 6976 5b40 636c 6173  row"]//div[@clas
+00001e10: 733d 2265 7272 6f72 225d 2729 290a 2020  s="error"]')).  
+00001e20: 416e 206f 626a 6563 7420 6661 696c 6564  An object failed
+00001e30: 2073 6368 656d 6120 6f72 2069 6e76 6172   schema or invar
+00001e40: 6961 6e74 2076 616c 6964 6174 696f 6e2e  iant validation.
+00001e50: 0a20 2052 6571 7569 7265 6420 696e 7075  .  Required inpu
+00001e60: 7420 6973 206d 6973 7369 6e67 2e0a 2020  t is missing..  
+00001e70: 5265 7175 6972 6564 2069 6e70 7574 2069  Required input i
+00001e80: 7320 6d69 7373 696e 672e 0a20 2052 6571  s missing..  Req
+00001e90: 7569 7265 6420 696e 7075 7420 6973 206d  uired input is m
+00001ea0: 6973 7369 6e67 2e0a 2020 5265 7175 6972  issing..  Requir
+00001eb0: 6564 2069 6e70 7574 2069 7320 6d69 7373  ed input is miss
+00001ec0: 696e 672e 0a0a 4c65 7427 7320 7265 6d6f  ing...Let's remo
+00001ed0: 7665 2073 6f6d 6520 6974 656d 733a 0a0a  ve some items:..
+00001ee0: 2020 3e3e 3e20 7375 626d 6974 203d 2074    >>> submit = t
+00001ef0: 6573 7469 6e67 2e67 6574 5375 626d 6974  esting.getSubmit
+00001f00: 5661 6c75 6573 2863 6f6e 7465 6e74 290a  Values(content).
+00001f10: 2020 3e3e 3e20 7375 626d 6974 5b27 666f    >>> submit['fo
+00001f20: 726d 2e77 6964 6765 7473 2e6c 6973 744f  rm.widgets.listO
+00001f30: 664f 626a 6563 742e 312e 7265 6d6f 7665  fObject.1.remove
+00001f40: 275d 203d 2027 3127 0a20 203e 3e3e 2073  '] = '1'.  >>> s
+00001f50: 7562 6d69 745b 2766 6f72 6d2e 7769 6467  ubmit['form.widg
+00001f60: 6574 732e 6c69 7374 4f66 4f62 6a65 6374  ets.listOfObject
+00001f70: 2e62 7574 746f 6e73 2e72 656d 6f76 6527  .buttons.remove'
+00001f80: 5d20 3d20 2752 656d 6f76 6520 7365 6c65  ] = 'Remove sele
+00001f90: 6374 6564 270a 2020 3e3e 3e20 7265 7175  cted'.  >>> requ
+00001fa0: 6573 7420 3d20 7465 7374 696e 672e 5465  est = testing.Te
+00001fb0: 7374 5265 7175 6573 7428 666f 726d 3d73  stRequest(form=s
+00001fc0: 7562 6d69 7429 0a20 203e 3e3e 2063 6f6e  ubmit).  >>> con
+00001fd0: 7465 6e74 203d 2067 6574 466f 726d 2872  tent = getForm(r
+00001fe0: 6571 7565 7374 2c20 274f 626a 6563 744d  equest, 'ObjectM
+00001ff0: 756c 7469 5f6c 6973 745f 6564 6974 5f72  ulti_list_edit_r
+00002000: 656d 6f76 655f 7465 7874 6c69 6e65 2e68  emove_textline.h
+00002010: 746d 6c27 290a 2020 3e3e 3e20 7072 696e  tml').  >>> prin
+00002020: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
+00002030: 6578 7428 636f 6e74 656e 7429 290a 2020  ext(content)).  
+00002040: 4c69 7374 4f66 4f62 6a65 6374 206c 6162  ListOfObject lab
+00002050: 656c 0a20 203c 424c 414e 4b4c 494e 453e  el.  <BLANKLINE>
+00002060: 0a20 204f 626a 6563 7420 6c61 6265 6c20  .  Object label 
+00002070: 2a0a 2020 5468 6520 656e 7465 7265 6420  *.  The entered 
+00002080: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
+00002090: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
+000020a0: 6572 616c 2e0a 2020 5b20 5d0a 2020 496e  eral..  [ ].  In
+000020b0: 7420 6c61 6265 6c20 2a0a 2020 5468 6520  t label *.  The 
+000020c0: 656e 7465 7265 6420 7661 6c75 6520 6973  entered value is
+000020d0: 206e 6f74 2061 2076 616c 6964 2069 6e74   not a valid int
+000020e0: 6567 6572 206c 6974 6572 616c 2e0a 2020  eger literal..  
+000020f0: 5b66 6f6f 6261 725d 0a20 2042 6f6f 6c20  [foobar].  Bool 
+00002100: 6c61 6265 6c20 2a0a 2020 2820 2920 7965  label *.  ( ) ye
+00002110: 7320 284f 2920 6e6f 0a20 2043 686f 6963  s (O) no.  Choic
+00002120: 6520 6c61 6265 6c20 2a0a 2020 5b74 776f  e label *.  [two
+00002130: 5d0a 2020 4368 6f69 6365 4f70 7420 6c61  ].  ChoiceOpt la
+00002140: 6265 6c0a 2020 5b73 6978 5d0a 2020 5465  bel.  [six].  Te
+00002150: 7874 4c69 6e65 206c 6162 656c 202a 0a20  xtLine label *. 
+00002160: 2043 6f6e 7374 7261 696e 7420 6e6f 7420   Constraint not 
+00002170: 7361 7469 7366 6965 640a 2020 5b66 6f6f  satisfied.  [foo
+00002180: 0a20 2062 6172 5d0a 2020 4461 7465 206c  .  bar].  Date l
+00002190: 6162 656c 202a 0a20 205b 3134 2f30 362f  abel *.  [14/06/
+000021a0: 3230 5d0a 2020 5b41 6464 5d0a 2020 5b52  20].  [Add].  [R
+000021b0: 656d 6f76 6520 7365 6c65 6374 6564 5d0a  emove selected].
+000021c0: 2020 5b41 7070 6c79 5d0a 0a54 6865 206f    [Apply]..The o
+000021d0: 626a 6563 7420 6973 2075 6e63 6861 6e67  bject is unchang
+000021e0: 6564 3a0a 0a20 203e 3e3e 2070 7072 696e  ed:..  >>> pprin
+000021f0: 7428 6f62 6a2e 6c69 7374 4f66 4f62 6a65  t(obj.listOfObje
+00002200: 6374 290a 2020 5b3c 4f62 6a65 6374 5769  ct).  [<ObjectWi
+00002210: 6467 6574 4d75 6c74 6953 7562 496e 7465  dgetMultiSubInte
+00002220: 6772 6174 696f 6e0a 2020 2020 6d75 6c74  gration.    mult
+00002230: 6942 6f6f 6c3a 2046 616c 7365 0a20 2020  iBool: False.   
+00002240: 206d 756c 7469 4368 6f69 6365 3a20 2774   multiChoice: 't
+00002250: 776f 270a 2020 2020 6d75 6c74 6943 686f  wo'.    multiCho
+00002260: 6963 654f 7074 3a20 2773 6978 270a 2020  iceOpt: 'six'.  
+00002270: 2020 6d75 6c74 6944 6174 653a 2064 6174    multiDate: dat
+00002280: 6574 696d 652e 6461 7465 2832 3031 342c  etime.date(2014,
+00002290: 2036 2c20 3230 290a 2020 2020 6d75 6c74   6, 20).    mult
+000022a0: 6949 6e74 3a20 2d31 3030 0a20 2020 206d  iInt: -100.    m
+000022b0: 756c 7469 5465 7874 4c69 6e65 3a20 2773  ultiTextLine: 's
+000022c0: 6f6d 6520 7465 7874 206f 6e65 273e 2c0a  ome text one'>,.
+000022d0: 2020 203c 4f62 6a65 6374 5769 6467 6574     <ObjectWidget
+000022e0: 4d75 6c74 6953 7562 496e 7465 6772 6174  MultiSubIntegrat
+000022f0: 696f 6e0a 2020 2020 6d75 6c74 6942 6f6f  ion.    multiBoo
+00002300: 6c3a 2054 7275 650a 2020 2020 6d75 6c74  l: True.    mult
+00002310: 6943 686f 6963 653a 2027 6f6e 6527 0a20  iChoice: 'one'. 
+00002320: 2020 206d 756c 7469 4368 6f69 6365 4f70     multiChoiceOp
+00002330: 743a 2027 666f 7572 270a 2020 2020 6d75  t: 'four'.    mu
+00002340: 6c74 6944 6174 653a 2064 6174 6574 696d  ltiDate: datetim
+00002350: 652e 6461 7465 2832 3031 312c 2033 2c20  e.date(2011, 3, 
+00002360: 3135 290a 2020 2020 6d75 6c74 6949 6e74  15).    multiInt
+00002370: 3a20 3432 0a20 2020 206d 756c 7469 5465  : 42.    multiTe
+00002380: 7874 4c69 6e65 3a20 2773 6563 6f6e 6420  xtLine: 'second 
+00002390: 7478 7427 3e5d 0a0a 0a77 726f 6e67 2069  txt'>]...wrong i
+000023a0: 6e70 7574 2028 4461 7465 290a 2323 2323  nput (Date).####
+000023b0: 2323 2323 2323 2323 2323 2323 2323 0a0a  ##############..
+000023c0: 5365 7420 6120 7772 6f6e 6720 7661 6c75  Set a wrong valu
+000023d0: 6520 616e 6420 6164 6420 6120 6e65 7720  e and add a new 
+000023e0: 696e 7075 743a 0a0a 2020 3e3e 3e20 7375  input:..  >>> su
+000023f0: 626d 6974 203d 2074 6573 7469 6e67 2e67  bmit = testing.g
+00002400: 6574 5375 626d 6974 5661 6c75 6573 2863  etSubmitValues(c
+00002410: 6f6e 7465 6e74 290a 2020 3e3e 3e20 7375  ontent).  >>> su
+00002420: 626d 6974 5b27 666f 726d 2e77 6964 6765  bmit['form.widge
+00002430: 7473 2e6c 6973 744f 664f 626a 6563 742e  ts.listOfObject.
+00002440: 302e 7769 6467 6574 732e 6d75 6c74 6944  0.widgets.multiD
+00002450: 6174 6527 5d20 3d20 2766 6f6f 6261 7227  ate'] = 'foobar'
+00002460: 0a0a 2020 3e3e 3e20 7375 626d 6974 5b27  ..  >>> submit['
+00002470: 666f 726d 2e77 6964 6765 7473 2e6c 6973  form.widgets.lis
+00002480: 744f 664f 626a 6563 742e 6275 7474 6f6e  tOfObject.button
+00002490: 732e 6164 6427 5d20 3d20 2741 6464 270a  s.add'] = 'Add'.
+000024a0: 0a20 203e 3e3e 2072 6571 7565 7374 203d  .  >>> request =
+000024b0: 2074 6573 7469 6e67 2e54 6573 7452 6571   testing.TestReq
+000024c0: 7565 7374 2866 6f72 6d3d 7375 626d 6974  uest(form=submit
+000024d0: 290a 0a49 6d70 6f72 7461 6e74 2069 7320  )..Important is 
+000024e0: 7468 6174 2077 6520 6765 7420 2254 6865  that we get "The
+000024f0: 2064 6174 6574 696d 6520 7374 7269 6e67   datetime string
+00002500: 2064 6964 206e 6f74 206d 6174 6368 2074   did not match t
+00002510: 6865 2070 6174 7465 726e 220a 666f 7220  he pattern".for 
+00002520: 2266 6f6f 6261 7222 2061 6e64 2061 206e  "foobar" and a n
+00002530: 6577 2069 6e70 7574 2e0a 0a20 203e 3e3e  ew input...  >>>
+00002540: 2063 6f6e 7465 6e74 203d 2067 6574 466f   content = getFo
+00002550: 726d 2872 6571 7565 7374 2c20 274f 626a  rm(request, 'Obj
+00002560: 6563 744d 756c 7469 5f6c 6973 745f 6564  ectMulti_list_ed
+00002570: 6974 5f73 7562 6d69 745f 6461 7465 2e68  it_submit_date.h
+00002580: 746d 6c27 290a 2020 3e3e 3e20 7072 696e  tml').  >>> prin
+00002590: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
+000025a0: 6578 7428 636f 6e74 656e 7429 290a 2020  ext(content)).  
+000025b0: 4c69 7374 4f66 4f62 6a65 6374 206c 6162  ListOfObject lab
+000025c0: 656c 0a20 203c 424c 414e 4b4c 494e 453e  el.  <BLANKLINE>
+000025d0: 0a20 204f 626a 6563 7420 6c61 6265 6c20  .  Object label 
+000025e0: 2a0a 2020 5468 6520 656e 7465 7265 6420  *.  The entered 
+000025f0: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
+00002600: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
+00002610: 6572 616c 2e0a 2020 5b20 5d0a 2020 496e  eral..  [ ].  In
+00002620: 7420 6c61 6265 6c20 2a0a 2020 5468 6520  t label *.  The 
+00002630: 656e 7465 7265 6420 7661 6c75 6520 6973  entered value is
+00002640: 206e 6f74 2061 2076 616c 6964 2069 6e74   not a valid int
+00002650: 6567 6572 206c 6974 6572 616c 2e0a 2020  eger literal..  
+00002660: 5b66 6f6f 6261 725d 0a20 2042 6f6f 6c20  [foobar].  Bool 
+00002670: 6c61 6265 6c20 2a0a 2020 2820 2920 7965  label *.  ( ) ye
+00002680: 7320 284f 2920 6e6f 0a20 2043 686f 6963  s (O) no.  Choic
+00002690: 6520 6c61 6265 6c20 2a0a 2020 5b74 776f  e label *.  [two
+000026a0: 5d0a 2020 4368 6f69 6365 4f70 7420 6c61  ].  ChoiceOpt la
+000026b0: 6265 6c0a 2020 5b73 6978 5d0a 2020 5465  bel.  [six].  Te
+000026c0: 7874 4c69 6e65 206c 6162 656c 202a 0a20  xtLine label *. 
+000026d0: 2043 6f6e 7374 7261 696e 7420 6e6f 7420   Constraint not 
+000026e0: 7361 7469 7366 6965 640a 2020 5b66 6f6f  satisfied.  [foo
+000026f0: 0a20 2062 6172 5d0a 2020 4461 7465 206c  .  bar].  Date l
+00002700: 6162 656c 202a 0a20 2054 6865 2064 6174  abel *.  The dat
+00002710: 6574 696d 6520 7374 7269 6e67 2064 6964  etime string did
+00002720: 206e 6f74 206d 6174 6368 2074 6865 2070   not match the p
+00002730: 6174 7465 726e 2027 7979 2f4d 4d2f 6464  attern 'yy/MM/dd
+00002740: 272e 0a20 205b 666f 6f62 6172 5d0a 2020  '..  [foobar].  
+00002750: 4f62 6a65 6374 206c 6162 656c 202a 0a20  Object label *. 
+00002760: 205b 205d 0a20 2049 6e74 206c 6162 656c   [ ].  Int label
+00002770: 202a 0a20 205b 5d0a 2020 426f 6f6c 206c   *.  [].  Bool l
+00002780: 6162 656c 202a 0a20 2028 2029 2079 6573  abel *.  ( ) yes
+00002790: 2028 2029 206e 6f0a 2020 4368 6f69 6365   ( ) no.  Choice
+000027a0: 206c 6162 656c 202a 0a20 205b 5b20 2020   label *.  [[   
+000027b0: 205d 5d0a 2020 4368 6f69 6365 4f70 7420   ]].  ChoiceOpt 
+000027c0: 6c61 6265 6c0a 2020 5b4e 6f20 7661 6c75  label.  [No valu
+000027d0: 655d 0a20 2054 6578 744c 696e 6520 6c61  e].  TextLine la
+000027e0: 6265 6c20 2a0a 2020 5b5d 0a20 2044 6174  bel *.  [].  Dat
 000027f0: 6520 6c61 6265 6c20 2a0a 2020 5b5d 0a20  e label *.  []. 
-00002800: 2044 6174 6520 6c61 6265 6c20 2a0a 2020   Date label *.  
-00002810: 5b5d 0a20 205b 4164 645d 0a20 205b 5265  [].  [Add].  [Re
-00002820: 6d6f 7665 2073 656c 6563 7465 645d 0a20  move selected]. 
-00002830: 205b 4170 706c 795d 0a0a 5375 626d 6974   [Apply]..Submit
-00002840: 2061 6761 696e 2077 6974 6820 7468 6520   again with the 
-00002850: 656d 7074 7920 6669 656c 643a 0a0a 2020  empty field:..  
-00002860: 3e3e 3e20 7375 626d 6974 203d 2074 6573  >>> submit = tes
-00002870: 7469 6e67 2e67 6574 5375 626d 6974 5661  ting.getSubmitVa
-00002880: 6c75 6573 2863 6f6e 7465 6e74 290a 2020  lues(content).  
-00002890: 3e3e 3e20 7265 7175 6573 7420 3d20 7465  >>> request = te
-000028a0: 7374 696e 672e 5465 7374 5265 7175 6573  sting.TestReques
-000028b0: 7428 666f 726d 3d73 7562 6d69 7429 0a20  t(form=submit). 
-000028c0: 203e 3e3e 2063 6f6e 7465 6e74 203d 2067   >>> content = g
-000028d0: 6574 466f 726d 2872 6571 7565 7374 290a  etForm(request).
-000028e0: 2020 3e3e 3e20 7072 696e 7428 7465 7374    >>> print(test
-000028f0: 696e 672e 706c 6169 6e54 6578 7428 636f  ing.plainText(co
-00002900: 6e74 656e 742c 0a20 202e 2e2e 2020 2020  ntent,.  ...    
-00002910: 2027 2e2f 2f64 6976 5b40 6964 3d22 666f   './/div[@id="fo
-00002920: 726d 2d77 6964 6765 7473 2d6c 6973 744f  rm-widgets-listO
-00002930: 664f 626a 6563 742d 302d 726f 7722 5d2f  fObject-0-row"]/
-00002940: 2f64 6976 5b40 636c 6173 733d 2265 7272  /div[@class="err
-00002950: 6f72 225d 2729 290a 2020 5468 6520 656e  or"]')).  The en
-00002960: 7465 7265 6420 7661 6c75 6520 6973 206e  tered value is n
-00002970: 6f74 2061 2076 616c 6964 2069 6e74 6567  ot a valid integ
-00002980: 6572 206c 6974 6572 616c 2e0a 2020 5468  er literal..  Th
-00002990: 6520 656e 7465 7265 6420 7661 6c75 6520  e entered value 
-000029a0: 6973 206e 6f74 2061 2076 616c 6964 2069  is not a valid i
-000029b0: 6e74 6567 6572 206c 6974 6572 616c 2e0a  nteger literal..
-000029c0: 2020 436f 6e73 7472 6169 6e74 206e 6f74    Constraint not
-000029d0: 2073 6174 6973 6669 6564 0a20 2054 6865   satisfied.  The
-000029e0: 2064 6174 6574 696d 6520 7374 7269 6e67   datetime string
-000029f0: 2064 6964 206e 6f74 206d 6174 6368 2074   did not match t
-00002a00: 6865 2070 6174 7465 726e 2027 7979 2f4d  he pattern 'yy/M
-00002a10: 4d2f 6464 272e 0a0a 4164 6420 6f6e 6520  M/dd'...Add one 
-00002a20: 6d6f 7265 2066 6965 6c64 3a0a 0a20 203e  more field:..  >
-00002a30: 3e3e 2073 7562 6d69 7420 3d20 7465 7374  >> submit = test
-00002a40: 696e 672e 6765 7453 7562 6d69 7456 616c  ing.getSubmitVal
-00002a50: 7565 7328 636f 6e74 656e 7429 0a20 203e  ues(content).  >
-00002a60: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
-00002a70: 7769 6467 6574 732e 6c69 7374 4f66 4f62  widgets.listOfOb
-00002a80: 6a65 6374 2e62 7574 746f 6e73 2e61 6464  ject.buttons.add
-00002a90: 275d 203d 2075 2741 6464 270a 2020 3e3e  '] = u'Add'.  >>
-00002aa0: 3e20 7265 7175 6573 7420 3d20 7465 7374  > request = test
-00002ab0: 696e 672e 5465 7374 5265 7175 6573 7428  ing.TestRequest(
-00002ac0: 666f 726d 3d73 7562 6d69 7429 0a20 203e  form=submit).  >
-00002ad0: 3e3e 2063 6f6e 7465 6e74 203d 2067 6574  >> content = get
-00002ae0: 466f 726d 2872 6571 7565 7374 290a 0a41  Form(request)..A
-00002af0: 6e64 2066 696c 6c20 696e 2061 2076 616c  nd fill in a val
-00002b00: 6964 2076 616c 7565 3a0a 0a20 203e 3e3e  id value:..  >>>
-00002b10: 2073 7562 6d69 7420 3d20 7465 7374 696e   submit = testin
-00002b20: 672e 6765 7453 7562 6d69 7456 616c 7565  g.getSubmitValue
-00002b30: 7328 636f 6e74 656e 7429 0a20 203e 3e3e  s(content).  >>>
-00002b40: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
-00002b50: 6467 6574 732e 6c69 7374 4f66 4f62 6a65  dgets.listOfObje
-00002b60: 6374 2e32 2e77 6964 6765 7473 2e6d 756c  ct.2.widgets.mul
-00002b70: 7469 4461 7465 275d 203d 2075 2731 342f  tiDate'] = u'14/
-00002b80: 3036 2f32 3127 0a20 203e 3e3e 2072 6571  06/21'.  >>> req
-00002b90: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
-00002ba0: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
-00002bb0: 7375 626d 6974 290a 2020 3e3e 3e20 636f  submit).  >>> co
-00002bc0: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
-00002bd0: 7265 7175 6573 742c 2027 4f62 6a65 6374  request, 'Object
-00002be0: 4d75 6c74 695f 6c69 7374 5f65 6469 745f  Multi_list_edit_
-00002bf0: 7375 626d 6974 5f64 6174 6532 2e68 746d  submit_date2.htm
-00002c00: 6c27 290a 2020 3e3e 3e20 7072 696e 7428  l').  >>> print(
-00002c10: 7465 7374 696e 672e 706c 6169 6e54 6578  testing.plainTex
-00002c20: 7428 636f 6e74 656e 7429 290a 2020 4c69  t(content)).  Li
-00002c30: 7374 4f66 4f62 6a65 6374 206c 6162 656c  stOfObject label
-00002c40: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
-00002c50: 2020 5468 6520 656e 7465 7265 6420 7661    The entered va
-00002c60: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
-00002c70: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
-00002c80: 616c 2e0a 2020 5b20 5d0a 2020 496e 7420  al..  [ ].  Int 
-00002c90: 6c61 6265 6c20 2a0a 2020 5468 6520 656e  label *.  The en
-00002ca0: 7465 7265 6420 7661 6c75 6520 6973 206e  tered value is n
-00002cb0: 6f74 2061 2076 616c 6964 2069 6e74 6567  ot a valid integ
-00002cc0: 6572 206c 6974 6572 616c 2e0a 2020 5b66  er literal..  [f
-00002cd0: 6f6f 6261 725d 0a20 2042 6f6f 6c20 6c61  oobar].  Bool la
-00002ce0: 6265 6c20 2a0a 2020 2820 2920 7965 7320  bel *.  ( ) yes 
-00002cf0: 284f 2920 6e6f 0a20 2043 686f 6963 6520  (O) no.  Choice 
-00002d00: 6c61 6265 6c20 2a0a 2020 5b74 776f 5d0a  label *.  [two].
-00002d10: 2020 4368 6f69 6365 4f70 7420 6c61 6265    ChoiceOpt labe
-00002d20: 6c0a 2020 5b73 6978 5d0a 2020 5465 7874  l.  [six].  Text
-00002d30: 4c69 6e65 206c 6162 656c 202a 0a20 2043  Line label *.  C
-00002d40: 6f6e 7374 7261 696e 7420 6e6f 7420 7361  onstraint not sa
-00002d50: 7469 7366 6965 640a 2020 5b66 6f6f 0a20  tisfied.  [foo. 
-00002d60: 2062 6172 5d0a 2020 4461 7465 206c 6162   bar].  Date lab
-00002d70: 656c 202a 0a20 2054 6865 2064 6174 6574  el *.  The datet
-00002d80: 696d 6520 7374 7269 6e67 2064 6964 206e  ime string did n
-00002d90: 6f74 206d 6174 6368 2074 6865 2070 6174  ot match the pat
-00002da0: 7465 726e 2027 7979 2f4d 4d2f 6464 272e  tern 'yy/MM/dd'.
-00002db0: 0a20 205b 666f 6f62 6172 5d0a 2020 4f62  .  [foobar].  Ob
-00002dc0: 6a65 6374 206c 6162 656c 202a 0a20 2041  ject label *.  A
-00002dd0: 6e20 6f62 6a65 6374 2066 6169 6c65 6420  n object failed 
-00002de0: 7363 6865 6d61 206f 7220 696e 7661 7269  schema or invari
-00002df0: 616e 7420 7661 6c69 6461 7469 6f6e 2e0a  ant validation..
-00002e00: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
-00002e10: 6c20 2a0a 2020 5265 7175 6972 6564 2069  l *.  Required i
-00002e20: 6e70 7574 2069 7320 6d69 7373 696e 672e  nput is missing.
-00002e30: 0a20 205b 5d0a 2020 426f 6f6c 206c 6162  .  [].  Bool lab
-00002e40: 656c 202a 0a20 2052 6571 7569 7265 6420  el *.  Required 
-00002e50: 696e 7075 7420 6973 206d 6973 7369 6e67  input is missing
-00002e60: 2e0a 2020 2820 2920 7965 7320 2820 2920  ..  ( ) yes ( ) 
-00002e70: 6e6f 0a20 2043 686f 6963 6520 6c61 6265  no.  Choice labe
-00002e80: 6c20 2a0a 2020 5b6f 6e65 5d0a 2020 4368  l *.  [one].  Ch
-00002e90: 6f69 6365 4f70 7420 6c61 6265 6c0a 2020  oiceOpt label.  
-00002ea0: 5b4e 6f20 7661 6c75 655d 0a20 2054 6578  [No value].  Tex
-00002eb0: 744c 696e 6520 6c61 6265 6c20 2a0a 2020  tLine label *.  
-00002ec0: 5265 7175 6972 6564 2069 6e70 7574 2069  Required input i
-00002ed0: 7320 6d69 7373 696e 672e 0a20 205b 5d0a  s missing..  [].
-00002ee0: 2020 4461 7465 206c 6162 656c 202a 0a20    Date label *. 
-00002ef0: 2052 6571 7569 7265 6420 696e 7075 7420   Required input 
-00002f00: 6973 206d 6973 7369 6e67 2e0a 2020 5b5d  is missing..  []
-00002f10: 0a20 204f 626a 6563 7420 6c61 6265 6c20  .  Object label 
-00002f20: 2a0a 2020 416e 206f 626a 6563 7420 6661  *.  An object fa
-00002f30: 696c 6564 2073 6368 656d 6120 6f72 2069  iled schema or i
-00002f40: 6e76 6172 6961 6e74 2076 616c 6964 6174  nvariant validat
-00002f50: 696f 6e2e 0a20 205b 205d 0a20 2049 6e74  ion..  [ ].  Int
-00002f60: 206c 6162 656c 202a 0a20 2052 6571 7569   label *.  Requi
-00002f70: 7265 6420 696e 7075 7420 6973 206d 6973  red input is mis
-00002f80: 7369 6e67 2e0a 2020 5b5d 0a20 2042 6f6f  sing..  [].  Boo
-00002f90: 6c20 6c61 6265 6c20 2a0a 2020 5265 7175  l label *.  Requ
-00002fa0: 6972 6564 2069 6e70 7574 2069 7320 6d69  ired input is mi
-00002fb0: 7373 696e 672e 0a20 2028 2029 2079 6573  ssing..  ( ) yes
-00002fc0: 2028 2029 206e 6f0a 2020 4368 6f69 6365   ( ) no.  Choice
-00002fd0: 206c 6162 656c 202a 0a20 205b 6f6e 655d   label *.  [one]
-00002fe0: 0a20 2043 686f 6963 654f 7074 206c 6162  .  ChoiceOpt lab
-00002ff0: 656c 0a20 205b 4e6f 2076 616c 7565 5d0a  el.  [No value].
-00003000: 2020 5465 7874 4c69 6e65 206c 6162 656c    TextLine label
-00003010: 202a 0a20 2052 6571 7569 7265 6420 696e   *.  Required in
-00003020: 7075 7420 6973 206d 6973 7369 6e67 2e0a  put is missing..
-00003030: 2020 5b5d 0a20 2044 6174 6520 6c61 6265    [].  Date labe
-00003040: 6c20 2a0a 2020 5b31 342f 3036 2f32 315d  l *.  [14/06/21]
-00003050: 0a20 205b 4164 645d 205b 5265 6d6f 7665  .  [Add] [Remove
-00003060: 2073 656c 6563 7465 645d 0a20 205b 4170   selected].  [Ap
-00003070: 706c 795d 0a0a 4c65 7427 7320 7265 6d6f  ply]..Let's remo
-00003080: 7665 2073 6f6d 6520 6974 656d 733a 0a0a  ve some items:..
-00003090: 2020 3e3e 3e20 7375 626d 6974 203d 2074    >>> submit = t
-000030a0: 6573 7469 6e67 2e67 6574 5375 626d 6974  esting.getSubmit
-000030b0: 5661 6c75 6573 2863 6f6e 7465 6e74 290a  Values(content).
-000030c0: 2020 3e3e 3e20 7375 626d 6974 5b27 666f    >>> submit['fo
-000030d0: 726d 2e77 6964 6765 7473 2e6c 6973 744f  rm.widgets.listO
-000030e0: 664f 626a 6563 742e 322e 7265 6d6f 7665  fObject.2.remove
-000030f0: 275d 203d 2075 2731 270a 2020 3e3e 3e20  '] = u'1'.  >>> 
-00003100: 7375 626d 6974 5b27 666f 726d 2e77 6964  submit['form.wid
-00003110: 6765 7473 2e6c 6973 744f 664f 626a 6563  gets.listOfObjec
-00003120: 742e 6275 7474 6f6e 732e 7265 6d6f 7665  t.buttons.remove
-00003130: 275d 203d 2075 2752 656d 6f76 6520 7365  '] = u'Remove se
-00003140: 6c65 6374 6564 270a 2020 3e3e 3e20 7265  lected'.  >>> re
-00003150: 7175 6573 7420 3d20 7465 7374 696e 672e  quest = testing.
-00003160: 5465 7374 5265 7175 6573 7428 666f 726d  TestRequest(form
-00003170: 3d73 7562 6d69 7429 0a20 203e 3e3e 2063  =submit).  >>> c
-00003180: 6f6e 7465 6e74 203d 2067 6574 466f 726d  ontent = getForm
-00003190: 2872 6571 7565 7374 2c20 274f 626a 6563  (request, 'Objec
-000031a0: 744d 756c 7469 5f6c 6973 745f 6564 6974  tMulti_list_edit
-000031b0: 5f72 656d 6f76 655f 6461 7465 2e68 746d  _remove_date.htm
-000031c0: 6c27 290a 2020 3e3e 3e20 7072 696e 7428  l').  >>> print(
-000031d0: 7465 7374 696e 672e 706c 6169 6e54 6578  testing.plainTex
-000031e0: 7428 636f 6e74 656e 7429 290a 2020 4c69  t(content)).  Li
-000031f0: 7374 4f66 4f62 6a65 6374 206c 6162 656c  stOfObject label
-00003200: 0a20 203c 424c 414e 4b4c 494e 453e 0a20  .  <BLANKLINE>. 
-00003210: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
-00003220: 2020 5468 6520 656e 7465 7265 6420 7661    The entered va
-00003230: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
-00003240: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
-00003250: 616c 2e0a 2020 5b20 5d0a 2020 496e 7420  al..  [ ].  Int 
-00003260: 6c61 6265 6c20 2a0a 2020 5468 6520 656e  label *.  The en
-00003270: 7465 7265 6420 7661 6c75 6520 6973 206e  tered value is n
-00003280: 6f74 2061 2076 616c 6964 2069 6e74 6567  ot a valid integ
-00003290: 6572 206c 6974 6572 616c 2e0a 2020 5b66  er literal..  [f
-000032a0: 6f6f 6261 725d 0a20 2042 6f6f 6c20 6c61  oobar].  Bool la
-000032b0: 6265 6c20 2a0a 2020 2820 2920 7965 7320  bel *.  ( ) yes 
-000032c0: 284f 2920 6e6f 0a20 2043 686f 6963 6520  (O) no.  Choice 
-000032d0: 6c61 6265 6c20 2a0a 2020 5b74 776f 5d0a  label *.  [two].
-000032e0: 2020 4368 6f69 6365 4f70 7420 6c61 6265    ChoiceOpt labe
-000032f0: 6c0a 2020 5b73 6978 5d0a 2020 5465 7874  l.  [six].  Text
-00003300: 4c69 6e65 206c 6162 656c 202a 0a20 2043  Line label *.  C
-00003310: 6f6e 7374 7261 696e 7420 6e6f 7420 7361  onstraint not sa
-00003320: 7469 7366 6965 640a 2020 5b66 6f6f 0a20  tisfied.  [foo. 
-00003330: 2062 6172 5d0a 2020 4461 7465 206c 6162   bar].  Date lab
-00003340: 656c 202a 0a20 2054 6865 2064 6174 6574  el *.  The datet
-00003350: 696d 6520 7374 7269 6e67 2064 6964 206e  ime string did n
-00003360: 6f74 206d 6174 6368 2074 6865 2070 6174  ot match the pat
-00003370: 7465 726e 2027 7979 2f4d 4d2f 6464 272e  tern 'yy/MM/dd'.
-00003380: 0a20 205b 666f 6f62 6172 5d0a 2020 4f62  .  [foobar].  Ob
-00003390: 6a65 6374 206c 6162 656c 202a 0a20 2041  ject label *.  A
-000033a0: 6e20 6f62 6a65 6374 2066 6169 6c65 6420  n object failed 
-000033b0: 7363 6865 6d61 206f 7220 696e 7661 7269  schema or invari
-000033c0: 616e 7420 7661 6c69 6461 7469 6f6e 2e0a  ant validation..
-000033d0: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
-000033e0: 6c20 2a0a 2020 5265 7175 6972 6564 2069  l *.  Required i
-000033f0: 6e70 7574 2069 7320 6d69 7373 696e 672e  nput is missing.
-00003400: 0a20 205b 5d0a 2020 426f 6f6c 206c 6162  .  [].  Bool lab
-00003410: 656c 202a 0a20 2052 6571 7569 7265 6420  el *.  Required 
-00003420: 696e 7075 7420 6973 206d 6973 7369 6e67  input is missing
-00003430: 2e0a 2020 2820 2920 7965 7320 2820 2920  ..  ( ) yes ( ) 
-00003440: 6e6f 0a20 2043 686f 6963 6520 6c61 6265  no.  Choice labe
-00003450: 6c20 2a0a 2020 5b6f 6e65 5d0a 2020 4368  l *.  [one].  Ch
-00003460: 6f69 6365 4f70 7420 6c61 6265 6c0a 2020  oiceOpt label.  
-00003470: 5b4e 6f20 7661 6c75 655d 0a20 2054 6578  [No value].  Tex
-00003480: 744c 696e 6520 6c61 6265 6c20 2a0a 2020  tLine label *.  
-00003490: 5265 7175 6972 6564 2069 6e70 7574 2069  Required input i
-000034a0: 7320 6d69 7373 696e 672e 0a20 205b 5d0a  s missing..  [].
-000034b0: 2020 4461 7465 206c 6162 656c 202a 0a20    Date label *. 
-000034c0: 2052 6571 7569 7265 6420 696e 7075 7420   Required input 
-000034d0: 6973 206d 6973 7369 6e67 2e0a 2020 5b5d  is missing..  []
-000034e0: 0a20 205b 4164 645d 205b 5265 6d6f 7665  .  [Add] [Remove
-000034f0: 2073 656c 6563 7465 645d 0a20 205b 4170   selected].  [Ap
-00003500: 706c 795d 0a0a 5468 6520 6f62 6a65 6374  ply]..The object
-00003510: 2069 7320 756e 6368 616e 6765 643a 0a0a   is unchanged:..
-00003520: 2020 3e3e 3e20 7070 7269 6e74 286f 626a    >>> pprint(obj
-00003530: 2e6c 6973 744f 664f 626a 6563 7429 0a20  .listOfObject). 
-00003540: 205b 3c4f 626a 6563 7457 6964 6765 744d   [<ObjectWidgetM
-00003550: 756c 7469 5375 6249 6e74 6567 7261 7469  ultiSubIntegrati
-00003560: 6f6e 0a20 2020 206d 756c 7469 426f 6f6c  on.    multiBool
-00003570: 3a20 4661 6c73 650a 2020 2020 6d75 6c74  : False.    mult
-00003580: 6943 686f 6963 653a 2027 7477 6f27 0a20  iChoice: 'two'. 
-00003590: 2020 206d 756c 7469 4368 6f69 6365 4f70     multiChoiceOp
-000035a0: 743a 2027 7369 7827 0a20 2020 206d 756c  t: 'six'.    mul
-000035b0: 7469 4461 7465 3a20 6461 7465 7469 6d65  tiDate: datetime
-000035c0: 2e64 6174 6528 3230 3134 2c20 362c 2032  .date(2014, 6, 2
-000035d0: 3029 0a20 2020 206d 756c 7469 496e 743a  0).    multiInt:
-000035e0: 202d 3130 300a 2020 2020 6d75 6c74 6954   -100.    multiT
-000035f0: 6578 744c 696e 653a 2075 2773 6f6d 6520  extLine: u'some 
-00003600: 7465 7874 206f 6e65 273e 2c0a 2020 203c  text one'>,.   <
-00003610: 4f62 6a65 6374 5769 6467 6574 4d75 6c74  ObjectWidgetMult
-00003620: 6953 7562 496e 7465 6772 6174 696f 6e0a  iSubIntegration.
-00003630: 2020 2020 6d75 6c74 6942 6f6f 6c3a 2054      multiBool: T
-00003640: 7275 650a 2020 2020 6d75 6c74 6943 686f  rue.    multiCho
-00003650: 6963 653a 2027 6f6e 6527 0a20 2020 206d  ice: 'one'.    m
-00003660: 756c 7469 4368 6f69 6365 4f70 743a 2027  ultiChoiceOpt: '
-00003670: 666f 7572 270a 2020 2020 6d75 6c74 6944  four'.    multiD
-00003680: 6174 653a 2064 6174 6574 696d 652e 6461  ate: datetime.da
-00003690: 7465 2832 3031 312c 2033 2c20 3135 290a  te(2011, 3, 15).
-000036a0: 2020 2020 6d75 6c74 6949 6e74 3a20 3432      multiInt: 42
-000036b0: 0a20 2020 206d 756c 7469 5465 7874 4c69  .    multiTextLi
-000036c0: 6e65 3a20 7527 7365 636f 6e64 2074 7874  ne: u'second txt
-000036d0: 273e 5d0a 0a46 6978 2076 616c 7565 730a  '>]..Fix values.
-000036e0: 2323 2323 2323 2323 2323 0a0a 2020 3e3e  ##########..  >>
-000036f0: 3e20 7375 626d 6974 203d 2074 6573 7469  > submit = testi
-00003700: 6e67 2e67 6574 5375 626d 6974 5661 6c75  ng.getSubmitValu
-00003710: 6573 2863 6f6e 7465 6e74 290a 2020 3e3e  es(content).  >>
-00003720: 3e20 7375 626d 6974 5b27 666f 726d 2e77  > submit['form.w
-00003730: 6964 6765 7473 2e6c 6973 744f 664f 626a  idgets.listOfObj
-00003740: 6563 742e 302e 7769 6467 6574 732e 6d75  ect.0.widgets.mu
-00003750: 6c74 6949 6e74 275d 203d 2075 2731 3034  ltiInt'] = u'104
-00003760: 3227 0a20 203e 3e3e 2073 7562 6d69 745b  2'.  >>> submit[
-00003770: 2766 6f72 6d2e 7769 6467 6574 732e 6c69  'form.widgets.li
-00003780: 7374 4f66 4f62 6a65 6374 2e30 2e77 6964  stOfObject.0.wid
-00003790: 6765 7473 2e6d 756c 7469 5465 7874 4c69  gets.multiTextLi
-000037a0: 6e65 275d 203d 2075 276d 6f6f 3930 3027  ne'] = u'moo900'
-000037b0: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
-000037c0: 6f72 6d2e 7769 6467 6574 732e 6c69 7374  orm.widgets.list
-000037d0: 4f66 4f62 6a65 6374 2e30 2e77 6964 6765  OfObject.0.widge
-000037e0: 7473 2e6d 756c 7469 4461 7465 275d 203d  ts.multiDate'] =
-000037f0: 2075 2731 342f 3036 2f32 3327 0a0a 2020   u'14/06/23'..  
-00003800: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
-00003810: 2e77 6964 6765 7473 2e6c 6973 744f 664f  .widgets.listOfO
-00003820: 626a 6563 742e 312e 7265 6d6f 7665 275d  bject.1.remove']
-00003830: 203d 2075 2731 270a 2020 3e3e 3e20 7375   = u'1'.  >>> su
-00003840: 626d 6974 5b27 666f 726d 2e77 6964 6765  bmit['form.widge
-00003850: 7473 2e6c 6973 744f 664f 626a 6563 742e  ts.listOfObject.
-00003860: 6275 7474 6f6e 732e 7265 6d6f 7665 275d  buttons.remove']
-00003870: 203d 2075 2752 656d 6f76 6520 7365 6c65   = u'Remove sele
-00003880: 6374 6564 270a 0a20 203e 3e3e 2072 6571  cted'..  >>> req
-00003890: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
-000038a0: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
-000038b0: 7375 626d 6974 290a 2020 3e3e 3e20 636f  submit).  >>> co
-000038c0: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
-000038d0: 7265 7175 6573 742c 2027 4f62 6a65 6374  request, 'Object
-000038e0: 4d75 6c74 695f 6c69 7374 5f65 6469 745f  Multi_list_edit_
-000038f0: 6669 785f 7661 6c75 6573 2e68 746d 6c27  fix_values.html'
-00003900: 290a 2020 3e3e 3e20 7072 696e 7428 7465  ).  >>> print(te
-00003910: 7374 696e 672e 706c 6169 6e54 6578 7428  sting.plainText(
-00003920: 636f 6e74 656e 7429 290a 2020 4c69 7374  content)).  List
-00003930: 4f66 4f62 6a65 6374 206c 6162 656c 0a20  OfObject label. 
-00003940: 203c 424c 414e 4b4c 494e 453e 0a20 204f   <BLANKLINE>.  O
-00003950: 626a 6563 7420 6c61 6265 6c20 2a0a 2020  bject label *.  
-00003960: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
-00003970: 2a0a 2020 5b31 2c30 3432 5d0a 2020 426f  *.  [1,042].  Bo
-00003980: 6f6c 206c 6162 656c 202a 0a20 2028 2029  ol label *.  ( )
-00003990: 2079 6573 2028 4f29 206e 6f0a 2020 4368   yes (O) no.  Ch
-000039a0: 6f69 6365 206c 6162 656c 202a 0a20 205b  oice label *.  [
-000039b0: 7477 6f5d 0a20 2043 686f 6963 654f 7074  two].  ChoiceOpt
-000039c0: 206c 6162 656c 0a20 205b 7369 785d 0a20   label.  [six]. 
-000039d0: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
-000039e0: 2a0a 2020 5b6d 6f6f 3930 305d 0a20 2044  *.  [moo900].  D
-000039f0: 6174 6520 6c61 6265 6c20 2a0a 2020 5b31  ate label *.  [1
-00003a00: 342f 3036 2f32 335d 0a20 205b 4164 645d  4/06/23].  [Add]
-00003a10: 0a20 205b 5265 6d6f 7665 2073 656c 6563  .  [Remove selec
-00003a20: 7465 645d 0a20 205b 4170 706c 795d 0a0a  ted].  [Apply]..
-00003a30: 5468 6520 6f62 6a65 6374 2069 7320 756e  The object is un
-00003a40: 6368 616e 6765 643a 0a0a 2020 3e3e 3e20  changed:..  >>> 
-00003a50: 7070 7269 6e74 286f 626a 2e6c 6973 744f  pprint(obj.listO
-00003a60: 664f 626a 6563 7429 0a20 205b 3c4f 626a  fObject).  [<Obj
-00003a70: 6563 7457 6964 6765 744d 756c 7469 5375  ectWidgetMultiSu
-00003a80: 6249 6e74 6567 7261 7469 6f6e 0a20 2020  bIntegration.   
-00003a90: 206d 756c 7469 426f 6f6c 3a20 4661 6c73   multiBool: Fals
-00003aa0: 650a 2020 2020 6d75 6c74 6943 686f 6963  e.    multiChoic
-00003ab0: 653a 2027 7477 6f27 0a20 2020 206d 756c  e: 'two'.    mul
-00003ac0: 7469 4368 6f69 6365 4f70 743a 2027 7369  tiChoiceOpt: 'si
-00003ad0: 7827 0a20 2020 206d 756c 7469 4461 7465  x'.    multiDate
-00003ae0: 3a20 6461 7465 7469 6d65 2e64 6174 6528  : datetime.date(
-00003af0: 3230 3134 2c20 362c 2032 3029 0a20 2020  2014, 6, 20).   
-00003b00: 206d 756c 7469 496e 743a 202d 3130 300a   multiInt: -100.
-00003b10: 2020 2020 6d75 6c74 6954 6578 744c 696e      multiTextLin
-00003b20: 653a 2075 2773 6f6d 6520 7465 7874 206f  e: u'some text o
-00003b30: 6e65 273e 2c0a 2020 203c 4f62 6a65 6374  ne'>,.   <Object
-00003b40: 5769 6467 6574 4d75 6c74 6953 7562 496e  WidgetMultiSubIn
-00003b50: 7465 6772 6174 696f 6e0a 2020 2020 6d75  tegration.    mu
-00003b60: 6c74 6942 6f6f 6c3a 2054 7275 650a 2020  ltiBool: True.  
-00003b70: 2020 6d75 6c74 6943 686f 6963 653a 2027    multiChoice: '
-00003b80: 6f6e 6527 0a20 2020 206d 756c 7469 4368  one'.    multiCh
-00003b90: 6f69 6365 4f70 743a 2027 666f 7572 270a  oiceOpt: 'four'.
-00003ba0: 2020 2020 6d75 6c74 6944 6174 653a 2064      multiDate: d
-00003bb0: 6174 6574 696d 652e 6461 7465 2832 3031  atetime.date(201
-00003bc0: 312c 2033 2c20 3135 290a 2020 2020 6d75  1, 3, 15).    mu
-00003bd0: 6c74 6949 6e74 3a20 3432 0a20 2020 206d  ltiInt: 42.    m
-00003be0: 756c 7469 5465 7874 4c69 6e65 3a20 7527  ultiTextLine: u'
-00003bf0: 7365 636f 6e64 2074 7874 273e 5d0a 0a41  second txt'>]..A
-00003c00: 6e64 2061 7070 6c79 0a0a 2020 3e3e 3e20  nd apply..  >>> 
-00003c10: 7375 626d 6974 203d 2074 6573 7469 6e67  submit = testing
-00003c20: 2e67 6574 5375 626d 6974 5661 6c75 6573  .getSubmitValues
-00003c30: 2863 6f6e 7465 6e74 290a 2020 3e3e 3e20  (content).  >>> 
-00003c40: 7375 626d 6974 5b27 666f 726d 2e62 7574  submit['form.but
-00003c50: 746f 6e73 2e61 7070 6c79 275d 203d 2075  tons.apply'] = u
-00003c60: 2741 7070 6c79 270a 0a20 203e 3e3e 2072  'Apply'..  >>> r
-00003c70: 6571 7565 7374 203d 2074 6573 7469 6e67  equest = testing
-00003c80: 2e54 6573 7452 6571 7565 7374 2866 6f72  .TestRequest(for
-00003c90: 6d3d 7375 626d 6974 290a 2020 3e3e 3e20  m=submit).  >>> 
-00003ca0: 636f 6e74 656e 7420 3d20 6765 7446 6f72  content = getFor
-00003cb0: 6d28 7265 7175 6573 7429 0a20 203e 3e3e  m(request).  >>>
-00003cc0: 2070 7269 6e74 2874 6573 7469 6e67 2e70   print(testing.p
-00003cd0: 6c61 696e 5465 7874 2863 6f6e 7465 6e74  lainText(content
-00003ce0: 2929 0a20 2044 6174 6120 7375 6363 6573  )).  Data succes
-00003cf0: 7366 756c 6c79 2075 7064 6174 6564 2e0a  sfully updated..
-00003d00: 2020 3c42 4c41 4e4b 4c49 4e45 3e0a 2020    <BLANKLINE>.  
-00003d10: 4c69 7374 4f66 4f62 6a65 6374 206c 6162  ListOfObject lab
-00003d20: 656c 0a20 203c 424c 414e 4b4c 494e 453e  el.  <BLANKLINE>
-00003d30: 0a20 204f 626a 6563 7420 6c61 6265 6c20  .  Object label 
-00003d40: 2a0a 2020 5b20 5d0a 2020 496e 7420 6c61  *.  [ ].  Int la
-00003d50: 6265 6c20 2a0a 2020 5b31 2c30 3432 5d0a  bel *.  [1,042].
-00003d60: 2020 426f 6f6c 206c 6162 656c 202a 0a20    Bool label *. 
-00003d70: 2028 2029 2079 6573 2028 4f29 206e 6f0a   ( ) yes (O) no.
-00003d80: 2020 4368 6f69 6365 206c 6162 656c 202a    Choice label *
-00003d90: 0a20 205b 7477 6f5d 0a20 2043 686f 6963  .  [two].  Choic
-00003da0: 654f 7074 206c 6162 656c 0a20 205b 7369  eOpt label.  [si
-00003db0: 785d 0a20 2054 6578 744c 696e 6520 6c61  x].  TextLine la
-00003dc0: 6265 6c20 2a0a 2020 5b6d 6f6f 3930 305d  bel *.  [moo900]
-00003dd0: 0a20 2044 6174 6520 6c61 6265 6c20 2a0a  .  Date label *.
-00003de0: 2020 5b31 342f 3036 2f32 335d 0a20 205b    [14/06/23].  [
-00003df0: 4164 645d 0a20 205b 5265 6d6f 7665 2073  Add].  [Remove s
-00003e00: 656c 6563 7465 645d 0a20 205b 4170 706c  elected].  [Appl
-00003e10: 795d 0a0a 4e6f 7720 7468 6520 6f62 6a65  y]..Now the obje
-00003e20: 6374 2067 6574 7320 7570 6461 7465 643a  ct gets updated:
-00003e30: 0a0a 2020 3e3e 3e20 7070 7269 6e74 286f  ..  >>> pprint(o
-00003e40: 626a 2e6c 6973 744f 664f 626a 6563 7429  bj.listOfObject)
-00003e50: 0a20 205b 3c4f 626a 6563 7457 6964 6765  .  [<ObjectWidge
-00003e60: 744d 756c 7469 5375 6249 6e74 6567 7261  tMultiSubIntegra
-00003e70: 7469 6f6e 0a20 2020 206d 756c 7469 426f  tion.    multiBo
-00003e80: 6f6c 3a20 4661 6c73 650a 2020 2020 6d75  ol: False.    mu
-00003e90: 6c74 6943 686f 6963 653a 2027 7477 6f27  ltiChoice: 'two'
-00003ea0: 0a20 2020 206d 756c 7469 4368 6f69 6365  .    multiChoice
-00003eb0: 4f70 743a 2027 7369 7827 0a20 2020 206d  Opt: 'six'.    m
-00003ec0: 756c 7469 4461 7465 3a20 6461 7465 7469  ultiDate: dateti
-00003ed0: 6d65 2e64 6174 6528 3230 3134 2c20 362c  me.date(2014, 6,
-00003ee0: 2032 3329 0a20 2020 206d 756c 7469 496e   23).    multiIn
-00003ef0: 743a 2031 3034 320a 2020 2020 6d75 6c74  t: 1042.    mult
-00003f00: 6954 6578 744c 696e 653a 2075 276d 6f6f  iTextLine: u'moo
-00003f10: 3930 3027 3e5d 0a0a 0a42 6f6f 6c20 7761  900'>]...Bool wa
-00003f20: 7320 6d69 7362 6568 6176 696e 670a 2323  s misbehaving.##
-00003f30: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003f40: 2323 0a0a 2020 3e3e 3e20 7375 626d 6974  ##..  >>> submit
-00003f50: 203d 2074 6573 7469 6e67 2e67 6574 5375   = testing.getSu
-00003f60: 626d 6974 5661 6c75 6573 2863 6f6e 7465  bmitValues(conte
-00003f70: 6e74 290a 2020 3e3e 3e20 7375 626d 6974  nt).  >>> submit
-00003f80: 5b27 666f 726d 2e77 6964 6765 7473 2e6c  ['form.widgets.l
-00003f90: 6973 744f 664f 626a 6563 742e 302e 7769  istOfObject.0.wi
-00003fa0: 6467 6574 732e 6d75 6c74 6942 6f6f 6c27  dgets.multiBool'
-00003fb0: 5d20 3d20 7527 7472 7565 270a 2020 3e3e  ] = u'true'.  >>
-00003fc0: 3e20 7375 626d 6974 5b27 666f 726d 2e62  > submit['form.b
-00003fd0: 7574 746f 6e73 2e61 7070 6c79 275d 203d  uttons.apply'] =
-00003fe0: 2075 2741 7070 6c79 270a 0a20 203e 3e3e   u'Apply'..  >>>
-00003ff0: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
-00004000: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
-00004010: 6f72 6d3d 7375 626d 6974 290a 2020 3e3e  orm=submit).  >>
-00004020: 3e20 636f 6e74 656e 7420 3d20 6765 7446  > content = getF
-00004030: 6f72 6d28 7265 7175 6573 7429 0a20 203e  orm(request).  >
-00004040: 3e3e 2070 7269 6e74 2874 6573 7469 6e67  >> print(testing
-00004050: 2e70 6c61 696e 5465 7874 2863 6f6e 7465  .plainText(conte
-00004060: 6e74 2929 0a20 2044 6174 6120 7375 6363  nt)).  Data succ
-00004070: 6573 7366 756c 6c79 2075 7064 6174 6564  essfully updated
-00004080: 2e0a 2020 2e2e 2e0a 0a20 203e 3e3e 2070  ..  .....  >>> p
-00004090: 7072 696e 7428 6f62 6a2e 6c69 7374 4f66  print(obj.listOf
-000040a0: 4f62 6a65 6374 290a 2020 5b3c 4f62 6a65  Object).  [<Obje
-000040b0: 6374 5769 6467 6574 4d75 6c74 6953 7562  ctWidgetMultiSub
-000040c0: 496e 7465 6772 6174 696f 6e0a 2020 2020  Integration.    
-000040d0: 6d75 6c74 6942 6f6f 6c3a 2054 7275 650a  multiBool: True.
-000040e0: 2020 2020 6d75 6c74 6943 686f 6963 653a      multiChoice:
-000040f0: 2027 7477 6f27 0a20 2020 206d 756c 7469   'two'.    multi
-00004100: 4368 6f69 6365 4f70 743a 2027 7369 7827  ChoiceOpt: 'six'
-00004110: 0a20 2020 206d 756c 7469 4461 7465 3a20  .    multiDate: 
-00004120: 6461 7465 7469 6d65 2e64 6174 6528 3230  datetime.date(20
-00004130: 3134 2c20 362c 2032 3329 0a20 2020 206d  14, 6, 23).    m
-00004140: 756c 7469 496e 743a 2031 3034 320a 2020  ultiInt: 1042.  
-00004150: 2020 6d75 6c74 6954 6578 744c 696e 653a    multiTextLine:
-00004160: 2075 276d 6f6f 3930 3027 3e5d 0a0a 0a20   u'moo900'>]... 
-00004170: 203e 3e3e 2073 7562 6d69 7420 3d20 7465   >>> submit = te
-00004180: 7374 696e 672e 6765 7453 7562 6d69 7456  sting.getSubmitV
-00004190: 616c 7565 7328 636f 6e74 656e 7429 0a20  alues(content). 
-000041a0: 203e 3e3e 2073 7562 6d69 745b 2766 6f72   >>> submit['for
-000041b0: 6d2e 7769 6467 6574 732e 6c69 7374 4f66  m.widgets.listOf
-000041c0: 4f62 6a65 6374 2e30 2e77 6964 6765 7473  Object.0.widgets
-000041d0: 2e6d 756c 7469 426f 6f6c 275d 203d 2075  .multiBool'] = u
-000041e0: 2766 616c 7365 270a 2020 3e3e 3e20 7375  'false'.  >>> su
-000041f0: 626d 6974 5b27 666f 726d 2e62 7574 746f  bmit['form.butto
-00004200: 6e73 2e61 7070 6c79 275d 203d 2075 2741  ns.apply'] = u'A
-00004210: 7070 6c79 270a 0a20 203e 3e3e 2072 6571  pply'..  >>> req
-00004220: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
-00004230: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
-00004240: 7375 626d 6974 290a 2020 3e3e 3e20 636f  submit).  >>> co
-00004250: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
-00004260: 7265 7175 6573 7429 0a20 203e 3e3e 2070  request).  >>> p
-00004270: 7269 6e74 2874 6573 7469 6e67 2e70 6c61  rint(testing.pla
-00004280: 696e 5465 7874 2863 6f6e 7465 6e74 2929  inText(content))
-00004290: 0a20 2044 6174 6120 7375 6363 6573 7366  .  Data successf
-000042a0: 756c 6c79 2075 7064 6174 6564 2e0a 2020  ully updated..  
-000042b0: 2e2e 2e0a 0a20 203e 3e3e 2070 7072 696e  .....  >>> pprin
-000042c0: 7428 6f62 6a2e 6c69 7374 4f66 4f62 6a65  t(obj.listOfObje
-000042d0: 6374 290a 2020 5b3c 4f62 6a65 6374 5769  ct).  [<ObjectWi
-000042e0: 6467 6574 4d75 6c74 6953 7562 496e 7465  dgetMultiSubInte
-000042f0: 6772 6174 696f 6e0a 2020 2020 6d75 6c74  gration.    mult
-00004300: 6942 6f6f 6c3a 2046 616c 7365 0a20 2020  iBool: False.   
-00004310: 206d 756c 7469 4368 6f69 6365 3a20 2774   multiChoice: 't
-00004320: 776f 270a 2020 2020 6d75 6c74 6943 686f  wo'.    multiCho
-00004330: 6963 654f 7074 3a20 2773 6978 270a 2020  iceOpt: 'six'.  
-00004340: 2020 6d75 6c74 6944 6174 653a 2064 6174    multiDate: dat
-00004350: 6574 696d 652e 6461 7465 2832 3031 342c  etime.date(2014,
-00004360: 2036 2c20 3233 290a 2020 2020 6d75 6c74   6, 23).    mult
-00004370: 6949 6e74 3a20 3130 3432 0a20 2020 206d  iInt: 1042.    m
-00004380: 756c 7469 5465 7874 4c69 6e65 3a20 7527  ultiTextLine: u'
-00004390: 6d6f 6f39 3030 273e 5d0a                 moo900'>].
+00002800: 205b 4164 645d 0a20 205b 5265 6d6f 7665   [Add].  [Remove
+00002810: 2073 656c 6563 7465 645d 0a20 205b 4170   selected].  [Ap
+00002820: 706c 795d 0a0a 5375 626d 6974 2061 6761  ply]..Submit aga
+00002830: 696e 2077 6974 6820 7468 6520 656d 7074  in with the empt
+00002840: 7920 6669 656c 643a 0a0a 2020 3e3e 3e20  y field:..  >>> 
+00002850: 7375 626d 6974 203d 2074 6573 7469 6e67  submit = testing
+00002860: 2e67 6574 5375 626d 6974 5661 6c75 6573  .getSubmitValues
+00002870: 2863 6f6e 7465 6e74 290a 2020 3e3e 3e20  (content).  >>> 
+00002880: 7265 7175 6573 7420 3d20 7465 7374 696e  request = testin
+00002890: 672e 5465 7374 5265 7175 6573 7428 666f  g.TestRequest(fo
+000028a0: 726d 3d73 7562 6d69 7429 0a20 203e 3e3e  rm=submit).  >>>
+000028b0: 2063 6f6e 7465 6e74 203d 2067 6574 466f   content = getFo
+000028c0: 726d 2872 6571 7565 7374 290a 2020 3e3e  rm(request).  >>
+000028d0: 3e20 7072 696e 7428 7465 7374 696e 672e  > print(testing.
+000028e0: 706c 6169 6e54 6578 7428 636f 6e74 656e  plainText(conten
+000028f0: 742c 0a20 202e 2e2e 2020 2020 2027 2e2f  t,.  ...     './
+00002900: 2f64 6976 5b40 6964 3d22 666f 726d 2d77  /div[@id="form-w
+00002910: 6964 6765 7473 2d6c 6973 744f 664f 626a  idgets-listOfObj
+00002920: 6563 742d 302d 726f 7722 5d2f 2f64 6976  ect-0-row"]//div
+00002930: 5b40 636c 6173 733d 2265 7272 6f72 225d  [@class="error"]
+00002940: 2729 290a 2020 5468 6520 656e 7465 7265  ')).  The entere
+00002950: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
+00002960: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
+00002970: 6974 6572 616c 2e0a 2020 5468 6520 656e  iteral..  The en
+00002980: 7465 7265 6420 7661 6c75 6520 6973 206e  tered value is n
+00002990: 6f74 2061 2076 616c 6964 2069 6e74 6567  ot a valid integ
+000029a0: 6572 206c 6974 6572 616c 2e0a 2020 436f  er literal..  Co
+000029b0: 6e73 7472 6169 6e74 206e 6f74 2073 6174  nstraint not sat
+000029c0: 6973 6669 6564 0a20 2054 6865 2064 6174  isfied.  The dat
+000029d0: 6574 696d 6520 7374 7269 6e67 2064 6964  etime string did
+000029e0: 206e 6f74 206d 6174 6368 2074 6865 2070   not match the p
+000029f0: 6174 7465 726e 2027 7979 2f4d 4d2f 6464  attern 'yy/MM/dd
+00002a00: 272e 0a0a 4164 6420 6f6e 6520 6d6f 7265  '...Add one more
+00002a10: 2066 6965 6c64 3a0a 0a20 203e 3e3e 2073   field:..  >>> s
+00002a20: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
+00002a30: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
+00002a40: 636f 6e74 656e 7429 0a20 203e 3e3e 2073  content).  >>> s
+00002a50: 7562 6d69 745b 2766 6f72 6d2e 7769 6467  ubmit['form.widg
+00002a60: 6574 732e 6c69 7374 4f66 4f62 6a65 6374  ets.listOfObject
+00002a70: 2e62 7574 746f 6e73 2e61 6464 275d 203d  .buttons.add'] =
+00002a80: 2027 4164 6427 0a20 203e 3e3e 2072 6571   'Add'.  >>> req
+00002a90: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
+00002aa0: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
+00002ab0: 7375 626d 6974 290a 2020 3e3e 3e20 636f  submit).  >>> co
+00002ac0: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
+00002ad0: 7265 7175 6573 7429 0a0a 416e 6420 6669  request)..And fi
+00002ae0: 6c6c 2069 6e20 6120 7661 6c69 6420 7661  ll in a valid va
+00002af0: 6c75 653a 0a0a 2020 3e3e 3e20 7375 626d  lue:..  >>> subm
+00002b00: 6974 203d 2074 6573 7469 6e67 2e67 6574  it = testing.get
+00002b10: 5375 626d 6974 5661 6c75 6573 2863 6f6e  SubmitValues(con
+00002b20: 7465 6e74 290a 2020 3e3e 3e20 7375 626d  tent).  >>> subm
+00002b30: 6974 5b27 666f 726d 2e77 6964 6765 7473  it['form.widgets
+00002b40: 2e6c 6973 744f 664f 626a 6563 742e 322e  .listOfObject.2.
+00002b50: 7769 6467 6574 732e 6d75 6c74 6944 6174  widgets.multiDat
+00002b60: 6527 5d20 3d20 2731 342f 3036 2f32 3127  e'] = '14/06/21'
+00002b70: 0a20 203e 3e3e 2072 6571 7565 7374 203d  .  >>> request =
+00002b80: 2074 6573 7469 6e67 2e54 6573 7452 6571   testing.TestReq
+00002b90: 7565 7374 2866 6f72 6d3d 7375 626d 6974  uest(form=submit
+00002ba0: 290a 2020 3e3e 3e20 636f 6e74 656e 7420  ).  >>> content 
+00002bb0: 3d20 6765 7446 6f72 6d28 7265 7175 6573  = getForm(reques
+00002bc0: 742c 2027 4f62 6a65 6374 4d75 6c74 695f  t, 'ObjectMulti_
+00002bd0: 6c69 7374 5f65 6469 745f 7375 626d 6974  list_edit_submit
+00002be0: 5f64 6174 6532 2e68 746d 6c27 290a 2020  _date2.html').  
+00002bf0: 3e3e 3e20 7072 696e 7428 7465 7374 696e  >>> print(testin
+00002c00: 672e 706c 6169 6e54 6578 7428 636f 6e74  g.plainText(cont
+00002c10: 656e 7429 290a 2020 4c69 7374 4f66 4f62  ent)).  ListOfOb
+00002c20: 6a65 6374 206c 6162 656c 204f 626a 6563  ject label Objec
+00002c30: 7420 6c61 6265 6c20 2a0a 2020 5468 6520  t label *.  The 
+00002c40: 656e 7465 7265 6420 7661 6c75 6520 6973  entered value is
+00002c50: 206e 6f74 2061 2076 616c 6964 2069 6e74   not a valid int
+00002c60: 6567 6572 206c 6974 6572 616c 2e0a 2020  eger literal..  
+00002c70: 5b20 5d0a 2020 496e 7420 6c61 6265 6c20  [ ].  Int label 
+00002c80: 2a0a 2020 5468 6520 656e 7465 7265 6420  *.  The entered 
+00002c90: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
+00002ca0: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
+00002cb0: 6572 616c 2e0a 2020 5b66 6f6f 6261 725d  eral..  [foobar]
+00002cc0: 0a20 2042 6f6f 6c20 6c61 6265 6c20 2a0a  .  Bool label *.
+00002cd0: 2020 2820 2920 7965 7320 284f 2920 6e6f    ( ) yes (O) no
+00002ce0: 0a20 2043 686f 6963 6520 6c61 6265 6c20  .  Choice label 
+00002cf0: 2a0a 2020 5b74 776f 5d0a 2020 4368 6f69  *.  [two].  Choi
+00002d00: 6365 4f70 7420 6c61 6265 6c0a 2020 5b73  ceOpt label.  [s
+00002d10: 6978 5d0a 2020 5465 7874 4c69 6e65 206c  ix].  TextLine l
+00002d20: 6162 656c 202a 0a20 2043 6f6e 7374 7261  abel *.  Constra
+00002d30: 696e 7420 6e6f 7420 7361 7469 7366 6965  int not satisfie
+00002d40: 640a 2020 5b66 6f6f 0a20 2062 6172 5d0a  d.  [foo.  bar].
+00002d50: 2020 4461 7465 206c 6162 656c 202a 0a20    Date label *. 
+00002d60: 2054 6865 2064 6174 6574 696d 6520 7374   The datetime st
+00002d70: 7269 6e67 2064 6964 206e 6f74 206d 6174  ring did not mat
+00002d80: 6368 2074 6865 2070 6174 7465 726e 2027  ch the pattern '
+00002d90: 7979 2f4d 4d2f 6464 272e 0a20 205b 666f  yy/MM/dd'..  [fo
+00002da0: 6f62 6172 5d0a 2020 4f62 6a65 6374 206c  obar].  Object l
+00002db0: 6162 656c 202a 0a20 2041 6e20 6f62 6a65  abel *.  An obje
+00002dc0: 6374 2066 6169 6c65 6420 7363 6865 6d61  ct failed schema
+00002dd0: 206f 7220 696e 7661 7269 616e 7420 7661   or invariant va
+00002de0: 6c69 6461 7469 6f6e 2e0a 2020 5b20 5d0a  lidation..  [ ].
+00002df0: 2020 496e 7420 6c61 6265 6c20 2a0a 2020    Int label *.  
+00002e00: 5265 7175 6972 6564 2069 6e70 7574 2069  Required input i
+00002e10: 7320 6d69 7373 696e 672e 0a20 205b 5d0a  s missing..  [].
+00002e20: 2020 426f 6f6c 206c 6162 656c 202a 0a20    Bool label *. 
+00002e30: 2052 6571 7569 7265 6420 696e 7075 7420   Required input 
+00002e40: 6973 206d 6973 7369 6e67 2e0a 2020 2820  is missing..  ( 
+00002e50: 2920 7965 7320 2820 2920 6e6f 0a20 2043  ) yes ( ) no.  C
+00002e60: 686f 6963 6520 6c61 6265 6c20 2a0a 2020  hoice label *.  
+00002e70: 5b6f 6e65 5d0a 2020 4368 6f69 6365 4f70  [one].  ChoiceOp
+00002e80: 7420 6c61 6265 6c0a 2020 5b4e 6f20 7661  t label.  [No va
+00002e90: 6c75 655d 0a20 2054 6578 744c 696e 6520  lue].  TextLine 
+00002ea0: 6c61 6265 6c20 2a0a 2020 5265 7175 6972  label *.  Requir
+00002eb0: 6564 2069 6e70 7574 2069 7320 6d69 7373  ed input is miss
+00002ec0: 696e 672e 0a20 205b 5d0a 2020 4461 7465  ing..  [].  Date
+00002ed0: 206c 6162 656c 202a 0a20 2052 6571 7569   label *.  Requi
+00002ee0: 7265 6420 696e 7075 7420 6973 206d 6973  red input is mis
+00002ef0: 7369 6e67 2e0a 2020 5b5d 0a20 204f 626a  sing..  [].  Obj
+00002f00: 6563 7420 6c61 6265 6c20 2a0a 2020 416e  ect label *.  An
+00002f10: 206f 626a 6563 7420 6661 696c 6564 2073   object failed s
+00002f20: 6368 656d 6120 6f72 2069 6e76 6172 6961  chema or invaria
+00002f30: 6e74 2076 616c 6964 6174 696f 6e2e 0a20  nt validation.. 
+00002f40: 205b 205d 0a20 2049 6e74 206c 6162 656c   [ ].  Int label
+00002f50: 202a 0a20 2052 6571 7569 7265 6420 696e   *.  Required in
+00002f60: 7075 7420 6973 206d 6973 7369 6e67 2e0a  put is missing..
+00002f70: 2020 5b5d 0a20 2042 6f6f 6c20 6c61 6265    [].  Bool labe
+00002f80: 6c20 2a0a 2020 5265 7175 6972 6564 2069  l *.  Required i
+00002f90: 6e70 7574 2069 7320 6d69 7373 696e 672e  nput is missing.
+00002fa0: 0a20 2028 2029 2079 6573 2028 2029 206e  .  ( ) yes ( ) n
+00002fb0: 6f0a 2020 4368 6f69 6365 206c 6162 656c  o.  Choice label
+00002fc0: 202a 0a20 205b 6f6e 655d 0a20 2043 686f   *.  [one].  Cho
+00002fd0: 6963 654f 7074 206c 6162 656c 0a20 205b  iceOpt label.  [
+00002fe0: 4e6f 2076 616c 7565 5d0a 2020 5465 7874  No value].  Text
+00002ff0: 4c69 6e65 206c 6162 656c 202a 0a20 2052  Line label *.  R
+00003000: 6571 7569 7265 6420 696e 7075 7420 6973  equired input is
+00003010: 206d 6973 7369 6e67 2e0a 2020 5b5d 0a20   missing..  []. 
+00003020: 2044 6174 6520 6c61 6265 6c20 2a0a 2020   Date label *.  
+00003030: 5b31 342f 3036 2f32 315d 0a20 205b 4164  [14/06/21].  [Ad
+00003040: 645d 205b 5265 6d6f 7665 2073 656c 6563  d] [Remove selec
+00003050: 7465 645d 0a20 205b 4170 706c 795d 0a0a  ted].  [Apply]..
+00003060: 4c65 7427 7320 7265 6d6f 7665 2073 6f6d  Let's remove som
+00003070: 6520 6974 656d 733a 0a0a 2020 3e3e 3e20  e items:..  >>> 
+00003080: 7375 626d 6974 203d 2074 6573 7469 6e67  submit = testing
+00003090: 2e67 6574 5375 626d 6974 5661 6c75 6573  .getSubmitValues
+000030a0: 2863 6f6e 7465 6e74 290a 2020 3e3e 3e20  (content).  >>> 
+000030b0: 7375 626d 6974 5b27 666f 726d 2e77 6964  submit['form.wid
+000030c0: 6765 7473 2e6c 6973 744f 664f 626a 6563  gets.listOfObjec
+000030d0: 742e 322e 7265 6d6f 7665 275d 203d 2027  t.2.remove'] = '
+000030e0: 3127 0a20 203e 3e3e 2073 7562 6d69 745b  1'.  >>> submit[
+000030f0: 2766 6f72 6d2e 7769 6467 6574 732e 6c69  'form.widgets.li
+00003100: 7374 4f66 4f62 6a65 6374 2e62 7574 746f  stOfObject.butto
+00003110: 6e73 2e72 656d 6f76 6527 5d20 3d20 2752  ns.remove'] = 'R
+00003120: 656d 6f76 6520 7365 6c65 6374 6564 270a  emove selected'.
+00003130: 2020 3e3e 3e20 7265 7175 6573 7420 3d20    >>> request = 
+00003140: 7465 7374 696e 672e 5465 7374 5265 7175  testing.TestRequ
+00003150: 6573 7428 666f 726d 3d73 7562 6d69 7429  est(form=submit)
+00003160: 0a20 203e 3e3e 2063 6f6e 7465 6e74 203d  .  >>> content =
+00003170: 2067 6574 466f 726d 2872 6571 7565 7374   getForm(request
+00003180: 2c20 274f 626a 6563 744d 756c 7469 5f6c  , 'ObjectMulti_l
+00003190: 6973 745f 6564 6974 5f72 656d 6f76 655f  ist_edit_remove_
+000031a0: 6461 7465 2e68 746d 6c27 290a 2020 3e3e  date.html').  >>
+000031b0: 3e20 7072 696e 7428 7465 7374 696e 672e  > print(testing.
+000031c0: 706c 6169 6e54 6578 7428 636f 6e74 656e  plainText(conten
+000031d0: 7429 290a 2020 4c69 7374 4f66 4f62 6a65  t)).  ListOfObje
+000031e0: 6374 206c 6162 656c 0a20 203c 424c 414e  ct label.  <BLAN
+000031f0: 4b4c 494e 453e 0a20 204f 626a 6563 7420  KLINE>.  Object 
+00003200: 6c61 6265 6c20 2a0a 2020 5468 6520 656e  label *.  The en
+00003210: 7465 7265 6420 7661 6c75 6520 6973 206e  tered value is n
+00003220: 6f74 2061 2076 616c 6964 2069 6e74 6567  ot a valid integ
+00003230: 6572 206c 6974 6572 616c 2e0a 2020 5b20  er literal..  [ 
+00003240: 5d0a 2020 496e 7420 6c61 6265 6c20 2a0a  ].  Int label *.
+00003250: 2020 5468 6520 656e 7465 7265 6420 7661    The entered va
+00003260: 6c75 6520 6973 206e 6f74 2061 2076 616c  lue is not a val
+00003270: 6964 2069 6e74 6567 6572 206c 6974 6572  id integer liter
+00003280: 616c 2e0a 2020 5b66 6f6f 6261 725d 0a20  al..  [foobar]. 
+00003290: 2042 6f6f 6c20 6c61 6265 6c20 2a0a 2020   Bool label *.  
+000032a0: 2820 2920 7965 7320 284f 2920 6e6f 0a20  ( ) yes (O) no. 
+000032b0: 2043 686f 6963 6520 6c61 6265 6c20 2a0a   Choice label *.
+000032c0: 2020 5b74 776f 5d0a 2020 4368 6f69 6365    [two].  Choice
+000032d0: 4f70 7420 6c61 6265 6c0a 2020 5b73 6978  Opt label.  [six
+000032e0: 5d0a 2020 5465 7874 4c69 6e65 206c 6162  ].  TextLine lab
+000032f0: 656c 202a 0a20 2043 6f6e 7374 7261 696e  el *.  Constrain
+00003300: 7420 6e6f 7420 7361 7469 7366 6965 640a  t not satisfied.
+00003310: 2020 5b66 6f6f 0a20 2062 6172 5d0a 2020    [foo.  bar].  
+00003320: 4461 7465 206c 6162 656c 202a 0a20 2054  Date label *.  T
+00003330: 6865 2064 6174 6574 696d 6520 7374 7269  he datetime stri
+00003340: 6e67 2064 6964 206e 6f74 206d 6174 6368  ng did not match
+00003350: 2074 6865 2070 6174 7465 726e 2027 7979   the pattern 'yy
+00003360: 2f4d 4d2f 6464 272e 0a20 205b 666f 6f62  /MM/dd'..  [foob
+00003370: 6172 5d0a 2020 4f62 6a65 6374 206c 6162  ar].  Object lab
+00003380: 656c 202a 0a20 2041 6e20 6f62 6a65 6374  el *.  An object
+00003390: 2066 6169 6c65 6420 7363 6865 6d61 206f   failed schema o
+000033a0: 7220 696e 7661 7269 616e 7420 7661 6c69  r invariant vali
+000033b0: 6461 7469 6f6e 2e0a 2020 5b20 5d0a 2020  dation..  [ ].  
+000033c0: 496e 7420 6c61 6265 6c20 2a0a 2020 5265  Int label *.  Re
+000033d0: 7175 6972 6564 2069 6e70 7574 2069 7320  quired input is 
+000033e0: 6d69 7373 696e 672e 0a20 205b 5d0a 2020  missing..  [].  
+000033f0: 426f 6f6c 206c 6162 656c 202a 0a20 2052  Bool label *.  R
+00003400: 6571 7569 7265 6420 696e 7075 7420 6973  equired input is
+00003410: 206d 6973 7369 6e67 2e0a 2020 2820 2920   missing..  ( ) 
+00003420: 7965 7320 2820 2920 6e6f 0a20 2043 686f  yes ( ) no.  Cho
+00003430: 6963 6520 6c61 6265 6c20 2a0a 2020 5b6f  ice label *.  [o
+00003440: 6e65 5d0a 2020 4368 6f69 6365 4f70 7420  ne].  ChoiceOpt 
+00003450: 6c61 6265 6c0a 2020 5b4e 6f20 7661 6c75  label.  [No valu
+00003460: 655d 0a20 2054 6578 744c 696e 6520 6c61  e].  TextLine la
+00003470: 6265 6c20 2a0a 2020 5265 7175 6972 6564  bel *.  Required
+00003480: 2069 6e70 7574 2069 7320 6d69 7373 696e   input is missin
+00003490: 672e 0a20 205b 5d0a 2020 4461 7465 206c  g..  [].  Date l
+000034a0: 6162 656c 202a 0a20 2052 6571 7569 7265  abel *.  Require
+000034b0: 6420 696e 7075 7420 6973 206d 6973 7369  d input is missi
+000034c0: 6e67 2e0a 2020 5b5d 0a20 205b 4164 645d  ng..  [].  [Add]
+000034d0: 205b 5265 6d6f 7665 2073 656c 6563 7465   [Remove selecte
+000034e0: 645d 0a20 205b 4170 706c 795d 0a0a 5468  d].  [Apply]..Th
+000034f0: 6520 6f62 6a65 6374 2069 7320 756e 6368  e object is unch
+00003500: 616e 6765 643a 0a0a 2020 3e3e 3e20 7070  anged:..  >>> pp
+00003510: 7269 6e74 286f 626a 2e6c 6973 744f 664f  rint(obj.listOfO
+00003520: 626a 6563 7429 0a20 205b 3c4f 626a 6563  bject).  [<Objec
+00003530: 7457 6964 6765 744d 756c 7469 5375 6249  tWidgetMultiSubI
+00003540: 6e74 6567 7261 7469 6f6e 0a20 2020 206d  ntegration.    m
+00003550: 756c 7469 426f 6f6c 3a20 4661 6c73 650a  ultiBool: False.
+00003560: 2020 2020 6d75 6c74 6943 686f 6963 653a      multiChoice:
+00003570: 2027 7477 6f27 0a20 2020 206d 756c 7469   'two'.    multi
+00003580: 4368 6f69 6365 4f70 743a 2027 7369 7827  ChoiceOpt: 'six'
+00003590: 0a20 2020 206d 756c 7469 4461 7465 3a20  .    multiDate: 
+000035a0: 6461 7465 7469 6d65 2e64 6174 6528 3230  datetime.date(20
+000035b0: 3134 2c20 362c 2032 3029 0a20 2020 206d  14, 6, 20).    m
+000035c0: 756c 7469 496e 743a 202d 3130 300a 2020  ultiInt: -100.  
+000035d0: 2020 6d75 6c74 6954 6578 744c 696e 653a    multiTextLine:
+000035e0: 2027 736f 6d65 2074 6578 7420 6f6e 6527   'some text one'
+000035f0: 3e2c 0a20 2020 3c4f 626a 6563 7457 6964  >,.   <ObjectWid
+00003600: 6765 744d 756c 7469 5375 6249 6e74 6567  getMultiSubInteg
+00003610: 7261 7469 6f6e 0a20 2020 206d 756c 7469  ration.    multi
+00003620: 426f 6f6c 3a20 5472 7565 0a20 2020 206d  Bool: True.    m
+00003630: 756c 7469 4368 6f69 6365 3a20 276f 6e65  ultiChoice: 'one
+00003640: 270a 2020 2020 6d75 6c74 6943 686f 6963  '.    multiChoic
+00003650: 654f 7074 3a20 2766 6f75 7227 0a20 2020  eOpt: 'four'.   
+00003660: 206d 756c 7469 4461 7465 3a20 6461 7465   multiDate: date
+00003670: 7469 6d65 2e64 6174 6528 3230 3131 2c20  time.date(2011, 
+00003680: 332c 2031 3529 0a20 2020 206d 756c 7469  3, 15).    multi
+00003690: 496e 743a 2034 320a 2020 2020 6d75 6c74  Int: 42.    mult
+000036a0: 6954 6578 744c 696e 653a 2027 7365 636f  iTextLine: 'seco
+000036b0: 6e64 2074 7874 273e 5d0a 0a46 6978 2076  nd txt'>]..Fix v
+000036c0: 616c 7565 730a 2323 2323 2323 2323 2323  alues.##########
+000036d0: 0a0a 2020 3e3e 3e20 7375 626d 6974 203d  ..  >>> submit =
+000036e0: 2074 6573 7469 6e67 2e67 6574 5375 626d   testing.getSubm
+000036f0: 6974 5661 6c75 6573 2863 6f6e 7465 6e74  itValues(content
+00003700: 290a 2020 3e3e 3e20 7375 626d 6974 5b27  ).  >>> submit['
+00003710: 666f 726d 2e77 6964 6765 7473 2e6c 6973  form.widgets.lis
+00003720: 744f 664f 626a 6563 742e 302e 7769 6467  tOfObject.0.widg
+00003730: 6574 732e 6d75 6c74 6949 6e74 275d 203d  ets.multiInt'] =
+00003740: 2027 3130 3432 270a 2020 3e3e 3e20 7375   '1042'.  >>> su
+00003750: 626d 6974 5b27 666f 726d 2e77 6964 6765  bmit['form.widge
+00003760: 7473 2e6c 6973 744f 664f 626a 6563 742e  ts.listOfObject.
+00003770: 302e 7769 6467 6574 732e 6d75 6c74 6954  0.widgets.multiT
+00003780: 6578 744c 696e 6527 5d20 3d20 276d 6f6f  extLine'] = 'moo
+00003790: 3930 3027 0a20 203e 3e3e 2073 7562 6d69  900'.  >>> submi
+000037a0: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
+000037b0: 6c69 7374 4f66 4f62 6a65 6374 2e30 2e77  listOfObject.0.w
+000037c0: 6964 6765 7473 2e6d 756c 7469 4461 7465  idgets.multiDate
+000037d0: 275d 203d 2027 3134 2f30 362f 3233 270a  '] = '14/06/23'.
+000037e0: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
+000037f0: 6f72 6d2e 7769 6467 6574 732e 6c69 7374  orm.widgets.list
+00003800: 4f66 4f62 6a65 6374 2e31 2e72 656d 6f76  OfObject.1.remov
+00003810: 6527 5d20 3d20 2731 270a 2020 3e3e 3e20  e'] = '1'.  >>> 
+00003820: 7375 626d 6974 5b27 666f 726d 2e77 6964  submit['form.wid
+00003830: 6765 7473 2e6c 6973 744f 664f 626a 6563  gets.listOfObjec
+00003840: 742e 6275 7474 6f6e 732e 7265 6d6f 7665  t.buttons.remove
+00003850: 275d 203d 2027 5265 6d6f 7665 2073 656c  '] = 'Remove sel
+00003860: 6563 7465 6427 0a0a 2020 3e3e 3e20 7265  ected'..  >>> re
+00003870: 7175 6573 7420 3d20 7465 7374 696e 672e  quest = testing.
+00003880: 5465 7374 5265 7175 6573 7428 666f 726d  TestRequest(form
+00003890: 3d73 7562 6d69 7429 0a20 203e 3e3e 2063  =submit).  >>> c
+000038a0: 6f6e 7465 6e74 203d 2067 6574 466f 726d  ontent = getForm
+000038b0: 2872 6571 7565 7374 2c20 274f 626a 6563  (request, 'Objec
+000038c0: 744d 756c 7469 5f6c 6973 745f 6564 6974  tMulti_list_edit
+000038d0: 5f66 6978 5f76 616c 7565 732e 6874 6d6c  _fix_values.html
+000038e0: 2729 0a20 203e 3e3e 2070 7269 6e74 2874  ').  >>> print(t
+000038f0: 6573 7469 6e67 2e70 6c61 696e 5465 7874  esting.plainText
+00003900: 2863 6f6e 7465 6e74 2929 0a20 204c 6973  (content)).  Lis
+00003910: 744f 664f 626a 6563 7420 6c61 6265 6c0a  tOfObject label.
+00003920: 2020 3c42 4c41 4e4b 4c49 4e45 3e0a 2020    <BLANKLINE>.  
+00003930: 4f62 6a65 6374 206c 6162 656c 202a 0a20  Object label *. 
+00003940: 205b 205d 0a20 2049 6e74 206c 6162 656c   [ ].  Int label
+00003950: 202a 0a20 205b 312c 3034 325d 0a20 2042   *.  [1,042].  B
+00003960: 6f6f 6c20 6c61 6265 6c20 2a0a 2020 2820  ool label *.  ( 
+00003970: 2920 7965 7320 284f 2920 6e6f 0a20 2043  ) yes (O) no.  C
+00003980: 686f 6963 6520 6c61 6265 6c20 2a0a 2020  hoice label *.  
+00003990: 5b74 776f 5d0a 2020 4368 6f69 6365 4f70  [two].  ChoiceOp
+000039a0: 7420 6c61 6265 6c0a 2020 5b73 6978 5d0a  t label.  [six].
+000039b0: 2020 5465 7874 4c69 6e65 206c 6162 656c    TextLine label
+000039c0: 202a 0a20 205b 6d6f 6f39 3030 5d0a 2020   *.  [moo900].  
+000039d0: 4461 7465 206c 6162 656c 202a 0a20 205b  Date label *.  [
+000039e0: 3134 2f30 362f 3233 5d0a 2020 5b41 6464  14/06/23].  [Add
+000039f0: 5d0a 2020 5b52 656d 6f76 6520 7365 6c65  ].  [Remove sele
+00003a00: 6374 6564 5d0a 2020 5b41 7070 6c79 5d0a  cted].  [Apply].
+00003a10: 0a54 6865 206f 626a 6563 7420 6973 2075  .The object is u
+00003a20: 6e63 6861 6e67 6564 3a0a 0a20 203e 3e3e  nchanged:..  >>>
+00003a30: 2070 7072 696e 7428 6f62 6a2e 6c69 7374   pprint(obj.list
+00003a40: 4f66 4f62 6a65 6374 290a 2020 5b3c 4f62  OfObject).  [<Ob
+00003a50: 6a65 6374 5769 6467 6574 4d75 6c74 6953  jectWidgetMultiS
+00003a60: 7562 496e 7465 6772 6174 696f 6e0a 2020  ubIntegration.  
+00003a70: 2020 6d75 6c74 6942 6f6f 6c3a 2046 616c    multiBool: Fal
+00003a80: 7365 0a20 2020 206d 756c 7469 4368 6f69  se.    multiChoi
+00003a90: 6365 3a20 2774 776f 270a 2020 2020 6d75  ce: 'two'.    mu
+00003aa0: 6c74 6943 686f 6963 654f 7074 3a20 2773  ltiChoiceOpt: 's
+00003ab0: 6978 270a 2020 2020 6d75 6c74 6944 6174  ix'.    multiDat
+00003ac0: 653a 2064 6174 6574 696d 652e 6461 7465  e: datetime.date
+00003ad0: 2832 3031 342c 2036 2c20 3230 290a 2020  (2014, 6, 20).  
+00003ae0: 2020 6d75 6c74 6949 6e74 3a20 2d31 3030    multiInt: -100
+00003af0: 0a20 2020 206d 756c 7469 5465 7874 4c69  .    multiTextLi
+00003b00: 6e65 3a20 2773 6f6d 6520 7465 7874 206f  ne: 'some text o
+00003b10: 6e65 273e 2c0a 2020 203c 4f62 6a65 6374  ne'>,.   <Object
+00003b20: 5769 6467 6574 4d75 6c74 6953 7562 496e  WidgetMultiSubIn
+00003b30: 7465 6772 6174 696f 6e0a 2020 2020 6d75  tegration.    mu
+00003b40: 6c74 6942 6f6f 6c3a 2054 7275 650a 2020  ltiBool: True.  
+00003b50: 2020 6d75 6c74 6943 686f 6963 653a 2027    multiChoice: '
+00003b60: 6f6e 6527 0a20 2020 206d 756c 7469 4368  one'.    multiCh
+00003b70: 6f69 6365 4f70 743a 2027 666f 7572 270a  oiceOpt: 'four'.
+00003b80: 2020 2020 6d75 6c74 6944 6174 653a 2064      multiDate: d
+00003b90: 6174 6574 696d 652e 6461 7465 2832 3031  atetime.date(201
+00003ba0: 312c 2033 2c20 3135 290a 2020 2020 6d75  1, 3, 15).    mu
+00003bb0: 6c74 6949 6e74 3a20 3432 0a20 2020 206d  ltiInt: 42.    m
+00003bc0: 756c 7469 5465 7874 4c69 6e65 3a20 2773  ultiTextLine: 's
+00003bd0: 6563 6f6e 6420 7478 7427 3e5d 0a0a 416e  econd txt'>]..An
+00003be0: 6420 6170 706c 790a 0a20 203e 3e3e 2073  d apply..  >>> s
+00003bf0: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
+00003c00: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
+00003c10: 636f 6e74 656e 7429 0a20 203e 3e3e 2073  content).  >>> s
+00003c20: 7562 6d69 745b 2766 6f72 6d2e 6275 7474  ubmit['form.butt
+00003c30: 6f6e 732e 6170 706c 7927 5d20 3d20 2741  ons.apply'] = 'A
+00003c40: 7070 6c79 270a 0a20 203e 3e3e 2072 6571  pply'..  >>> req
+00003c50: 7565 7374 203d 2074 6573 7469 6e67 2e54  uest = testing.T
+00003c60: 6573 7452 6571 7565 7374 2866 6f72 6d3d  estRequest(form=
+00003c70: 7375 626d 6974 290a 2020 3e3e 3e20 636f  submit).  >>> co
+00003c80: 6e74 656e 7420 3d20 6765 7446 6f72 6d28  ntent = getForm(
+00003c90: 7265 7175 6573 7429 0a20 203e 3e3e 2070  request).  >>> p
+00003ca0: 7269 6e74 2874 6573 7469 6e67 2e70 6c61  rint(testing.pla
+00003cb0: 696e 5465 7874 2863 6f6e 7465 6e74 2929  inText(content))
+00003cc0: 0a20 2044 6174 6120 7375 6363 6573 7366  .  Data successf
+00003cd0: 756c 6c79 2075 7064 6174 6564 2e0a 2020  ully updated..  
+00003ce0: 3c42 4c41 4e4b 4c49 4e45 3e0a 2020 4c69  <BLANKLINE>.  Li
+00003cf0: 7374 4f66 4f62 6a65 6374 206c 6162 656c  stOfObject label
+00003d00: 0a20 203c 424c 414e 4b4c 494e 453e 0a20  .  <BLANKLINE>. 
+00003d10: 204f 626a 6563 7420 6c61 6265 6c20 2a0a   Object label *.
+00003d20: 2020 5b20 5d0a 2020 496e 7420 6c61 6265    [ ].  Int labe
+00003d30: 6c20 2a0a 2020 5b31 2c30 3432 5d0a 2020  l *.  [1,042].  
+00003d40: 426f 6f6c 206c 6162 656c 202a 0a20 2028  Bool label *.  (
+00003d50: 2029 2079 6573 2028 4f29 206e 6f0a 2020   ) yes (O) no.  
+00003d60: 4368 6f69 6365 206c 6162 656c 202a 0a20  Choice label *. 
+00003d70: 205b 7477 6f5d 0a20 2043 686f 6963 654f   [two].  ChoiceO
+00003d80: 7074 206c 6162 656c 0a20 205b 7369 785d  pt label.  [six]
+00003d90: 0a20 2054 6578 744c 696e 6520 6c61 6265  .  TextLine labe
+00003da0: 6c20 2a0a 2020 5b6d 6f6f 3930 305d 0a20  l *.  [moo900]. 
+00003db0: 2044 6174 6520 6c61 6265 6c20 2a0a 2020   Date label *.  
+00003dc0: 5b31 342f 3036 2f32 335d 0a20 205b 4164  [14/06/23].  [Ad
+00003dd0: 645d 0a20 205b 5265 6d6f 7665 2073 656c  d].  [Remove sel
+00003de0: 6563 7465 645d 0a20 205b 4170 706c 795d  ected].  [Apply]
+00003df0: 0a0a 4e6f 7720 7468 6520 6f62 6a65 6374  ..Now the object
+00003e00: 2067 6574 7320 7570 6461 7465 643a 0a0a   gets updated:..
+00003e10: 2020 3e3e 3e20 7070 7269 6e74 286f 626a    >>> pprint(obj
+00003e20: 2e6c 6973 744f 664f 626a 6563 7429 0a20  .listOfObject). 
+00003e30: 205b 3c4f 626a 6563 7457 6964 6765 744d   [<ObjectWidgetM
+00003e40: 756c 7469 5375 6249 6e74 6567 7261 7469  ultiSubIntegrati
+00003e50: 6f6e 0a20 2020 206d 756c 7469 426f 6f6c  on.    multiBool
+00003e60: 3a20 4661 6c73 650a 2020 2020 6d75 6c74  : False.    mult
+00003e70: 6943 686f 6963 653a 2027 7477 6f27 0a20  iChoice: 'two'. 
+00003e80: 2020 206d 756c 7469 4368 6f69 6365 4f70     multiChoiceOp
+00003e90: 743a 2027 7369 7827 0a20 2020 206d 756c  t: 'six'.    mul
+00003ea0: 7469 4461 7465 3a20 6461 7465 7469 6d65  tiDate: datetime
+00003eb0: 2e64 6174 6528 3230 3134 2c20 362c 2032  .date(2014, 6, 2
+00003ec0: 3329 0a20 2020 206d 756c 7469 496e 743a  3).    multiInt:
+00003ed0: 2031 3034 320a 2020 2020 6d75 6c74 6954   1042.    multiT
+00003ee0: 6578 744c 696e 653a 2027 6d6f 6f39 3030  extLine: 'moo900
+00003ef0: 273e 5d0a 0a0a 426f 6f6c 2077 6173 206d  '>]...Bool was m
+00003f00: 6973 6265 6861 7669 6e67 0a23 2323 2323  isbehaving.#####
+00003f10: 2323 2323 2323 2323 2323 2323 2323 230a  ###############.
+00003f20: 0a20 203e 3e3e 2073 7562 6d69 7420 3d20  .  >>> submit = 
+00003f30: 7465 7374 696e 672e 6765 7453 7562 6d69  testing.getSubmi
+00003f40: 7456 616c 7565 7328 636f 6e74 656e 7429  tValues(content)
+00003f50: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
+00003f60: 6f72 6d2e 7769 6467 6574 732e 6c69 7374  orm.widgets.list
+00003f70: 4f66 4f62 6a65 6374 2e30 2e77 6964 6765  OfObject.0.widge
+00003f80: 7473 2e6d 756c 7469 426f 6f6c 275d 203d  ts.multiBool'] =
+00003f90: 2027 7472 7565 270a 2020 3e3e 3e20 7375   'true'.  >>> su
+00003fa0: 626d 6974 5b27 666f 726d 2e62 7574 746f  bmit['form.butto
+00003fb0: 6e73 2e61 7070 6c79 275d 203d 2027 4170  ns.apply'] = 'Ap
+00003fc0: 706c 7927 0a0a 2020 3e3e 3e20 7265 7175  ply'..  >>> requ
+00003fd0: 6573 7420 3d20 7465 7374 696e 672e 5465  est = testing.Te
+00003fe0: 7374 5265 7175 6573 7428 666f 726d 3d73  stRequest(form=s
+00003ff0: 7562 6d69 7429 0a20 203e 3e3e 2063 6f6e  ubmit).  >>> con
+00004000: 7465 6e74 203d 2067 6574 466f 726d 2872  tent = getForm(r
+00004010: 6571 7565 7374 290a 2020 3e3e 3e20 7072  equest).  >>> pr
+00004020: 696e 7428 7465 7374 696e 672e 706c 6169  int(testing.plai
+00004030: 6e54 6578 7428 636f 6e74 656e 7429 290a  nText(content)).
+00004040: 2020 4461 7461 2073 7563 6365 7373 6675    Data successfu
+00004050: 6c6c 7920 7570 6461 7465 642e 0a20 202e  lly updated..  .
+00004060: 2e2e 0a0a 2020 3e3e 3e20 7070 7269 6e74  ....  >>> pprint
+00004070: 286f 626a 2e6c 6973 744f 664f 626a 6563  (obj.listOfObjec
+00004080: 7429 0a20 205b 3c4f 626a 6563 7457 6964  t).  [<ObjectWid
+00004090: 6765 744d 756c 7469 5375 6249 6e74 6567  getMultiSubInteg
+000040a0: 7261 7469 6f6e 0a20 2020 206d 756c 7469  ration.    multi
+000040b0: 426f 6f6c 3a20 5472 7565 0a20 2020 206d  Bool: True.    m
+000040c0: 756c 7469 4368 6f69 6365 3a20 2774 776f  ultiChoice: 'two
+000040d0: 270a 2020 2020 6d75 6c74 6943 686f 6963  '.    multiChoic
+000040e0: 654f 7074 3a20 2773 6978 270a 2020 2020  eOpt: 'six'.    
+000040f0: 6d75 6c74 6944 6174 653a 2064 6174 6574  multiDate: datet
+00004100: 696d 652e 6461 7465 2832 3031 342c 2036  ime.date(2014, 6
+00004110: 2c20 3233 290a 2020 2020 6d75 6c74 6949  , 23).    multiI
+00004120: 6e74 3a20 3130 3432 0a20 2020 206d 756c  nt: 1042.    mul
+00004130: 7469 5465 7874 4c69 6e65 3a20 276d 6f6f  tiTextLine: 'moo
+00004140: 3930 3027 3e5d 0a0a 0a20 203e 3e3e 2073  900'>]...  >>> s
+00004150: 7562 6d69 7420 3d20 7465 7374 696e 672e  ubmit = testing.
+00004160: 6765 7453 7562 6d69 7456 616c 7565 7328  getSubmitValues(
+00004170: 636f 6e74 656e 7429 0a20 203e 3e3e 2073  content).  >>> s
+00004180: 7562 6d69 745b 2766 6f72 6d2e 7769 6467  ubmit['form.widg
+00004190: 6574 732e 6c69 7374 4f66 4f62 6a65 6374  ets.listOfObject
+000041a0: 2e30 2e77 6964 6765 7473 2e6d 756c 7469  .0.widgets.multi
+000041b0: 426f 6f6c 275d 203d 2027 6661 6c73 6527  Bool'] = 'false'
+000041c0: 0a20 203e 3e3e 2073 7562 6d69 745b 2766  .  >>> submit['f
+000041d0: 6f72 6d2e 6275 7474 6f6e 732e 6170 706c  orm.buttons.appl
+000041e0: 7927 5d20 3d20 2741 7070 6c79 270a 0a20  y'] = 'Apply'.. 
+000041f0: 203e 3e3e 2072 6571 7565 7374 203d 2074   >>> request = t
+00004200: 6573 7469 6e67 2e54 6573 7452 6571 7565  esting.TestReque
+00004210: 7374 2866 6f72 6d3d 7375 626d 6974 290a  st(form=submit).
+00004220: 2020 3e3e 3e20 636f 6e74 656e 7420 3d20    >>> content = 
+00004230: 6765 7446 6f72 6d28 7265 7175 6573 7429  getForm(request)
+00004240: 0a20 203e 3e3e 2070 7269 6e74 2874 6573  .  >>> print(tes
+00004250: 7469 6e67 2e70 6c61 696e 5465 7874 2863  ting.plainText(c
+00004260: 6f6e 7465 6e74 2929 0a20 2044 6174 6120  ontent)).  Data 
+00004270: 7375 6363 6573 7366 756c 6c79 2075 7064  successfully upd
+00004280: 6174 6564 2e0a 2020 2e2e 2e0a 0a20 203e  ated..  .....  >
+00004290: 3e3e 2070 7072 696e 7428 6f62 6a2e 6c69  >> pprint(obj.li
+000042a0: 7374 4f66 4f62 6a65 6374 290a 2020 5b3c  stOfObject).  [<
+000042b0: 4f62 6a65 6374 5769 6467 6574 4d75 6c74  ObjectWidgetMult
+000042c0: 6953 7562 496e 7465 6772 6174 696f 6e0a  iSubIntegration.
+000042d0: 2020 2020 6d75 6c74 6942 6f6f 6c3a 2046      multiBool: F
+000042e0: 616c 7365 0a20 2020 206d 756c 7469 4368  alse.    multiCh
+000042f0: 6f69 6365 3a20 2774 776f 270a 2020 2020  oice: 'two'.    
+00004300: 6d75 6c74 6943 686f 6963 654f 7074 3a20  multiChoiceOpt: 
+00004310: 2773 6978 270a 2020 2020 6d75 6c74 6944  'six'.    multiD
+00004320: 6174 653a 2064 6174 6574 696d 652e 6461  ate: datetime.da
+00004330: 7465 2832 3031 342c 2036 2c20 3233 290a  te(2014, 6, 23).
+00004340: 2020 2020 6d75 6c74 6949 6e74 3a20 3130      multiInt: 10
+00004350: 3432 0a20 2020 206d 756c 7469 5465 7874  42.    multiText
+00004360: 4c69 6e65 3a20 276d 6f6f 3930 3027 3e5d  Line: 'moo900'>]
+00004370: 0a                                       .
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/object_single_integration.rst` & `z3c.form-5.0/src/z3c/form/browser/object_single_integration.rst`

 * *Files 3% similar despite different names*

```diff
@@ -115,288 +115,287 @@
 00000720: 6549 6e74 3d2d 3130 302c 0a20 202e 2e2e  eInt=-100,.  ...
 00000730: 2020 2020 2073 696e 676c 6542 6f6f 6c3d       singleBool=
 00000740: 4661 6c73 652c 0a20 202e 2e2e 2020 2020  False,.  ...    
 00000750: 2073 696e 676c 6543 686f 6963 653d 2774   singleChoice='t
 00000760: 776f 272c 0a20 202e 2e2e 2020 2020 2073  wo',.  ...     s
 00000770: 696e 676c 6543 686f 6963 654f 7074 3d27  ingleChoiceOpt='
 00000780: 7369 7827 2c0a 2020 2e2e 2e20 2020 2020  six',.  ...     
-00000790: 7369 6e67 6c65 5465 7874 4c69 6e65 3d75  singleTextLine=u
-000007a0: 2773 6f6d 6520 7465 7874 206f 6e65 272c  'some text one',
-000007b0: 0a20 202e 2e2e 2020 2020 2073 696e 676c  .  ...     singl
-000007c0: 6544 6174 653d 6461 7465 2832 3031 342c  eDate=date(2014,
-000007d0: 2036 2c20 3230 292c 0a20 202e 2e2e 2020   6, 20),.  ...  
-000007e0: 2020 2073 696e 676c 6552 6561 644f 6e6c     singleReadOnl
-000007f0: 793d 7527 736f 6d65 2052 2f4f 2074 6578  y=u'some R/O tex
-00000800: 7427 290a 0a20 203e 3e3e 2063 6f6e 7465  t')..  >>> conte
-00000810: 6e74 203d 2067 6574 466f 726d 2872 6571  nt = getForm(req
-00000820: 7565 7374 2c20 274f 626a 6563 7457 6964  uest, 'ObjectWid
-00000830: 6765 745f 7369 6e67 6c65 5f65 6469 745f  get_single_edit_
-00000840: 7369 6d70 6c65 2e68 746d 6c27 290a 0a20  simple.html').. 
-00000850: 203e 3e3e 2070 7269 6e74 2874 6573 7469   >>> print(testi
-00000860: 6e67 2e70 6c61 696e 5465 7874 2863 6f6e  ng.plainText(con
-00000870: 7465 6e74 2929 0a20 204f 626a 6563 7420  tent)).  Object 
-00000880: 6c61 6265 6c0a 2020 496e 7420 6c61 6265  label.  Int labe
-00000890: 6c20 2a0a 2020 5b2d 3130 305d 0a20 2042  l *.  [-100].  B
-000008a0: 6f6f 6c20 6c61 6265 6c20 2a0a 2020 2820  ool label *.  ( 
-000008b0: 2920 7965 7320 284f 2920 6e6f 0a20 2043  ) yes (O) no.  C
-000008c0: 686f 6963 6520 6c61 6265 6c20 2a0a 2020  hoice label *.  
-000008d0: 5b74 776f 5d0a 2020 4368 6f69 6365 4f70  [two].  ChoiceOp
-000008e0: 7420 6c61 6265 6c0a 2020 5b73 6978 5d0a  t label.  [six].
-000008f0: 2020 5465 7874 4c69 6e65 206c 6162 656c    TextLine label
-00000900: 202a 0a20 205b 736f 6d65 2074 6578 7420   *.  [some text 
-00000910: 6f6e 655d 0a20 2044 6174 6520 6c61 6265  one].  Date labe
-00000920: 6c20 2a0a 2020 5b31 342f 3036 2f32 305d  l *.  [14/06/20]
-00000930: 0a20 2052 6561 644f 6e6c 7920 6c61 6265  .  ReadOnly labe
-00000940: 6c20 2a0a 2020 736f 6d65 2052 2f4f 2074  l *.  some R/O t
-00000950: 6578 740a 2020 5b41 7070 6c79 5d0a 0a0a  ext.  [Apply]...
-00000960: 5772 6f6e 6720 7661 6c75 6573 0a23 2323  Wrong values.###
-00000970: 2323 2323 2323 2323 230a 0a53 6574 2077  #########..Set w
-00000980: 726f 6e67 2076 616c 7565 733a 0a0a 2020  rong values:..  
-00000990: 3e3e 3e20 7375 626d 6974 203d 2074 6573  >>> submit = tes
-000009a0: 7469 6e67 2e67 6574 5375 626d 6974 5661  ting.getSubmitVa
-000009b0: 6c75 6573 2863 6f6e 7465 6e74 290a 2020  lues(content).  
-000009c0: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
-000009d0: 2e77 6964 6765 7473 2e73 7562 6f62 6a2e  .widgets.subobj.
-000009e0: 7769 6467 6574 732e 7369 6e67 6c65 496e  widgets.singleIn
-000009f0: 7427 5d20 3d20 7527 666f 6f62 6172 270a  t'] = u'foobar'.
-00000a00: 2020 3e3e 3e20 7375 626d 6974 5b27 666f    >>> submit['fo
-00000a10: 726d 2e77 6964 6765 7473 2e73 7562 6f62  rm.widgets.subob
-00000a20: 6a2e 7769 6467 6574 732e 7369 6e67 6c65  j.widgets.single
-00000a30: 5465 7874 4c69 6e65 275d 203d 2075 2766  TextLine'] = u'f
-00000a40: 6f6f 5c6e 6261 7227 0a20 203e 3e3e 2073  oo\nbar'.  >>> s
-00000a50: 7562 6d69 745b 2766 6f72 6d2e 7769 6467  ubmit['form.widg
-00000a60: 6574 732e 7375 626f 626a 2e77 6964 6765  ets.subobj.widge
-00000a70: 7473 2e73 696e 676c 6544 6174 6527 5d20  ts.singleDate'] 
-00000a80: 3d20 7527 666f 6f62 6172 270a 0a20 203e  = u'foobar'..  >
-00000a90: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
-00000aa0: 6275 7474 6f6e 732e 6170 706c 7927 5d20  buttons.apply'] 
-00000ab0: 3d20 2741 7070 6c79 270a 0a20 203e 3e3e  = 'Apply'..  >>>
-00000ac0: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
-00000ad0: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
-00000ae0: 6f72 6d3d 7375 626d 6974 290a 0a57 6520  orm=submit)..We 
-00000af0: 7368 6f75 6c64 2067 6574 206c 6f74 7320  should get lots 
-00000b00: 6f66 2065 7272 6f72 733a 0a0a 2020 3e3e  of errors:..  >>
-00000b10: 3e20 636f 6e74 656e 7420 3d20 6765 7446  > content = getF
-00000b20: 6f72 6d28 7265 7175 6573 742c 2027 4f62  orm(request, 'Ob
-00000b30: 6a65 6374 5769 6467 6574 5f73 696e 676c  jectWidget_singl
-00000b40: 655f 6564 6974 5f73 7562 6d69 745f 7772  e_edit_submit_wr
-00000b50: 6f6e 672e 6874 6d6c 2729 0a20 203e 3e3e  ong.html').  >>>
-00000b60: 2070 7269 6e74 2874 6573 7469 6e67 2e70   print(testing.p
-00000b70: 6c61 696e 5465 7874 2863 6f6e 7465 6e74  lainText(content
-00000b80: 2c0a 2020 2e2e 2e20 2020 2020 272e 2f2f  ,.  ...     './/
-00000b90: 756c 5b40 6964 3d22 666f 726d 2d65 7272  ul[@id="form-err
-00000ba0: 6f72 7322 5d27 2929 0a20 202a 204f 626a  ors"]')).  * Obj
-00000bb0: 6563 7420 6c61 6265 6c3a 2054 6865 2065  ect label: The e
-00000bc0: 6e74 6572 6564 2076 616c 7565 2069 7320  ntered value is 
-00000bd0: 6e6f 7420 6120 7661 6c69 6420 696e 7465  not a valid inte
-00000be0: 6765 7220 6c69 7465 7261 6c2e 0a20 2043  ger literal..  C
-00000bf0: 6f6e 7374 7261 696e 7420 6e6f 7420 7361  onstraint not sa
-00000c00: 7469 7366 6965 640a 2020 5468 6520 6461  tisfied.  The da
-00000c10: 7465 7469 6d65 2073 7472 696e 6720 6469  tetime string di
-00000c20: 6420 6e6f 7420 6d61 7463 6820 7468 6520  d not match the 
-00000c30: 7061 7474 6572 6e20 2779 792f 4d4d 2f64  pattern 'yy/MM/d
-00000c40: 6427 2e0a 0a20 203e 3e3e 2070 7269 6e74  d'...  >>> print
-00000c50: 2874 6573 7469 6e67 2e70 6c61 696e 5465  (testing.plainTe
-00000c60: 7874 2863 6f6e 7465 6e74 2c0a 2020 2e2e  xt(content,.  ..
-00000c70: 2e20 2020 2020 272e 2f2f 6469 765b 4069  .     './/div[@i
-00000c80: 643d 2272 6f77 2d66 6f72 6d2d 7769 6467  d="row-form-widg
-00000c90: 6574 732d 7375 626f 626a 225d 2f62 2f64  ets-subobj"]/b/d
-00000ca0: 6976 5b40 636c 6173 733d 2265 7272 6f72  iv[@class="error
-00000cb0: 225d 2729 290a 2020 5468 6520 656e 7465  "]')).  The ente
-00000cc0: 7265 6420 7661 6c75 6520 6973 206e 6f74  red value is not
-00000cd0: 2061 2076 616c 6964 2069 6e74 6567 6572   a valid integer
-00000ce0: 206c 6974 6572 616c 2e0a 2020 436f 6e73   literal..  Cons
-00000cf0: 7472 6169 6e74 206e 6f74 2073 6174 6973  traint not satis
-00000d00: 6669 6564 0a20 2054 6865 2064 6174 6574  fied.  The datet
-00000d10: 696d 6520 7374 7269 6e67 2064 6964 206e  ime string did n
-00000d20: 6f74 206d 6174 6368 2074 6865 2070 6174  ot match the pat
-00000d30: 7465 726e 2027 7979 2f4d 4d2f 6464 272e  tern 'yy/MM/dd'.
-00000d40: 0a0a 2020 3e3e 3e20 7072 696e 7428 7465  ..  >>> print(te
-00000d50: 7374 696e 672e 706c 6169 6e54 6578 7428  sting.plainText(
-00000d60: 636f 6e74 656e 742c 0a20 202e 2e2e 2020  content,.  ...  
-00000d70: 2020 2027 2e2f 2f64 6976 5b40 6964 3d22     './/div[@id="
-00000d80: 726f 772d 666f 726d 2d77 6964 6765 7473  row-form-widgets
-00000d90: 2d73 7562 6f62 6a22 5d27 2929 0a20 2054  -subobj"]')).  T
-00000da0: 6865 2065 6e74 6572 6564 2076 616c 7565  he entered value
-00000db0: 2069 7320 6e6f 7420 6120 7661 6c69 6420   is not a valid 
-00000dc0: 696e 7465 6765 7220 6c69 7465 7261 6c2e  integer literal.
-00000dd0: 0a20 2043 6f6e 7374 7261 696e 7420 6e6f  .  Constraint no
-00000de0: 7420 7361 7469 7366 6965 640a 2020 5468  t satisfied.  Th
-00000df0: 6520 6461 7465 7469 6d65 2073 7472 696e  e datetime strin
-00000e00: 6720 6469 6420 6e6f 7420 6d61 7463 6820  g did not match 
-00000e10: 7468 6520 7061 7474 6572 6e20 7527 7979  the pattern u'yy
-00000e20: 2f4d 4d2f 6464 272e 204f 626a 6563 7420  /MM/dd'. Object 
-00000e30: 6c61 6265 6c0a 2020 496e 7420 6c61 6265  label.  Int labe
-00000e40: 6c20 2a0a 2020 3c42 4c41 4e4b 4c49 4e45  l *.  <BLANKLINE
-00000e50: 3e0a 2020 5468 6520 656e 7465 7265 6420  >.  The entered 
-00000e60: 7661 6c75 6520 6973 206e 6f74 2061 2076  value is not a v
-00000e70: 616c 6964 2069 6e74 6567 6572 206c 6974  alid integer lit
-00000e80: 6572 616c 2e0a 2020 5b66 6f6f 6261 725d  eral..  [foobar]
-00000e90: 0a20 203c 424c 414e 4b4c 494e 453e 0a20  .  <BLANKLINE>. 
-00000ea0: 2042 6f6f 6c20 6c61 6265 6c20 2a0a 2020   Bool label *.  
-00000eb0: 3c42 4c41 4e4b 4c49 4e45 3e0a 2020 2820  <BLANKLINE>.  ( 
-00000ec0: 2920 7965 7320 284f 2920 6e6f 0a20 203c  ) yes (O) no.  <
-00000ed0: 424c 414e 4b4c 494e 453e 0a20 2043 686f  BLANKLINE>.  Cho
-00000ee0: 6963 6520 6c61 6265 6c20 2a0a 2020 3c42  ice label *.  <B
-00000ef0: 4c41 4e4b 4c49 4e45 3e0a 2020 5b74 776f  LANKLINE>.  [two
-00000f00: 5d0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  ].  <BLANKLINE>.
-00000f10: 2020 4368 6f69 6365 4f70 7420 6c61 6265    ChoiceOpt labe
-00000f20: 6c0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  l.  <BLANKLINE>.
-00000f30: 2020 5b73 6978 5d0a 2020 3c42 4c41 4e4b    [six].  <BLANK
-00000f40: 4c49 4e45 3e0a 2020 5465 7874 4c69 6e65  LINE>.  TextLine
-00000f50: 206c 6162 656c 202a 0a20 203c 424c 414e   label *.  <BLAN
-00000f60: 4b4c 494e 453e 0a20 2043 6f6e 7374 7261  KLINE>.  Constra
-00000f70: 696e 7420 6e6f 7420 7361 7469 7366 6965  int not satisfie
-00000f80: 640a 2020 5b66 6f6f 0a20 2062 6172 5d0a  d.  [foo.  bar].
-00000f90: 2020 3c42 4c41 4e4b 4c49 4e45 3e0a 2020    <BLANKLINE>.  
-00000fa0: 4461 7465 206c 6162 656c 202a 0a20 203c  Date label *.  <
-00000fb0: 424c 414e 4b4c 494e 453e 0a20 2054 6865  BLANKLINE>.  The
-00000fc0: 2064 6174 6574 696d 6520 7374 7269 6e67   datetime string
-00000fd0: 2064 6964 206e 6f74 206d 6174 6368 2074   did not match t
-00000fe0: 6865 2070 6174 7465 726e 2075 2779 792f  he pattern u'yy/
-00000ff0: 4d4d 2f64 6427 2e0a 2020 5b66 6f6f 6261  MM/dd'..  [fooba
-00001000: 725d 0a20 203c 424c 414e 4b4c 494e 453e  r].  <BLANKLINE>
-00001010: 0a20 2052 6561 644f 6e6c 7920 6c61 6265  .  ReadOnly labe
-00001020: 6c20 2a0a 2020 3c42 4c41 4e4b 4c49 4e45  l *.  <BLANKLINE
-00001030: 3e0a 2020 736f 6d65 2052 2f4f 2074 6578  >.  some R/O tex
-00001040: 740a 0a4c 6574 2773 2066 6978 2074 6865  t..Let's fix the
-00001050: 2076 616c 7565 733a 0a0a 2020 3e3e 3e20   values:..  >>> 
-00001060: 7375 626d 6974 203d 2074 6573 7469 6e67  submit = testing
-00001070: 2e67 6574 5375 626d 6974 5661 6c75 6573  .getSubmitValues
-00001080: 2863 6f6e 7465 6e74 290a 0a20 203e 3e3e  (content)..  >>>
-00001090: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
-000010a0: 6467 6574 732e 7375 626f 626a 2e77 6964  dgets.subobj.wid
-000010b0: 6765 7473 2e73 696e 676c 6549 6e74 275d  gets.singleInt']
-000010c0: 203d 2075 2731 3034 3227 0a20 203e 3e3e   = u'1042'.  >>>
-000010d0: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
-000010e0: 6467 6574 732e 7375 626f 626a 2e77 6964  dgets.subobj.wid
-000010f0: 6765 7473 2e73 696e 676c 6542 6f6f 6c27  gets.singleBool'
-00001100: 5d20 3d20 7527 7472 7565 270a 2020 3e3e  ] = u'true'.  >>
-00001110: 3e20 7375 626d 6974 5b27 666f 726d 2e77  > submit['form.w
-00001120: 6964 6765 7473 2e73 7562 6f62 6a2e 7769  idgets.subobj.wi
-00001130: 6467 6574 732e 7369 6e67 6c65 4368 6f69  dgets.singleChoi
-00001140: 6365 3a6c 6973 7427 5d20 3d20 7527 7468  ce:list'] = u'th
-00001150: 7265 6527 0a20 203e 3e3e 2073 7562 6d69  ree'.  >>> submi
-00001160: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
-00001170: 7375 626f 626a 2e77 6964 6765 7473 2e73  subobj.widgets.s
-00001180: 696e 676c 6543 686f 6963 654f 7074 3a6c  ingleChoiceOpt:l
-00001190: 6973 7427 5d20 3d20 7527 666f 7572 270a  ist'] = u'four'.
-000011a0: 2020 3e3e 3e20 7375 626d 6974 5b27 666f    >>> submit['fo
-000011b0: 726d 2e77 6964 6765 7473 2e73 7562 6f62  rm.widgets.subob
-000011c0: 6a2e 7769 6467 6574 732e 7369 6e67 6c65  j.widgets.single
-000011d0: 5465 7874 4c69 6e65 275d 203d 2075 2766  TextLine'] = u'f
-000011e0: 6f6f 6261 7227 0a20 203e 3e3e 2073 7562  oobar'.  >>> sub
-000011f0: 6d69 745b 2766 6f72 6d2e 7769 6467 6574  mit['form.widget
-00001200: 732e 7375 626f 626a 2e77 6964 6765 7473  s.subobj.widgets
-00001210: 2e73 696e 676c 6544 6174 6527 5d20 3d20  .singleDate'] = 
-00001220: 7527 3134 2f30 362f 3231 270a 0a20 203e  u'14/06/21'..  >
-00001230: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
-00001240: 6275 7474 6f6e 732e 6170 706c 7927 5d20  buttons.apply'] 
-00001250: 3d20 2741 7070 6c79 270a 0a20 203e 3e3e  = 'Apply'..  >>>
-00001260: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
-00001270: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
-00001280: 6f72 6d3d 7375 626d 6974 290a 0a20 203e  orm=submit)..  >
-00001290: 3e3e 2063 6f6e 7465 6e74 203d 2067 6574  >> content = get
-000012a0: 466f 726d 2872 6571 7565 7374 2c20 274f  Form(request, 'O
-000012b0: 626a 6563 7457 6964 6765 745f 7369 6e67  bjectWidget_sing
-000012c0: 6c65 5f65 6469 745f 7375 626d 6974 5f66  le_edit_submit_f
-000012d0: 6978 6564 2e68 746d 6c27 290a 2020 3e3e  ixed.html').  >>
-000012e0: 3e20 7072 696e 7428 7465 7374 696e 672e  > print(testing.
-000012f0: 706c 6169 6e54 6578 7428 636f 6e74 656e  plainText(conten
-00001300: 7429 290a 2020 4461 7461 2073 7563 6365  t)).  Data succe
-00001310: 7373 6675 6c6c 7920 7570 6461 7465 642e  ssfully updated.
-00001320: 0a20 203c 424c 414e 4b4c 494e 453e 0a20  .  <BLANKLINE>. 
-00001330: 204f 626a 6563 7420 6c61 6265 6c0a 2020   Object label.  
-00001340: 496e 7420 6c61 6265 6c20 2a0a 2020 5b31  Int label *.  [1
-00001350: 2c30 3432 5d0a 2020 426f 6f6c 206c 6162  ,042].  Bool lab
-00001360: 656c 202a 0a20 2028 4f29 2079 6573 2028  el *.  (O) yes (
-00001370: 2029 206e 6f0a 2020 4368 6f69 6365 206c   ) no.  Choice l
-00001380: 6162 656c 202a 0a20 205b 7468 7265 655d  abel *.  [three]
-00001390: 0a20 2043 686f 6963 654f 7074 206c 6162  .  ChoiceOpt lab
-000013a0: 656c 0a20 205b 666f 7572 5d0a 2020 5465  el.  [four].  Te
-000013b0: 7874 4c69 6e65 206c 6162 656c 202a 0a20  xtLine label *. 
-000013c0: 205b 666f 6f62 6172 5d0a 2020 4461 7465   [foobar].  Date
-000013d0: 206c 6162 656c 202a 0a20 205b 3134 2f30   label *.  [14/0
-000013e0: 362f 3231 5d0a 2020 5265 6164 4f6e 6c79  6/21].  ReadOnly
-000013f0: 206c 6162 656c 202a 0a20 2073 6f6d 6520   label *.  some 
-00001400: 522f 4f20 7465 7874 0a20 205b 4170 706c  R/O text.  [Appl
-00001410: 795d 0a0a 0a42 6f6f 6c20 7761 7320 6d69  y]...Bool was mi
-00001420: 7362 6568 6176 696e 670a 0a20 203e 3e3e  sbehaving..  >>>
-00001430: 2073 7562 6d69 7420 3d20 7465 7374 696e   submit = testin
-00001440: 672e 6765 7453 7562 6d69 7456 616c 7565  g.getSubmitValue
-00001450: 7328 636f 6e74 656e 7429 0a20 203e 3e3e  s(content).  >>>
-00001460: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
-00001470: 6467 6574 732e 7375 626f 626a 2e77 6964  dgets.subobj.wid
-00001480: 6765 7473 2e73 696e 676c 6542 6f6f 6c27  gets.singleBool'
-00001490: 5d20 3d20 7527 6661 6c73 6527 0a20 203e  ] = u'false'.  >
-000014a0: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
-000014b0: 6275 7474 6f6e 732e 6170 706c 7927 5d20  buttons.apply'] 
-000014c0: 3d20 2741 7070 6c79 270a 0a20 203e 3e3e  = 'Apply'..  >>>
-000014d0: 2072 6571 7565 7374 203d 2074 6573 7469   request = testi
-000014e0: 6e67 2e54 6573 7452 6571 7565 7374 2866  ng.TestRequest(f
-000014f0: 6f72 6d3d 7375 626d 6974 290a 0a20 203e  orm=submit)..  >
-00001500: 3e3e 2063 6f6e 7465 6e74 203d 2067 6574  >> content = get
-00001510: 466f 726d 2872 6571 7565 7374 2c20 274f  Form(request, 'O
-00001520: 626a 6563 7457 6964 6765 745f 7369 6e67  bjectWidget_sing
-00001530: 6c65 5f65 6469 745f 7375 626d 6974 5f62  le_edit_submit_b
-00001540: 6f6f 6c31 2e68 746d 6c27 290a 2020 3e3e  ool1.html').  >>
-00001550: 3e20 7072 696e 7428 7465 7374 696e 672e  > print(testing.
-00001560: 706c 6169 6e54 6578 7428 636f 6e74 656e  plainText(conten
-00001570: 7429 290a 2020 4461 7461 2073 7563 6365  t)).  Data succe
-00001580: 7373 6675 6c6c 7920 7570 6461 7465 642e  ssfully updated.
-00001590: 0a20 202e 2e2e 0a0a 2020 3e3e 3e20 7070  .  .....  >>> pp
-000015a0: 7269 6e74 286f 626a 2e73 7562 6f62 6a29  rint(obj.subobj)
-000015b0: 0a20 203c 4f62 6a65 6374 5769 6467 6574  .  <ObjectWidget
-000015c0: 5369 6e67 6c65 5375 6249 6e74 6567 7261  SingleSubIntegra
-000015d0: 7469 6f6e 0a20 2020 2073 696e 676c 6542  tion.    singleB
-000015e0: 6f6f 6c3a 2046 616c 7365 0a20 2020 2073  ool: False.    s
-000015f0: 696e 676c 6543 686f 6963 653a 2027 7468  ingleChoice: 'th
-00001600: 7265 6527 0a20 2020 2073 696e 676c 6543  ree'.    singleC
-00001610: 686f 6963 654f 7074 3a20 2766 6f75 7227  hoiceOpt: 'four'
-00001620: 0a20 2020 2073 696e 676c 6544 6174 653a  .    singleDate:
-00001630: 2064 6174 6574 696d 652e 6461 7465 2832   datetime.date(2
-00001640: 3031 342c 2036 2c20 3231 290a 2020 2020  014, 6, 21).    
-00001650: 7369 6e67 6c65 496e 743a 2031 3034 320a  singleInt: 1042.
-00001660: 2020 2020 7369 6e67 6c65 5265 6164 4f6e      singleReadOn
-00001670: 6c79 3a20 7527 736f 6d65 2052 2f4f 2074  ly: u'some R/O t
-00001680: 6578 7427 0a20 2020 2073 696e 676c 6554  ext'.    singleT
-00001690: 6578 744c 696e 653a 2075 2766 6f6f 6261  extLine: u'fooba
-000016a0: 7227 3e0a 0a20 203e 3e3e 2073 7562 6d69  r'>..  >>> submi
-000016b0: 7420 3d20 7465 7374 696e 672e 6765 7453  t = testing.getS
-000016c0: 7562 6d69 7456 616c 7565 7328 636f 6e74  ubmitValues(cont
-000016d0: 656e 7429 0a20 203e 3e3e 2073 7562 6d69  ent).  >>> submi
-000016e0: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
-000016f0: 7375 626f 626a 2e77 6964 6765 7473 2e73  subobj.widgets.s
-00001700: 696e 676c 6542 6f6f 6c27 5d20 3d20 7527  ingleBool'] = u'
-00001710: 7472 7565 270a 2020 3e3e 3e20 7375 626d  true'.  >>> subm
-00001720: 6974 5b27 666f 726d 2e62 7574 746f 6e73  it['form.buttons
-00001730: 2e61 7070 6c79 275d 203d 2027 4170 706c  .apply'] = 'Appl
-00001740: 7927 0a0a 2020 3e3e 3e20 7265 7175 6573  y'..  >>> reques
-00001750: 7420 3d20 7465 7374 696e 672e 5465 7374  t = testing.Test
-00001760: 5265 7175 6573 7428 666f 726d 3d73 7562  Request(form=sub
-00001770: 6d69 7429 0a0a 2020 3e3e 3e20 636f 6e74  mit)..  >>> cont
-00001780: 656e 7420 3d20 6765 7446 6f72 6d28 7265  ent = getForm(re
-00001790: 7175 6573 742c 2027 4f62 6a65 6374 5769  quest, 'ObjectWi
-000017a0: 6467 6574 5f73 696e 676c 655f 6564 6974  dget_single_edit
-000017b0: 5f73 7562 6d69 745f 626f 6f6c 322e 6874  _submit_bool2.ht
-000017c0: 6d6c 2729 0a20 203e 3e3e 2070 7269 6e74  ml').  >>> print
-000017d0: 2874 6573 7469 6e67 2e70 6c61 696e 5465  (testing.plainTe
-000017e0: 7874 2863 6f6e 7465 6e74 2929 0a20 2044  xt(content)).  D
-000017f0: 6174 6120 7375 6363 6573 7366 756c 6c79  ata successfully
-00001800: 2075 7064 6174 6564 2e0a 2020 2e2e 2e0a   updated..  ....
-00001810: 0a20 203e 3e3e 2070 7072 696e 7428 6f62  .  >>> pprint(ob
-00001820: 6a2e 7375 626f 626a 290a 2020 3c4f 626a  j.subobj).  <Obj
-00001830: 6563 7457 6964 6765 7453 696e 676c 6553  ectWidgetSingleS
-00001840: 7562 496e 7465 6772 6174 696f 6e0a 2020  ubIntegration.  
-00001850: 2020 7369 6e67 6c65 426f 6f6c 3a20 5472    singleBool: Tr
-00001860: 7565 0a20 2020 2073 696e 676c 6543 686f  ue.    singleCho
-00001870: 6963 653a 2027 7468 7265 6527 0a20 2020  ice: 'three'.   
-00001880: 2073 696e 676c 6543 686f 6963 654f 7074   singleChoiceOpt
-00001890: 3a20 2766 6f75 7227 0a20 2020 2073 696e  : 'four'.    sin
-000018a0: 676c 6544 6174 653a 2064 6174 6574 696d  gleDate: datetim
-000018b0: 652e 6461 7465 2832 3031 342c 2036 2c20  e.date(2014, 6, 
-000018c0: 3231 290a 2020 2020 7369 6e67 6c65 496e  21).    singleIn
-000018d0: 743a 2031 3034 320a 2020 2020 7369 6e67  t: 1042.    sing
-000018e0: 6c65 5265 6164 4f6e 6c79 3a20 7527 736f  leReadOnly: u'so
-000018f0: 6d65 2052 2f4f 2074 6578 7427 0a20 2020  me R/O text'.   
-00001900: 2073 696e 676c 6554 6578 744c 696e 653a   singleTextLine:
-00001910: 2075 2766 6f6f 6261 7227 3e0a             u'foobar'>.
+00000790: 7369 6e67 6c65 5465 7874 4c69 6e65 3d27  singleTextLine='
+000007a0: 736f 6d65 2074 6578 7420 6f6e 6527 2c0a  some text one',.
+000007b0: 2020 2e2e 2e20 2020 2020 7369 6e67 6c65    ...     single
+000007c0: 4461 7465 3d64 6174 6528 3230 3134 2c20  Date=date(2014, 
+000007d0: 362c 2032 3029 2c0a 2020 2e2e 2e20 2020  6, 20),.  ...   
+000007e0: 2020 7369 6e67 6c65 5265 6164 4f6e 6c79    singleReadOnly
+000007f0: 3d27 736f 6d65 2052 2f4f 2074 6578 7427  ='some R/O text'
+00000800: 290a 0a20 203e 3e3e 2063 6f6e 7465 6e74  )..  >>> content
+00000810: 203d 2067 6574 466f 726d 2872 6571 7565   = getForm(reque
+00000820: 7374 2c20 274f 626a 6563 7457 6964 6765  st, 'ObjectWidge
+00000830: 745f 7369 6e67 6c65 5f65 6469 745f 7369  t_single_edit_si
+00000840: 6d70 6c65 2e68 746d 6c27 290a 0a20 203e  mple.html')..  >
+00000850: 3e3e 2070 7269 6e74 2874 6573 7469 6e67  >> print(testing
+00000860: 2e70 6c61 696e 5465 7874 2863 6f6e 7465  .plainText(conte
+00000870: 6e74 2929 0a20 204f 626a 6563 7420 6c61  nt)).  Object la
+00000880: 6265 6c0a 2020 496e 7420 6c61 6265 6c20  bel.  Int label 
+00000890: 2a0a 2020 5b2d 3130 305d 0a20 2042 6f6f  *.  [-100].  Boo
+000008a0: 6c20 6c61 6265 6c20 2a0a 2020 2820 2920  l label *.  ( ) 
+000008b0: 7965 7320 284f 2920 6e6f 0a20 2043 686f  yes (O) no.  Cho
+000008c0: 6963 6520 6c61 6265 6c20 2a0a 2020 5b74  ice label *.  [t
+000008d0: 776f 5d0a 2020 4368 6f69 6365 4f70 7420  wo].  ChoiceOpt 
+000008e0: 6c61 6265 6c0a 2020 5b73 6978 5d0a 2020  label.  [six].  
+000008f0: 5465 7874 4c69 6e65 206c 6162 656c 202a  TextLine label *
+00000900: 0a20 205b 736f 6d65 2074 6578 7420 6f6e  .  [some text on
+00000910: 655d 0a20 2044 6174 6520 6c61 6265 6c20  e].  Date label 
+00000920: 2a0a 2020 5b31 342f 3036 2f32 305d 0a20  *.  [14/06/20]. 
+00000930: 2052 6561 644f 6e6c 7920 6c61 6265 6c20   ReadOnly label 
+00000940: 2a0a 2020 736f 6d65 2052 2f4f 2074 6578  *.  some R/O tex
+00000950: 740a 2020 5b41 7070 6c79 5d0a 0a0a 5772  t.  [Apply]...Wr
+00000960: 6f6e 6720 7661 6c75 6573 0a23 2323 2323  ong values.#####
+00000970: 2323 2323 2323 230a 0a53 6574 2077 726f  #######..Set wro
+00000980: 6e67 2076 616c 7565 733a 0a0a 2020 3e3e  ng values:..  >>
+00000990: 3e20 7375 626d 6974 203d 2074 6573 7469  > submit = testi
+000009a0: 6e67 2e67 6574 5375 626d 6974 5661 6c75  ng.getSubmitValu
+000009b0: 6573 2863 6f6e 7465 6e74 290a 2020 3e3e  es(content).  >>
+000009c0: 3e20 7375 626d 6974 5b27 666f 726d 2e77  > submit['form.w
+000009d0: 6964 6765 7473 2e73 7562 6f62 6a2e 7769  idgets.subobj.wi
+000009e0: 6467 6574 732e 7369 6e67 6c65 496e 7427  dgets.singleInt'
+000009f0: 5d20 3d20 2766 6f6f 6261 7227 0a20 203e  ] = 'foobar'.  >
+00000a00: 3e3e 2073 7562 6d69 745b 2766 6f72 6d2e  >> submit['form.
+00000a10: 7769 6467 6574 732e 7375 626f 626a 2e77  widgets.subobj.w
+00000a20: 6964 6765 7473 2e73 696e 676c 6554 6578  idgets.singleTex
+00000a30: 744c 696e 6527 5d20 3d20 2766 6f6f 5c6e  tLine'] = 'foo\n
+00000a40: 6261 7227 0a20 203e 3e3e 2073 7562 6d69  bar'.  >>> submi
+00000a50: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
+00000a60: 7375 626f 626a 2e77 6964 6765 7473 2e73  subobj.widgets.s
+00000a70: 696e 676c 6544 6174 6527 5d20 3d20 2766  ingleDate'] = 'f
+00000a80: 6f6f 6261 7227 0a0a 2020 3e3e 3e20 7375  oobar'..  >>> su
+00000a90: 626d 6974 5b27 666f 726d 2e62 7574 746f  bmit['form.butto
+00000aa0: 6e73 2e61 7070 6c79 275d 203d 2027 4170  ns.apply'] = 'Ap
+00000ab0: 706c 7927 0a0a 2020 3e3e 3e20 7265 7175  ply'..  >>> requ
+00000ac0: 6573 7420 3d20 7465 7374 696e 672e 5465  est = testing.Te
+00000ad0: 7374 5265 7175 6573 7428 666f 726d 3d73  stRequest(form=s
+00000ae0: 7562 6d69 7429 0a0a 5765 2073 686f 756c  ubmit)..We shoul
+00000af0: 6420 6765 7420 6c6f 7473 206f 6620 6572  d get lots of er
+00000b00: 726f 7273 3a0a 0a20 203e 3e3e 2063 6f6e  rors:..  >>> con
+00000b10: 7465 6e74 203d 2067 6574 466f 726d 2872  tent = getForm(r
+00000b20: 6571 7565 7374 2c20 274f 626a 6563 7457  equest, 'ObjectW
+00000b30: 6964 6765 745f 7369 6e67 6c65 5f65 6469  idget_single_edi
+00000b40: 745f 7375 626d 6974 5f77 726f 6e67 2e68  t_submit_wrong.h
+00000b50: 746d 6c27 290a 2020 3e3e 3e20 7072 696e  tml').  >>> prin
+00000b60: 7428 7465 7374 696e 672e 706c 6169 6e54  t(testing.plainT
+00000b70: 6578 7428 636f 6e74 656e 742c 0a20 202e  ext(content,.  .
+00000b80: 2e2e 2020 2020 2027 2e2f 2f75 6c5b 4069  ..     './/ul[@i
+00000b90: 643d 2266 6f72 6d2d 6572 726f 7273 225d  d="form-errors"]
+00000ba0: 2729 290a 2020 2a20 4f62 6a65 6374 206c  ')).  * Object l
+00000bb0: 6162 656c 3a20 5468 6520 656e 7465 7265  abel: The entere
+00000bc0: 6420 7661 6c75 6520 6973 206e 6f74 2061  d value is not a
+00000bd0: 2076 616c 6964 2069 6e74 6567 6572 206c   valid integer l
+00000be0: 6974 6572 616c 2e0a 2020 436f 6e73 7472  iteral..  Constr
+00000bf0: 6169 6e74 206e 6f74 2073 6174 6973 6669  aint not satisfi
+00000c00: 6564 0a20 2054 6865 2064 6174 6574 696d  ed.  The datetim
+00000c10: 6520 7374 7269 6e67 2064 6964 206e 6f74  e string did not
+00000c20: 206d 6174 6368 2074 6865 2070 6174 7465   match the patte
+00000c30: 726e 2027 7979 2f4d 4d2f 6464 272e 0a0a  rn 'yy/MM/dd'...
+00000c40: 2020 3e3e 3e20 7072 696e 7428 7465 7374    >>> print(test
+00000c50: 696e 672e 706c 6169 6e54 6578 7428 636f  ing.plainText(co
+00000c60: 6e74 656e 742c 0a20 202e 2e2e 2020 2020  ntent,.  ...    
+00000c70: 2027 2e2f 2f64 6976 5b40 6964 3d22 726f   './/div[@id="ro
+00000c80: 772d 666f 726d 2d77 6964 6765 7473 2d73  w-form-widgets-s
+00000c90: 7562 6f62 6a22 5d2f 622f 6469 765b 4063  ubobj"]/b/div[@c
+00000ca0: 6c61 7373 3d22 6572 726f 7222 5d27 2929  lass="error"]'))
+00000cb0: 0a20 2054 6865 2065 6e74 6572 6564 2076  .  The entered v
+00000cc0: 616c 7565 2069 7320 6e6f 7420 6120 7661  alue is not a va
+00000cd0: 6c69 6420 696e 7465 6765 7220 6c69 7465  lid integer lite
+00000ce0: 7261 6c2e 0a20 2043 6f6e 7374 7261 696e  ral..  Constrain
+00000cf0: 7420 6e6f 7420 7361 7469 7366 6965 640a  t not satisfied.
+00000d00: 2020 5468 6520 6461 7465 7469 6d65 2073    The datetime s
+00000d10: 7472 696e 6720 6469 6420 6e6f 7420 6d61  tring did not ma
+00000d20: 7463 6820 7468 6520 7061 7474 6572 6e20  tch the pattern 
+00000d30: 2779 792f 4d4d 2f64 6427 2e0a 0a20 203e  'yy/MM/dd'...  >
+00000d40: 3e3e 2070 7269 6e74 2874 6573 7469 6e67  >> print(testing
+00000d50: 2e70 6c61 696e 5465 7874 2863 6f6e 7465  .plainText(conte
+00000d60: 6e74 2c0a 2020 2e2e 2e20 2020 2020 272e  nt,.  ...     '.
+00000d70: 2f2f 6469 765b 4069 643d 2272 6f77 2d66  //div[@id="row-f
+00000d80: 6f72 6d2d 7769 6467 6574 732d 7375 626f  orm-widgets-subo
+00000d90: 626a 225d 2729 290a 2020 5468 6520 656e  bj"]')).  The en
+00000da0: 7465 7265 6420 7661 6c75 6520 6973 206e  tered value is n
+00000db0: 6f74 2061 2076 616c 6964 2069 6e74 6567  ot a valid integ
+00000dc0: 6572 206c 6974 6572 616c 2e0a 2020 436f  er literal..  Co
+00000dd0: 6e73 7472 6169 6e74 206e 6f74 2073 6174  nstraint not sat
+00000de0: 6973 6669 6564 0a20 2054 6865 2064 6174  isfied.  The dat
+00000df0: 6574 696d 6520 7374 7269 6e67 2064 6964  etime string did
+00000e00: 206e 6f74 206d 6174 6368 2074 6865 2070   not match the p
+00000e10: 6174 7465 726e 2027 7979 2f4d 4d2f 6464  attern 'yy/MM/dd
+00000e20: 272e 204f 626a 6563 7420 6c61 6265 6c0a  '. Object label.
+00000e30: 2020 496e 7420 6c61 6265 6c20 2a0a 2020    Int label *.  
+00000e40: 3c42 4c41 4e4b 4c49 4e45 3e0a 2020 5468  <BLANKLINE>.  Th
+00000e50: 6520 656e 7465 7265 6420 7661 6c75 6520  e entered value 
+00000e60: 6973 206e 6f74 2061 2076 616c 6964 2069  is not a valid i
+00000e70: 6e74 6567 6572 206c 6974 6572 616c 2e0a  nteger literal..
+00000e80: 2020 5b66 6f6f 6261 725d 0a20 203c 424c    [foobar].  <BL
+00000e90: 414e 4b4c 494e 453e 0a20 2042 6f6f 6c20  ANKLINE>.  Bool 
+00000ea0: 6c61 6265 6c20 2a0a 2020 3c42 4c41 4e4b  label *.  <BLANK
+00000eb0: 4c49 4e45 3e0a 2020 2820 2920 7965 7320  LINE>.  ( ) yes 
+00000ec0: 284f 2920 6e6f 0a20 203c 424c 414e 4b4c  (O) no.  <BLANKL
+00000ed0: 494e 453e 0a20 2043 686f 6963 6520 6c61  INE>.  Choice la
+00000ee0: 6265 6c20 2a0a 2020 3c42 4c41 4e4b 4c49  bel *.  <BLANKLI
+00000ef0: 4e45 3e0a 2020 5b74 776f 5d0a 2020 3c42  NE>.  [two].  <B
+00000f00: 4c41 4e4b 4c49 4e45 3e0a 2020 4368 6f69  LANKLINE>.  Choi
+00000f10: 6365 4f70 7420 6c61 6265 6c0a 2020 3c42  ceOpt label.  <B
+00000f20: 4c41 4e4b 4c49 4e45 3e0a 2020 5b73 6978  LANKLINE>.  [six
+00000f30: 5d0a 2020 3c42 4c41 4e4b 4c49 4e45 3e0a  ].  <BLANKLINE>.
+00000f40: 2020 5465 7874 4c69 6e65 206c 6162 656c    TextLine label
+00000f50: 202a 0a20 203c 424c 414e 4b4c 494e 453e   *.  <BLANKLINE>
+00000f60: 0a20 2043 6f6e 7374 7261 696e 7420 6e6f  .  Constraint no
+00000f70: 7420 7361 7469 7366 6965 640a 2020 5b66  t satisfied.  [f
+00000f80: 6f6f 0a20 2062 6172 5d0a 2020 3c42 4c41  oo.  bar].  <BLA
+00000f90: 4e4b 4c49 4e45 3e0a 2020 4461 7465 206c  NKLINE>.  Date l
+00000fa0: 6162 656c 202a 0a20 203c 424c 414e 4b4c  abel *.  <BLANKL
+00000fb0: 494e 453e 0a20 2054 6865 2064 6174 6574  INE>.  The datet
+00000fc0: 696d 6520 7374 7269 6e67 2064 6964 206e  ime string did n
+00000fd0: 6f74 206d 6174 6368 2074 6865 2070 6174  ot match the pat
+00000fe0: 7465 726e 2027 7979 2f4d 4d2f 6464 272e  tern 'yy/MM/dd'.
+00000ff0: 0a20 205b 666f 6f62 6172 5d0a 2020 3c42  .  [foobar].  <B
+00001000: 4c41 4e4b 4c49 4e45 3e0a 2020 5265 6164  LANKLINE>.  Read
+00001010: 4f6e 6c79 206c 6162 656c 202a 0a20 203c  Only label *.  <
+00001020: 424c 414e 4b4c 494e 453e 0a20 2073 6f6d  BLANKLINE>.  som
+00001030: 6520 522f 4f20 7465 7874 0a0a 4c65 7427  e R/O text..Let'
+00001040: 7320 6669 7820 7468 6520 7661 6c75 6573  s fix the values
+00001050: 3a0a 0a20 203e 3e3e 2073 7562 6d69 7420  :..  >>> submit 
+00001060: 3d20 7465 7374 696e 672e 6765 7453 7562  = testing.getSub
+00001070: 6d69 7456 616c 7565 7328 636f 6e74 656e  mitValues(conten
+00001080: 7429 0a0a 2020 3e3e 3e20 7375 626d 6974  t)..  >>> submit
+00001090: 5b27 666f 726d 2e77 6964 6765 7473 2e73  ['form.widgets.s
+000010a0: 7562 6f62 6a2e 7769 6467 6574 732e 7369  ubobj.widgets.si
+000010b0: 6e67 6c65 496e 7427 5d20 3d20 2731 3034  ngleInt'] = '104
+000010c0: 3227 0a20 203e 3e3e 2073 7562 6d69 745b  2'.  >>> submit[
+000010d0: 2766 6f72 6d2e 7769 6467 6574 732e 7375  'form.widgets.su
+000010e0: 626f 626a 2e77 6964 6765 7473 2e73 696e  bobj.widgets.sin
+000010f0: 676c 6542 6f6f 6c27 5d20 3d20 2774 7275  gleBool'] = 'tru
+00001100: 6527 0a20 203e 3e3e 2073 7562 6d69 745b  e'.  >>> submit[
+00001110: 2766 6f72 6d2e 7769 6467 6574 732e 7375  'form.widgets.su
+00001120: 626f 626a 2e77 6964 6765 7473 2e73 696e  bobj.widgets.sin
+00001130: 676c 6543 686f 6963 653a 6c69 7374 275d  gleChoice:list']
+00001140: 203d 2027 7468 7265 6527 0a20 203e 3e3e   = 'three'.  >>>
+00001150: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
+00001160: 6467 6574 732e 7375 626f 626a 2e77 6964  dgets.subobj.wid
+00001170: 6765 7473 2e73 696e 676c 6543 686f 6963  gets.singleChoic
+00001180: 654f 7074 3a6c 6973 7427 5d20 3d20 2766  eOpt:list'] = 'f
+00001190: 6f75 7227 0a20 203e 3e3e 2073 7562 6d69  our'.  >>> submi
+000011a0: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
+000011b0: 7375 626f 626a 2e77 6964 6765 7473 2e73  subobj.widgets.s
+000011c0: 696e 676c 6554 6578 744c 696e 6527 5d20  ingleTextLine'] 
+000011d0: 3d20 2766 6f6f 6261 7227 0a20 203e 3e3e  = 'foobar'.  >>>
+000011e0: 2073 7562 6d69 745b 2766 6f72 6d2e 7769   submit['form.wi
+000011f0: 6467 6574 732e 7375 626f 626a 2e77 6964  dgets.subobj.wid
+00001200: 6765 7473 2e73 696e 676c 6544 6174 6527  gets.singleDate'
+00001210: 5d20 3d20 2731 342f 3036 2f32 3127 0a0a  ] = '14/06/21'..
+00001220: 2020 3e3e 3e20 7375 626d 6974 5b27 666f    >>> submit['fo
+00001230: 726d 2e62 7574 746f 6e73 2e61 7070 6c79  rm.buttons.apply
+00001240: 275d 203d 2027 4170 706c 7927 0a0a 2020  '] = 'Apply'..  
+00001250: 3e3e 3e20 7265 7175 6573 7420 3d20 7465  >>> request = te
+00001260: 7374 696e 672e 5465 7374 5265 7175 6573  sting.TestReques
+00001270: 7428 666f 726d 3d73 7562 6d69 7429 0a0a  t(form=submit)..
+00001280: 2020 3e3e 3e20 636f 6e74 656e 7420 3d20    >>> content = 
+00001290: 6765 7446 6f72 6d28 7265 7175 6573 742c  getForm(request,
+000012a0: 2027 4f62 6a65 6374 5769 6467 6574 5f73   'ObjectWidget_s
+000012b0: 696e 676c 655f 6564 6974 5f73 7562 6d69  ingle_edit_submi
+000012c0: 745f 6669 7865 642e 6874 6d6c 2729 0a20  t_fixed.html'). 
+000012d0: 203e 3e3e 2070 7269 6e74 2874 6573 7469   >>> print(testi
+000012e0: 6e67 2e70 6c61 696e 5465 7874 2863 6f6e  ng.plainText(con
+000012f0: 7465 6e74 2929 0a20 2044 6174 6120 7375  tent)).  Data su
+00001300: 6363 6573 7366 756c 6c79 2075 7064 6174  ccessfully updat
+00001310: 6564 2e0a 2020 3c42 4c41 4e4b 4c49 4e45  ed..  <BLANKLINE
+00001320: 3e0a 2020 4f62 6a65 6374 206c 6162 656c  >.  Object label
+00001330: 0a20 2049 6e74 206c 6162 656c 202a 0a20  .  Int label *. 
+00001340: 205b 312c 3034 325d 0a20 2042 6f6f 6c20   [1,042].  Bool 
+00001350: 6c61 6265 6c20 2a0a 2020 284f 2920 7965  label *.  (O) ye
+00001360: 7320 2820 2920 6e6f 0a20 2043 686f 6963  s ( ) no.  Choic
+00001370: 6520 6c61 6265 6c20 2a0a 2020 5b74 6872  e label *.  [thr
+00001380: 6565 5d0a 2020 4368 6f69 6365 4f70 7420  ee].  ChoiceOpt 
+00001390: 6c61 6265 6c0a 2020 5b66 6f75 725d 0a20  label.  [four]. 
+000013a0: 2054 6578 744c 696e 6520 6c61 6265 6c20   TextLine label 
+000013b0: 2a0a 2020 5b66 6f6f 6261 725d 0a20 2044  *.  [foobar].  D
+000013c0: 6174 6520 6c61 6265 6c20 2a0a 2020 5b31  ate label *.  [1
+000013d0: 342f 3036 2f32 315d 0a20 2052 6561 644f  4/06/21].  ReadO
+000013e0: 6e6c 7920 6c61 6265 6c20 2a0a 2020 736f  nly label *.  so
+000013f0: 6d65 2052 2f4f 2074 6578 740a 2020 5b41  me R/O text.  [A
+00001400: 7070 6c79 5d0a 0a0a 426f 6f6c 2077 6173  pply]...Bool was
+00001410: 206d 6973 6265 6861 7669 6e67 0a0a 2020   misbehaving..  
+00001420: 3e3e 3e20 7375 626d 6974 203d 2074 6573  >>> submit = tes
+00001430: 7469 6e67 2e67 6574 5375 626d 6974 5661  ting.getSubmitVa
+00001440: 6c75 6573 2863 6f6e 7465 6e74 290a 2020  lues(content).  
+00001450: 3e3e 3e20 7375 626d 6974 5b27 666f 726d  >>> submit['form
+00001460: 2e77 6964 6765 7473 2e73 7562 6f62 6a2e  .widgets.subobj.
+00001470: 7769 6467 6574 732e 7369 6e67 6c65 426f  widgets.singleBo
+00001480: 6f6c 275d 203d 2027 6661 6c73 6527 0a20  ol'] = 'false'. 
+00001490: 203e 3e3e 2073 7562 6d69 745b 2766 6f72   >>> submit['for
+000014a0: 6d2e 6275 7474 6f6e 732e 6170 706c 7927  m.buttons.apply'
+000014b0: 5d20 3d20 2741 7070 6c79 270a 0a20 203e  ] = 'Apply'..  >
+000014c0: 3e3e 2072 6571 7565 7374 203d 2074 6573  >> request = tes
+000014d0: 7469 6e67 2e54 6573 7452 6571 7565 7374  ting.TestRequest
+000014e0: 2866 6f72 6d3d 7375 626d 6974 290a 0a20  (form=submit).. 
+000014f0: 203e 3e3e 2063 6f6e 7465 6e74 203d 2067   >>> content = g
+00001500: 6574 466f 726d 2872 6571 7565 7374 2c20  etForm(request, 
+00001510: 274f 626a 6563 7457 6964 6765 745f 7369  'ObjectWidget_si
+00001520: 6e67 6c65 5f65 6469 745f 7375 626d 6974  ngle_edit_submit
+00001530: 5f62 6f6f 6c31 2e68 746d 6c27 290a 2020  _bool1.html').  
+00001540: 3e3e 3e20 7072 696e 7428 7465 7374 696e  >>> print(testin
+00001550: 672e 706c 6169 6e54 6578 7428 636f 6e74  g.plainText(cont
+00001560: 656e 7429 290a 2020 4461 7461 2073 7563  ent)).  Data suc
+00001570: 6365 7373 6675 6c6c 7920 7570 6461 7465  cessfully update
+00001580: 642e 0a20 202e 2e2e 0a0a 2020 3e3e 3e20  d..  .....  >>> 
+00001590: 7070 7269 6e74 286f 626a 2e73 7562 6f62  pprint(obj.subob
+000015a0: 6a29 0a20 203c 4f62 6a65 6374 5769 6467  j).  <ObjectWidg
+000015b0: 6574 5369 6e67 6c65 5375 6249 6e74 6567  etSingleSubInteg
+000015c0: 7261 7469 6f6e 0a20 2020 2073 696e 676c  ration.    singl
+000015d0: 6542 6f6f 6c3a 2046 616c 7365 0a20 2020  eBool: False.   
+000015e0: 2073 696e 676c 6543 686f 6963 653a 2027   singleChoice: '
+000015f0: 7468 7265 6527 0a20 2020 2073 696e 676c  three'.    singl
+00001600: 6543 686f 6963 654f 7074 3a20 2766 6f75  eChoiceOpt: 'fou
+00001610: 7227 0a20 2020 2073 696e 676c 6544 6174  r'.    singleDat
+00001620: 653a 2064 6174 6574 696d 652e 6461 7465  e: datetime.date
+00001630: 2832 3031 342c 2036 2c20 3231 290a 2020  (2014, 6, 21).  
+00001640: 2020 7369 6e67 6c65 496e 743a 2031 3034    singleInt: 104
+00001650: 320a 2020 2020 7369 6e67 6c65 5265 6164  2.    singleRead
+00001660: 4f6e 6c79 3a20 2773 6f6d 6520 522f 4f20  Only: 'some R/O 
+00001670: 7465 7874 270a 2020 2020 7369 6e67 6c65  text'.    single
+00001680: 5465 7874 4c69 6e65 3a20 2766 6f6f 6261  TextLine: 'fooba
+00001690: 7227 3e0a 0a20 203e 3e3e 2073 7562 6d69  r'>..  >>> submi
+000016a0: 7420 3d20 7465 7374 696e 672e 6765 7453  t = testing.getS
+000016b0: 7562 6d69 7456 616c 7565 7328 636f 6e74  ubmitValues(cont
+000016c0: 656e 7429 0a20 203e 3e3e 2073 7562 6d69  ent).  >>> submi
+000016d0: 745b 2766 6f72 6d2e 7769 6467 6574 732e  t['form.widgets.
+000016e0: 7375 626f 626a 2e77 6964 6765 7473 2e73  subobj.widgets.s
+000016f0: 696e 676c 6542 6f6f 6c27 5d20 3d20 2774  ingleBool'] = 't
+00001700: 7275 6527 0a20 203e 3e3e 2073 7562 6d69  rue'.  >>> submi
+00001710: 745b 2766 6f72 6d2e 6275 7474 6f6e 732e  t['form.buttons.
+00001720: 6170 706c 7927 5d20 3d20 2741 7070 6c79  apply'] = 'Apply
+00001730: 270a 0a20 203e 3e3e 2072 6571 7565 7374  '..  >>> request
+00001740: 203d 2074 6573 7469 6e67 2e54 6573 7452   = testing.TestR
+00001750: 6571 7565 7374 2866 6f72 6d3d 7375 626d  equest(form=subm
+00001760: 6974 290a 0a20 203e 3e3e 2063 6f6e 7465  it)..  >>> conte
+00001770: 6e74 203d 2067 6574 466f 726d 2872 6571  nt = getForm(req
+00001780: 7565 7374 2c20 274f 626a 6563 7457 6964  uest, 'ObjectWid
+00001790: 6765 745f 7369 6e67 6c65 5f65 6469 745f  get_single_edit_
+000017a0: 7375 626d 6974 5f62 6f6f 6c32 2e68 746d  submit_bool2.htm
+000017b0: 6c27 290a 2020 3e3e 3e20 7072 696e 7428  l').  >>> print(
+000017c0: 7465 7374 696e 672e 706c 6169 6e54 6578  testing.plainTex
+000017d0: 7428 636f 6e74 656e 7429 290a 2020 4461  t(content)).  Da
+000017e0: 7461 2073 7563 6365 7373 6675 6c6c 7920  ta successfully 
+000017f0: 7570 6461 7465 642e 0a20 202e 2e2e 0a0a  updated..  .....
+00001800: 2020 3e3e 3e20 7070 7269 6e74 286f 626a    >>> pprint(obj
+00001810: 2e73 7562 6f62 6a29 0a20 203c 4f62 6a65  .subobj).  <Obje
+00001820: 6374 5769 6467 6574 5369 6e67 6c65 5375  ctWidgetSingleSu
+00001830: 6249 6e74 6567 7261 7469 6f6e 0a20 2020  bIntegration.   
+00001840: 2073 696e 676c 6542 6f6f 6c3a 2054 7275   singleBool: Tru
+00001850: 650a 2020 2020 7369 6e67 6c65 4368 6f69  e.    singleChoi
+00001860: 6365 3a20 2774 6872 6565 270a 2020 2020  ce: 'three'.    
+00001870: 7369 6e67 6c65 4368 6f69 6365 4f70 743a  singleChoiceOpt:
+00001880: 2027 666f 7572 270a 2020 2020 7369 6e67   'four'.    sing
+00001890: 6c65 4461 7465 3a20 6461 7465 7469 6d65  leDate: datetime
+000018a0: 2e64 6174 6528 3230 3134 2c20 362c 2032  .date(2014, 6, 2
+000018b0: 3129 0a20 2020 2073 696e 676c 6549 6e74  1).    singleInt
+000018c0: 3a20 3130 3432 0a20 2020 2073 696e 676c  : 1042.    singl
+000018d0: 6552 6561 644f 6e6c 793a 2027 736f 6d65  eReadOnly: 'some
+000018e0: 2052 2f4f 2074 6578 7427 0a20 2020 2073   R/O text'.    s
+000018f0: 696e 676c 6554 6578 744c 696e 653a 2027  ingleTextLine: '
+00001900: 666f 6f62 6172 273e 0a                   foobar'>.
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/objectmulti.rst` & `z3c.form-5.0/src/z3c/form/browser/objectmulti.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/orderedselect.py` & `z3c.form-5.0/src/z3c/form/browser/orderedselect.py`

 * *Files 2% similar despite different names*

```diff
@@ -19,39 +19,40 @@
 import zope.component
 import zope.interface
 import zope.schema
 import zope.schema.interfaces
 from zope.i18n import translate
 
 from z3c.form import interfaces
-from z3c.form.widget import SequenceWidget, FieldWidget
 from z3c.form.browser import widget
+from z3c.form.widget import FieldWidget
+from z3c.form.widget import SequenceWidget
 
 
 @zope.interface.implementer_only(interfaces.IOrderedSelectWidget)
 class OrderedSelectWidget(widget.HTMLSelectWidget, SequenceWidget):
     """Ordered-Select widget implementation."""
 
     size = 5
-    multiple = u'multiple'
+    multiple = 'multiple'
     items = ()
     selectedItems = ()
     notselectedItems = ()
 
     def getItem(self, term, count=0):
         id = '%s-%i' % (self.id, count)
         content = term.value
         if zope.schema.interfaces.ITitledTokenizedTerm.providedBy(term):
             content = translate(
                 term.title, context=self.request, default=term.title)
-        return {'id':id, 'value':term.token, 'content':content}
+        return {'id': id, 'value': term.token, 'content': content}
 
     def update(self):
         """See z3c.form.interfaces.IWidget."""
-        super(OrderedSelectWidget, self).update()
+        super().update()
         widget.addFieldClass(self)
         self.items = [
             self.getItem(term, count)
             for count, term in enumerate(self.terms)]
         self.selectedItems = [
             self.getItem(self.terms.getTermByToken(token), count)
             for count, token in enumerate(self.value)]
@@ -64,27 +65,30 @@
             selecteditems.append(selecteditem['value'])
         for item in self.items:
             if item['value'] not in selecteditems:
                 notselecteditems.append(item)
         return notselecteditems
 
     def json_data(self):
-        data = super(OrderedSelectWidget, self).json_data()
+        data = super().json_data()
         data['options'] = self.items
         data['selected'] = self.selectedItems
         data['notSelected'] = self.notselectedItems
         data['type'] = 'multiSelect'
         return data
 
-@zope.component.adapter(zope.schema.interfaces.ISequence, interfaces.IFormLayer)
+
+@zope.component.adapter(zope.schema.interfaces.ISequence,
+                        interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def OrderedSelectFieldWidget(field, request):
     """IFieldWidget factory for SelectWidget."""
     return FieldWidget(field, OrderedSelectWidget(request))
 
+
 @zope.component.adapter(
     zope.schema.interfaces.ISequence, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def SequenceSelectFieldWidget(field, request):
     """IFieldWidget factory for SelectWidget."""
     return zope.component.getMultiAdapter(
         (field, field.value_type, request), interfaces.IFieldWidget)
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/orderedselect.rst` & `z3c.form-5.0/src/z3c/form/browser/orderedselect.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/orderedselect.zcml` & `z3c.form-5.0/src/z3c/form/browser/orderedselect.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/orderedselect_display.pt` & `z3c.form-5.0/src/z3c/form/browser/orderedselect_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/orderedselect_input.js` & `z3c.form-5.0/src/z3c/form/browser/orderedselect_input.js`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/orderedselect_input.pt` & `z3c.form-5.0/src/z3c/form/browser/orderedselect_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/password.py` & `z3c.form-5.0/src/z3c/form/browser/password.py`

 * *Files 8% similar despite different names*

```diff
@@ -16,23 +16,26 @@
 $Id$
 """
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 import zope.schema.interfaces
 
-from z3c.form import interfaces, widget
+from z3c.form import interfaces
+from z3c.form import widget
 from z3c.form.browser import text
 
+
 @zope.interface.implementer_only(interfaces.IPasswordWidget)
 class PasswordWidget(text.TextWidget):
     """Input type password widget implementation."""
 
-    klass = u'password-widget'
-    css = u'password'
+    klass = 'password-widget'
+    css = 'password'
 
 
-@zope.component.adapter(zope.schema.interfaces.IPassword, interfaces.IFormLayer)
+@zope.component.adapter(zope.schema.interfaces.IPassword,
+                        interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def PasswordFieldWidget(field, request):
     """IFieldWidget factory for IPasswordWidget."""
     return widget.FieldWidget(field, PasswordWidget(request))
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/password.rst` & `z3c.form-5.0/src/z3c/form/browser/password.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/password.zcml` & `z3c.form-5.0/src/z3c/form/browser/password.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/password_display.pt` & `z3c.form-5.0/src/z3c/form/browser/password_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/password_input.pt` & `z3c.form-5.0/src/z3c/form/browser/password_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/radio.py` & `z3c.form-5.0/src/z3c/form/browser/radio.py`

 * *Files 4% similar despite different names*

```diff
@@ -18,28 +18,30 @@
 __docformat__ = "reStructuredText"
 
 import zope.component
 import zope.interface
 import zope.schema
 import zope.schema.interfaces
 from zope.i18n import translate
-from zope.schema.vocabulary import SimpleTerm
 from zope.pagetemplate.interfaces import IPageTemplate
+from zope.schema.vocabulary import SimpleTerm
 
-from z3c.form import interfaces, util
-from z3c.form.widget import SequenceWidget, FieldWidget
+from z3c.form import interfaces
+from z3c.form import util
 from z3c.form.browser import widget
+from z3c.form.widget import FieldWidget
+from z3c.form.widget import SequenceWidget
 
 
 @zope.interface.implementer_only(interfaces.IRadioWidget)
 class RadioWidget(widget.HTMLInputWidget, SequenceWidget):
     """Input type radio widget implementation."""
 
-    klass = u'radio-widget'
-    css = u'radio'
+    klass = 'radio-widget'
+    css = 'radio'
 
     def isChecked(self, term):
         return term.token in self.value
 
     def renderForValue(self, value):
         terms = list(self.terms)
         try:
@@ -75,19 +77,19 @@
             else:
                 label = util.toUnicode(term.value)
             yield {'id': id, 'name': self.name, 'value': term.token,
                    'label': label, 'checked': checked}
 
     def update(self):
         """See z3c.form.interfaces.IWidget."""
-        super(RadioWidget, self).update()
+        super().update()
         widget.addFieldClass(self)
 
     def json_data(self):
-        data = super(RadioWidget, self).json_data()
+        data = super().json_data()
         data['options'] = list(self.items)
         data['type'] = 'radio'
         return data
 
 
 @zope.component.adapter(zope.schema.interfaces.IField, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/radio.rst` & `z3c.form-5.0/src/z3c/form/browser/radio.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/radio.zcml` & `z3c.form-5.0/src/z3c/form/browser/radio.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/radio_display.pt` & `z3c.form-5.0/src/z3c/form/browser/radio_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/radio_display_single.pt` & `z3c.form-5.0/src/z3c/form/browser/radio_display_single.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/radio_hidden_single.pt` & `z3c.form-5.0/src/z3c/form/browser/radio_hidden_single.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/radio_input.pt` & `z3c.form-5.0/src/z3c/form/browser/radio_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/radio_input_single.pt` & `z3c.form-5.0/src/z3c/form/browser/radio_input_single.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/select-missing-terms.rst` & `z3c.form-5.0/src/z3c/form/browser/select-missing-terms.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/select-source.rst` & `z3c.form-5.0/src/z3c/form/browser/select-source.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/select.py` & `z3c.form-5.0/src/z3c/form/browser/select.py`

 * *Files 2% similar despite different names*

```diff
@@ -19,40 +19,41 @@
 import zope.component
 import zope.interface
 import zope.schema
 import zope.schema.interfaces
 from zope.i18n import translate
 
 from z3c.form import interfaces
-from z3c.form.i18n import MessageFactory as _
-from z3c.form.widget import SequenceWidget, FieldWidget
 from z3c.form.browser import widget
+from z3c.form.i18n import MessageFactory as _
+from z3c.form.widget import FieldWidget
+from z3c.form.widget import SequenceWidget
 
 
 @zope.interface.implementer_only(interfaces.ISelectWidget)
 class SelectWidget(widget.HTMLSelectWidget, SequenceWidget):
     """Select widget implementation."""
 
-    klass = u'select-widget'
-    css = u'select'
+    klass = 'select-widget'
+    css = 'select'
     prompt = False
 
     noValueMessage = _('No value')
     promptMessage = _('Select a value ...')
 
     # Internal attributes
     _adapterValueAttributes = SequenceWidget._adapterValueAttributes + \
         ('noValueMessage', 'promptMessage', 'prompt')
 
     def isSelected(self, term):
         return term.token in self.value
 
     def update(self):
         """See z3c.form.interfaces.IWidget."""
-        super(SelectWidget, self).update()
+        super().update()
         widget.addFieldClass(self)
 
     @property
     def items(self):
         if self.terms is None:  # update() has not been called yet
             return ()
         items = []
@@ -61,15 +62,15 @@
             if self.prompt:
                 message = self.promptMessage
             items.append({
                 'id': self.id + '-novalue',
                 'value': self.noValueToken,
                 'content': message,
                 'selected': self.value in ((), [])
-                })
+            })
 
         ignored = set(self.value)
 
         def addItem(idx, term, prefix=''):
             selected = self.isSelected(term)
             if selected and term.token in ignored:
                 ignored.remove(term.token)
@@ -82,27 +83,28 @@
                 {'id': id, 'value': term.token, 'content': content,
                  'selected': selected})
 
         for idx, term in enumerate(self.terms):
             addItem(idx, term)
 
         if ignored:
-            # some values are not displayed, probably they went away from the vocabulary
+            # some values are not displayed, probably they went away from the
+            # vocabulary
             for idx, token in enumerate(sorted(ignored)):
                 try:
                     term = self.terms.getTermByToken(token)
                 except LookupError:
                     # just in case the term really went away
                     continue
 
                 addItem(idx, term, prefix='missing-')
         return items
 
     def json_data(self):
-        data = super(SelectWidget, self).json_data()
+        data = super().json_data()
         data['options'] = self.items
         data['type'] = 'select'
         return data
 
 
 @zope.component.adapter(zope.schema.interfaces.IChoice, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
@@ -128,15 +130,15 @@
 
 @zope.component.adapter(
     zope.schema.interfaces.IUnorderedCollection, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def CollectionSelectFieldWidget(field, request):
     """IFieldWidget factory for SelectWidget."""
     widget = zope.component.getMultiAdapter((field, field.value_type, request),
-        interfaces.IFieldWidget)
+                                            interfaces.IFieldWidget)
     widget.size = 5
     widget.multiple = 'multiple'
     return widget
 
 
 @zope.component.adapter(
     zope.schema.interfaces.IUnorderedCollection,
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/select.rst` & `z3c.form-5.0/src/z3c/form/browser/select.rst`

 * *Files 0% similar despite different names*

```diff
@@ -203,30 +203,30 @@
 ########################
 
 Additionally to the standard dynamic attribute values, the select widget also
 allows dynamic values for the "No value message". Initially, we have the
 default message:
 
   >>> widget.noValueMessage
-  u'No value'
+  'No value'
 
 Let's now register an attribute value:
 
   >>> from z3c.form.widget import StaticWidgetAttribute
-  >>> NoValueMessage = StaticWidgetAttribute(u'- nothing -')
+  >>> NoValueMessage = StaticWidgetAttribute('- nothing -')
 
   >>> import zope.component
   >>> zope.component.provideAdapter(NoValueMessage, name='noValueMessage')
 
 After updating the widget, the no value message changed to the value provided
 by the adapter:
 
   >>> widget.update()
   >>> widget.noValueMessage
-  u'- nothing -'
+  '- nothing -'
 
 Select json_data representation:
   >>> from pprint import pprint
   >>> pprint(widget.json_data())
   {'error': '',
    'id': 'widget-id',
    'label': '',
@@ -292,26 +292,26 @@
          value="1" />
 
 Since the prompy uses the "No value" as the value for the selection, all
 behavior is identical to selecting "No value". As for the no-value message,
 the prompt message, which is available under
 
   >>> widget.promptMessage
-  u'Select a value ...'
+  'Select a value ...'
 
 can also be changed using an attribute value adapter:
 
-  >>> PromptMessage = StaticWidgetAttribute(u'Please select a value')
+  >>> PromptMessage = StaticWidgetAttribute('Please select a value')
   >>> zope.component.provideAdapter(PromptMessage, name='promptMessage')
 
 So after updating the widget you have the custom value:
 
   >>> widget.update()
   >>> widget.promptMessage
-  u'Please select a value'
+  'Please select a value'
 
 Additionally, the select widget also allows dynamic value for the ``prompt``
 attribute . Initially, value is ``False``:
 
   >>> widget.prompt = False
   >>> widget.prompt
   False
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/select.zcml` & `z3c.form-5.0/src/z3c/form/browser/select.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/select_display.pt` & `z3c.form-5.0/src/z3c/form/browser/select_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/select_hidden.pt` & `z3c.form-5.0/src/z3c/form/browser/select_hidden.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/select_input.pt` & `z3c.form-5.0/src/z3c/form/browser/select_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/submit.py` & `z3c.form-5.0/src/z3c/form/browser/submit.py`

 * *Files 7% similar despite different names*

```diff
@@ -16,30 +16,30 @@
 $Id$
 """
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 
 from z3c.form import interfaces
-from z3c.form.widget import FieldWidget
 from z3c.form.browser import button
+from z3c.form.widget import FieldWidget
 
 
 @zope.interface.implementer_only(interfaces.ISubmitWidget)
 class SubmitWidget(button.ButtonWidget):
     """A submit button of a form."""
 
-    klass = u'submit-widget'
-    css = u'submit'
+    klass = 'submit-widget'
+    css = 'submit'
 
     def json_data(self):
-        data = super(SubmitWidget, self).json_data()
+        data = super().json_data()
         data['type'] = 'submit'
         return data
 
-    
+
 @zope.component.adapter(interfaces.IButton, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def SubmitFieldWidget(field, request):
     submit = FieldWidget(field, SubmitWidget(request))
     submit.value = field.title
     return submit
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/submit.rst` & `z3c.form-5.0/src/z3c/form/browser/submit.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/submit.zcml` & `z3c.form-5.0/src/z3c/form/browser/submit.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/submit_input.pt` & `z3c.form-5.0/src/z3c/form/browser/submit_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/tests.py` & `z3c.form-5.0/src/z3c/form/browser/tests.py`

 * *Files 2% similar despite different names*

```diff
@@ -12,29 +12,30 @@
 #
 ##############################################################################
 """
 $Id$
 """
 __docformat__ = "reStructuredText"
 
-from doctest import DocFileSuite
 import doctest
 import itertools
-import re
 import unittest
+from doctest import DocFileSuite
 
 from z3c.form import testing
 
+
 Z3CPT_AVAILABLE = False
 try:
     import z3c.pt
-    import z3c.ptcompat
+    import z3c.ptcompat  # noqa: F401 imported but unused
 except ImportError:
     Z3CPT_AVAILABLE = False
 
+
 def test_suite():
     flags = \
         doctest.NORMALIZE_WHITESPACE | \
         doctest.ELLIPSIS | \
         doctest.IGNORE_EXCEPTION_DETAIL
 
     # This package will setup z3c.pt support for testing by default.
@@ -142,10 +143,10 @@
                      setUp=testing.setUpIntegration, tearDown=testing.tearDown,
                      optionflags=flags, checker=testing.outputChecker,
                      ),
         DocFileSuite('multi_list_integration.rst',
                      setUp=testing.setUpIntegration, tearDown=testing.tearDown,
                      optionflags=flags, checker=testing.outputChecker,
                      ),
-        )
+    )
 
     return unittest.TestSuite(tuple(itertools.chain(*tests)) + integtests)
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/text.py` & `z3c.form-5.0/src/z3c/form/browser/text.py`

 * *Files 13% similar despite different names*

```diff
@@ -17,27 +17,29 @@
 """
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 import zope.schema.interfaces
 
 from z3c.form import interfaces
-from z3c.form.widget import Widget, FieldWidget
 from z3c.form.browser import widget
+from z3c.form.widget import FieldWidget
+from z3c.form.widget import Widget
+
 
 @zope.interface.implementer_only(interfaces.ITextWidget)
 class TextWidget(widget.HTMLTextInputWidget, Widget):
     """Input type text widget implementation."""
 
-    klass = u'text-widget'
-    css = u'text'
-    value = u''
+    klass = 'text-widget'
+    css = 'text'
+    value = ''
 
     def update(self):
-        super(TextWidget, self).update()
+        super().update()
         widget.addFieldClass(self)
 
 
 @zope.component.adapter(zope.schema.interfaces.IField, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def TextFieldWidget(field, request):
     """IFieldWidget factory for TextWidget."""
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/text.rst` & `z3c.form-5.0/src/z3c/form/browser/text.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/text.zcml` & `z3c.form-5.0/src/z3c/form/browser/text.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/text_display.pt` & `z3c.form-5.0/src/z3c/form/browser/text_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/text_input.pt` & `z3c.form-5.0/src/z3c/form/browser/text_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textarea.py` & `z3c.form-5.0/src/z3c/form/browser/textarea.py`

 * *Files 16% similar despite different names*

```diff
@@ -17,32 +17,33 @@
 """
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 import zope.schema.interfaces
 
 from z3c.form import interfaces
-from z3c.form.widget import Widget, FieldWidget
 from z3c.form.browser import widget
+from z3c.form.widget import FieldWidget
+from z3c.form.widget import Widget
 
 
 @zope.interface.implementer_only(interfaces.ITextAreaWidget)
 class TextAreaWidget(widget.HTMLTextAreaWidget, Widget):
     """Textarea widget implementation."""
 
-    klass = u'textarea-widget'
-    css = u'textarea'
-    value = u''
+    klass = 'textarea-widget'
+    css = 'textarea'
+    value = ''
 
     def update(self):
-        super(TextAreaWidget, self).update()
+        super().update()
         widget.addFieldClass(self)
 
     def json_data(self):
-        data = super(TextAreaWidget, self).json_data()
+        data = super().json_data()
         data['type'] = 'textarea'
         return data
 
 
 @zope.component.adapter(zope.schema.interfaces.IField, interfaces.IFormLayer)
 @zope.interface.implementer(interfaces.IFieldWidget)
 def TextAreaFieldWidget(field, request):
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/textarea.rst` & `z3c.form-5.0/src/z3c/form/browser/textarea.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textarea.zcml` & `z3c.form-5.0/src/z3c/form/browser/textarea.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textarea_display.pt` & `z3c.form-5.0/src/z3c/form/browser/textarea_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textarea_input.pt` & `z3c.form-5.0/src/z3c/form/browser/textarea_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textlines.py` & `z3c.form-5.0/src/z3c/form/browser/textlines.py`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textlines.rst` & `z3c.form-5.0/src/z3c/form/browser/textlines.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textlines.zcml` & `z3c.form-5.0/src/z3c/form/browser/textlines.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textlines_display.pt` & `z3c.form-5.0/src/z3c/form/browser/textlines_display.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/textlines_input.pt` & `z3c.form-5.0/src/z3c/form/browser/textlines_input.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/widget.py` & `z3c.form-5.0/src/z3c/form/browser/widget.py`

 * *Files 2% similar despite different names*

```diff
@@ -7,45 +7,37 @@
 # Version 2.1 (ZPL).  A copy of the ZPL should accompany this distribution.
 # THIS SOFTWARE IS PROVIDED "AS IS" AND ANY AND ALL EXPRESS OR IMPLIED
 # WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 # WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS
 # FOR A PARTICULAR PURPOSE.
 #
 ##############################################################################
-"""Widget Framework Implementation
-
-$Id$
-"""
+"""Widget Framework Implementation."""
 __docformat__ = "reStructuredText"
 import zope.interface
 from zope.schema.fieldproperty import FieldProperty
 
+from z3c.form.browser import interfaces
 from z3c.form.interfaces import INPUT_MODE
 from z3c.form.interfaces import IFieldWidget
-from z3c.form.browser import interfaces
 
-try:
-    unicode
-except NameError:
-    # Py3: Define unicode.
-    unicode = str
 
-class WidgetLayoutSupport(object):
+class WidgetLayoutSupport:
     """Widget layout support"""
 
     def wrapCSSClass(self, klass, pattern='%(class)s'):
         """Return a list of css class names wrapped with given pattern"""
         if klass is not None and pattern is not None:
             return [pattern % {'class': k} for k in klass.split()]
         else:
             return []
 
     def getCSSClass(self, klass=None, error=None, required=None,
-        classPattern='%(class)s', errorPattern='%(class)s-error',
-        requiredPattern='%(class)s-required'):
+                    classPattern='%(class)s', errorPattern='%(class)s-error',
+                    requiredPattern='%(class)s-required'):
         """Setup given css class (klass) with error and required postfix
 
         If no klass name is given the widget.wrapper class name/names get used.
         It is also possible if more then one (empty space separated) names
         are given as klass argument.
 
         This method can get used from your form or widget template or widget
@@ -146,33 +138,32 @@
     onfocus = FieldProperty(interfaces.IHTMLFormElement['onfocus'])
     onblur = FieldProperty(interfaces.IHTMLFormElement['onblur'])
     onchange = FieldProperty(interfaces.IHTMLFormElement['onchange'])
 
     # layout support
     css = FieldProperty(interfaces.IHTMLFormElement['css'])
 
-    def addClass(self, klass):
-        """See interfaces.IHTMLFormElement"""
+    def addClass(self, klass: str):
+        """Add a class to the HTML element.
+
+        See interfaces.IHTMLFormElement.
+        """
         if not self.klass:
-            self.klass = unicode(klass)
+            self.klass = str(klass)
         else:
-            #make sure items are not repeated
-            parts = self.klass.split()+[unicode(klass)]
-            seen = {}
-            unique = []
-            for item in parts:
-                if item in seen:
-                    continue
-                seen[item]=1
-                unique.append(item)
-            self.klass = u' '.join(unique)
+            # make sure items are not repeated
+            parts = self.klass.split() + klass.split()
+            # Remove duplicates and keep order.
+            # Dictionaries are ordered in Python 3.7+
+            parts = list(dict.fromkeys(parts))
+            self.klass = " ".join(parts)
 
     def update(self):
         """See z3c.form.interfaces.IWidget"""
-        super(HTMLFormElement, self).update()
+        super().update()
         if self.mode == INPUT_MODE and self.required:
             self.addClass('required')
 
 
 @zope.interface.implementer(interfaces.IHTMLInputWidget)
 class HTMLInputWidget(HTMLFormElement):
 
@@ -184,15 +175,16 @@
 
 @zope.interface.implementer(interfaces.IHTMLTextInputWidget)
 class HTMLTextInputWidget(HTMLInputWidget):
 
     size = FieldProperty(interfaces.IHTMLTextInputWidget['size'])
     maxlength = FieldProperty(interfaces.IHTMLTextInputWidget['maxlength'])
     placeholder = FieldProperty(interfaces.IHTMLTextInputWidget['placeholder'])
-    autocapitalize = FieldProperty(interfaces.IHTMLTextInputWidget['autocapitalize'])
+    autocapitalize = FieldProperty(
+        interfaces.IHTMLTextInputWidget['autocapitalize'])
 
 
 @zope.interface.implementer(interfaces.IHTMLTextAreaWidget)
 class HTMLTextAreaWidget(HTMLFormElement):
 
     rows = FieldProperty(interfaces.IHTMLTextAreaWidget['rows'])
     cols = FieldProperty(interfaces.IHTMLTextAreaWidget['cols'])
@@ -210,9 +202,9 @@
 
 def addFieldClass(widget):
     """Add a class to the widget that is based on the field type name.
 
     If the widget does not have field, then nothing is done.
     """
     if IFieldWidget.providedBy(widget):
-        klass = unicode(widget.field.__class__.__name__.lower() + '-field')
+        klass = str(widget.field.__class__.__name__.lower() + '-field')
         widget.addClass(klass)
```

### Comparing `z3c.form-4.3/src/z3c/form/browser/widget.zcml` & `z3c.form-5.0/src/z3c/form/browser/widget.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/browser/widget_layout.pt` & `z3c.form-5.0/src/z3c/form/browser/widget_layout.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/button.py` & `z3c.form-5.0/src/z3c/form/button.py`

 * *Files 3% similar despite different names*

```diff
@@ -12,34 +12,39 @@
 #
 ##############################################################################
 """Button and Button Manager implementation
 
 """
 __docformat__ = "reStructuredText"
 import sys
+
 import zope.event
 import zope.interface
 import zope.location
 import zope.schema
 import zope.traversing.api
-
 from zope.component import hooks
 from zope.interface import adapter
 from zope.schema.fieldproperty import FieldProperty
-from z3c.form import action, interfaces, util, value
-from z3c.form.browser import image, submit
+
+from z3c.form import action
+from z3c.form import interfaces
+from z3c.form import util
+from z3c.form import value
+from z3c.form.browser import image
+from z3c.form.browser import submit
 from z3c.form.widget import AfterWidgetUpdateEvent
 
 
 StaticButtonActionAttribute = value.StaticValueCreator(
-    discriminators = ('form', 'request', 'content', 'button', 'manager')
-    )
+    discriminators=('form', 'request', 'content', 'button', 'manager')
+)
 ComputedButtonActionAttribute = value.ComputedValueCreator(
-    discriminators = ('form', 'request', 'content', 'button', 'manager')
-    )
+    discriminators=('form', 'request', 'content', 'button', 'manager')
+)
 
 
 @zope.interface.implementer(interfaces.IButton)
 class Button(zope.schema.Field):
     """A simple button in a form."""
 
     accessKey = FieldProperty(interfaces.IButton['accessKey'])
@@ -53,33 +58,33 @@
         if 'name' in kwargs:
             kwargs['__name__'] = kwargs['name']
             del kwargs['name']
         # Extract button-specific arguments
         self.accessKey = kwargs.pop('accessKey', None)
         self.condition = kwargs.pop('condition', None)
         # Initialize the button
-        super(Button, self).__init__(*args, **kwargs)
+        super().__init__(*args, **kwargs)
 
     def __repr__(self):
-        return '<%s %r %r>' %(
+        return '<{} {!r} {!r}>'.format(
             self.__class__.__name__, self.__name__, self.title)
 
 
 @zope.interface.implementer(interfaces.IImageButton)
 class ImageButton(Button):
     """A simple image button in a form."""
 
     image = FieldProperty(interfaces.IImageButton['image'])
 
     def __init__(self, image=None, *args, **kwargs):
         self.image = image
-        super(ImageButton, self).__init__(*args, **kwargs)
+        super().__init__(*args, **kwargs)
 
     def __repr__(self):
-        return '<%s %r %r>' %(
+        return '<{} {!r} {!r}>'.format(
             self.__class__.__name__, self.__name__, self.image)
 
 
 @zope.interface.implementer(interfaces.IButtons)
 class Buttons(util.SelectionManager):
     """Button manager."""
 
@@ -97,19 +102,19 @@
                 buttons += arg.items()
             elif interfaces.IButton.providedBy(arg):
                 if not arg.__name__:
                     arg.__name__ = util.createId(arg.title)
                 buttons.append((arg.__name__, arg))
             else:
                 raise TypeError("Unrecognized argument type", arg)
-        super(Buttons, self).__init__(buttons)
+        super().__init__(buttons)
 
 
 @zope.interface.implementer(interfaces.IButtonHandlers)
-class Handlers(object):
+class Handlers:
     """Action Handlers for a Button-based form."""
 
     def __init__(self):
         self._registry = adapter.AdapterRegistry()
         self._handlers = ()
 
     def addHandler(self, button, handler):
@@ -122,15 +127,16 @@
         self._registry.register(
             (buttonSpec,), interfaces.IButtonHandler, '', handler)
         self._handlers += ((button, handler),)
 
     def getHandler(self, button):
         """See interfaces.IButtonHandlers"""
         buttonProvided = zope.interface.providedBy(button)
-        return self._registry.lookup1(buttonProvided, interfaces.IButtonHandler)
+        return self._registry.lookup1(
+            buttonProvided, interfaces.IButtonHandler)
 
     def copy(self):
         """See interfaces.IButtonHandlers"""
         handlers = Handlers()
         for button, handler in self._handlers:
             handlers.addHandler(button, handler)
         return handlers
@@ -141,29 +147,31 @@
             raise NotImplementedError
         handlers = self.copy()
         for button, handler in other._handlers:
             handlers.addHandler(button, handler)
         return handlers
 
     def __repr__(self):
-        return '<Handlers %r>' %[handler for button, handler in self._handlers]
+        return '<Handlers %r>' % [
+            handler for button,
+            handler in self._handlers]
 
 
 @zope.interface.implementer(interfaces.IButtonHandler)
-class Handler(object):
+class Handler:
 
     def __init__(self, button, func):
         self.button = button
         self.func = func
 
     def __call__(self, form, action):
         return self.func(form, action)
 
     def __repr__(self):
-        return '<%s for %r>' %(self.__class__.__name__, self.button)
+        return '<{} for {!r}>'.format(self.__class__.__name__, self.button)
 
 
 def handler(button):
     """A decorator for defining a success handler."""
     def createHandler(func):
         handler = Handler(button, func)
         frame = sys._getframe(1)
@@ -180,15 +188,15 @@
     # Extract directly provided interfaces:
     provides = kwargs.pop('provides', ())
     # Create button and add it to the button manager
     button = Button(**kwargs)
     zope.interface.alsoProvides(button, provides)
     frame = sys._getframe(1)
     f_locals = frame.f_locals
-    buttons = f_locals.setdefault('buttons', Buttons())
+    f_locals.setdefault('buttons', Buttons())
     f_locals['buttons'] += Buttons(button)
     # Return the handler decorator
     return handler(button)
 
 
 @zope.interface.implementer(interfaces.IButtonAction)
 class ButtonAction(action.Action, submit.SubmitWidget, zope.location.Location):
@@ -244,15 +252,16 @@
         prefix += util.expandPrefix(self.form.buttons.prefix)
         # Walk through each field, making an action out of it.
         d = {}
         d.update(self)
         for name, button in self.form.buttons.items():
             # Step 1: Only create an action for the button, if the condition is
             #         fulfilled.
-            if button.condition is not None and not button.condition(self.form):
+            if button.condition is not None and not button.condition(
+                    self.form):
                 # Step 1.1: If the action already existed, but now the
                 #           condition became false, remove the old action.
                 if name in d:
                     del d[name]
                 continue
             # Step 2: Get the action for the given button.
             newButton = True
@@ -271,25 +280,27 @@
                 (self.form, self.request, self.content, button, self),
                 interfaces.IValue, name='title')
             if title is not None:
                 buttonAction.title = title.get()
             # Step 5: Set the form
             buttonAction.form = self.form
             if not interfaces.IFormAware.providedBy(buttonAction):
-                zope.interface.alsoProvides(buttonAction, interfaces.IFormAware)
+                zope.interface.alsoProvides(
+                    buttonAction, interfaces.IFormAware)
             # Step 6: Update the new action
             buttonAction.update()
             zope.event.notify(AfterWidgetUpdateEvent(buttonAction))
             # Step 7: Add the widget to the manager
             if newButton:
                 d[name] = buttonAction
                 zope.location.locate(buttonAction, self, name)
 
         self.create_according_to_list(d, self.form.buttons.keys())
 
+
 class ButtonActionHandler(action.ActionHandlerBase):
     zope.component.adapts(
         interfaces.IHandlerForm,
         zope.interface.Interface,
         zope.interface.Interface,
         ButtonAction)
```

### Comparing `z3c.form-4.3/src/z3c/form/button.rst` & `z3c.form-5.0/src/z3c/form/button.rst`

 * *Files 2% similar despite different names*

```diff
@@ -16,16 +16,16 @@
 Let's now create a schema that describes the buttons of a form. Having button
 schemas allows one to more easily reuse button declarations and to group them
 logically. ``Button`` objects are just a simple extension to ``Field``
 objects, so they behave identical within a schema:
 
   >>> import zope.interface
   >>> class IButtons(zope.interface.Interface):
-  ...     apply = button.Button(title=u'Apply')
-  ...     cancel = button.Button(title=u'Cancel')
+  ...     apply = button.Button(title='Apply')
+  ...     cancel = button.Button(title='Cancel')
 
 In reality, only the title and name is relevant. Let's now create a form that
 provides those buttons.
 
   >>> from z3c.form import interfaces
   >>> @zope.interface.implementer(
   ...     interfaces.IButtonForm, interfaces.IHandlerForm)
@@ -63,15 +63,15 @@
 Once the action manager is updated, the buttons should be available as
 actions:
 
   >>> list(actions.keys())
   ['apply', 'cancel']
 
   >>> actions['apply']
-  <ButtonAction 'form.buttons.apply' u'Apply'>
+  <ButtonAction 'form.buttons.apply' 'Apply'>
 
 It is possible to customize how a button is transformed into an action
 by registering an adapter for the request and the button that provides
 ``IButtonAction``.
 
   >>> import zope.component
   >>> from zope.publisher.interfaces.browser import IBrowserRequest
@@ -93,29 +93,29 @@
 As you can see we still will get the old button action if we only call update:
 
   >>> actions.update()
   >>> list(actions.keys())
   ['apply', 'cancel']
 
   >>> actions['apply']
-  <ButtonAction 'form.buttons.apply' u'Apply'>
+  <ButtonAction 'form.buttons.apply' 'Apply'>
 
 This means we have to remove the previous action before we call update:
 
   >>> del actions['apply']
   >>> actions.update()
 
 Make sure we do not append a button twice to the key and value lists by calling
 update twice:
 
   >>> list(actions.keys())
   ['apply', 'cancel']
 
   >>> actions['apply']
-  <CustomButtonAction 'form.buttons.apply' u'Apply'>
+  <CustomButtonAction 'form.buttons.apply' 'Apply'>
 
 Alternatively, customize an individual button by setting its
 actionFactory attribute.
 
   >>> def customButtonActionFactory(request, field):
   ...     print("This button factory creates a button only once.")
   ...     button = CustomButtonAction(request, field)
@@ -239,15 +239,15 @@
 some buttons. A faster method is to write simple arguments to the button
 manager:
 
   >>> @zope.interface.implementer(
   ...     interfaces.IButtonForm, interfaces.IHandlerForm)
   ... class Form(object):
   ...     buttons = button.Buttons(
-  ...         button.Button('apply', title=u'Apply'))
+  ...         button.Button('apply', title='Apply'))
   ...     prefix = 'form.'
   ...
   ...     @button.handler(buttons['apply'])
   ...     def apply(self, action):
   ...         print('successfully applied')
 
 The first argument of the ``Button`` class constructor is the name of the
@@ -256,34 +256,34 @@
   >>> button.Button(name='apply').__name__
   'apply'
   >>> button.Button(__name__='apply').__name__
   'apply'
 
 If no name is specified, the button will not have a name immediately, ...
 
-  >>> button.Button(title=u'Apply').__name__
+  >>> button.Button(title='Apply').__name__
   ''
 
 because if the button is created within an interface, the name is assigned
 later:
 
   >>> class IActions(zope.interface.Interface):
-  ...    apply = button.Button(title=u'Apply')
+  ...    apply = button.Button(title='Apply')
 
   >>> IActions['apply'].__name__
   'apply'
 
 However, once the button is added to a button manager, a name will be
 assigned:
 
-  >>> btns = button.Buttons(button.Button(title=u'Apply'))
+  >>> btns = button.Buttons(button.Button(title='Apply'))
   >>> btns['apply'].__name__
   'apply'
 
-  >>> btns = button.Buttons(button.Button(title=u'Apply and more'))
+  >>> btns = button.Buttons(button.Button(title='Apply and more'))
   >>> btns['4170706c7920616e64206d6f7265'].__name__
   '4170706c7920616e64206d6f7265'
 
 This declaration behaves identical to the one before:
 
   >>> form = Form()
   >>> request = TestRequest()
@@ -304,15 +304,15 @@
 to create the button and handler at the same time:
 
   >>> @zope.interface.implementer(
   ...     interfaces.IButtonForm, interfaces.IHandlerForm)
   ... class Form(object):
   ...     prefix = 'form.'
   ...
-  ...     @button.buttonAndHandler(u'Apply')
+  ...     @button.buttonAndHandler('Apply')
   ...     def apply(self, action):
   ...         print('successfully applied')
 
 In this case the ``buttonAndHandler`` decorator creates a button and a handler
 for it. By default the name is computed from the title of the button, which is
 required. All (keyword) arguments are forwarded to the button
 constructor. Let's now render the form:
@@ -324,27 +324,27 @@
   successfully applied
 
 If the title is a more complex string, then the name of the button becomes a
 hex-encoded string:
 
   >>> class Form(object):
   ...
-  ...     @button.buttonAndHandler(u'Apply and Next')
+  ...     @button.buttonAndHandler('Apply and Next')
   ...     def apply(self, action):
   ...         print('successfully applied')
 
   >>> list(Form.buttons.keys())
   ['4170706c7920616e64204e657874']
 
 Of course, you can use the ``__name__`` argument to specify a name
 yourself. The decorator, however, also allows the keyword ``name``:
 
   >>> class Form(object):
   ...
-  ...     @button.buttonAndHandler(u'Apply and Next', name='applyNext')
+  ...     @button.buttonAndHandler('Apply and Next', name='applyNext')
   ...     def apply(self, action):
   ...         print('successfully applied')
 
   >>> list(Form.buttons.keys())
   ['applyNext']
 
 This helper function also supports a keyword argument ``provides``, which
@@ -353,15 +353,15 @@
 multitude of things, including handler discrimination and UI layout:
 
   >>> class IMyButton(zope.interface.Interface):
   ...    pass
 
   >>> class Form(object):
   ...
-  ...     @button.buttonAndHandler(u'Apply', provides=(IMyButton,))
+  ...     @button.buttonAndHandler('Apply', provides=(IMyButton,))
   ...     def apply(self, action):
   ...         print('successfully applied')
 
   >>> IMyButton.providedBy(Form.buttons['apply'])
   True
 
 
@@ -375,15 +375,15 @@
 be converted to an action:
 
   >>> class Form(object):
   ...     prefix = 'form'
   ...     showApply = True
   ...
   ...     @button.buttonAndHandler(
-  ...         u'Apply', condition=lambda form: form.showApply)
+  ...         'Apply', condition=lambda form: form.showApply)
   ...     def apply(self, action):
   ...         print('successfully applied')
 
 In this case a form variable specifies the availability. Initially the button
 is available as action:
 
   >>> myform = Form()
@@ -411,39 +411,39 @@
 actions without altering any original code. Again we will be using attribute
 value adapters to complete the task. Originally, our title is as follows:
 
   >>> myform = Form()
   >>> actions = button.ButtonActions(myform, TestRequest(), None)
   >>> actions.update()
   >>> actions['apply'].title
-  u'Apply'
+  'Apply'
 
 Let's now create a custom label for the action:
 
   >>> ApplyLabel = button.StaticButtonActionAttribute(
-  ...     u'Apply now', button=myform.buttons['apply'])
+  ...     'Apply now', button=myform.buttons['apply'])
   >>> zope.component.provideAdapter(ApplyLabel, name='title')
 
 Once the button action manager is updated, the new title is chosen:
 
   >>> actions.update()
   >>> actions['apply'].title
-  u'Apply now'
+  'Apply now'
 
 
 The Button Manager
 ------------------
 
 The button manager contains several additional API methods that make the
 management of buttons easy.
 
 First, you are able to add button managers:
 
   >>> bm1 = button.Buttons(IButtons)
-  >>> bm2 = button.Buttons(button.Button('help', title=u'Help'))
+  >>> bm2 = button.Buttons(button.Button('help', title='Help'))
 
   >>> bm1 + bm2
   Buttons([...])
   >>> list(bm1 + bm2)
   ['apply', 'cancel', 'help']
 
 The result of the addition is another button manager. Also note that the order
@@ -499,25 +499,25 @@
 
 All handlers of a form are collected in the ``handlers`` attribute, which is a
 ``Handlers`` instance:
 
   >>> isinstance(form.handlers, button.Handlers)
   True
   >>> form.handlers
-  <Handlers [<Handler for <Button 'apply' u'Apply'>>]>
+  <Handlers [<Handler for <Button 'apply' 'Apply'>>]>
 
 Internally the object uses an adapter registry to manage the handlers for
 buttons. If a handler is registered for a button, it simply behaves as an
 instance-adapter.
 
 The object itself is pretty simple. You can get a handler as follows:
 
   >>> apply = form.buttons['apply']
   >>> form.handlers.getHandler(apply)
-  <Handler for <Button 'apply' u'Apply'>>
+  <Handler for <Button 'apply' 'Apply'>>
 
 But you can also register handlers for groups of buttons, either by interface
 or class:
 
   >>> class SpecialButton(button.Button):
   ...     pass
 
@@ -525,21 +525,21 @@
   ...     return 'Special button action'
 
   >>> form.handlers.addHandler(
   ...     SpecialButton, button.Handler(SpecialButton, handleSpecialButton))
 
   >>> form.handlers
   <Handlers
-      [<Handler for <Button 'apply' u'Apply'>>,
+      [<Handler for <Button 'apply' 'Apply'>>,
        <Handler for <class 'SpecialButton'>>]>
 
 Now all special buttons should use that handler:
 
-  >>> button1 = SpecialButton(name='button1', title=u'Button 1')
-  >>> button2 = SpecialButton(name='button2', title=u'Button 2')
+  >>> button1 = SpecialButton(name='button1', title='Button 1')
+  >>> button2 = SpecialButton(name='button2', title='Button 2')
 
   >>> form.handlers.getHandler(button1)(form, None)
   'Special button action'
   >>> form.handlers.getHandler(button2)(form, None)
   'Special button action'
 
 However, registering a more specific handler for button 1 will override the
@@ -556,24 +556,24 @@
   >>> form.handlers.getHandler(button2)(form, None)
   'Special button action'
 
 You can also add handlers objects:
 
   >>> handlers2 = button.Handlers()
 
-  >>> button3 = SpecialButton(name='button3', title=u'Button 3')
+  >>> button3 = SpecialButton(name='button3', title='Button 3')
   >>> handlers2.addHandler(
   ...     button3, button.Handler(button3, None))
 
   >>> form.handlers + handlers2
   <Handlers
-      [<Handler for <Button 'apply' u'Apply'>>,
+      [<Handler for <Button 'apply' 'Apply'>>,
        <Handler for <class 'SpecialButton'>>,
-       <Handler for <SpecialButton 'button1' u'Button 1'>>,
-       <Handler for <SpecialButton 'button3' u'Button 3'>>]>
+       <Handler for <SpecialButton 'button1' 'Button 1'>>,
+       <Handler for <SpecialButton 'button3' 'Button 3'>>]>
 
 However, adding other components is not supported:
 
   >>> form.handlers + 1
   Traceback (most recent call last):
   ...
   NotImplementedError
@@ -594,29 +594,29 @@
 
 A special type of button is the image button. Instead of creating a "submit"-
 or "button"-type input, an "image" button is created. An image button is a
 simple extension of a button, requiring an `image` argument to the constructor:
 
   >>> imgSubmit = button.ImageButton(
   ...     name='submit',
-  ...     title=u'Submit',
-  ...     image=u'submit.png')
+  ...     title='Submit',
+  ...     image='submit.png')
   >>> imgSubmit
-  <ImageButton 'submit' u'submit.png'>
+  <ImageButton 'submit' 'submit.png'>
 
 Some browsers do not submit the value of the input, but only the coordinates
 of the image where the mouse click occurred. Thus we also need a special
 button action:
 
   >>> from zope.publisher.browser import TestRequest
   >>> request = TestRequest()
 
   >>> imgSubmitAction = button.ImageButtonAction(request, imgSubmit)
   >>> imgSubmitAction
-  <ImageButtonAction 'submit' u'Submit'>
+  <ImageButtonAction 'submit' 'Submit'>
 
 Initially, we did not click on the image:
 
   >>> imgSubmitAction.isExecuted()
   False
 
 Now the button is clicked:
@@ -652,8 +652,8 @@
   # Register the "submit.png" resource
   >>> from zope.browserresource.resource import Resource
   >>> testing.browserResource('submit.png', Resource)
 
 Now the attribute can be called:
 
   >>> imgSubmitAction.src
-  u'http://127.0.0.1/@@/submit.png'
+  'http://127.0.0.1/@@/submit.png'
```

### Comparing `z3c.form-4.3/src/z3c/form/configure.zcml` & `z3c.form-5.0/src/z3c/form/configure.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/contentprovider.py` & `z3c.form-5.0/src/z3c/form/contentprovider.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,69 +1,76 @@
 import zope.component
 import zope.interface
 import zope.location
-from z3c.form.error import MultipleErrors
 from zope.contentprovider.interfaces import IContentProvider
 
-from z3c.form.field import FieldWidgets
 from z3c.form import interfaces
+from z3c.form.error import MultipleErrors
+from z3c.form.field import FieldWidgets
 from z3c.form.interfaces import IContentProviders
 
 
-class BaseProvider(object):
+class BaseProvider:
     __slots__ = ('position')
 
+
 lookup_ = BaseProvider()
 
 
 @zope.interface.implementer(IContentProviders)
 class ContentProviders(dict):
 
     def __init__(self, names=None):
-        super(ContentProviders, self).__init__()
+        super().__init__()
         if names is not None:
             for position, name in enumerate(names):
                 self[name] = lookup_
 
     def __setitem__(self, key, value):
         factory = ContentProviderFactory(factory=value, name=key)
-        super(ContentProviders, self).__setitem__(key, factory)
+        super().__setitem__(key, factory)
 
 
-class ContentProviderFactory(object):
+class ContentProviderFactory:
 
     def __init__(self, factory, name):
         self.factory = factory
         self.name = name
         self.position = getattr(factory, 'position', None)
 
     def __call__(self, manager):
         if self.factory != lookup_:
-            contentProvider = self.factory(manager.content, manager.request, manager.form)
+            contentProvider = self.factory(
+                manager.content, manager.request, manager.form)
         else:
-            contentProvider = zope.component.getMultiAdapter((manager.content, manager.request, manager.form),
-                                                             IContentProvider, self.name)
+            contentProvider = zope.component.getMultiAdapter(
+                (manager.content, manager.request, manager.form),
+                IContentProvider, self.name)
         return contentProvider
 
 
 @zope.interface.implementer_only(interfaces.IWidgets)
 class FieldWidgetsAndProviders(FieldWidgets):
     zope.component.adapts(
-        interfaces.IFieldsAndContentProvidersForm, interfaces.IFormLayer, zope.interface.Interface)
+        interfaces.IFieldsAndContentProvidersForm,
+        interfaces.IFormLayer,
+        zope.interface.Interface)
 
     def update(self):
-        super(FieldWidgetsAndProviders, self).update()
+        super().update()
         uniqueOrderedKeys = list(self.keys())
         d = {}
         d.update(self)
         for name in self.form.contentProviders:
             factory = self.form.contentProviders[name]
             if factory.position is None:
-                raise ValueError("Position of the following"
-                 " content provider should be an integer: '%s'." % name)
+                raise ValueError(
+                    "Position of the following"
+                    " content provider should be an integer: '%s'." %
+                    name)
             contentProvider = factory(self)
             shortName = name
             contentProvider.update()
             uniqueOrderedKeys.insert(factory.position, shortName)
             d[shortName] = contentProvider
             zope.location.locate(contentProvider, self, shortName)
         self.create_according_to_list(d, uniqueOrderedKeys)
```

### Comparing `z3c.form-4.3/src/z3c/form/contentprovider.rst` & `z3c.form-5.0/src/z3c/form/contentprovider.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/converter.py` & `z3c.form-5.0/src/z3c/form/converter.py`

 * *Files 3% similar despite different names*

```diff
@@ -7,158 +7,160 @@
 # Version 2.1 (ZPL).  A copy of the ZPL should accompany this distribution.
 # THIS SOFTWARE IS PROVIDED "AS IS" AND ANY AND ALL EXPRESS OR IMPLIED
 # WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 # WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS
 # FOR A PARTICULAR PURPOSE.
 #
 ##############################################################################
-"""Data Converters
-
-$Id$
-"""
+"""Data Converters."""
 __docformat__ = "reStructuredText"
 import datetime
 import decimal
-import six
+
+import zope.component
 import zope.i18n.format
 import zope.interface
-import zope.component
-import zope.schema
 import zope.publisher.browser
+import zope.schema
 
+from z3c.form import interfaces
+from z3c.form import util
 from z3c.form.i18n import MessageFactory as _
-from z3c.form import interfaces, util
 
 
 @zope.interface.implementer(interfaces.IDataConverter)
-class BaseDataConverter(object):
+class BaseDataConverter:
     """A base implementation of the data converter."""
 
     _strip_value = True  # Remove spaces at start and end of text line
 
     def __init__(self, field, widget):
         self.field = field
         self.widget = widget
 
     def _getConverter(self, field):
         # We rely on the default registered widget, this is probably a
         # restriction for custom widgets. If so use your own MultiWidget and
         # register your own converter which will get the right widget for the
         # used value_type.
         widget = zope.component.getMultiAdapter((field, self.widget.request),
-            interfaces.IFieldWidget)
+                                                interfaces.IFieldWidget)
         if interfaces.IFormAware.providedBy(self.widget):
             # form property required by objectwidget
             widget.form = self.widget.form
             zope.interface.alsoProvides(widget, interfaces.IFormAware)
         converter = zope.component.getMultiAdapter(
             (field, widget), interfaces.IDataConverter)
         return converter
 
     def toWidgetValue(self, value):
         """See interfaces.IDataConverter"""
         if value == self.field.missing_value:
-            return u''
+            return ''
         return util.toUnicode(value)
 
     def toFieldValue(self, value):
         """See interfaces.IDataConverter"""
-        if self._strip_value and isinstance(value, six.string_types):
+        if self._strip_value and isinstance(value, str):
             value = value.strip()
 
-        if value == u'':
+        if value == '':
             return self.field.missing_value
 
         # this is going to burp with `Object is of wrong type.`
         # if a non-unicode value comes in from the request
         return self.field.fromUnicode(value)
 
     def __repr__(self):
-        return '<%s converts from %s to %s>' %(
+        return '<{} converts from {} to {}>'.format(
             self.__class__.__name__,
             self.field.__class__.__name__,
             self.widget.__class__.__name__)
 
 
 class FieldDataConverter(BaseDataConverter):
     """A data converter using the field's ``fromUnicode()`` method."""
     zope.component.adapts(
         zope.schema.interfaces.IField, interfaces.IWidget)
 
     def __init__(self, field, widget):
-        super(FieldDataConverter, self).__init__(field, widget)
+        super().__init__(field, widget)
         if not zope.schema.interfaces.IFromUnicode.providedBy(field):
             fieldName = ''
             if field.__name__:
                 fieldName = '``%s`` ' % field.__name__
             raise TypeError(
-                'Field %s of type ``%s`` must provide ``IFromUnicode``.' %(
-                    fieldName, type(field).__name__))
+                f'Field {fieldName} of type ``{type(field).__name__}``'
+                ' must provide ``IFromUnicode``.')
 
 
 @zope.component.adapter(interfaces.IFieldWidget)
 @zope.interface.implementer(interfaces.IDataConverter)
 def FieldWidgetDataConverter(widget):
     """Provide a data converter based on a field widget."""
     return zope.component.queryMultiAdapter(
         (widget.field, widget), interfaces.IDataConverter)
 
 
 class FormatterValidationError(zope.schema.ValidationError):
 
-    message = None # redefine here, so Python 2.6 won't raise warning
+    message = None
 
     def __init__(self, message, value):
         zope.schema.ValidationError.__init__(self, message, value)
         self.message = message
 
     def doc(self):
         return self.message
 
+
 class NumberDataConverter(BaseDataConverter):
     """A general data converter for numbers."""
 
     type = None
     errorMessage = None
 
     def __init__(self, field, widget):
-        super(NumberDataConverter, self).__init__(field, widget)
+        super().__init__(field, widget)
         locale = self.widget.request.locale
         self.formatter = locale.numbers.getFormatter('decimal')
         self.formatter.type = self.type
 
     def toWidgetValue(self, value):
         """See interfaces.IDataConverter"""
         if value == self.field.missing_value:
-            return u''
+            return ''
         return self.formatter.format(value)
 
     def toFieldValue(self, value):
         """See interfaces.IDataConverter"""
-        if value == u'':
+        if value == '':
             return self.field.missing_value
         try:
             return self.formatter.parse(value)
         except zope.i18n.format.NumberParseError:
             raise FormatterValidationError(self.errorMessage, value)
 
+
 class IntegerDataConverter(NumberDataConverter):
     """A data converter for integers."""
     zope.component.adapts(
         zope.schema.interfaces.IInt, interfaces.IWidget)
     type = int
     errorMessage = _('The entered value is not a valid integer literal.')
 
+
 class FloatDataConverter(NumberDataConverter):
     """A data converter for integers."""
     zope.component.adapts(
         zope.schema.interfaces.IFloat, interfaces.IWidget)
     type = float
     errorMessage = _('The entered value is not a valid decimal literal.')
 
+
 class DecimalDataConverter(NumberDataConverter):
     """A data converter for integers."""
     zope.component.adapts(
         zope.schema.interfaces.IDecimal, interfaces.IWidget)
     type = decimal.Decimal
     errorMessage = _('The entered value is not a valid decimal literal.')
 
@@ -166,46 +168,48 @@
 class CalendarDataConverter(BaseDataConverter):
     """A special data converter for calendar-related values."""
 
     type = None
     length = 'short'
 
     def __init__(self, field, widget):
-        super(CalendarDataConverter, self).__init__(field, widget)
+        super().__init__(field, widget)
         locale = self.widget.request.locale
         self.formatter = locale.dates.getFormatter(self.type, self.length)
 
     def toWidgetValue(self, value):
         """See interfaces.IDataConverter"""
         if value is self.field.missing_value:
-            return u''
+            return ''
         return self.formatter.format(value)
 
     def toFieldValue(self, value):
         """See interfaces.IDataConverter"""
-        if value == u'':
+        if value == '':
             return self.field.missing_value
         try:
             return self.formatter.parse(value)
         except zope.i18n.format.DateTimeParseError as err:
             raise FormatterValidationError(err.args[0], value)
 
 
 class DateDataConverter(CalendarDataConverter):
     """A special data converter for dates."""
     zope.component.adapts(
         zope.schema.interfaces.IDate, interfaces.IWidget)
     type = 'date'
 
+
 class TimeDataConverter(CalendarDataConverter):
     """A special data converter for times."""
     zope.component.adapts(
         zope.schema.interfaces.ITime, interfaces.IWidget)
     type = 'time'
 
+
 class DatetimeDataConverter(CalendarDataConverter):
     """A special data converter for datetimes."""
     zope.component.adapts(
         zope.schema.interfaces.IDatetime, interfaces.IWidget)
     type = 'dateTime'
 
 
@@ -216,24 +220,24 @@
 
     def __init__(self, field, widget):
         self.field = field
         self.widget = widget
 
     def toFieldValue(self, value):
         """See interfaces.IDataConverter"""
-        if value == u'':
+        if value == '':
             return self.field.missing_value
         try:
             daysString, crap, timeString = value.split(' ')
         except ValueError:
             timeString = value
             days = 0
         else:
             days = int(daysString)
-        seconds = [int(part)*60**(2-n)
+        seconds = [int(part) * 60**(2 - n)
                    for n, part in enumerate(timeString.split(':'))]
         return datetime.timedelta(days, sum(seconds))
 
 
 class FileUploadDataConverter(BaseDataConverter):
     """A special data converter for bytes, supporting also FileUpload.
 
@@ -332,42 +336,43 @@
         """See interfaces.IDataConverter"""
         widget = self.widget
         if widget.terms is None:
             widget.updateTerms()
         collectionType = self.field._type
         if isinstance(collectionType, tuple):
             collectionType = collectionType[-1]
-        return collectionType([widget.terms.getValue(token) for token in value])
+        return collectionType([widget.terms.getValue(token)
+                              for token in value])
 
 
 class TextLinesConverter(BaseDataConverter):
     """Data converter for ITextLinesWidget."""
 
     zope.component.adapts(
         zope.schema.interfaces.ISequence, interfaces.ITextLinesWidget)
 
     def toWidgetValue(self, value):
         """Convert from text lines to HTML representation."""
         # if the value is the missing value, then an empty list is produced.
         if value is self.field.missing_value:
-            return u''
-        return u'\n'.join(util.toUnicode(v) for v in value)
+            return ''
+        return '\n'.join(util.toUnicode(v) for v in value)
 
     def toFieldValue(self, value):
         """See interfaces.IDataConverter"""
         collectionType = self.field._type
         if isinstance(collectionType, tuple):
             collectionType = collectionType[-1]
         if not len(value):
             return self.field.missing_value
         valueType = self.field.value_type._type
         if isinstance(valueType, tuple):
             valueType = valueType[0]
-        # having a blank line at the end matters, one might want to have a blank
-        # entry at the end, resp. do not eat it once we have one
+        # having a blank line at the end matters, one might want to have a
+        # blank entry at the end, resp. do not eat it once we have one
         # splitlines ate that, so need to use split now
         value = value.replace('\r\n', '\n')
         items = []
         for v in value.split('\n'):
             try:
                 items.append(valueType(v))
             except ValueError as err:
@@ -427,17 +432,17 @@
         """Just dispatch it."""
         if not len(value):
             return self.field.missing_value
 
         converter = self._getConverter(self.field.value_type)
         key_converter = self._getConverter(self.field.key_type)
 
-        return dict([
-            (key_converter.toFieldValue(k), converter.toFieldValue(v))
-            for k, v in value])
+        return {
+            key_converter.toFieldValue(k): converter.toFieldValue(v)
+            for k, v in value}
 
 
 class BoolSingleCheckboxDataConverter(BaseDataConverter):
     "A special converter between boolean fields and single checkbox widgets."
 
     zope.component.adapts(
         zope.schema.interfaces.IBool, interfaces.ISingleCheckBoxWidget)
```

### Comparing `z3c.form-4.3/src/z3c/form/converter.rst` & `z3c.form-5.0/src/z3c/form/converter.rst`

 * *Files 2% similar despite different names*

```diff
@@ -12,15 +12,15 @@
 The only two discriminators for the converter are the field and the widget.
 
 Let's look at the ``Int`` field to ``TextWidget`` converter as an example:
 
   >>> import zope.schema
   >>> age = zope.schema.Int(
   ...     __name__='age',
-  ...     title=u'Age',
+  ...     title='Age',
   ...     min=0)
 
   >>> from z3c.form.testing import TestRequest
   >>> from z3c.form import widget
   >>> text = widget.Widget(TestRequest())
 
   >>> from z3c.form import converter
@@ -48,20 +48,20 @@
 provide ``IFromUnicode`` more specifically than their characterizing interface
 (like ``IDecimal``).
 
 The converter can now convert any integer to a the value the test widget deals
 with, which is an ASCII string:
 
   >>> conv.toWidgetValue(34)
-  u'34'
+  '34'
 
 When the missing value is passed in, an empty string should be returned:
 
   >>> conv.toWidgetValue(age.missing_value)
-  u''
+  ''
 
 Of course, values can also be converted from a widget value to field value:
 
   >>> conv.toFieldValue('34')
   34
 
 An empty string means simply that the value is missing and the missing value
@@ -129,120 +129,120 @@
   >>> intdc = converter.IntegerDataConverter(age, text)
   >>> intdc
   <IntegerDataConverter converts from Int to Widget>
 
 Since the age is so small, the formatting is trivial:
 
   >>> intdc.toWidgetValue(34)
-  u'34'
+  '34'
 
 But if we increase the number, the grouping seprator will be used:
 
   >>> intdc.toWidgetValue(3400)
-  u'3,400'
+  '3,400'
 
 An empty string is returned, if the missing value is passed in:
 
   >>> intdc.toWidgetValue(None)
-  u''
+  ''
 
 Of course, parsing these outputs again, works as well:
 
-  >>> intdc.toFieldValue(u'34')
+  >>> intdc.toFieldValue('34')
   34
 
 But if we increase the number, the grouping seprator will be used:
 
-  >>> intdc.toFieldValue(u'3,400')
+  >>> intdc.toFieldValue('3,400')
   3400
 
 Luckily our parser is somewhat forgiving, and even allows for missing group
 characters:
 
-  >>> intdc.toFieldValue(u'3400')
+  >>> intdc.toFieldValue('3400')
   3400
 
 If an empty string is passed in, the missing value of the field is returned:
 
-  >>> intdc.toFieldValue(u'')
+  >>> intdc.toFieldValue('')
 
 Finally, if the input does not match at all, then a validation error is
 returned:
 
-  >>> intdc.toFieldValue(u'fff')
+  >>> intdc.toFieldValue('fff')
   Traceback (most recent call last):
   ...
   FormatterValidationError:
-      (u'The entered value is not a valid integer literal.', u'fff')
+      ('The entered value is not a valid integer literal.', 'fff')
 
 The formatter validation error derives from the regular validation error, but
 allows you to specify the message that is output when asked for the
 documentation:
 
-  >>> err = converter.FormatterValidationError(u'Something went wrong.', None)
+  >>> err = converter.FormatterValidationError('Something went wrong.', None)
   >>> err.doc()
-  u'Something went wrong.'
+  'Something went wrong.'
 
 Let's now look at the float data converter.
 
   >>> rating = zope.schema.Float()
   >>> floatdc = converter.FloatDataConverter(rating, text)
   >>> floatdc
   <FloatDataConverter converts from Float to Widget>
 
 Again, you can format and parse values:
 
   >>> floatdc.toWidgetValue(7.43)
-  u'7.43'
+  '7.43'
   >>> floatdc.toWidgetValue(10239.43)
-  u'10,239.43'
+  '10,239.43'
 
-  >>> floatdc.toFieldValue(u'7.43') == 7.43
+  >>> floatdc.toFieldValue('7.43') == 7.43
   True
-  >>> type(floatdc.toFieldValue(u'7.43'))
-  <type 'float'>
-  >>> floatdc.toFieldValue(u'10,239.43')
+  >>> type(floatdc.toFieldValue('7.43'))
+  <class 'float'>
+  >>> floatdc.toFieldValue('10,239.43')
   10239.43
 
 The error message, however, is customized to the floating point:
 
-  >>> floatdc.toFieldValue(u'fff')
+  >>> floatdc.toFieldValue('fff')
   Traceback (most recent call last):
   ...
   FormatterValidationError:
-      (u'The entered value is not a valid decimal literal.', u'fff')
+      ('The entered value is not a valid decimal literal.', 'fff')
 
 The decimal converter works like the other two before.
 
   >>> money = zope.schema.Decimal()
   >>> decimaldc = converter.DecimalDataConverter(money, text)
   >>> decimaldc
   <DecimalDataConverter converts from Decimal to Widget>
 
 Formatting and parsing should work just fine:
 
   >>> import decimal
 
   >>> decimaldc.toWidgetValue(decimal.Decimal('7.43'))
-  u'7.43'
+  '7.43'
   >>> decimaldc.toWidgetValue(decimal.Decimal('10239.43'))
-  u'10,239.43'
+  '10,239.43'
 
-  >>> decimaldc.toFieldValue(u'7.43')
+  >>> decimaldc.toFieldValue('7.43')
   Decimal("7.43")
-  >>> decimaldc.toFieldValue(u'10,239.43')
+  >>> decimaldc.toFieldValue('10,239.43')
   Decimal("10239.43")
 
 Again, the error message, is customized to the floating point:
 
-  >>> floatdc.toFieldValue(u'fff')
+  >>> floatdc.toFieldValue('fff')
   Traceback (most recent call last):
   ...
   FormatterValidationError:
-      (u'The entered value is not a valid decimal literal.', u'fff')
+      ('The entered value is not a valid decimal literal.', 'fff')
 
 
 Bool Data Converter
 ---------------------
 
   >>> yesno = zope.schema.Bool()
   >>> yesnowidget = widget.Widget(TestRequest())
@@ -259,15 +259,15 @@
 
 Users often add empty spaces by mistake, for example when copy-pasting content
 into the form.
 
   >>> name = zope.schema.TextLine()
   >>> namewidget = widget.Widget(TestRequest())
   >>> conv = converter.FieldDataConverter(name, namewidget)
-  >>> conv.toFieldValue(u'Einstein ')
+  >>> conv.toFieldValue('Einstein ')
   'Einstein'
 
 
 Date Data Converter
 -------------------
 
 Since the ``Date`` field does not provide ``IFromUnicode``, we have to provide
@@ -282,40 +282,40 @@
 
 Dates are simply converted to ISO format:
 
   >>> import datetime
   >>> bday = datetime.date(1980, 1, 25)
 
   >>> ddc.toWidgetValue(bday)
-  u'80/01/25'
+  '80/01/25'
 
 If the date is the missing value, an empty string is returned:
 
   >>> ddc.toWidgetValue(None)
-  u''
+  ''
 
 The converter only knows how to convert this particular format back to a
 datetime value:
 
-  >>> ddc.toFieldValue(u'80/01/25')
+  >>> ddc.toFieldValue('80/01/25')
   datetime.date(1980, 1, 25)
 
 By default the converter converts missing input to missin_input value:
 
-  >>> ddc.toFieldValue(u'') is None
+  >>> ddc.toFieldValue('') is None
   True
 
 If the passed in string cannot be parsed, a formatter validation error is
 raised:
 
-  >>> ddc.toFieldValue(u'8.6.07')
+  >>> ddc.toFieldValue('8.6.07')
   Traceback (most recent call last):
   ...
   FormatterValidationError: ("The datetime string did not match the pattern
-                              u'yy/MM/dd'.", u'8.6.07')
+                              'yy/MM/dd'.", '8.6.07')
 
 Time Data Converter
 -------------------
 
 Since the ``Time`` field does not provide ``IFromUnicode``, we have to provide
 a custom data converter. This default one is not very sophisticated and is
 inteded for use with the text widget:
@@ -327,25 +327,25 @@
   <TimeDataConverter converts from Time to Widget>
 
 Dates are simply converted to ISO format:
 
   >>> noon = datetime.time(12, 0, 0)
 
   >>> tdc.toWidgetValue(noon)
-  u'12:00'
+  '12:00'
 
 The converter only knows how to convert this particular format back to a
 datetime value:
 
-  >>> tdc.toFieldValue(u'12:00')
+  >>> tdc.toFieldValue('12:00')
   datetime.time(12, 0)
 
 By default the converter converts missing input to missin_input value:
 
-  >>> tdc.toFieldValue(u'') is None
+  >>> tdc.toFieldValue('') is None
   True
 
 
 Datetime Data Converter
 -----------------------
 
 Since the ``Datetime`` field does not provide ``IFromUnicode``, we have to
@@ -359,25 +359,25 @@
   <DatetimeDataConverter converts from Datetime to Widget>
 
 Dates are simply converted to ISO format:
 
   >>> bdayNoon = datetime.datetime(1980, 1, 25, 12, 0, 0)
 
   >>> dtdc.toWidgetValue(bdayNoon)
-  u'80/01/25 12:00'
+  '80/01/25 12:00'
 
 The converter only knows how to convert this particular format back to a
 datetime value:
 
-  >>> dtdc.toFieldValue(u'80/01/25 12:00')
+  >>> dtdc.toFieldValue('80/01/25 12:00')
   datetime.datetime(1980, 1, 25, 12, 0)
 
 By default the converter converts missing input to missin_input value:
 
-  >>> dtdc.toFieldValue(u'') is None
+  >>> dtdc.toFieldValue('') is None
   True
 
 
 Timedelta Data Converter
 ------------------------
 
 Since the ``Timedelta`` field does not provide ``IFromUnicode``, we have to
@@ -391,38 +391,38 @@
   <TimedeltaDataConverter converts from Timedelta to Widget>
 
 Dates are simply converted to ISO format:
 
   >>> allOnes = datetime.timedelta(1, 3600+60+1)
 
   >>> tddc.toWidgetValue(allOnes)
-  u'1 day, 1:01:01'
+  '1 day, 1:01:01'
 
 The converter only knows how to convert this particular format back to a
 datetime value:
 
-  >>> fv = tddc.toFieldValue(u'1 day, 1:01:01')
+  >>> fv = tddc.toFieldValue('1 day, 1:01:01')
   >>> (fv.days, fv.seconds)
   (1, 3661)
 
 If no day is available, the following short form is used:
 
   >>> noDay = datetime.timedelta(0, 3600+60+1)
   >>> tddc.toWidgetValue(noDay)
-  u'1:01:01'
+  '1:01:01'
 
 And now back to the field value:
 
-  >>> fv = tddc.toFieldValue(u'1:01:01')
+  >>> fv = tddc.toFieldValue('1:01:01')
   >>> (fv.days, fv.seconds)
   (0, 3661)
 
 By default the converter converts missing input to missin_input value:
 
-  >>> tddc.toFieldValue(u'') is None
+  >>> tddc.toFieldValue('') is None
   True
 
 
 File Upload Data Converter
 --------------------------
 
 Since the ``Bytes`` field can contain a ``FileUpload`` object, we have to make
@@ -437,40 +437,37 @@
   <FileUploadDataConverter converts from Bytes to FileWidget>
 
 The file upload widget usually provides a file object. But sometimes is also
 provides a string:
 
   >>> simple = 'foobar'
   >>> fudc.toFieldValue(simple)
-  'foobar'
+  b'foobar'
 
 The converter can also convert ``FileUpload`` objects. So we need to setup a
 fields storage stub ...
 
   >>> class FieldStorageStub:
   ...     def __init__(self, file):
   ...         self.file = file
   ...         self.headers = {}
   ...         self.filename = 'foo.bar'
 
 and a ``FileUpload`` component:
 
-  >>> try:
-  ...     from cStringIO import StringIO as BytesIO
-  ... except ImportError:
-  ...     from io import BytesIO
+  >>> from io import BytesIO
   >>> from zope.publisher.browser import FileUpload
   >>> myfile = BytesIO(b'File upload contents.')
   >>> aFieldStorage = FieldStorageStub(myfile)
   >>> myUpload = FileUpload(aFieldStorage)
 
 Let's try to convert the input now:
 
   >>> fudc.toFieldValue(myUpload)
-  'File upload contents.'
+  b'File upload contents.'
 
 By default the converter converts missing input to the ``NOT_CHANGED`` value:
 
   >>> fudc.toFieldValue('')
   <NOT_CHANGED>
 
 This allows machinery later to ignore the field without sending all the data
@@ -500,15 +497,15 @@
   >>> aFieldStorage = FieldStorageStub(myfile)
   >>> myUpload = FileUpload(aFieldStorage)
   >>> bytes = zope.schema.Bytes()
   >>> fudc = converter.FileUploadDataConverter(bytes, fileWidget)
   >>> fudc.toFieldValue(myUpload) is None
   Traceback (most recent call last):
   ...
-  ValueError: (u'Bytes data are not a file object', ...AttributeError...)
+  ValueError: ('Bytes data are not a file object', ...AttributeError...)
 
 When converting to the widget value, not conversion should be done, since
 bytes are not convertable in that sense.
 
   >>> fudc.toWidgetValue(b'\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x04')
 
 When the file upload widget is not used and a text-based widget is desired,
@@ -543,16 +540,16 @@
 
 Let's now create a choice field (using a vocabulary) and a widget:
 
   >>> from zope.schema.vocabulary import SimpleVocabulary
 
   >>> gender = zope.schema.Choice(
   ...     vocabulary = SimpleVocabulary([
-  ...              SimpleVocabulary.createTerm(0, 'm', u'male'),
-  ...              SimpleVocabulary.createTerm(1, 'f', u'female'),
+  ...              SimpleVocabulary.createTerm(0, 'm', 'male'),
+  ...              SimpleVocabulary.createTerm(1, 'f', 'female'),
   ...              ]) )
 
   >>> from z3c.form import widget
   >>> seqWidget = widget.SequenceWidget(TestRequest())
   >>> seqWidget.field = gender
 
 We now use the field and widget to instantiate the converter:
@@ -586,30 +583,30 @@
 
   >>> sdv.toWidgetValue(object())
   []
 
 If "no value" has been specified in the widget, the missing value
 of the field is returned:
 
-  >>> sdv.toFieldValue([u'--NOVALUE--'])
+  >>> sdv.toFieldValue(['--NOVALUE--'])
   'missing'
 
 An empty list will also cause the missing value to be returned:
 
   >>> sdv.toFieldValue([])
   'missing'
 
 Using source
 ~~~~~~~~~~~~
 
 Let's now create a choice field (using a source) and a widget:
 
   >>> from zc.sourcefactory.basic import BasicSourceFactory
   >>> class GenderSourceFactory(BasicSourceFactory):
-  ...     _mapping = {0: u'male', 1: u'female'}
+  ...     _mapping = {0: 'male', 1: 'female'}
   ...     def getValues(self):
   ...         return self._mapping.keys()
   ...     def getTitle(self, value):
   ...         return self._mapping[value]
   >>> gender_source = zope.schema.Choice(
   ...     source = GenderSourceFactory())
 
@@ -641,15 +638,15 @@
 
   >>> sdv.toWidgetValue(gender.missing_value)
   []
 
 If "no value" has been specified in the widget, the missing value
 of the field is returned:
 
-  >>> sdv.toFieldValue([u'--NOVALUE--'])
+  >>> sdv.toFieldValue(['--NOVALUE--'])
   'missing'
 
 An empty list will also cause the missing value to be returned:
 
   >>> sdv.toFieldValue([])
   'missing'
 
@@ -723,19 +720,19 @@
 
   >>> genders = zope.schema.Set(value_type=gender)
   >>> seqWidget = widget.SequenceWidget(TestRequest())
   >>> seqWidget.field = genders
 
   >>> csdv = converter.CollectionSequenceDataConverter(genders, seqWidget)
 
-  >>> csdv.toWidgetValue(set([0]))
+  >>> csdv.toWidgetValue({0})
   ['m']
 
   >>> csdv.toFieldValue(['m'])
-  set([0])
+  {0}
 
 Getting Terms
 +++++++++++++
 
 As an optimization of this converter, the converter actually does not look up
 the terms itself but uses the widget's ``terms`` attribute. If the terms are
 not yet retrieved, the converter will ask the widget to do so when in need.
@@ -759,15 +756,15 @@
   >>> seqWidget = widget.SequenceWidget(TestRequest())
   >>> seqWidget.field = genders
 
   >>> seqWidget.terms
 
   >>> csdv = converter.CollectionSequenceDataConverter(genders, seqWidget)
   >>> csdv.toFieldValue(['m'])
-  set([0])
+  {0}
 
   >>> seqWidget.terms
   <z3c.form.term.CollectionTermsVocabulary object ...>
 
 
 Corner case: Just in case the field has a sequence as ``_type``:
 
@@ -821,19 +818,19 @@
   >>> genders_source = zope.schema.Set(value_type=gender_source)
   >>> seqWidget = widget.SequenceWidget(TestRequest())
   >>> seqWidget.field = genders_source
 
   >>> csdv = converter.CollectionSequenceDataConverter(
   ...     genders_source, seqWidget)
 
-  >>> csdv.toWidgetValue(set([0]))
+  >>> csdv.toWidgetValue({0})
   ['0']
 
   >>> csdv.toFieldValue(['0'])
-  set([0])
+  {0}
 
 Getting Terms
 +++++++++++++
 
 As an optimization of this converter, the converter actually does not look up
 the terms itself but uses the widget's ``terms`` attribute. If the terms are
 not yet retrieved, the converter will ask the widget to do so when in need.
@@ -859,15 +856,15 @@
   >>> seqWidget.field = genders_source
 
   >>> seqWidget.terms
 
   >>> csdv = converter.CollectionSequenceDataConverter(
   ...     genders_source, seqWidget)
   >>> csdv.toFieldValue(['0'])
-  set([0])
+  {0}
 
   >>> seqWidget.terms
   <z3c.form.term.CollectionTermsSource object ...>
 
 
 Boolean to Single Checkbox Data Converter
 -----------------------------------------
@@ -920,89 +917,89 @@
 
 We now use the field and widget to instantiate the converter:
 
   >>> tlc = converter.TextLinesConverter(languages, tlWidget)
 
 We can now convert a real value to a widget value:
 
-  >>> tlc.toWidgetValue([u'de', u'fr', u'en'])
-  u'de\nfr\nen'
+  >>> tlc.toWidgetValue(['de', 'fr', 'en'])
+  'de\nfr\nen'
 
 Empty entries are significant:
 
-  >>> tlc.toWidgetValue([u'de', u'fr', u'en', u''])
-  u'de\nfr\nen\n'
+  >>> tlc.toWidgetValue(['de', 'fr', 'en', ''])
+  'de\nfr\nen\n'
 
 
 The result is always a string, since text lines widgets only deal with textarea
 as input field. Of course, we can convert the widget value back to an internal
 value:
 
   >>> tlc.toFieldValue('de\nfr\nen')
-  [u'de', u'fr', u'en']
+  ['de', 'fr', 'en']
 
 Each line should be one item:
 
   >>> tlc.toFieldValue('this morning\ntomorrow evening\nyesterday')
-  [u'this morning', u'tomorrow evening', u'yesterday']
+  ['this morning', 'tomorrow evening', 'yesterday']
 
 Empty lines are significant:
 
   >>> tlc.toFieldValue('de\n\nfr\nen')
-  [u'de', u'', u'fr', u'en']
+  ['de', '', 'fr', 'en']
 
 Empty lines are also significant at the end:
 
   >>> tlc.toFieldValue('de\nfr\nen\n')
-  [u'de', u'fr', u'en', u'']
+  ['de', 'fr', 'en', '']
 
 
 An empty string will also cause the missing value to be returned:
 
   >>> tlc.toFieldValue('') is None
   True
 
 It also should work for schema fields that define their type as tuple,
-for instance zope.schema.Int declares its type as (int, long).
+in former times zope.schema.Int declared its type as (int, long).
 
+  >>> class MyField(zope.schema.Int):
+  ...     _type = (int, float)
   >>> ids = zope.schema.List(
-  ...     value_type=zope.schema.Int(),
+  ...     value_type=MyField(),
   ...     )
 
 Let's illustrate the problem:
 
-  >>> zope.schema.Int._type == zope.schema._compat.integer_types
+  >>> MyField._type == (int, float)
   True
 
-  Note: Should be int and long in Python 2.
-
 The converter will use the first one.
 
   >>> tlWidget.field = ids
   >>> tlc = converter.TextLinesConverter(ids, tlWidget)
 
 Of course, it still can convert to the widget value:
 
   >>> tlc.toWidgetValue([1,2,3])
-  u'1\n2\n3'
+  '1\n2\n3'
 
 And back:
 
-  >>> tlc.toFieldValue(u'1\n2\n3')
+  >>> tlc.toFieldValue('1\n2\n3')
   [1, 2, 3]
 
 An empty string will also cause the missing value to be returned:
 
   >>> tlc.toFieldValue('') is None
   True
 
 Converting Missing value to Widget value returns '':
 
   >>> tlc.toWidgetValue(tlc.field.missing_value)
-  u''
+  ''
 
 Just in case the field has sequence as its ``_type``:
 
   >>> class myField(zope.schema.List):
   ...     _type = (list, tuple)
 
   >>> ids = myField(
@@ -1013,27 +1010,27 @@
 
   >>> tlWidget.field = ids
   >>> tlc = converter.TextLinesConverter(ids, tlWidget)
 
 Of course, it still can convert to the widget value:
 
   >>> tlc.toWidgetValue([1,2,3])
-  u'1\n2\n3'
+  '1\n2\n3'
 
 And back:
 
-  >>> tlc.toFieldValue(u'1\n2\n3')
+  >>> tlc.toFieldValue('1\n2\n3')
   (1, 2, 3)
 
 What if we have a wrong number:
 
-  >>> tlc.toFieldValue(u'1\n2\n3\nfoo')
+  >>> tlc.toFieldValue('1\n2\n3\nfoo')
   Traceback (most recent call last):
   ...
-  FormatterValidationError: ("invalid literal for int() with base 10: 'foo'", u'foo')
+  FormatterValidationError: ("invalid literal for int() with base 10: 'foo'", 'foo')
 
 
 Multi Data Converter
 --------------------
 
 For multi widgets and fields that work with a sequence of other basic types, a
 separate data converter is required. Let's create a list of integers field and
@@ -1060,24 +1057,24 @@
 
   >>> conv = converter.MultiConverter(numbers, multiWidget)
 
 We can now convert a list of integers to the multi-widget internal
 representation:
 
   >>> conv.toWidgetValue([1, 2, 3])
-  [u'1', u'2', u'3']
+  ['1', '2', '3']
 
 If the value is the missing value, an empty list is returned:
 
   >>> conv.toWidgetValue(None)
   []
 
 Now, let's look at the reverse:
 
-  >>> conv.toFieldValue([u'1', u'2', u'3'])
+  >>> conv.toFieldValue(['1', '2', '3'])
   [1, 2, 3]
 
 If the list is empty, the missing value is returned:
 
   >>> conv.toFieldValue([]) is None
   True
 
@@ -1101,23 +1098,23 @@
 
   >>> conv = converter.MultiConverter(numbers, multiWidget)
 
 We can now convert a list or tuple of integers to the multi-widget internal
 representation:
 
   >>> conv.toWidgetValue([1, 2, 3, 4])
-  [u'1', u'2', u'3', u'4']
+  ['1', '2', '3', '4']
 
   >>> conv.toWidgetValue((1, 2, 3, 4))
-  [u'1', u'2', u'3', u'4']
+  ['1', '2', '3', '4']
 
 Now, let's look at the reverse. We get a tuple because that's the last
 type in ``_type``:
 
-  >>> conv.toFieldValue([u'1', u'2', u'3', u'4'])
+  >>> conv.toFieldValue(['1', '2', '3', '4'])
   (1, 2, 3, 4)
 
 
 Dict Multi Data Converter
 -------------------------
 
 For multi widgets and fields that work with a dictionary of other basic types, a
@@ -1146,23 +1143,23 @@
 
   >>> conv = converter.DictMultiConverter(numbers, multiWidget)
 
 We can now convert a dict of integers to the multi-widget internal
 representation:
 
   >>> sorted(conv.toWidgetValue({1:1, 2:4, 3:9}))
-  [(u'1', u'1'), (u'2', u'4'), (u'3', u'9')]
+  [('1', '1'), ('2', '4'), ('3', '9')]
 
 If the value is the missing value, an empty dict is returned:
 
   >>> conv.toWidgetValue(None)
   []
 
 Now, let's look at the reverse:
 
-  >>> conv.toFieldValue([(u'1',u'1'), (u'2',u'4'), (u'3',u'9')])
+  >>> conv.toFieldValue([('1','1'), ('2','4'), ('3','9')])
   {1: 1, 2: 4, 3: 9}
 
 If the list is empty, the missing value is returned:
 
   >>> conv.toFieldValue([]) is None
   True
```

### Comparing `z3c.form-4.3/src/z3c/form/converter.zcml` & `z3c.form-5.0/src/z3c/form/converter.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/datamanager.py` & `z3c.form-5.0/src/z3c/form/datamanager.py`

 * *Files 2% similar despite different names*

```diff
@@ -13,59 +13,63 @@
 ##############################################################################
 """Widget Framework Implementation
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 
-import zope.interface
 import zope.component
+import zope.interface
 import zope.schema
 from zope.interface.common import mapping
+from zope.security.checker import Proxy
+from zope.security.checker import canAccess
+from zope.security.checker import canWrite
 from zope.security.interfaces import ForbiddenAttribute
-from zope.security.checker import canAccess, canWrite, Proxy
 
 from z3c.form import interfaces
 
+
 _marker = []
 
 ALLOWED_DATA_CLASSES = [dict]
 try:
-    import persistent.mapping
     import persistent.dict
+    import persistent.mapping
     ALLOWED_DATA_CLASSES.append(persistent.mapping.PersistentMapping)
     ALLOWED_DATA_CLASSES.append(persistent.dict.PersistentDict)
 except ImportError:
     pass
 
 
 @zope.interface.implementer(interfaces.IDataManager)
-class DataManager(object):
+class DataManager:
     """Data manager base class."""
 
+
 class AttributeField(DataManager):
     """Attribute field."""
     zope.component.adapts(
         zope.interface.Interface, zope.schema.interfaces.IField)
 
     def __init__(self, context, field):
         self.context = context
         self.field = field
 
     @property
     def adapted_context(self):
         # get the right adapter or context
         context = self.context
         # NOTE: zope.schema fields defined in inherited interfaces will point
-        # to the inherited interface. This could end in adapting the wrong item.
-        # This is very bad because the widget field offers an explicit interface
-        # argument which doesn't get used in Widget setup during IDataManager
-        # lookup. We should find a concept which allows to adapt the
-        # IDataManager use the widget field interface instead of the zope.schema
-        # field.interface, ri
+        # to the inherited interface. This could end in adapting the wrong
+        # item. This is very bad because the widget field offers an explicit
+        # interface argument which doesn't get used in Widget setup during
+        # IDataManager lookup. We should find a concept which allows to adapt
+        # the IDataManager use the widget field interface instead of the
+        # zope.schema field.interface, ri
         if self.field.interface is not None:
             context = self.field.interface(context)
         return context
 
     def get(self):
         """See z3c.form.interfaces.IDataManager"""
         return getattr(self.adapted_context, self.field.__name__)
@@ -100,14 +104,15 @@
     def canWrite(self):
         """See z3c.form.interfaces.IDataManager"""
         context = self.adapted_context
         if isinstance(context, Proxy):
             return canWrite(context, self.field.__name__)
         return True
 
+
 class DictionaryField(DataManager):
     """Dictionary field.
 
     NOTE: Even though, this data manager allows nearly all kinds of
     mappings, by default it is only registered for dict, because it
     would otherwise get picked up in undesired scenarios. If you want
     to it use for another mapping, register the appropriate adapter in
@@ -118,16 +123,16 @@
     zope.component.adapts(
         dict, zope.schema.interfaces.IField)
 
     _allowed_data_classes = tuple(ALLOWED_DATA_CLASSES)
 
     def __init__(self, data, field):
         if (not isinstance(data, self._allowed_data_classes) and
-            not mapping.IMapping.providedBy(data)):
-            raise ValueError("Data are not a dictionary: %s" %type(data))
+                not mapping.IMapping.providedBy(data)):
+            raise ValueError("Data are not a dictionary: %s" % type(data))
         self.data = data
         self.field = field
 
     def get(self):
         """See z3c.form.interfaces.IDataManager"""
         value = self.data.get(self.field.__name__, _marker)
         if value is _marker:
@@ -148,8 +153,7 @@
     def canAccess(self):
         """See z3c.form.interfaces.IDataManager"""
         return True
 
     def canWrite(self):
         """See z3c.form.interfaces.IDataManager"""
         return True
-
```

### Comparing `z3c.form-4.3/src/z3c/form/datamanager.rst` & `z3c.form-5.0/src/z3c/form/datamanager.rst`

 * *Files 4% similar despite different names*

```diff
@@ -37,48 +37,48 @@
 fields. In this case, the data manager needs to know about the context and the
 field it is managing the data for.
 
   >>> import zope.interface
   >>> import zope.schema
   >>> class IPerson(zope.interface.Interface):
   ...     name = zope.schema.TextLine(
-  ...         title=u'Name',
-  ...         default=u'<no name>')
+  ...         title='Name',
+  ...         default='<no name>')
   ...     phone = zope.schema.TextLine(
-  ...         title=u'Phone')
+  ...         title='Phone')
 
   >>> @zope.interface.implementer(IPerson)
   ... class Person(object):
-  ...     name = u''
+  ...     name = ''
   ...     def __init__(self, name):
   ...         self.name = name
 
-  >>> stephan = Person(u'Stephan Richter')
+  >>> stephan = Person('Stephan Richter')
 
 We can now instantiate the data manager for Stephan's name:
 
   >>> nameDm = datamanager.AttributeField(stephan, IPerson['name'])
 
 The data manager consists of a few simple methods to accomplish its
 purpose. Getting the value is done using the ``get()`` or ``query()`` method:
 
   >>> nameDm.get()
-  u'Stephan Richter'
+  'Stephan Richter'
 
   >>> nameDm.query()
-  u'Stephan Richter'
+  'Stephan Richter'
 
 The value can be set using ``set()``:
 
-  >>> nameDm.set(u'Stephan "Caveman" Richter')
+  >>> nameDm.set('Stephan "Caveman" Richter')
 
   >>> nameDm.get()
-  u'Stephan "Caveman" Richter'
+  'Stephan "Caveman" Richter'
   >>> stephan.name
-  u'Stephan "Caveman" Richter'
+  'Stephan "Caveman" Richter'
 
 If an attribute is not available, ``get()`` fails and ``query()`` returns a
 default value:
 
   >>> phoneDm = datamanager.AttributeField(stephan, IPerson['phone'])
 
   >>> phoneDm.get()
@@ -134,15 +134,15 @@
 Clearly, this also means that ``get()`` and ``set()`` are also shut off:
 
   >>> nameDm.get()
   Traceback (most recent call last):
   ...
   Unauthorized: (<Person object at ...>, 'name', 'Edit')
 
-  >>> nameDm.set(u'Stephan')
+  >>> nameDm.set('Stephan')
   Traceback (most recent call last):
   ...
   ForbiddenAttribute: ('name', <Person object at ...>)
 
 Now we have to setup the security system and "log in" as a user:
 
   >>> newPolicy.allowedPermissions = ('View', 'Edit')
@@ -155,26 +155,26 @@
   True
   >>> nameDm.canWrite()
   False
 
 Thus only the ``get()`` method is allowed:
 
   >>> nameDm.get()
-  u'Stephan "Caveman" Richter'
+  'Stephan "Caveman" Richter'
 
-  >>> nameDm.set(u'Stephan')
+  >>> nameDm.set('Stephan')
   Traceback (most recent call last):
   ...
   ForbiddenAttribute: ('name', <Person object at ...>)
 
 If field's schema is not directly provided by the context, the datamanager
 will attempt to find an adapter. Let's give the person an address for example:
 
   >>> class IAddress(zope.interface.Interface):
-  ...     city = zope.schema.TextLine(title=u'City')
+  ...     city = zope.schema.TextLine(title='City')
 
   >>> @zope.interface.implementer(IAddress)
   ... class Address(object):
   ...     zope.component.adapts(IPerson)
   ...     def __init__(self, person):
   ...         self.person = person
   ...     @property
@@ -197,36 +197,36 @@
   >>> cityDm.canWrite()
   True
 
 Initially there is no value, but of course we can create one:
 
   >>> cityDm.get()
 
-  >>> cityDm.set(u'Maynard')
+  >>> cityDm.set('Maynard')
   >>> cityDm.get()
-  u'Maynard'
+  'Maynard'
 
 The value can be accessed through the adapter itself as well:
 
   >>> IAddress(stephan).city
-  u'Maynard'
+  'Maynard'
 
 While we think that implicitly looking up an adapter is not the cleanest
 solution, it allows us to mimic the behavior of ``zope.formlib``. We think
 that we will eventually provide alternative ways to accomplish the same in a
 more explicit way.
 
 If we try to set a value that is read-only, a type error is raised:
 
   >>> readOnlyName = zope.schema.TextLine(
   ...     __name__='name',
   ...     readonly=True)
 
   >>> nameDm = datamanager.AttributeField(stephan, readOnlyName)
-  >>> nameDm.set(u'Stephan')
+  >>> nameDm.set('Stephan')
   Traceback (most recent call last):
   ...
   TypeError: Can't set values on read-only fields
              (name=name, class=__builtin__.Person)
 
 Finally, we instantiate the data manager with a ``zope.schema``
 field. And we can access the different methods like before.
@@ -235,21 +235,21 @@
   ...    stephan, zope.schema.TextLine(__name__ = 'name'))
   >>> nameDm.canAccess()
   True
   >>> nameDm.canWrite()
   True
 
   >>> nameDm.get()
-  u'Stephan "Caveman" Richter'
+  'Stephan "Caveman" Richter'
   >>> nameDm.query()
-  u'Stephan "Caveman" Richter'
+  'Stephan "Caveman" Richter'
 
-  >>> nameDm.set(u'Stephan Richter')
+  >>> nameDm.set('Stephan Richter')
   >>> nameDm.get()
-  u'Stephan Richter'
+  'Stephan Richter'
 
 Dictionary Field Manager
 ------------------------
 
 Another implementation of the data manager interface is provided by the
 dictionary field manager, which does not expect an instance with attributes as
 its context, but a dictionary. It still uses a field to determine the key to
@@ -292,33 +292,33 @@
 
 Initially we get the default value (as specified in the field), since the
 person dictionariy has no entry. If no default value has been specified in the
 field, the missing value is returned.
 
 Now we set a value and it should be available:
 
-  >>> nameDm.set(u'Roger Ineichen')
+  >>> nameDm.set('Roger Ineichen')
 
   >>> nameDm.get()
-  u'Roger Ineichen'
+  'Roger Ineichen'
   >>> personDict
-  {'name': u'Roger Ineichen'}
+  {'name': 'Roger Ineichen'}
 
 Since this dictionary is not security proxied, any field can be accessed and
 written to:
 
   >>> nameDm.canAccess()
   True
   >>> nameDm.canWrite()
   True
 
 As with the attribute data manager, readonly fields cannot be set:
 
   >>> nameDm = datamanager.DictionaryField(personDict, readOnlyName)
-  >>> nameDm.set(u'Stephan')
+  >>> nameDm.set('Stephan')
   Traceback (most recent call last):
   ...
   TypeError: Can't set values on read-only fields name=name
 
 
 Cleanup
 -------
```

### Comparing `z3c.form-4.3/src/z3c/form/error.py` & `z3c.form-5.0/src/z3c/form/error.py`

 * *Files 12% similar despite different names*

```diff
@@ -13,47 +13,56 @@
 ##############################################################################
 """Error Views Implementation
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 import os
+
 import zope.component
 import zope.interface
 import zope.schema
 from zope.browserpage.viewpagetemplatefile import ViewPageTemplateFile
 from zope.pagetemplate.interfaces import IPageTemplate
 
 import z3c.form
-from z3c.form import interfaces, util, value
+from z3c.form import interfaces
+from z3c.form import util
+from z3c.form import value
 from z3c.form.i18n import MessageFactory as _
 
+
 ErrorViewMessage = value.StaticValueCreator(
-    discriminators = ('error', 'request', 'widget', 'field', 'form', 'content')
-    )
+    discriminators=('error', 'request', 'widget', 'field', 'form', 'content')
+)
 
 ComputedErrorViewMessage = value.ComputedValueCreator(
-    discriminators = ('error', 'request', 'widget', 'field', 'form', 'content')
-    )
+    discriminators=('error', 'request', 'widget', 'field', 'form', 'content')
+)
 
 
 def ErrorViewDiscriminators(
-    errorView,
-    error=None, request=None, widget=None, field=None, form=None, content=None):
+        errorView,
+        error=None,
+        request=None,
+        widget=None,
+        field=None,
+        form=None,
+        content=None):
     zope.component.adapter(
         util.getSpecification(error),
         util.getSpecification(request),
         util.getSpecification(widget),
         util.getSpecification(field),
         util.getSpecification(form),
         util.getSpecification(content))(errorView)
 
 
 @zope.interface.implementer(interfaces.IErrorViewSnippet)
-class ErrorViewSnippet(object):
+class ErrorViewSnippet:
     """Error view snippet."""
     zope.component.adapts(
         zope.schema.ValidationError, None, None, None, None, None)
 
     def __init__(self, error, request, widget, field, form, content):
         self.error = self.context = error
         self.request = request
@@ -77,15 +86,15 @@
 
     def render(self):
         template = zope.component.getMultiAdapter(
             (self, self.request), IPageTemplate)
         return template(self)
 
     def __repr__(self):
-        return '<%s for %s>' %(
+        return '<{} for {}>'.format(
             self.__class__.__name__, self.error.__class__.__name__)
 
 
 class ValueErrorViewSnippet(ErrorViewSnippet):
     """An error view for ValueError."""
     zope.component.adapts(
         ValueError, None, None, None, None, None)
@@ -121,24 +130,26 @@
 class MultipleErrors(Exception):
     """An error that contains many errors"""
 
     def __init__(self, errors):
         self.errors = errors
 
 
-class ErrorViewTemplateFactory(object):
+class ErrorViewTemplateFactory:
     """Error view template factory."""
 
     template = None
 
     def __init__(self, filename, contentType='text/html'):
-        self.template = ViewPageTemplateFile(filename, content_type=contentType)
+        self.template = ViewPageTemplateFile(
+            filename, content_type=contentType)
 
     def __call__(self, errorView, request):
         return self.template
 
+
 # Create the standard error view template
 StandardErrorViewTemplate = ErrorViewTemplateFactory(
     os.path.join(os.path.dirname(z3c.form.__file__), 'error.pt'), 'text/html')
 zope.component.adapter(
     interfaces.IErrorViewSnippet, None)(StandardErrorViewTemplate)
 zope.interface.implementer(IPageTemplate)(StandardErrorViewTemplate)
```

### Comparing `z3c.form-4.3/src/z3c/form/error.rst` & `z3c.form-5.0/src/z3c/form/error.rst`

 * *Files 1% similar despite different names*

```diff
@@ -25,15 +25,15 @@
   <ErrorViewSnippet for TooSmall>
 
 The discriminators for an error view are as follows: error, request, widget,
 field, form, and content. After updating the view, a test message is available:
 
   >>> view.update()
   >>> view.message
-  u'Value is too small'
+  'Value is too small'
 
 And after registering a template for the error view, we can also render the
 view:
 
   >>> import os
   >>> filename = os.path.join(os.path.dirname(error.__file__), 'error.pt')
 
@@ -55,29 +55,29 @@
 As you can imagine, writing new error views for every scenario can be very
 tedious, especially if you only want to provide a specific error *message*. So
 let's create somewhat more interesting setup:
 
   >>> import zope.interface
   >>> import zope.schema
   >>> class IPerson(zope.interface.Interface):
-  ...     name = zope.schema.TextLine(title=u'Name')
+  ...     name = zope.schema.TextLine(title='Name')
   ...     age = zope.schema.Int(
-  ...         title=u'Age',
+  ...         title='Age',
   ...         min=0)
 
 You must agree, that the follwoing message is pretty dull when entering a
 negative age:
 
   >>> print(view.render())
   <div class="error">Value is too small</div>
 
 So let's register a better message for this particular situation:
 
   >>> NegativeAgeMessage = error.ErrorViewMessage(
-  ...     u'A negative age is not sensible.',
+  ...     'A negative age is not sensible.',
   ...     error=TooSmall, field=IPerson['age'])
 
   >>> zope.component.provideAdapter(NegativeAgeMessage, name='message')
 
 The created object is a common attribute value for the error view message. The
 discriminators are the same as for the error view itself. Now we create an
 error view message for ``TooSmall`` of the age field:
@@ -92,23 +92,23 @@
 Much better, isn't it?
 
 We can also provide dynamic error view messages that are computed each time we
 get an error. For example, we have an IAdult interface that have minimal age of
 18:
 
   >>> class IAdult(zope.interface.Interface):
-  ...     age = zope.schema.Int(title=u'Age', min=18)
+  ...     age = zope.schema.Int(title='Age', min=18)
 
 Now, let's create a function that will be called by a message value adapter,
 it receives one argument, a special ``z3c.form.value.ComputedValue`` object
 that will have all needed attributes: error, request, widget, field, form and
 content. Let's use one of them:
 
   >>> def getAgeTooSmallErrorMessage(value):
-  ...     return u'Given age is smaller than %d, you are not adult.' % (
+  ...     return 'Given age is smaller than %d, you are not adult.' % (
   ...         value.field.min)
 
 Now, register the computed view message:
 
   >>> ComputedAgeMessage = error.ComputedErrorViewMessage(
   ...     getAgeTooSmallErrorMessage, error=TooSmall, field=IAdult['age'])
   >>> zope.component.provideAdapter(ComputedAgeMessage, name='message')
@@ -184,15 +184,15 @@
   <div class="error">The system could not process the given value.</div>
 
 Unfortunately, we cannot make use of the original string representation of the
 value error, since it cannot be localized well enough. Thus we provide our own
 message. Of course, the message can be overridden:
 
   >>> CustomMessage = error.ErrorViewMessage(
-  ...     u'The entered value is not valid.', error=ValueError)
+  ...     'The entered value is not valid.', error=ValueError)
   >>> zope.component.provideAdapter(CustomMessage, name='message')
 
 Let's now render the snippet again:
 
   >>> errorView.update()
   >>> print(errorView.render())
   <div class="error">The entered value is not valid.</div>
@@ -202,15 +202,15 @@
 ---------------------------
 
 When invariants are used, commonly the ``Invalid`` exception (from the
 ``zope.interface`` package) is raised from within the invariant, if the
 invariant finds a problem. We need a special error view snippet for this class
 of errors:
 
-  >>> invalidError = zope.interface.Invalid(u'The data was invalid.')
+  >>> invalidError = zope.interface.Invalid('The data was invalid.')
   >>> errorView = error.InvalidErrorViewSnippet(
   ...     invalidError, TestRequest(), None, None, None, None)
 
 Since the same template as before is used, the error simply renders:
 
   >>> errorView.update()
   >>> print(errorView.render())
```

### Comparing `z3c.form-4.3/src/z3c/form/error.zcml` & `z3c.form-5.0/src/z3c/form/error.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/field.py` & `z3c.form-5.0/src/z3c/form/field.py`

 * *Files 2% similar despite different names*

```diff
@@ -17,55 +17,56 @@
 """
 __docformat__ = "reStructuredText"
 import zope.component
 import zope.interface
 import zope.location
 import zope.schema.interfaces
 
-from z3c.form import interfaces, util
+from z3c.form import interfaces
+from z3c.form import util
 from z3c.form.error import MultipleErrors
 from z3c.form.widget import AfterWidgetUpdateEvent
 
 
 def _initkw(keepReadOnly=(), omitReadOnly=False, **defaults):
     return keepReadOnly, omitReadOnly, defaults
 
 
 class WidgetFactories(dict):
 
     def __init__(self):
-        super(WidgetFactories, self).__init__()
+        super().__init__()
         self.default = None
 
     def __getitem__(self, key):
         if key not in self and self.default:
             return self.default
-        return super(WidgetFactories, self).__getitem__(key)
+        return super().__getitem__(key)
 
     def get(self, key, default=None):
         if key not in self and self.default:
             return self.default
-        return super(WidgetFactories, self).get(key, default)
+        return super().get(key, default)
 
 
-class WidgetFactoryProperty(object):
+class WidgetFactoryProperty:
 
     def __get__(self, inst, klass):
         if not hasattr(inst, '_widgetFactories'):
             inst._widgetFactories = WidgetFactories()
         return inst._widgetFactories
 
     def __set__(self, inst, value):
         if not hasattr(inst, '_widgetFactories'):
             inst._widgetFactories = WidgetFactories()
         inst._widgetFactories.default = value
 
 
 @zope.interface.implementer(interfaces.IField)
-class Field(object):
+class Field:
     """Field implementation."""
 
     widgetFactory = WidgetFactoryProperty()
 
     def __init__(self, field, name=None, prefix='', mode=None, interface=None,
                  ignoreContext=None, showDefault=None):
         self.field = field
@@ -78,15 +79,15 @@
         if interface is None:
             interface = field.interface
         self.interface = interface
         self.ignoreContext = ignoreContext
         self.showDefault = showDefault
 
     def __repr__(self):
-        return '<%s %r>' % (self.__class__.__name__, self.__name__)
+        return '<{} {!r}>'.format(self.__class__.__name__, self.__name__)
 
 
 @zope.interface.implementer(interfaces.IFields)
 class Fields(util.SelectionManager):
     """Field manager."""
     managerInterface = interfaces.IFields
 
@@ -104,23 +105,24 @@
                 if not name:
                     raise ValueError("Field has no name")
                 fields.append((name, arg, arg.interface))
 
             elif self.managerInterface.providedBy(arg):
                 for form_field in arg.values():
                     fields.append(
-                        (form_field.__name__, form_field, form_field.interface))
+                        (form_field.__name__, form_field,
+                         form_field.interface))
 
             elif isinstance(arg, Field):
                 fields.append((arg.__name__, arg, arg.interface))
 
             else:
                 raise TypeError("Unrecognized argument type", arg)
 
-        super(Fields, self).__init__()
+        super().__init__()
         for name, field, iface in fields:
             if isinstance(field, Field):
                 form_field = field
             else:
                 if field.readonly:
                     if omitReadOnly and (name not in keepReadOnly):
                         continue
@@ -140,52 +142,54 @@
         prefix = kwargs.pop('prefix', None)
         interface = kwargs.pop('interface', None)
         assert len(kwargs) == 0
         if prefix:
             names = [util.expandPrefix(prefix) + name for name in names]
         mapping = self
         if interface is not None:
-            mapping = dict([(field.field.__name__, field)
-                            for field in self.values()
-                            if field.field.interface is interface])
+            mapping = {field.field.__name__: field
+                       for field in self.values()
+                       if field.field.interface is interface}
         return self.__class__(*[mapping[name] for name in names])
 
     def omit(self, *names, **kwargs):
         """See interfaces.IFields"""
         prefix = kwargs.pop('prefix', None)
         interface = kwargs.pop('interface', None)
         assert len(kwargs) == 0
         if prefix:
             names = [util.expandPrefix(prefix) + name for name in names]
         return self.__class__(
             *[field for name, field in self.items()
               if not ((name in names and interface is None) or
                       (field.field.interface is interface and
-                       field.field.__name__ in names)) ])
+                       field.field.__name__ in names))])
 
 
 @zope.interface.implementer_only(interfaces.IWidgets)
 class FieldWidgets(util.Manager):
     """Widget manager for IFieldWidget."""
 
     zope.component.adapts(
-        interfaces.IFieldsForm, interfaces.IFormLayer, zope.interface.Interface)
+        interfaces.IFieldsForm,
+        interfaces.IFormLayer,
+        zope.interface.Interface)
 
     prefix = 'widgets.'
     mode = interfaces.INPUT_MODE
     errors = ()
     hasRequiredFields = False
     ignoreContext = False
     ignoreRequest = False
     ignoreReadonly = False
     ignoreRequiredOnExtract = False
     setErrors = True
 
     def __init__(self, form, request, content):
-        super(FieldWidgets, self).__init__()
+        super().__init__()
         self.form = form
         self.request = request
         self.content = content
 
     def validate(self, data):
         fields = self.form.fields.values()
 
@@ -289,15 +293,16 @@
                 continue
             value = widget.field.missing_value
             try:
                 widget.setErrors = self.setErrors
                 raw = widget.extract()
                 if raw is not interfaces.NO_VALUE:
                     value = interfaces.IDataConverter(widget).toFieldValue(raw)
-                widget.ignoreRequiredOnValidation = self.ignoreRequiredOnExtract
+                widget.ignoreRequiredOnValidation = (
+                    self.ignoreRequiredOnExtract)
                 zope.component.getMultiAdapter(
                     (self.content,
                      self.request,
                      self.form,
                      getattr(widget, 'field', None),
                      widget),
                     interfaces.IValidator).validate(value)
```

### Comparing `z3c.form-4.3/src/z3c/form/field.rst` & `z3c.form-5.0/src/z3c/form/field.rst`

 * *Files 1% similar despite different names*

```diff
@@ -14,23 +14,23 @@
 Thus, the first step is to create a schema:
 
   >>> import zope.interface
   >>> import zope.schema
 
   >>> class IPerson(zope.interface.Interface):
   ...      id = zope.schema.Int(
-  ...          title=u'Id',
+  ...          title='Id',
   ...          readonly=True)
   ...
   ...      name = zope.schema.TextLine(
-  ...          title=u'Name')
+  ...          title='Name')
   ...
   ...      country = zope.schema.Choice(
-  ...          title=u'Country',
-  ...          values=(u'Germany', u'Switzerland', u'USA'),
+  ...          title='Country',
+  ...          values=('Germany', 'Switzerland', 'USA'),
   ...          required=False)
 
 We can now create the field manager:
 
   >>> from z3c.form import field
   >>> manager = field.Fields(IPerson)
 
@@ -83,18 +83,18 @@
   ['country', 'name']
 
 Selecting a field becomes a little bit more tricky when field names
 overlap. For example, let's say that a person can be adapted to a pet:
 
   >>> class IPet(zope.interface.Interface):
   ...      id = zope.schema.TextLine(
-  ...          title=u'Id')
+  ...          title='Id')
   ...
   ...      name = zope.schema.TextLine(
-  ...          title=u'Name')
+  ...          title='Name')
 
 The pet field(s) can only be added to the fields manager with a prefix:
 
   >>> manager += field.Fields(IPet, prefix='pet')
   >>> list(manager.keys())
   ['country', 'name', 'pet.id', 'pet.name']
 
@@ -195,15 +195,15 @@
 just pass in schema fields:
 
   >>> list(field.Fields(IPerson['name']).keys())
   ['name']
 
 However, the schema field has to have a name:
 
-  >>> email = zope.schema.TextLine(title=u'E-Mail')
+  >>> email = zope.schema.TextLine(title='E-Mail')
   >>> field.Fields(email)
   Traceback (most recent call last):
   ...
   ValueError: Field has no name
 
 Adding a name helps:
 
@@ -271,15 +271,15 @@
   the interface:
 
     >>> class IMyPerson(IPerson):
     ...     pass
 
     >>> manager = field.Fields(email, interface=IMyPerson)
     >>> manager['email'].interface
-    <InterfaceClass __builtin__.IMyPerson>
+    <InterfaceClass builtins.IMyPerson>
 
 * ``mode``
 
   The mode in which the widget will be rendered. By default there are two
   available, "input" and "display". When mode is not specified, "input" is
   chosen.
 
@@ -349,30 +349,30 @@
   >>> def lastNameConstraint(value):
   ...     if value and value == value.lower():
   ...         raise zope.interface.Invalid(u"Name must have at least one capital letter")
   ...     return True
 
   >>> class IPerson(zope.interface.Interface):
   ...     id = zope.schema.TextLine(
-  ...         title=u'ID',
+  ...         title='ID',
   ...         description=u"The person's ID.",
   ...         readonly=True,
   ...         required=True)
   ...
   ...     lastName = zope.schema.TextLine(
-  ...         title=u'Last Name',
+  ...         title='Last Name',
   ...         description=u"The person's last name.",
-  ...         default=u'',
+  ...         default='',
   ...         required=True,
   ...         constraint=lastNameConstraint)
   ...
   ...     firstName = zope.schema.TextLine(
-  ...         title=u'First Name',
+  ...         title='First Name',
   ...         description=u"The person's first name.",
-  ...         default=u'-- unknown --',
+  ...         default='-- unknown --',
   ...         required=False)
   ...
   ...     @zope.interface.invariant
   ...     def twiceAsLong(person):
   ...         # note: we're protecting here values against being None
   ...         # just in case ignoreRequiredOnExtract lets that through
   ...         if len(person.lastName or '') >= 2 * len(person.firstName or ''):
@@ -607,15 +607,15 @@
   ...                        'firstName': checker.CheckerPublic,
   ...                        'lastName': checker.CheckerPublic},
   ...     set_permissions = {'firstName': 'test.Edit',
   ...                        'lastName': checker.CheckerPublic}
   ...     )
 
   >>> srichter = checker.ProxyFactory(
-  ...     Person(u'Stephan', u'Richter'), PersonChecker)
+  ...     Person('Stephan', 'Richter'), PersonChecker)
 
 In this case the last name is always editable, but for the first name the user
 will need the edit ("test.Edit") permission.
 
 We also need to register the data manager and setup a new security policy:
 
   >>> from z3c.form import datamanager
@@ -706,23 +706,23 @@
   >>> from z3c.form import validator
   >>> zope.component.provideAdapter(validator.InvariantsValidator)
 
   >>> personForm.fields = field.Fields(IPerson)
   >>> manager.update()
 
   >>> manager.validate(
-  ...     {'firstName': u'Stephan', 'lastName': u'Richter'})
+  ...     {'firstName': 'Stephan', 'lastName': 'Richter'})
   ()
 
 The result of this method is a tuple of errors that occurred during the
 validation. An empty tuple means the validation succeeded. Let's now make the
 validation fail:
 
   >>> errors = manager.validate(
-  ...     {'firstName': u'Stephan', 'lastName': u'Richter-Richter'})
+  ...     {'firstName': 'Stephan', 'lastName': 'Richter-Richter'})
 
   >>> [error.doc() for error in errors]
   ['The last name is too short.']
 
 A special case occurs when the schema fields are not associated with an
 interface:
 
@@ -734,100 +734,100 @@
   >>> personNameForm = PersonNameForm()
 
   >>> manager = field.FieldWidgets(personNameForm, request, context)
 
 In this case, the widget manager's ``validate()`` method should simply ignore
 the field and not try to look up any invariants:
 
-  >>> manager.validate({'name': u'Stephan'})
+  >>> manager.validate({'name': 'Stephan'})
   ()
 
 Let's now have a look at the widget manager's ``extract()``, which returns a
 data dictionary and the collection of errors. Before we can validate, we have
 to register a validator for the widget:
 
   >>> zope.component.provideAdapter(validator.SimpleFieldValidator)
 
 When all goes well, the data dictionary is complete and the error collection
 empty:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.id': u'srichter',
-  ...     'form.widgets.firstName': u'Stephan',
-  ...     'form.widgets.lastName': u'Richter'})
+  ...     'form.widgets.id': 'srichter',
+  ...     'form.widgets.firstName': 'Stephan',
+  ...     'form.widgets.lastName': 'Richter'})
   >>> manager = field.FieldWidgets(personForm, request, context)
   >>> manager.ignoreContext = True
   >>> manager.update()
 
   >>> data, errors = manager.extract()
   >>> data['firstName']
-  u'Stephan'
+  'Stephan'
   >>> data['lastName']
-  u'Richter'
+  'Richter'
   >>> errors
   ()
 
 Since all errors are immediately converted to error view snippets, we have to
 provide the adapter from a validation error to an error view snippet first:
 
   >>> from z3c.form import error
   >>> zope.component.provideAdapter(error.ErrorViewSnippet)
   >>> zope.component.provideAdapter(error.InvalidErrorViewSnippet)
 
 Let's now cause a widget-level error by not submitting the required last
 name:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan', 'form.widgets.id': u'srichter'})
+  ...     'form.widgets.firstName': 'Stephan', 'form.widgets.id': 'srichter'})
   >>> manager = field.FieldWidgets(personForm, request, context)
   >>> manager.ignoreContext = True
   >>> manager.update()
   >>> manager.extract()
-  ({'firstName': u'Stephan'}, (<ErrorViewSnippet for RequiredMissing>,))
+  ({'firstName': 'Stephan'}, (<ErrorViewSnippet for RequiredMissing>,))
 
 We can also turn off ``required`` checking for data extraction:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan', 'form.widgets.id': u'srichter'})
+  ...     'form.widgets.firstName': 'Stephan', 'form.widgets.id': 'srichter'})
   >>> manager = field.FieldWidgets(personForm, request, context)
   >>> manager.ignoreContext = True
   >>> manager.ignoreRequiredOnExtract = True
   >>> manager.update()
 
 Here we get the required field as ``None`` and no errors:
 
   >>> pprint(manager.extract())
-  ({'firstName': u'Stephan', 'lastName': None}, ())
+  ({'firstName': 'Stephan', 'lastName': None}, ())
 
   >>> manager.ignoreRequiredOnExtract = False
 
 Or, we could violate a constraint. This constraint raises Invalid, which is
 a convenient way to raise errors where we mainly care about providing a custom
 error message.
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan',
-  ...     'form.widgets.lastName': u'richter',
-  ...     'form.widgets.id': u'srichter'})
+  ...     'form.widgets.firstName': 'Stephan',
+  ...     'form.widgets.lastName': 'richter',
+  ...     'form.widgets.id': 'srichter'})
   >>> manager = field.FieldWidgets(personForm, request, context)
   >>> manager.ignoreContext = True
   >>> manager.update()
   >>> extracted = manager.extract()
   >>> extracted
-  ({'firstName': u'Stephan'}, (<InvalidErrorViewSnippet for Invalid>,))
+  ({'firstName': 'Stephan'}, (<InvalidErrorViewSnippet for Invalid>,))
 
   >>> extracted[1][0].createMessage()
-  u'Name must have at least one capital letter'
+  'Name must have at least one capital letter'
 
 Finally, let's ensure that invariant failures are also caught:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.id': u'srichter',
-  ...     'form.widgets.firstName': u'Stephan',
-  ...     'form.widgets.lastName': u'Richter-Richter'})
+  ...     'form.widgets.id': 'srichter',
+  ...     'form.widgets.firstName': 'Stephan',
+  ...     'form.widgets.lastName': 'Richter-Richter'})
   >>> manager = field.FieldWidgets(personForm, request, context)
   >>> manager.ignoreContext = True
   >>> manager.update()
   >>> data, errors = manager.extract()
   >>> errors[0].error.doc()
   'The last name is too short.'
 
@@ -841,25 +841,25 @@
   >>> manager.errors
   (<ErrorViewSnippet for LastNameTooShort>,)
 
 This behavior can be turned off. To demonstrate, let's make a new request that
 causes a widget-level error:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan', 'form.widgets.id': u'srichter'})
+  ...     'form.widgets.firstName': 'Stephan', 'form.widgets.id': 'srichter'})
   >>> manager = field.FieldWidgets(personForm, request, context)
   >>> manager.ignoreContext = True
   >>> manager.update()
 
 We have to set the setErrors property to False before calling extract,
 we still get the same result from the method call, ...
 
   >>> manager.setErrors = False
   >>> manager.extract()
-  ({'firstName': u'Stephan'}, (<ErrorViewSnippet for RequiredMissing>,))
+  ({'firstName': 'Stephan'}, (<ErrorViewSnippet for RequiredMissing>,))
 
 but there are no side effects on the manager and the widgets:
 
   >>> manager.errors
   ()
   >>> manager['lastName'].error is None
   True
```

### Comparing `z3c.form-4.3/src/z3c/form/file.zcml` & `z3c.form-5.0/src/z3c/form/file.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/form-chameleon-issue-repeat-addons.rst` & `z3c.form-5.0/src/z3c/form/form-chameleon-issue-repeat-addons.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/form-graph.dot` & `z3c.form-5.0/src/z3c/form/form-graph.dot`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/form-graph.png` & `z3c.form-5.0/src/z3c/form/form-graph.png`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/form-graph.ps` & `z3c.form-5.0/src/z3c/form/form-graph.ps`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/form.py` & `z3c.form-5.0/src/z3c/form/form.py`

 * *Files 2% similar despite different names*

```diff
@@ -14,44 +14,48 @@
 """Form Implementation
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 import json
 import sys
-import zope.interface
+
 import zope.component
 import zope.event
+import zope.interface
 import zope.lifecycleevent
 from zope.browserpage.viewpagetemplatefile import ViewPageTemplateFile
-from zope.publisher import browser
 from zope.pagetemplate.interfaces import IPageTemplate
+from zope.publisher import browser
 from zope.schema.fieldproperty import FieldProperty
 
-from z3c.form import button, field, interfaces, util
+from z3c.form import button
+from z3c.form import field
+from z3c.form import interfaces
+from z3c.form import util
 from z3c.form.events import DataExtractedEvent
 from z3c.form.i18n import MessageFactory as _
 
 
 def applyChanges(form, content, data):
     changes = {}
-    for name, field in form.fields.items():
+    for name, field_ in form.fields.items():
         # If the field is not in the data, then go on to the next one
         try:
             newValue = data[name]
         except KeyError:
             continue
         # If the value is NOT_CHANGED, ignore it, since the widget/converter
         # sent a strong message not to do so.
         if newValue is interfaces.NOT_CHANGED:
             continue
-        if util.changedField(field.field, newValue, context=content):
+        if util.changedField(field_.field, newValue, context=content):
             # Only update the data, if it is different
             dm = zope.component.getMultiAdapter(
-                (content, field.field), interfaces.IDataManager)
+                (content, field_.field), interfaces.IDataManager)
             dm.set(newValue)
             # Record the change using information required later
             changes.setdefault(dm.field.interface, []).append(name)
     return changes
 
 
 def extends(*args, **kwargs):
@@ -134,16 +138,17 @@
         self.widgets.ignoreRequest = self.ignoreRequest
         self.widgets.ignoreReadonly = self.ignoreReadonly
         self.widgets.update()
 
     @property
     def requiredInfo(self):
         if self.labelRequired is not None and self.widgets is not None \
-            and self.widgets.hasRequiredFields:
-            return zope.i18n.translate(self.labelRequired, context=self.request)
+                and self.widgets.hasRequiredFields:
+            return zope.i18n.translate(
+                self.labelRequired, context=self.request)
 
     def extractData(self, setErrors=True):
         '''See interfaces.IForm'''
         self.widgets.setErrors = setErrors
         self.widgets.ignoreRequiredOnExtract = self.ignoreRequiredOnExtract
         data, errors = self.widgets.extract()
         zope.event.notify(DataExtractedEvent(data, errors, self))
@@ -154,15 +159,15 @@
         self.updateWidgets()
 
     def render(self):
         '''See interfaces.IForm'''
         # render content template
         if self.template is None:
             template = zope.component.getMultiAdapter((self, self.request),
-                IPageTemplate)
+                                                      IPageTemplate)
             return template(self)
         return self.template()
 
     def json(self):
         data = {
             'errors': [
                 error.message for error in
@@ -181,16 +186,16 @@
 class DisplayForm(BaseForm):
 
     mode = interfaces.DISPLAY_MODE
     ignoreRequest = True
 
 
 @zope.interface.implementer(
-        interfaces.IInputForm, interfaces.IButtonForm,
-        interfaces.IHandlerForm, interfaces.IActionForm)
+    interfaces.IInputForm, interfaces.IButtonForm,
+    interfaces.IHandlerForm, interfaces.IActionForm)
 class Form(BaseForm):
     """The Form."""
 
     buttons = button.Buttons()
 
     method = FieldProperty(interfaces.IInputForm['method'])
     enctype = FieldProperty(interfaces.IInputForm['enctype'])
@@ -219,26 +224,27 @@
 
     def updateActions(self):
         self.actions = zope.component.getMultiAdapter(
             (self, self.request, self.getContent()), interfaces.IActions)
         self.actions.update()
 
     def update(self):
-        super(Form, self).update()
+        super().update()
         self.updateActions()
         self.actions.execute()
         if self.refreshActions:
             self.updateActions()
 
     def __call__(self):
         self.update()
 
         # Don't render anything if we are doing a redirect
-        if self.request.response.getStatus() in (300, 301, 302, 303, 304, 305, 307,):
-            return u''
+        if self.request.response.getStatus() in (
+                300, 301, 302, 303, 304, 305, 307,):
+            return ''
 
         return self.render()
 
 
 @zope.interface.implementer(interfaces.IAddForm)
 class AddForm(Form):
     """A field and button based add form."""
@@ -274,15 +280,15 @@
     def nextURL(self):
         raise NotImplementedError
 
     def render(self):
         if self._finishedAdd:
             self.request.response.redirect(self.nextURL())
             return ""
-        return super(AddForm, self).render()
+        return super().render()
 
 
 @zope.interface.implementer(interfaces.IEditForm)
 class EditForm(Form):
     """A simple edit form with an apply button."""
 
     successMessage = _('Data successfully updated.')
@@ -296,15 +302,16 @@
             # Construct change-descriptions for the object-modified event
             descriptions = []
             for interface, names in changes.items():
                 descriptions.append(
                     zope.lifecycleevent.Attributes(interface, *names))
             # Send out a detailed object-modified event
             zope.event.notify(
-                zope.lifecycleevent.ObjectModifiedEvent(content, *descriptions))
+                zope.lifecycleevent.ObjectModifiedEvent(
+                    content, *descriptions))
         return changes
 
     @button.buttonAndHandler(_('Apply'), name='apply')
     def handleApply(self, action):
         data, errors = self.extractData()
         if errors:
             self.status = self.formErrorsMessage
@@ -312,20 +319,21 @@
         changes = self.applyChanges(data)
         if changes:
             self.status = self.successMessage
         else:
             self.status = self.noChangesMessage
 
 
-class FormTemplateFactory(object):
+class FormTemplateFactory:
     """Form template factory."""
 
     def __init__(self, filename, contentType='text/html', form=None,
-        request=None):
-        self.template = ViewPageTemplateFile(filename, content_type=contentType)
+                 request=None):
+        self.template = ViewPageTemplateFile(
+            filename, content_type=contentType)
         zope.component.adapter(
             util.getSpecification(form),
             util.getSpecification(request))(self)
         zope.interface.implementer(IPageTemplate)(self)
 
     def __call__(self, form, request):
         return self.template
```

### Comparing `z3c.form-4.3/src/z3c/form/form.rst` & `z3c.form-5.0/src/z3c/form/form.rst`

 * *Files 1% similar despite different names*

```diff
@@ -29,29 +29,29 @@
 Before we can start writing forms, we must have the content to work with:
 
   >>> import zope.interface
   >>> import zope.schema
   >>> class IPerson(zope.interface.Interface):
   ...
   ...     id = zope.schema.TextLine(
-  ...         title=u'ID',
+  ...         title='ID',
   ...         readonly=True,
   ...         required=True)
   ...
   ...     name = zope.schema.TextLine(
-  ...         title=u'Name',
+  ...         title='Name',
   ...         required=True)
   ...
   ...     gender = zope.schema.Choice(
-  ...         title=u'Gender',
+  ...         title='Gender',
   ...         values=('male', 'female'),
   ...         required=False)
   ...
   ...     age = zope.schema.Int(
-  ...         title=u'Age',
+  ...         title='Age',
   ...         description=u"The person's age.",
   ...         min=0,
   ...         default=20,
   ...         required=False)
   ...
   ...     @zope.interface.invariant
   ...     def ensureIdAndNameNotEqual(person):
@@ -193,15 +193,15 @@
 transferred from the field to the widget:
 
   >>> age = addForm.widgets['age']
 
   # field.title -> age.label
 
   >>> age.label
-  u'Age'
+  'Age'
 
   # field.required -> age.required
 
   >>> age.required
   False
 
 All these values can be overridden at later stages of the updating
@@ -221,15 +221,15 @@
 there is no content object to represent, so the second step is not
 applicable. The third step is also not applicable as we do not have
 anything in the request. Therefore, the value should be the field's
 default value, or be empty. In this case the field provides a default
 value:
 
   >>> age.value
-  u'20'
+  '20'
 
 While the default of the age field is actually the integer ``20``, the
 widget has converted the value to the output-ready string ``'20'``
 using a data converter.
 
 Widget Mode
 ~~~~~~~~~~~
@@ -276,17 +276,17 @@
   >>> len(addForm.actions)
   1
 
 The add button is an action and a widget at the same time:
 
   >>> addAction = addForm.actions['add']
   >>> addAction.title
-  u'Add'
+  'Add'
   >>> addAction.value
-  u'Add'
+  'Add'
 
 After everything is set up, all pressed buttons are executed. Once a submitted
 action is detected, a special action handler adapter is used to determine the
 actions to take. Since the add button has not been pressed yet, no action
 occurred.
 
 
@@ -485,31 +485,31 @@
   >>> sorted(root)
   []
 
 Let's now fill the request with all the right values so that upon submitting
 the form with the "Add" button, the person should be added to the root folder:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.id': u'srichter',
-  ...     'form.widgets.name': u'Stephan Richter',
+  ...     'form.widgets.id': 'srichter',
+  ...     'form.widgets.name': 'Stephan Richter',
   ...     'form.widgets.gender': ['male'],
-  ...     'form.widgets.age': u'20',
-  ...     'form.buttons.add': u'Add'}
+  ...     'form.widgets.age': '20',
+  ...     'form.buttons.add': 'Add'}
   ...     )
 
   >>> addForm = PersonAddForm(root, request)
   >>> addForm.update()
 
   >>> sorted(root)
-  [u'srichter']
-  >>> stephan = root[u'srichter']
+  ['srichter']
+  >>> stephan = root['srichter']
   >>> stephan.id
-  u'srichter'
+  'srichter'
   >>> stephan.name
-  u'Stephan Richter'
+  'Stephan Richter'
   >>> stephan.gender
   'male'
   >>> stephan.age
   20
 
 
 Check, if DataExtractedEvent was thrown
@@ -530,18 +530,18 @@
 ----------------------------------------
 
 Next we try to submit the add form with the required name missing. Thus, the
 add form should not complete with the addition, but return with the add form
 pointing out the error.
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.id': u'srichter',
+  ...     'form.widgets.id': 'srichter',
   ...     'form.widgets.gender': ['male'],
-  ...     'form.widgets.age': u'23',
-  ...     'form.buttons.add': u'Add'}
+  ...     'form.widgets.age': '23',
+  ...     'form.buttons.add': 'Add'}
   ...     )
 
   >>> addForm = PersonAddForm(root, request)
   >>> addForm.update()
 
 The widget manager and the widget causing the error should have an error
 message:
@@ -676,19 +676,19 @@
 Note that the values of the field are now extracted from the request.
 
 Another way to receive an error is by not fulfilling the invariants of the
 schema. In our case, the id and name cannot be the same. So let's provoke the
 error now:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.id': u'Stephan',
-  ...     'form.widgets.name': u'Stephan',
+  ...     'form.widgets.id': 'Stephan',
+  ...     'form.widgets.name': 'Stephan',
   ...     'form.widgets.gender': ['male'],
-  ...     'form.widgets.age': u'23',
-  ...     'form.buttons.add': u'Add'}
+  ...     'form.widgets.age': '23',
+  ...     'form.buttons.add': 'Add'}
   ...     )
 
   >>> addForm = PersonAddForm(root, request)
   >>> addTemplate(addForm)
   >>> addForm.update()
 
 and see how the form looks like:
@@ -760,26 +760,26 @@
     'mode': 'input',
     'prefix': 'form.',
     'status': 'There were some errors.'}
 
 Let's try to provide a negative age, which is not possible either:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.id': u'srichter',
+  ...     'form.widgets.id': 'srichter',
   ...     'form.widgets.gender': ['male'],
-  ...     'form.widgets.age': u'-5',
-  ...     'form.buttons.add': u'Add'}
+  ...     'form.widgets.age': '-5',
+  ...     'form.buttons.add': 'Add'}
   ...     )
 
   >>> addForm = PersonAddForm(root, request)
   >>> addForm.update()
 
   >>> [(view.widget.label, view) for view in addForm.widgets.errors]
-  [(u'Name', <ErrorViewSnippet for RequiredMissing>),
-   (u'Age', <ErrorViewSnippet for TooSmall>)]
+  [('Name', <ErrorViewSnippet for RequiredMissing>),
+   ('Age', <ErrorViewSnippet for TooSmall>)]
 
 But the error message for a negative age is too generic:
 
   >>> print(addForm.widgets['age'].error.render())
   <div class="error">Value is too small</div>
 
 It would be better to say that negative values are disallowed. So let's
@@ -790,15 +790,15 @@
   >>> class TooSmallView(error.ErrorViewSnippet):
   ...     zope.component.adapts(
   ...         zope.schema.interfaces.TooSmall, None, None, None, None, None)
   ...
   ...     def update(self):
   ...         super(TooSmallView, self).update()
   ...         if self.field.min == 0:
-  ...             self.message = u'The value cannot be a negative number.'
+  ...             self.message = 'The value cannot be a negative number.'
 
   >>> zope.component.provideAdapter(TooSmallView)
 
   >>> addForm = PersonAddForm(root, request)
   >>> addForm.update()
   >>> print(addForm.widgets['age'].error.render())
   <div class="error">The value cannot be a negative number.</div>
@@ -850,15 +850,15 @@
 any special configuration, there is no adapter, so rendering the form
 fails:
 
   >>> addForm.template = None
   >>> addForm.render()
   Traceback (most recent call last):
   ...
-  ComponentLookupError: ((...), <InterfaceClass ...IPageTemplate>, u'')
+  ComponentLookupError: ((...), <InterfaceClass ...IPageTemplate>, '')
 
 The form module provides a simple component to create adapter
 factories from templates:
 
   >>> factory = form.FormTemplateFactory(
   ...     testing.getPath('../tests/simple_edit.pt'), form=PersonAddForm)
 
@@ -885,15 +885,15 @@
   </html>
 
 The form also provides a label for rendering a required info. This required
 info depends by default on the given requiredInfo label and if at least one
 field is required:
 
   >>> addForm.requiredInfo
-  u'<span class="required">*</span>&ndash; required'
+  '<span class="required">*</span>&ndash; required'
 
 If we set the labelRequired to None, we do not get a requiredInfo label:
 
   >>> addForm.labelRequired = None
   >>> addForm.requiredInfo is None
   True
 
@@ -910,15 +910,15 @@
 customizable via an attribute value adapter.
 
 To demonstrate this feature, let's change the label of the name widget
 from "Name" to "Full Name":
 
   >>> from z3c.form import widget
   >>> NameLabel = widget.StaticWidgetAttribute(
-  ...     u'Full Name', field=IPerson['name'])
+  ...     'Full Name', field=IPerson['name'])
   >>> zope.component.provideAdapter(NameLabel, name='label')
 
 When the form renders, the label has now changed:
 
   >>> addForm = PersonAddForm(root, TestRequest())
   >>> addTemplate(addForm)
   >>> addForm.update()
@@ -952,15 +952,15 @@
   ...         interfaces.IAddForm,
   ...         zope.interface.Interface,
   ...         zope.interface.Interface)
   ...
   ...     def update(self):
   ...         self.form.buttons = button.Buttons(
   ...             self.form.buttons,
-  ...             button.Button('cancel', u'Cancel'))
+  ...             button.Button('cancel', 'Cancel'))
   ...         super(AddActions, self).update()
 
 After registering the new action manager,
 
   >>> zope.component.provideAdapter(AddActions)
 
 the add form should display a cancel button:
@@ -993,15 +993,15 @@
 
 After registering the action handler,
 
   >>> zope.component.provideAdapter(AddActionHandler)
 
 we can press the cancel button and we will be forwarded:
 
-  >>> request = TestRequest(form={'form.buttons.cancel': u'Cancel'})
+  >>> request = TestRequest(form={'form.buttons.cancel': 'Cancel'})
 
   >>> addForm = PersonAddForm(root, request)
   >>> addTemplate(addForm)
   >>> addForm.update()
   >>> addForm.render()
   ''
 
@@ -1024,15 +1024,15 @@
 
   >>> class PersonEditForm(form.EditForm):
   ...
   ...     fields = field.Fields(IPerson)
 
 We can use the created person from the successful addition above.
 
-  >>> editForm = PersonEditForm(root[u'srichter'], TestRequest())
+  >>> editForm = PersonEditForm(root['srichter'], TestRequest())
 
 After adding a template, we can look at the form:
 
   >>> addTemplate(editForm)
   >>> editForm.update()
   >>> print(editForm.render())
   <html xmlns="http://www.w3.org/1999/xhtml">
@@ -1081,21 +1081,21 @@
 
 Failure Upon Submission of Edit Form
 ------------------------------------
 
 Let's now submit the form having some invalid data.
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.name': u'Claudia Richter',
+  ...     'form.widgets.name': 'Claudia Richter',
   ...     'form.widgets.gender': ['female'],
-  ...     'form.widgets.age': u'-1',
-  ...     'form.buttons.apply': u'Apply'}
+  ...     'form.widgets.age': '-1',
+  ...     'form.buttons.apply': 'Apply'}
   ...     )
 
-  >>> editForm = PersonEditForm(root[u'srichter'], request)
+  >>> editForm = PersonEditForm(root['srichter'], request)
   >>> addTemplate(editForm)
   >>> editForm.update()
   >>> print(editForm.render())
   <html xmlns="http://www.w3.org/1999/xhtml">
     <body>
       <i>There were some errors.</i>
       <ul>
@@ -1145,30 +1145,30 @@
 
 Successfully Editing Content
 ----------------------------
 
 Let's now resubmit the form with valid data, so the data should be updated.
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.name': u'Claudia Richter',
+  ...     'form.widgets.name': 'Claudia Richter',
   ...     'form.widgets.gender': ['female'],
-  ...     'form.widgets.age': u'27',
-  ...     'form.buttons.apply': u'Apply'}
+  ...     'form.widgets.age': '27',
+  ...     'form.buttons.apply': 'Apply'}
   ...     )
 
-  >>> editForm = PersonEditForm(root[u'srichter'], request)
+  >>> editForm = PersonEditForm(root['srichter'], request)
   >>> addTemplate(editForm)
   >>> editForm.update()
   >>> print(testing.render(editForm, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >Data successfully updated.</i>
   ...
 
-  >>> stephan = root[u'srichter']
+  >>> stephan = root['srichter']
   >>> stephan.name
-  u'Claudia Richter'
+  'Claudia Richter'
   >>> stephan.gender
   'female'
   >>> stephan.age
   27
 
 When an edit form is successfully committed, a detailed object-modified event
 is sent out telling the system about the changes. To see the error, let's
@@ -1180,50 +1180,50 @@
   ... def logEvent(event):
   ...     eventlog.append(event)
   >>> zope.component.provideHandler(logEvent)
 
 Let's now submit the form again, successfully changing the age:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.name': u'Claudia Richter',
+  ...     'form.widgets.name': 'Claudia Richter',
   ...     'form.widgets.gender': ['female'],
-  ...     'form.widgets.age': u'29',
-  ...     'form.buttons.apply': u'Apply'}
+  ...     'form.widgets.age': '29',
+  ...     'form.buttons.apply': 'Apply'}
   ...     )
 
-  >>> editForm = PersonEditForm(root[u'srichter'], request)
+  >>> editForm = PersonEditForm(root['srichter'], request)
   >>> addTemplate(editForm)
   >>> editForm.update()
 
 We can now look at the event:
 
   >>> event = eventlog[-1]
   >>> event
   <zope...ObjectModifiedEvent object at ...>
 
   >>> attrs = event.descriptions[0]
   >>> attrs.interface
-  <InterfaceClass __builtin__.IPerson>
+  <InterfaceClass builtins.IPerson>
   >>> attrs.attributes
   ('age',)
 
 
 Successful Action with No Changes
 ---------------------------------
 
 When submitting the form without any changes, the form will tell you so.
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.name': u'Claudia Richter',
+  ...     'form.widgets.name': 'Claudia Richter',
   ...     'form.widgets.gender': ['female'],
-  ...     'form.widgets.age': u'29',
-  ...     'form.buttons.apply': u'Apply'}
+  ...     'form.widgets.age': '29',
+  ...     'form.buttons.apply': 'Apply'}
   ...     )
 
-  >>> editForm = PersonEditForm(root[u'srichter'], request)
+  >>> editForm = PersonEditForm(root['srichter'], request)
   >>> addTemplate(editForm)
   >>> editForm.update()
   >>> print(testing.render(editForm, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >No changes were applied.</i>
   ...
 
 
@@ -1242,15 +1242,15 @@
 
 * ``successMessage`` -- The form data was successfully applied.
 
 * ``noChangesMessage`` -- No changes were found in the form data.
 
 Let's now change the ``noChangesMessage``:
 
-  >>> editForm.noChangesMessage = u'No changes were detected in the form data.'
+  >>> editForm.noChangesMessage = 'No changes were detected in the form data.'
   >>> editForm.update()
   >>> print(testing.render(editForm, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >No changes were detected in the form data.</i>
   ...
 
 When even more flexibility is required within a project, one could also
 implement these messages as properties looking up an attribute value. However,
@@ -1267,15 +1267,15 @@
 
   >>> from z3c.form import datamanager
   >>> zope.component.provideAdapter(datamanager.DictionaryField)
 
 The only step the developer has to complete is to re-implement the form's
 ``getContent()`` method to return the dictionary:
 
-  >>> personDict = {'id': u'rineichen', 'name': u'Roger Ineichen',
+  >>> personDict = {'id': 'rineichen', 'name': 'Roger Ineichen',
   ...               'gender': None, 'age': None}
   >>> class PersonDictEditForm(PersonEditForm):
   ...     def getContent(self):
   ...         return personDict
 
 We can now use the form as usual:
 
@@ -1326,32 +1326,32 @@
   </html>
 
 Note that the name displayed in the form is identical to the one in the
 dictionary. Let's now submit a form to ensure that the data are also written to
 the dictionary:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.name': u'Jesse Ineichen',
+  ...     'form.widgets.name': 'Jesse Ineichen',
   ...     'form.widgets.gender': ['male'],
-  ...     'form.widgets.age': u'5',
-  ...     'form.buttons.apply': u'Apply'}
+  ...     'form.widgets.age': '5',
+  ...     'form.buttons.apply': 'Apply'}
   ...     )
   >>> editForm = PersonDictEditForm(None, request)
   >>> editForm.update()
 
   >>> len(personDict)
   4
   >>> personDict['age']
   5
   >>> personDict['gender']
   'male'
   >>> personDict['id']
-  u'rineichen'
+  'rineichen'
   >>> personDict['name']
-  u'Jesse Ineichen'
+  'Jesse Ineichen'
 
 
 Creating a Display Form
 -----------------------
 
 Creating a display form is simple; just instantiate, update and render it:
 
@@ -1461,137 +1461,137 @@
 yourself. Unfortunately, just inheriting the form is not enough, because the
 new button and handler declarations will override the inherited ones. Let me
 demonstrate the problem:
 
   >>> class BaseForm(form.Form):
   ...     fields = field.Fields(IPerson).select('name')
   ...
-  ...     @button.buttonAndHandler(u'Apply')
+  ...     @button.buttonAndHandler('Apply')
   ...     def handleApply(self, action):
   ...         print('success')
 
   >>> list(BaseForm.fields.keys())
   ['name']
   >>> list(BaseForm.buttons.keys())
   ['apply']
   >>> BaseForm.handlers
-  <Handlers [<Handler for <Button 'apply' u'Apply'>>]>
+  <Handlers [<Handler for <Button 'apply' 'Apply'>>]>
 
 Let's now derive a form from the base form:
 
   >>> class DerivedForm(BaseForm):
   ...     fields = field.Fields(IPerson).select('gender')
   ...
-  ...     @button.buttonAndHandler(u'Cancel')
+  ...     @button.buttonAndHandler('Cancel')
   ...     def handleCancel(self, action):
   ...         print('cancel')
 
   >>> list(DerivedForm.fields.keys())
   ['gender']
   >>> list(DerivedForm.buttons.keys())
   ['cancel']
   >>> DerivedForm.handlers
-  <Handlers [<Handler for <Button 'cancel' u'Cancel'>>]>
+  <Handlers [<Handler for <Button 'cancel' 'Cancel'>>]>
 
 The obvious method to "inherit" the base form's information is to copy it
 over:
 
   >>> class DerivedForm(BaseForm):
   ...     fields = BaseForm.fields.copy()
   ...     buttons = BaseForm.buttons.copy()
   ...     handlers = BaseForm.handlers.copy()
   ...
   ...     fields += field.Fields(IPerson).select('gender')
   ...
-  ...     @button.buttonAndHandler(u'Cancel')
+  ...     @button.buttonAndHandler('Cancel')
   ...     def handleCancel(self, action):
   ...         print('cancel')
 
   >>> list(DerivedForm.fields.keys())
   ['name', 'gender']
   >>> list(DerivedForm.buttons.keys())
   ['apply', 'cancel']
   >>> DerivedForm.handlers
   <Handlers
-      [<Handler for <Button 'apply' u'Apply'>>,
-       <Handler for <Button 'cancel' u'Cancel'>>]>
+      [<Handler for <Button 'apply' 'Apply'>>,
+       <Handler for <Button 'cancel' 'Cancel'>>]>
 
 But this is pretty clumsy. Instead, the ``form`` module provides a helper
 method that will do the extending for you:
 
   >>> class DerivedForm(BaseForm):
   ...     form.extends(BaseForm)
   ...
   ...     fields += field.Fields(IPerson).select('gender')
   ...
-  ...     @button.buttonAndHandler(u'Cancel')
+  ...     @button.buttonAndHandler('Cancel')
   ...     def handleCancel(self, action):
   ...         print('cancel')
 
   >>> list(DerivedForm.fields.keys())
   ['name', 'gender']
   >>> list(DerivedForm.buttons.keys())
   ['apply', 'cancel']
   >>> DerivedForm.handlers
   <Handlers
-      [<Handler for <Button 'apply' u'Apply'>>,
-       <Handler for <Button 'cancel' u'Cancel'>>]>
+      [<Handler for <Button 'apply' 'Apply'>>,
+       <Handler for <Button 'cancel' 'Cancel'>>]>
 
 If you, for example do not want to extend the buttons, you can turn that off:
 
   >>> class DerivedForm(BaseForm):
   ...     form.extends(BaseForm, ignoreButtons=True)
   ...
   ...     fields += field.Fields(IPerson).select('gender')
   ...
-  ...     @button.buttonAndHandler(u'Cancel')
+  ...     @button.buttonAndHandler('Cancel')
   ...     def handleCancel(self, action):
   ...         print('cancel')
 
   >>> list(DerivedForm.fields.keys())
   ['name', 'gender']
   >>> list(DerivedForm.buttons.keys())
   ['cancel']
   >>> DerivedForm.handlers
   <Handlers
-      [<Handler for <Button 'apply' u'Apply'>>,
-       <Handler for <Button 'cancel' u'Cancel'>>]>
+      [<Handler for <Button 'apply' 'Apply'>>,
+       <Handler for <Button 'cancel' 'Cancel'>>]>
 
 If you, for example do not want to extend the handlers, you can turn that off:
 
   >>> class DerivedForm(BaseForm):
   ...     form.extends(BaseForm, ignoreHandlers=True)
   ...
   ...     fields += field.Fields(IPerson).select('gender')
   ...
-  ...     @button.buttonAndHandler(u'Cancel')
+  ...     @button.buttonAndHandler('Cancel')
   ...     def handleCancel(self, action):
   ...         print('cancel')
 
   >>> list(DerivedForm.fields.keys())
   ['name', 'gender']
   >>> list(DerivedForm.buttons.keys())
   ['apply', 'cancel']
   >>> DerivedForm.handlers
-  <Handlers [<Handler for <Button 'cancel' u'Cancel'>>]>
+  <Handlers [<Handler for <Button 'cancel' 'Cancel'>>]>
 
 
 Custom widget factories
 -----------------------
 
 Another important part of a form is that we can use custom widgets. We can do
 this in a form by defining a widget factory for a field. We can get the field
 from the fields collection e.g. ``fields['foo']``. This means, we can define
 new widget factories by defining ``fields['foo'].widgetFactory = MyWidget``.
 Let's show a sample and define a custom widget:
 
   >>> from z3c.form.browser import text
   >>> class MyWidget(text.TextWidget):
   ...     """My new widget."""
-  ...     klass = u'MyCSS'
+  ...     klass = 'MyCSS'
 
 Now we can define a field widget factory:
 
   >>> def MyFieldWidget(field, request):
   ...     """IFieldWidget factory for MyWidget."""
   ...     return widget.FieldWidget(field, MyWidget(request))
 
@@ -1600,15 +1600,15 @@
   >>> class MyEditForm(form.EditForm):
   ...
   ...     fields = field.Fields(IPerson)
   ...     fields['name'].widgetFactory = MyFieldWidget
 
 We can see that the custom widget gets used in the rendered form:
 
-  >>> myEdit = MyEditForm(root[u'srichter'], TestRequest())
+  >>> myEdit = MyEditForm(root['srichter'], TestRequest())
   >>> addTemplate(myEdit)
   >>> myEdit.update()
   >>> print(testing.render(myEdit, './/xmlns:input[@id="form-widgets-name"]'))
   <input type="text" id="form-widgets-name"
          name="form.widgets.name" class="MyCSS required textline-field"
          value="Claudia Richter" />
 
@@ -1627,15 +1627,15 @@
   ...
   ...     def updateWidgets(self):
   ...         super(HiddenFieldEditForm, self).updateWidgets()
   ...         self.widgets['age'].mode = interfaces.HIDDEN_MODE
 
 We can see that the widget gets rendered as hidden:
 
-  >>> hiddenEdit = HiddenFieldEditForm(root[u'srichter'], TestRequest())
+  >>> hiddenEdit = HiddenFieldEditForm(root['srichter'], TestRequest())
   >>> addTemplate(hiddenEdit)
   >>> hiddenEdit.update()
   >>> print(testing.render(hiddenEdit, './/xmlns:input[@id="form-widgets-age"]'))
   <input type="hidden" id="form-widgets-age"
          name="form.widgets.age" class="hidden-widget"
          value="29" />
 
@@ -1647,117 +1647,117 @@
 data turns out to be invalid while the action is executed. In those cases a
 special action execution error can be raised that wraps the original error.
 
   >>> class PersonAddForm(form.AddForm):
   ...
   ...     fields = field.Fields(IPerson).select('id')
   ...
-  ...     @button.buttonAndHandler(u'Check')
+  ...     @button.buttonAndHandler('Check')
   ...     def handleCheck(self, action):
   ...         data, errors = self.extractData()
   ...         if data['id'] in self.getContent():
   ...             raise interfaces.WidgetActionExecutionError(
   ...                 'id', zope.interface.Invalid('Id already exists'))
 
 In this case the action execution error is specific to a widget. The framework
 will attach a proper error view to the widget and the widget manager:
 
   >>> request = TestRequest(form={
-  ...     'form.widgets.id': u'srichter',
-  ...     'form.buttons.check': u'Check'}
+  ...     'form.widgets.id': 'srichter',
+  ...     'form.buttons.check': 'Check'}
   ...     )
 
   >>> addForm = PersonAddForm(root, request)
   >>> addForm.update()
 
   >>> addForm.widgets.errors
   (<InvalidErrorViewSnippet for Invalid>,)
   >>> addForm.widgets['id'].error
   <InvalidErrorViewSnippet for Invalid>
   >>> addForm.status
-  u'There were some errors.'
+  'There were some errors.'
 
 If the error is non-widget specific, then we can simply use the generic action
 execution error:
 
   >>> class PersonAddForm(form.AddForm):
   ...
   ...     fields = field.Fields(IPerson).select('id')
   ...
-  ...     @button.buttonAndHandler(u'Check')
+  ...     @button.buttonAndHandler('Check')
   ...     def handleCheck(self, action):
   ...         raise interfaces.ActionExecutionError(
   ...             zope.interface.Invalid('Some problem occurred.'))
 
 Let's have a look at the result:
 
   >>> addForm = PersonAddForm(root, request)
   >>> addForm.update()
 
   >>> addForm.widgets.errors
   (<InvalidErrorViewSnippet for Invalid>,)
   >>> addForm.status
-  u'There were some errors.'
+  'There were some errors.'
 
 **Note**:
 
   The action execution errors are connected to the form via an event
   listener called ``handlerActionError``. This event listener listens for
   ``IActionErrorEvent`` events. If the event is called for an action associated
   with a form, the listener does its work as seen above. If the action is not
   coupled to a form, then event listener does nothing:
 
     >>> from z3c.form import action
 
-    >>> cancel = action.Action(request, u'Cancel')
+    >>> cancel = action.Action(request, 'Cancel')
     >>> event = action.ActionErrorOccurred(cancel, ValueError(3))
 
     >>> form.handleActionError(event)
 
 
 Applying Changes
 ----------------
 
 When applying the data of a form to a content component, the function
 ``applyChanges()`` is called. It simply iterates through the fields of the
 form and uses the data managers to store the values. The output of the
 function is a list of changes:
 
-  >>> roger = Person(u'roger', u'Roger')
+  >>> roger = Person('roger', 'Roger')
   >>> roger
-  <Person u'Roger'>
+  <Person 'Roger'>
 
   >>> class BaseForm(form.Form):
   ...     fields = field.Fields(IPerson).select('name')
   >>> myForm = BaseForm(roger, TestRequest())
 
-  >>> form.applyChanges(myForm, roger, {'name': u'Roger Ineichen'})
-  {<InterfaceClass __builtin__.IPerson>: ['name']}
+  >>> form.applyChanges(myForm, roger, {'name': 'Roger Ineichen'})
+  {<InterfaceClass builtins.IPerson>: ['name']}
 
   >>> roger
-  <Person u'Roger Ineichen'>
+  <Person 'Roger Ineichen'>
 
 When a field is missing from the data, it is simply skipped:
 
   >>> form.applyChanges(myForm, roger, {})
   {}
 
 If the new and old value are identical, storing the data is skipped as well:
 
-  >>> form.applyChanges(myForm, roger, {'name': u'Roger Ineichen'})
+  >>> form.applyChanges(myForm, roger, {'name': 'Roger Ineichen'})
   {}
 
 In some cases the data converter for a field-widget pair returns the
 ``NOT_CHANGED`` value. In this case, the field is skipped as well:
 
   >>> form.applyChanges(myForm, roger, {'name': interfaces.NOT_CHANGED})
   {}
 
   >>> roger
-  <Person u'Roger Ineichen'>
+  <Person 'Roger Ineichen'>
 
 
 Refreshing actions
 ------------------
 
 Sometimes, it's useful to update actions again after executing them,
 because some conditions could have changed. For example, imagine
@@ -1770,15 +1770,15 @@
 variable is intended to handle this case.
 
 Let's create a simple form with an action that clears our context
 sequence.
 
   >>> class SequenceForm(form.Form):
   ...
-  ...     @button.buttonAndHandler(u'Empty', condition=lambda form:bool(form.context))
+  ...     @button.buttonAndHandler('Empty', condition=lambda form:bool(form.context))
   ...     def handleEmpty(self, action):
   ...         self.context[:] = []
   ...         self.refreshActions = True
 
 First, let's illustrate simple cases, when no button is pressed.
 The button will be available when context is not empty.
 
@@ -1807,15 +1807,15 @@
 Now, the most interesting case when context is not empty, but becomes
 empty as a result of pressing the "empty" button. We set the
 ``refreshActions`` flag in the action handler, so our actions should
 be updated to new conditions.
 
   >>> context = [1, 2, 3, 4, 5]
   >>> request = TestRequest(form={
-  ...     'form.buttons.empty': u'Empty'}
+  ...     'form.buttons.empty': 'Empty'}
   ...     )
   >>> myForm = SequenceForm(context, request)
   >>> myForm.update()
   >>> addTemplate(myForm)
   >>> print(testing.render(myForm, './/xmlns:form'))
   <form action=".">
   </form>
```

### Comparing `z3c.form-4.3/src/z3c/form/group.py` & `z3c.form-5.0/src/z3c/form/group.py`

 * *Files 2% similar despite different names*

```diff
@@ -13,20 +13,21 @@
 ##############################################################################
 """Widget Group Implementation
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 
-from z3c.form import form, interfaces
-from zope.interface import implementer
-from z3c.form.events import DataExtractedEvent
-
 import zope.component
 import zope.event
+from zope.interface import implementer
+
+from z3c.form import form
+from z3c.form import interfaces
+from z3c.form.events import DataExtractedEvent
 
 
 @implementer(interfaces.IGroup)
 class Group(form.BaseForm):
 
     groups = ()
 
@@ -60,15 +61,15 @@
                 group = groupClass(self.context, self.request, self)
             group.update()
             groups.append(group)
         self.groups = tuple(groups)
 
     def extractData(self, setErrors=True):
         '''See interfaces.IForm'''
-        data, errors = super(Group, self).extractData(setErrors=setErrors)
+        data, errors = super().extractData(setErrors=setErrors)
         for group in self.groups:
             groupData, groupErrors = group.extractData(setErrors=setErrors)
             data.update(groupData)
             if groupErrors:
                 if errors:
                     errors += groupErrors
                 else:
@@ -84,22 +85,22 @@
             groupChanged = group.applyChanges(data)
             for interface, names in groupChanged.items():
                 changed[interface] = changed.get(interface, []) + names
         return changed
 
 
 @implementer(interfaces.IGroupForm)
-class GroupForm(object):
+class GroupForm:
     """A mix-in class for add and edit forms to support groups."""
 
     groups = ()
 
     def extractData(self, setErrors=True):
         '''See interfaces.IForm'''
-        data, errors = super(GroupForm, self).extractData(setErrors=setErrors)
+        data, errors = super().extractData(setErrors=setErrors)
         for group in self.groups:
             groupData, groupErrors = group.extractData(setErrors=setErrors)
             data.update(groupData)
             if groupErrors:
                 if errors:
                     errors += groupErrors
                 else:
```

### Comparing `z3c.form-4.3/src/z3c/form/group.rst` & `z3c.form-5.0/src/z3c/form/group.rst`

 * *Files 7% similar despite different names*

```diff
@@ -14,23 +14,23 @@
 So let's first define a complex content component that warrants setting up
 multiple groups:
 
   >>> import zope.interface
   >>> import zope.schema
 
   >>> class IVehicleRegistration(zope.interface.Interface):
-  ...     firstName = zope.schema.TextLine(title=u'First Name')
-  ...     lastName = zope.schema.TextLine(title=u'Last Name')
+  ...     firstName = zope.schema.TextLine(title='First Name')
+  ...     lastName = zope.schema.TextLine(title='Last Name')
   ...
-  ...     license = zope.schema.TextLine(title=u'License')
-  ...     address = zope.schema.TextLine(title=u'Address')
+  ...     license = zope.schema.TextLine(title='License')
+  ...     address = zope.schema.TextLine(title='Address')
   ...
-  ...     model = zope.schema.TextLine(title=u'Model')
-  ...     make = zope.schema.TextLine(title=u'Make')
-  ...     year = zope.schema.TextLine(title=u'Year')
+  ...     model = zope.schema.TextLine(title='Model')
+  ...     make = zope.schema.TextLine(title='Make')
+  ...     year = zope.schema.TextLine(title='Year')
 
   >>> @zope.interface.implementer(IVehicleRegistration)
   ... class VehicleRegistration(object):
   ...
   ...     def __init__(self, **kw):
   ...         for name, value in kw.items():
   ...             setattr(self, name, value)
@@ -38,20 +38,20 @@
 The schema above can be separated into basic, license, and car information,
 where the latter two will be placed into groups. First we create the two
 groups:
 
   >>> from z3c.form import field, group
 
   >>> class LicenseGroup(group.Group):
-  ...     label = u'License'
+  ...     label = 'License'
   ...     fields = field.Fields(IVehicleRegistration).select(
   ...         'license', 'address')
 
   >>> class CarGroup(group.Group):
-  ...     label = u'Car'
+  ...     label = 'Car'
   ...     fields = field.Fields(IVehicleRegistration).select(
   ...         'model', 'make', 'year')
 
 Most of the group is setup like any other (sub)form. Additionally, you can
 specify a label, which is a human-readable string that can be used for layout
 purposes.
 
@@ -185,21 +185,21 @@
   ...     data_extracted_eventlog.append(event)
   >>> zope.component.provideHandler(data_extracted_logger)
 
 
 Let's now submit the form, but forgetting to enter the address:
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan',
-  ...     'form.widgets.lastName': u'Richter',
-  ...     'form.widgets.license': u'MA 40387',
-  ...     'form.widgets.model': u'BMW',
-  ...     'form.widgets.make': u'325',
-  ...     'form.widgets.year': u'2005',
-  ...     'form.buttons.add': u'Add'
+  ...     'form.widgets.firstName': 'Stephan',
+  ...     'form.widgets.lastName': 'Richter',
+  ...     'form.widgets.license': 'MA 40387',
+  ...     'form.widgets.model': 'BMW',
+  ...     'form.widgets.make': '325',
+  ...     'form.widgets.year': '2005',
+  ...     'form.buttons.add': 'Add'
   ...     })
 
   >>> add = RegistrationAddForm(None, request)
   >>> add.update()
   >>> print(testing.render(add, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >There were some errors.</i>
   ...
@@ -221,20 +221,20 @@
   >>> len(data_extracted_eventlog) > 0
   True
 
 
 So what happens, if errors happen inside and outside a group?
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan',
-  ...     'form.widgets.license': u'MA 40387',
-  ...     'form.widgets.model': u'BMW',
-  ...     'form.widgets.make': u'325',
-  ...     'form.widgets.year': u'2005',
-  ...     'form.buttons.add': u'Add'
+  ...     'form.widgets.firstName': 'Stephan',
+  ...     'form.widgets.license': 'MA 40387',
+  ...     'form.widgets.model': 'BMW',
+  ...     'form.widgets.make': '325',
+  ...     'form.widgets.year': '2005',
+  ...     'form.buttons.add': 'Add'
   ...     })
 
   >>> add = RegistrationAddForm(None, request)
   >>> add.update()
   >>> print(testing.render(add, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >There were some errors.</i>
   ...
@@ -265,44 +265,44 @@
 
 Let's now successfully complete the add form.
 
   >>> from zope.container import btree
   >>> context = btree.BTreeContainer()
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan',
-  ...     'form.widgets.lastName': u'Richter',
-  ...     'form.widgets.license': u'MA 40387',
-  ...     'form.widgets.address': u'10 Main St, Maynard, MA',
-  ...     'form.widgets.model': u'BMW',
-  ...     'form.widgets.make': u'325',
-  ...     'form.widgets.year': u'2005',
-  ...     'form.buttons.add': u'Add'
+  ...     'form.widgets.firstName': 'Stephan',
+  ...     'form.widgets.lastName': 'Richter',
+  ...     'form.widgets.license': 'MA 40387',
+  ...     'form.widgets.address': '10 Main St, Maynard, MA',
+  ...     'form.widgets.model': 'BMW',
+  ...     'form.widgets.make': '325',
+  ...     'form.widgets.year': '2005',
+  ...     'form.buttons.add': 'Add'
   ...     })
 
   >>> add = RegistrationAddForm(context, request)
   >>> add.update()
 
 The object is now added to the container and all attributes should be set:
 
   >>> reg = context['obj1']
   >>> reg.firstName
-  u'Stephan'
+  'Stephan'
   >>> reg.lastName
-  u'Richter'
+  'Richter'
   >>> reg.license
-  u'MA 40387'
+  'MA 40387'
   >>> reg.address
-  u'10 Main St, Maynard, MA'
+  '10 Main St, Maynard, MA'
   >>> reg.model
-  u'BMW'
+  'BMW'
   >>> reg.make
-  u'325'
+  '325'
   >>> reg.year
-  u'2005'
+  '2005'
 
 Let's now have a look at an edit form for the vehicle registration:
 
   >>> class RegistrationEditForm(group.GroupForm, form.EditForm):
   ...     fields = field.Fields(IVehicleRegistration).select(
   ...         'firstName', 'lastName')
   ...     groups = (LicenseGroup, CarGroup)
@@ -384,21 +384,21 @@
       </form>
     </body>
   </html>
 
 The behavior when an error occurs is identical to that of the add form:
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan',
-  ...     'form.widgets.lastName': u'Richter',
-  ...     'form.widgets.license': u'MA 40387',
-  ...     'form.widgets.model': u'BMW',
-  ...     'form.widgets.make': u'325',
-  ...     'form.widgets.year': u'2005',
-  ...     'form.buttons.apply': u'Apply'
+  ...     'form.widgets.firstName': 'Stephan',
+  ...     'form.widgets.lastName': 'Richter',
+  ...     'form.widgets.license': 'MA 40387',
+  ...     'form.widgets.model': 'BMW',
+  ...     'form.widgets.make': '325',
+  ...     'form.widgets.year': '2005',
+  ...     'form.buttons.apply': 'Apply'
   ...     })
 
   >>> edit = RegistrationEditForm(reg, request)
   >>> edit.update()
   >>> print(testing.render(edit, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >There were some errors.</i>
   ...
@@ -431,62 +431,62 @@
   ...     eventlog.append(event)
   >>> zope.component.provideHandler(logEvent)
 
 
 Let's now complete the form successfully:
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.firstName': u'Stephan',
-  ...     'form.widgets.lastName': u'Richter',
-  ...     'form.widgets.license': u'MA 4038765',
-  ...     'form.widgets.address': u'11 Main St, Maynard, MA',
-  ...     'form.widgets.model': u'Ford',
-  ...     'form.widgets.make': u'F150',
-  ...     'form.widgets.year': u'2006',
-  ...     'form.buttons.apply': u'Apply'
+  ...     'form.widgets.firstName': 'Stephan',
+  ...     'form.widgets.lastName': 'Richter',
+  ...     'form.widgets.license': 'MA 4038765',
+  ...     'form.widgets.address': '11 Main St, Maynard, MA',
+  ...     'form.widgets.model': 'Ford',
+  ...     'form.widgets.make': 'F150',
+  ...     'form.widgets.year': '2006',
+  ...     'form.buttons.apply': 'Apply'
   ...     })
 
   >>> edit = RegistrationEditForm(reg, request)
   >>> edit.update()
 
 The success message will be shown on the form, ...
 
   >>> print(testing.render(edit, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >Data successfully updated.</i>
   ...
 
 and the data are correctly updated:
 
   >>> reg.firstName
-  u'Stephan'
+  'Stephan'
   >>> reg.lastName
-  u'Richter'
+  'Richter'
   >>> reg.license
-  u'MA 4038765'
+  'MA 4038765'
   >>> reg.address
-  u'11 Main St, Maynard, MA'
+  '11 Main St, Maynard, MA'
   >>> reg.model
-  u'Ford'
+  'Ford'
   >>> reg.make
-  u'F150'
+  'F150'
   >>> reg.year
-  u'2006'
+  '2006'
 
 Let's look at the event:
 
   >>> event = eventlog[-1]
   >>> event
   <zope...ObjectModifiedEvent object at ...>
 
 The event's description contains the changed Interface and the names of
 all changed fields, even if they where in different groups:
 
   >>> attrs = event.descriptions[0]
   >>> attrs.interface
-  <InterfaceClass __builtin__.IVehicleRegistration>
+  <InterfaceClass builtins.IVehicleRegistration>
   >>> attrs.attributes
   ('license', 'address', 'model', 'make', 'year')
 
 
 Group form as instance
 ----------------------
 
@@ -580,30 +580,30 @@
 You can customize the content for a group by overriding a group's
 ``getContent`` method.  This is a very easy way to get around not
 having object widgets.  For example, suppose we want to maintain the
 vehicle owner's information in a separate class than the vehicle.  We
 might have an ``IVehicleOwner`` interface like so.
 
   >>> class IVehicleOwner(zope.interface.Interface):
-  ...     firstName = zope.schema.TextLine(title=u'First Name')
-  ...     lastName = zope.schema.TextLine(title=u'Last Name')
+  ...     firstName = zope.schema.TextLine(title='First Name')
+  ...     lastName = zope.schema.TextLine(title='Last Name')
 
 Then out ``IVehicleRegistration`` interface would include an object
 field for the owner instead of the ``firstName`` and ``lastName``
 fields.
 
   >>> class IVehicleRegistration(zope.interface.Interface):
-  ...     owner = zope.schema.Object(title=u'Owner', schema=IVehicleOwner)
+  ...     owner = zope.schema.Object(title='Owner', schema=IVehicleOwner)
   ...
-  ...     license = zope.schema.TextLine(title=u'License')
-  ...     address = zope.schema.TextLine(title=u'Address')
+  ...     license = zope.schema.TextLine(title='License')
+  ...     address = zope.schema.TextLine(title='Address')
   ...
-  ...     model = zope.schema.TextLine(title=u'Model')
-  ...     make = zope.schema.TextLine(title=u'Make')
-  ...     year = zope.schema.TextLine(title=u'Year')
+  ...     model = zope.schema.TextLine(title='Model')
+  ...     make = zope.schema.TextLine(title='Make')
+  ...     year = zope.schema.TextLine(title='Year')
 
 Now let's create simple implementations of these two interfaces.
 
   >>> @zope.interface.implementer(IVehicleOwner)
   ... class VehicleOwner(object):
   ...
   ...     def __init__(self, **kw):
@@ -618,15 +618,15 @@
   ...             setattr(self, name, value)
 
 Now we can create a group just for the owner with its own
 ``getContent`` method that simply returns the ``owner`` object field
 of the ``VehicleRegistration`` instance.
 
   >>> class OwnerGroup(group.Group):
-  ...     label = u'Owner'
+  ...     label = 'Owner'
   ...     fields = field.Fields(IVehicleOwner, prefix='owner')
   ...
   ...     def getContent(self):
   ...         return self.context.owner
 
 When we create an Edit form for example, we should omit the ``owner``
 field which is taken care of with the group.
@@ -636,21 +636,21 @@
   ...         'owner')
   ...     groups = (OwnerGroup,)
   ...
   ...     template = ViewPageTemplateFile(
   ...         'simple_groupedit.pt', os.path.dirname(tests.__file__))
 
   >>> reg = VehicleRegistration(
-  ...               license=u'MA 40387',
-  ...               address=u'10 Main St, Maynard, MA',
-  ...               model=u'BMW',
-  ...               make=u'325',
-  ...               year=u'2005',
-  ...               owner=VehicleOwner(firstName=u'Stephan',
-  ...                                  lastName=u'Richter'))
+  ...               license='MA 40387',
+  ...               address='10 Main St, Maynard, MA',
+  ...               model='BMW',
+  ...               make='325',
+  ...               year='2005',
+  ...               owner=VehicleOwner(firstName='Stephan',
+  ...                                  lastName='Richter'))
   >>> request = testing.TestRequest()
 
   >>> edit = RegistrationEditForm(reg, request)
   >>> edit.update()
 
 When we render the form, the group appears as we would expect but with
 the ``owner`` prefix for the fields.
@@ -719,143 +719,143 @@
     </body>
   </html>
 
 Now let's try and edit the owner.  For example, suppose that Stephan
 Richter gave his BMW to Paul Carduner because he is such a nice guy.
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.owner.firstName': u'Paul',
-  ...     'form.widgets.owner.lastName': u'Carduner',
-  ...     'form.widgets.license': u'MA 4038765',
-  ...     'form.widgets.address': u'Berkeley',
-  ...     'form.widgets.model': u'BMW',
-  ...     'form.widgets.make': u'325',
-  ...     'form.widgets.year': u'2005',
-  ...     'form.buttons.apply': u'Apply'
+  ...     'form.widgets.owner.firstName': 'Paul',
+  ...     'form.widgets.owner.lastName': 'Carduner',
+  ...     'form.widgets.license': 'MA 4038765',
+  ...     'form.widgets.address': 'Berkeley',
+  ...     'form.widgets.model': 'BMW',
+  ...     'form.widgets.make': '325',
+  ...     'form.widgets.year': '2005',
+  ...     'form.buttons.apply': 'Apply'
   ...     })
   >>> edit = RegistrationEditForm(reg, request)
   >>> edit.update()
 
 We'll see if everything worked on the form side.
 
   >>> print(testing.render(edit, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >Data successfully updated.</i>
   ...
 
 Now the owner object should have updated fields.
 
   >>> reg.owner.firstName
-  u'Paul'
+  'Paul'
   >>> reg.owner.lastName
-  u'Carduner'
+  'Carduner'
   >>> reg.license
-  u'MA 4038765'
+  'MA 4038765'
   >>> reg.address
-  u'Berkeley'
+  'Berkeley'
   >>> reg.model
-  u'BMW'
+  'BMW'
   >>> reg.make
-  u'325'
+  '325'
   >>> reg.year
-  u'2005'
+  '2005'
 
 
 Nested Groups
 -------------
 
 The group can contains groups. Let's adapt the previous RegistrationEditForm:
 
   >>> class OwnerGroup(group.Group):
-  ...     label = u'Owner'
+  ...     label = 'Owner'
   ...     fields = field.Fields(IVehicleOwner, prefix='owner')
   ...
   ...     def getContent(self):
   ...         return self.context.owner
 
   >>> class VehicleRegistrationGroup(group.Group):
-  ...     label = u'Registration'
+  ...     label = 'Registration'
   ...     fields = field.Fields(IVehicleRegistration).omit(
   ...         'owner')
   ...     groups = (OwnerGroup,)
   ...
   ...     template = ViewPageTemplateFile(
   ...         'simple_groupedit.pt', os.path.dirname(tests.__file__))
 
   >>> class RegistrationEditForm(group.GroupForm, form.EditForm):
   ...     groups = (VehicleRegistrationGroup,)
   ...
   ...     template = ViewPageTemplateFile(
   ...         'simple_nested_groupedit.pt', os.path.dirname(tests.__file__))
 
   >>> reg = VehicleRegistration(
-  ...               license=u'MA 40387',
-  ...               address=u'10 Main St, Maynard, MA',
-  ...               model=u'BMW',
-  ...               make=u'325',
-  ...               year=u'2005',
-  ...               owner=VehicleOwner(firstName=u'Stephan',
-  ...                                  lastName=u'Richter'))
+  ...               license='MA 40387',
+  ...               address='10 Main St, Maynard, MA',
+  ...               model='BMW',
+  ...               make='325',
+  ...               year='2005',
+  ...               owner=VehicleOwner(firstName='Stephan',
+  ...                                  lastName='Richter'))
   >>> request = testing.TestRequest()
 
   >>> edit = RegistrationEditForm(reg, request)
   >>> edit.update()
 
 Now let's try and edit the owner.  For example, suppose that Stephan
 Richter gave his BMW to Paul Carduner because he is such a nice guy.
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.owner.firstName': u'Paul',
-  ...     'form.widgets.owner.lastName': u'Carduner',
-  ...     'form.widgets.license': u'MA 4038765',
-  ...     'form.widgets.address': u'Berkeley',
-  ...     'form.widgets.model': u'BMW',
-  ...     'form.widgets.make': u'325',
-  ...     'form.widgets.year': u'2005',
-  ...     'form.buttons.apply': u'Apply'
+  ...     'form.widgets.owner.firstName': 'Paul',
+  ...     'form.widgets.owner.lastName': 'Carduner',
+  ...     'form.widgets.license': 'MA 4038765',
+  ...     'form.widgets.address': 'Berkeley',
+  ...     'form.widgets.model': 'BMW',
+  ...     'form.widgets.make': '325',
+  ...     'form.widgets.year': '2005',
+  ...     'form.buttons.apply': 'Apply'
   ...     })
   >>> edit = RegistrationEditForm(reg, request)
   >>> edit.update()
 
 We'll see if everything worked on the form side.
 
   >>> print(testing.render(edit, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >Data successfully updated.</i>
   ...
 
 Now the owner object should have updated fields.
 
   >>> reg.owner.firstName
-  u'Paul'
+  'Paul'
   >>> reg.owner.lastName
-  u'Carduner'
+  'Carduner'
   >>> reg.license
-  u'MA 4038765'
+  'MA 4038765'
   >>> reg.address
-  u'Berkeley'
+  'Berkeley'
   >>> reg.model
-  u'BMW'
+  'BMW'
   >>> reg.make
-  u'325'
+  '325'
   >>> reg.year
-  u'2005'
+  '2005'
 
 So what happens, if errors happen inside a nested group? Let's use an empty
 invalid object for the test missing input errors:
 
   >>> reg = VehicleRegistration(owner=VehicleOwner())
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.owner.firstName': u'',
-  ...     'form.widgets.owner.lastName': u'',
-  ...     'form.widgets.license': u'',
-  ...     'form.widgets.address': u'',
-  ...     'form.widgets.model': u'',
-  ...     'form.widgets.make': u'',
-  ...     'form.widgets.year': u'',
-  ...     'form.buttons.apply': u'Apply'
+  ...     'form.widgets.owner.firstName': '',
+  ...     'form.widgets.owner.lastName': '',
+  ...     'form.widgets.license': '',
+  ...     'form.widgets.address': '',
+  ...     'form.widgets.model': '',
+  ...     'form.widgets.make': '',
+  ...     'form.widgets.year': '',
+  ...     'form.buttons.apply': 'Apply'
   ...     })
 
   >>> edit = RegistrationEditForm(reg, request)
   >>> edit.update()
   >>> data, errors = edit.extractData()
   >>> print(testing.render(edit, './/xmlns:i'))  # doctest: +NOPARSE_MARKUP
   <i >There were some errors.</i>
@@ -899,21 +899,21 @@
 
 Group instance in nested group
 ------------------------------
 
 Let's also test if the Group class can handle group objects as instances:
 
   >>> reg = VehicleRegistration(
-  ...               license=u'MA 40387',
-  ...               address=u'10 Main St, Maynard, MA',
-  ...               model=u'BMW',
-  ...               make=u'325',
-  ...               year=u'2005',
-  ...               owner=VehicleOwner(firstName=u'Stephan',
-  ...                                  lastName=u'Richter'))
+  ...               license='MA 40387',
+  ...               address='10 Main St, Maynard, MA',
+  ...               model='BMW',
+  ...               make='325',
+  ...               year='2005',
+  ...               owner=VehicleOwner(firstName='Stephan',
+  ...                                  lastName='Richter'))
   >>> request = testing.TestRequest()
 
   >>> edit = RegistrationEditForm(reg, request)
   >>> vrg = VehicleRegistrationGroup(edit.context, request, edit)
   >>> ownerGroup = OwnerGroup(edit.context, request, edit)
 
 Now build the group instance object chain:
@@ -994,22 +994,22 @@
     </body>
   </html>
 
 
 Now test the error handling if just one missing value is given in a group:
 
   >>> request = testing.TestRequest(form={
-  ...     'form.widgets.owner.firstName': u'Paul',
-  ...     'form.widgets.owner.lastName': u'',
-  ...     'form.widgets.license': u'MA 4038765',
-  ...     'form.widgets.address': u'Berkeley',
-  ...     'form.widgets.model': u'BMW',
-  ...     'form.widgets.make': u'325',
-  ...     'form.widgets.year': u'2005',
-  ...     'form.buttons.apply': u'Apply'
+  ...     'form.widgets.owner.firstName': 'Paul',
+  ...     'form.widgets.owner.lastName': '',
+  ...     'form.widgets.license': 'MA 4038765',
+  ...     'form.widgets.address': 'Berkeley',
+  ...     'form.widgets.model': 'BMW',
+  ...     'form.widgets.make': '325',
+  ...     'form.widgets.year': '2005',
+  ...     'form.buttons.apply': 'Apply'
   ...     })
 
   >>> edit = RegistrationEditForm(reg, request)
   >>> vrg = VehicleRegistrationGroup(edit.context, request, edit)
   >>> ownerGroup = OwnerGroup(edit.context, request, edit)
   >>> vrg.groups = (ownerGroup,)
   >>> edit.groups = (vrg,)
```

### Comparing `z3c.form-4.3/src/z3c/form/hint.py` & `z3c.form-5.0/src/z3c/form/hint.py`

 * *Files 17% similar despite different names*

```diff
@@ -13,26 +13,30 @@
 ##############################################################################
 """Title hint adapter implementation
 
 $Id:$
 """
 __docformat__ = "reStructuredText"
 
-import zope.interface
 import zope.component
+import zope.interface
 import zope.schema.interfaces
 
 from z3c.form import interfaces
 
 
 @zope.interface.implementer(interfaces.IValue)
-class FieldDescriptionAsHint(object):
+class FieldDescriptionAsHint:
     """Schema field description as widget ``title`` IValue adapter."""
-    zope.component.adapts(zope.interface.Interface, interfaces.IFormLayer,
-        interfaces.IForm, zope.schema.interfaces.IField, interfaces.IWidget)
+    zope.component.adapts(
+        zope.interface.Interface,
+        interfaces.IFormLayer,
+        interfaces.IForm,
+        zope.schema.interfaces.IField,
+        interfaces.IWidget)
 
     def __init__(self, context, request, form, field, widget):
         self.context = context
         self.request = request
         self.form = form
         self.field = field
         self.widget = widget
```

### Comparing `z3c.form-4.3/src/z3c/form/hint.rst` & `z3c.form-5.0/src/z3c/form/hint.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/i18n.py` & `z3c.form-5.0/src/z3c/form/i18n.py`

 * *Files 17% similar despite different names*

```diff
@@ -15,8 +15,9 @@
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 
 import zope.i18nmessageid
 
+
 MessageFactory = zope.i18nmessageid.MessageFactory('z3c.form')
```

### Comparing `z3c.form-4.3/src/z3c/form/interfaces.py` & `z3c.form-5.0/src/z3c/form/interfaces.py`

 * *Files 2% similar despite different names*

```diff
@@ -16,34 +16,42 @@
 __docformat__ = "reStructuredText"
 import zope.i18nmessageid
 import zope.interface
 import zope.schema
 from zope.interface.common import mapping
 from zope.location.interfaces import ILocation
 
+
 MessageFactory = _ = zope.i18nmessageid.MessageFactory('z3c.form')
 
 INPUT_MODE = 'input'
 DISPLAY_MODE = 'display'
 HIDDEN_MODE = 'hidden'
 
-class NOT_CHANGED(object):
+
+class NOT_CHANGED:
     def __repr__(self):
         return '<NOT_CHANGED>'
+
+
 NOT_CHANGED = NOT_CHANGED()
 
-class NO_VALUE(object):
+
+class NO_VALUE:
     def __repr__(self):
         return '<NO_VALUE>'
+
+
 NO_VALUE = NO_VALUE()
 # BBB: the object was renamed to follow common naming style
 NOVALUE = NO_VALUE
 
 # ----[ Layer Declaration ]--------------------------------------------------
 
+
 class IFormLayer(zope.interface.Interface):
     """A layer that contains all registrations of this package.
 
     It is intended that someone can just use this layer as a base layer when
     using this package.
 
     Since version 2.4.2, this layer doesn't provide IBrowserRequst anymore.
@@ -61,14 +69,15 @@
      assumed to be important! Effectively a manager is an ordered mapping.
 
     In general, managers do not have to support a manipulation
     API. Oftentimes, managers are populated during initialization or while
     updating.
     """
 
+
 class ISelectionManager(IManager):
     """Managers that support item selection and management.
 
     This manager allows one to more carefully specify the contained items.
 
     *Important*: The API is chosen in a way, that the manager is still
     immutable. All methods in this interface must return *new* instances of
@@ -105,23 +114,25 @@
         """
 
     __context__ = zope.schema.Field(
         title=_('Context'),
         description=_('The context in which the data are validated.'),
         required=True)
 
+
 class IValidator(zope.interface.Interface):
     """A validator for a particular value."""
 
     def validate(value, force=False):
         """Validate the value.
 
         If successful, return ``None``. Otherwise raise an ``Invalid`` error.
         """
 
+
 class IManagerValidator(zope.interface.Interface):
     """A validator that validates a set of data."""
 
     def validate(data):
         """Validate a dictionary of data.
 
         This method is only responsible of validating relationships between
@@ -142,36 +153,38 @@
 
 # ----[ Errors ]--------------------------------------------------------------
 
 class IErrorViewSnippet(zope.interface.Interface):
     """A view providing a view for an error"""
 
     widget = zope.schema.Field(
-        title = _("Widget"),
-        description = _("The widget that the view is on"),
-        required = True)
+        title=_("Widget"),
+        description=_("The widget that the view is on"),
+        required=True)
 
     error = zope.schema.Field(
         title=_('Error'),
         description=_('Error the view is for.'),
         required=True)
 
     def update():
         """Update view."""
 
     def render():
         """Render view."""
 
+
 class IMultipleErrors(zope.interface.Interface):
     """An error that contains many errors"""
 
     errors = zope.interface.Attribute("List of errors")
 
 # ----[ Fields ]--------------------------------------------------------------
 
+
 class IField(zope.interface.Interface):
     """Field wrapping a schema field used in the form."""
 
     __name__ = zope.schema.TextLine(
         title=_('Title'),
         description=_('The name of the field within the form.'),
         required=True)
@@ -232,21 +245,23 @@
         """Return a modified instance omitting given items.
 
         This extension to the ``ISelectionManager`` allows for handling cases
         with name-conflicts better by separating field selection and prefix
         specification.
         """
 
+
 class IContentProviders(IManager):
     """
     A content provider manager
     """
 
 # ----[ Data Managers ]------------------------------------------------------
 
+
 class IDataManager(zope.interface.Interface):
     """Data manager."""
 
     def get():
         """Get the value.
 
         If no value can be found, raise an error
@@ -376,14 +391,15 @@
     otherwise we will get into trouble since we lookup an IPageTemplate
     in the widget/render method.
 
     """
 
 # ----[ Widgets ]------------------------------------------------------------
 
+
 class IWidget(ILocation):
     """A widget within a form"""
 
     name = zope.schema.ASCIILine(
         title=_('Name'),
         description=_('The name the widget is known under.'),
         required=True)
@@ -519,15 +535,16 @@
         without having to worry whether they are already created or not.
         """
 
 
 class IMultiWidget(IWidget):
     """None Term based sequence widget base.
 
-    The multi widget is used for ITuple, IList or IDict if no other widget is defined.
+    The multi widget is used for ITuple, IList or IDict if no other widget is
+    defined.
 
     Some IList or ITuple are using another specialized widget if they can
     choose from a collection. e.g. a IList of IChoice. The base class of such
     widget is the ISequenceWidget.
 
     This widget can handle none collection based sequences and offers add or
     remove values to or from the sequence. Each sequence value get rendered by
@@ -556,64 +573,78 @@
                       'missing value.'))
 
     promptMessage = zope.schema.Text(
         title=_('Prompt Message'),
         description=_('A human-readable text that is displayed to refer the '
                       'missing value.'))
 
+
 class IOrderedSelectWidget(ISequenceWidget):
     """Ordered Select widget with ITerms option."""
 
+
 class ICheckBoxWidget(ISequenceWidget):
     """Checbox widget."""
 
+
 class ISingleCheckBoxWidget(ICheckBoxWidget):
     """Single Checbox widget."""
 
+
 class IRadioWidget(ISequenceWidget):
     """Radio widget."""
 
     def renderForValue(value):
         """Render a single radio button element for a given value.
 
         Here the word ``value`` is used in the HTML sense, in other
         words it is a term token.
         """
 
+
 class ISubmitWidget(IWidget):
     """Submit widget."""
 
+
 class IImageWidget(IWidget):
     """Submit widget."""
 
+
 class IButtonWidget(IWidget):
     """Button widget."""
 
+
 class ITextAreaWidget(IWidget):
     """Text widget."""
 
+
 class ITextLinesWidget(IWidget):
     """Text lines widget."""
 
+
 class ITextWidget(IWidget):
     """Text widget."""
 
+
 class IFileWidget(ITextWidget):
     """File widget."""
 
+
 class IPasswordWidget(ITextWidget):
     """Password widget."""
 
+
 class IObjectWidget(IWidget):
     """Object widget."""
 
     def setupFields():
         """setup fields on the widget, by default taking the fields of
         self.schema"""
 
+
 class IWidgets(IManager):
     """A widget manager"""
 
     prefix = zope.schema.ASCIILine(
         title=_('Prefix'),
         description=_('The prefix of the widgets.'),
         default='widgets.',
@@ -648,27 +679,28 @@
         title=_('Ignore Readonly'),
         description=_('If set then readonly fields will also be shown.'),
         default=False,
         required=True)
 
     ignoreRequiredOnExtract = zope.schema.Bool(
         title=_('Ignore Required validation on extract'),
-        description=_("If set then required fields will pass validation "
-                      "on extract regardless whether they're filled in or not"),
+        description=_(
+            "If set then required fields will pass validation "
+            "on extract regardless whether they're filled in or not"),
         default=False,
         required=True)
 
     hasRequiredFields = zope.schema.Bool(
         title=_('Has required fields'),
         description=_('A flag set when at least one field is marked as '
                       'required'),
         default=False,
         required=False)
 
-    #ugly thing to remove setErrors parameter from extract
+    # ugly thing to remove setErrors parameter from extract
     setErrors = zope.schema.Bool(
         title=_('Set errors'),
         description=_('A flag, when set, the contained widgets set error '
                       'messages on calling extract().'),
         default=True,
         required=False)
 
@@ -694,22 +726,23 @@
     field = zope.schema.Field(
         title=_('Field'),
         description=_('The schema field which the widget is representing.'),
         required=True)
 
 # ----[ Actions ]------------------------------------------------------------
 
+
 class ActionExecutionError(Exception):
     """An error that occurs during the execution of an action handler."""
 
     def __init__(self, error):
         self.error = error
 
     def __repr__(self):
-        return '<%s wrapping %r>' %(self.__class__.__name__, self.error)
+        return '<{} wrapping {!r}>'.format(self.__class__.__name__, self.error)
 
 
 class WidgetActionExecutionError(ActionExecutionError):
     """An action execution error that occurred due to a widget value being
     incorrect."""
 
     def __init__(self, widgetName, error):
@@ -922,16 +955,17 @@
         title=_('Ignore Readonly'),
         description=_('If set then readonly fields will also be shown.'),
         default=False,
         required=True)
 
     ignoreRequiredOnExtract = zope.schema.Bool(
         title=_('Ignore Required validation on extract'),
-        description=_("If set then required fields will pass validation "
-                      "on extract regardless whether they're filled in or not"),
+        description=_(
+            "If set then required fields will pass validation "
+            "on extract regardless whether they're filled in or not"),
         default=False,
         required=True)
 
     widgets = zope.schema.Object(
         title=_('Widgets'),
         description=_('A widget manager containing the widgets to be used in '
                       'the form.'),
@@ -983,14 +1017,15 @@
 
     def render():
         '''Render the form.'''
 
     def json():
         '''Returns the form in json format'''
 
+
 class ISubForm(IForm):
     """A subform."""
 
 
 class IDisplayForm(IForm):
     """Mark a form as display form, used for templates."""
 
@@ -1074,43 +1109,46 @@
 
     fields = zope.schema.Object(
         title=_('Fields'),
         description=_('A field manager describing the fields to be used for '
                       'the form.'),
         schema=IFields)
 
+
 class IFieldsAndContentProvidersForm(IForm):
     """A form that is based upon defined fields and content providers"""
 
     contentProviders = zope.schema.Object(
-        title=_('Content providers'),
-        description=_('A manager describing the content providers to be used for '
-                      'the form.'),
-        schema=IContentProviders)
+        title=_('Content providers'), description=_(
+            'A manager describing the content providers to be used for '
+            'the form.'), schema=IContentProviders)
+
 
 class IButtonForm(IForm):
     """A form that is based upon defined buttons."""
 
     buttons = zope.schema.Object(
         title=_('Buttons'),
         description=_('A button manager describing the buttons to be used for '
                       'the form.'),
         schema=IButtons)
 
+
 class IGroup(IForm):
     """A group of fields/widgets within a form."""
 
+
 class IGroupForm(IForm):
     """A form that supports groups."""
 
     groups = zope.schema.Tuple(
-        title=u'Groups',
-        description=(u'Initially a collection of group classes, which are '
-                     u'converted to group instances when the form is '
-                     u'updated.'))
+        title='Groups',
+        description=('Initially a collection of group classes, which are '
+                     'converted to group instances when the form is '
+                     'updated.'))
 
 
 # ----[ Events ]--------------------------------------------------------------
 
 
 class IWidgetEvent(zope.interface.Interface):
     """A simple widget event."""
```

### Comparing `z3c.form-4.3/src/z3c/form/locales/cs/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/cs/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/da/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/da/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/de/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/de/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/en/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/en/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/es/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/es/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/fi/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/fi/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/fr/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/fr/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/hu/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/hu/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/it/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/it/LC_MESSAGES/z3c.form.po`

 * *Files 0% similar despite different names*

```diff
@@ -579,15 +579,15 @@
 
 #: src/z3c/form/term.py:153
 msgid "Missing: ${value}"
 msgstr "Valore mancante: ${value}"
 
 #: src/z3c/form/term.py:205
 msgid "yes"
-msgstr "si"
+msgstr "s"
 
 #: src/z3c/form/term.py:206
 msgid "no"
 msgstr "no"
 
 #: src/z3c/form/util.py:131
 msgid "Missing filename extension."
```

### Comparing `z3c.form-4.3/src/z3c/form/locales/ja/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/ja/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/nl/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/nl/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/no/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/no/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/pt_BR/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/pt_BR/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/ru/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/ru/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/z3c.form.pot` & `z3c.form-5.0/src/z3c/form/locales/z3c.form.pot`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/zh_CN/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/zh_CN/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/locales/zh_TW/LC_MESSAGES/z3c.form.po` & `z3c.form-5.0/src/z3c/form/locales/zh_TW/LC_MESSAGES/z3c.form.po`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/meta.zcml` & `z3c.form-5.0/src/z3c/form/meta.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/object-caveat.rst` & `z3c.form-5.0/src/z3c/form/object-caveat.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/object.py` & `z3c.form-5.0/src/z3c/form/object.py`

 * *Files 3% similar despite different names*

```diff
@@ -12,38 +12,41 @@
 #
 ##############################################################################
 """ObjectWidget related classes
 
 $Id$
 """
 __docformat__ = "reStructuredText"
-import zope.interface
 import zope.component
-import zope.schema
 import zope.event
+import zope.interface
 import zope.lifecycleevent
+import zope.schema
 from zope.browserpage.viewpagetemplatefile import ViewPageTemplateFile
-from zope.security.proxy import removeSecurityProxy
 from zope.pagetemplate.interfaces import IPageTemplate
+from zope.security.proxy import removeSecurityProxy
 
+from z3c.form import field
+from z3c.form import interfaces
+from z3c.form import util
+from z3c.form import widget
 from z3c.form.converter import BaseDataConverter
-
-from z3c.form import interfaces, util, widget, field
 from z3c.form.error import MultipleErrors
 
 
 def getIfName(iface):
     return iface.__module__ + '.' + iface.__name__
 
 
 # our own placeholder instead of a simple None
-class ObjectWidget_NO_VALUE(object):
+class ObjectWidget_NO_VALUE:
     def __repr__(self):
         return '<ObjectWidget_NO_VALUE>'
 
+
 ObjectWidget_NO_VALUE = ObjectWidget_NO_VALUE()
 
 
 class ObjectWidgetValue(dict):
     originalValue = ObjectWidget_NO_VALUE  # will store the original object
 
 
@@ -57,37 +60,37 @@
         """Just dispatch it."""
         if value is self.field.missing_value:
             return interfaces.NO_VALUE
 
         retval = ObjectWidgetValue()
         retval.originalValue = value
 
-        for name, field in zope.schema.getFieldsInOrder(self.field.schema):
+        for name, field_ in zope.schema.getFieldsInOrder(self.field.schema):
             dm = zope.component.getMultiAdapter(
-                (value, field), interfaces.IDataManager)
+                (value, field_), interfaces.IDataManager)
             subv = dm.query()
 
             if subv is interfaces.NO_VALUE:
                 # look up default value
-                subv = field.default
+                subv = field_.default
                 # XXX: too many discriminators
-                #adapter = zope.component.queryMultiAdapter(
+                # adapter = zope.component.queryMultiAdapter(
                 #    (context, self.request, self.view, field, widget),
                 #    interfaces.IValue, name='default')
-                #if adapter:
+                # if adapter:
                 #    value = adapter.get()
 
-            widget = zope.component.getMultiAdapter((field, self.widget.request),
-                interfaces.IFieldWidget)
+            widget = zope.component.getMultiAdapter(
+                (field_, self.widget.request), interfaces.IFieldWidget)
             if interfaces.IFormAware.providedBy(self.widget):
                 # form property required by objectwidget
                 widget.form = self.widget.form
                 zope.interface.alsoProvides(widget, interfaces.IFormAware)
-            converter = zope.component.getMultiAdapter((field, widget),
-                interfaces.IDataConverter)
+            converter = zope.component.getMultiAdapter(
+                (field_, widget), interfaces.IDataConverter)
 
             retval[name] = converter.toWidgetValue(subv)
 
         return retval
 
     def adapted_obj(self, obj):
         return self.field.schema(obj)
@@ -98,39 +101,40 @@
             return self.field.missing_value
 
         # try to get the original object, or if there's no chance an empty one
         obj = self.widget.getObject(value)
         obj = self.adapted_obj(obj)
 
         names = []
-        for name, field in zope.schema.getFieldsInOrder(self.field.schema):
-            if not field.readonly:
+        for name, field_ in zope.schema.getFieldsInOrder(self.field.schema):
+            if not field_.readonly:
                 try:
                     newvalRaw = value[name]
                 except KeyError:
                     continue
 
                 widget = zope.component.getMultiAdapter(
-                    (field, self.widget.request), interfaces.IFieldWidget)
+                    (field_, self.widget.request), interfaces.IFieldWidget)
                 converter = zope.component.getMultiAdapter(
-                    (field, widget), interfaces.IDataConverter)
+                    (field_, widget), interfaces.IDataConverter)
                 newval = converter.toFieldValue(newvalRaw)
 
                 dm = zope.component.getMultiAdapter(
-                    (obj, field), interfaces.IDataManager)
+                    (obj, field_), interfaces.IDataManager)
                 oldval = dm.query()
                 if (oldval != newval
-                        or zope.schema.interfaces.IObject.providedBy(field)):
+                        or zope.schema.interfaces.IObject.providedBy(field_)):
                     dm.set(newval)
                     names.append(name)
 
         if names:
             zope.event.notify(
-                zope.lifecycleevent.ObjectModifiedEvent(obj,
-                    zope.lifecycleevent.Attributes(self.field.schema, *names)))
+                zope.lifecycleevent.ObjectModifiedEvent(
+                    obj, zope.lifecycleevent.Attributes(
+                        self.field.schema, *names)))
 
         # Commonly the widget context is security proxied. This method,
         # however, should return a bare object, so let's remove the
         # security proxy now that all fields have been set using the security
         # mechanism.
         return removeSecurityProxy(obj)
 
@@ -213,47 +217,49 @@
         # RAW values as field values
         self.widgets.ignoreContext = True
         self.widgets.ignoreRequest = self.ignoreRequest
         self.widgets.update()
 
     def updateWidgets(self, setErrors=True):
         if self.field is None:
-            raise ValueError("%r .field is None, that's a blocking point" % self)
+            raise ValueError(
+                "%r .field is None, that's a blocking point" %
+                self)
 
         self.setupWidgets()
 
         if self._value is interfaces.NO_VALUE:
             # XXX: maybe readonly fields/widgets should be reset here to
             #      widget.mode = INPUT_MODE
             pass
-            for name, widget in self.widgets.items():
-                if widget.field.readonly:
-                    widget.mode = interfaces.INPUT_MODE
-                    widget.update()
+            for name, widget_ in self.widgets.items():
+                if widget_.field.readonly:
+                    widget_.mode = interfaces.INPUT_MODE
+                    widget_.update()
         else:
             rawvalue = None
 
-            for name, widget in self.widgets.items():
-                if widget.mode == interfaces.DISPLAY_MODE:
+            for name, widget_ in self.widgets.items():
+                if widget_.mode == interfaces.DISPLAY_MODE:
                     if rawvalue is None:
                         # lazy evaluation
                         converter = zope.component.getMultiAdapter(
                             (self.field, self),
                             interfaces.IDataConverter)
                         obj = self.getObject(self._value)
                         rawvalue = converter.toWidgetValue(obj)
 
-                    self.applyValue(widget, rawvalue[name])
+                    self.applyValue(widget_, rawvalue[name])
                 else:
                     try:
                         v = self._value[name]
                     except KeyError:
                         pass
                     else:
-                        self.applyValue(widget, v)
+                        self.applyValue(widget_, v)
 
     def applyValue(self, widget, value):
         """Validate and apply value to given widget.
 
         This method gets called on any ObjectWidget value change and is
         responsible for validating the given value and setup an error message.
 
@@ -285,18 +291,19 @@
                 view.update()
                 widget.error = view
                 # set the wrong value as value despite it's wrong
                 # we want to re-show wrong values
                 widget.value = value
 
     def update(self):
-        #very-very-nasty: skip raising exceptions in extract while we're updating
+        # very-very-nasty: skip raising exceptions in extract while we're
+        # updating
         self._updating = True
         try:
-            super(ObjectWidget, self).update()
+            super().update()
             # create the subwidgets and set their values
             self.updateWidgets(setErrors=False)
         finally:
             self._updating = False
 
     @property
     def value(self):
@@ -306,34 +313,34 @@
             return self.extract()
         except MultipleErrors:
             value = ObjectWidgetValue()
             if self._value is not interfaces.NO_VALUE:
                 # send back the original object
                 value.originalValue = self._value.originalValue
 
-            for name, widget in self.widgets.items():
-                if widget.mode != interfaces.DISPLAY_MODE:
-                    value[name] = widget.value
+            for name, widget_ in self.widgets.items():
+                if widget_.mode != interfaces.DISPLAY_MODE:
+                    value[name] = widget_.value
             return value
 
     @value.setter
     def value(self, value):
         # This invokes updateWidgets on any value change e.g. update/extract.
         if (not isinstance(value, ObjectWidgetValue)
-            and value is not interfaces.NO_VALUE):
+                and value is not interfaces.NO_VALUE):
             value = ObjectWidgetValue(value)
         self._value = value
 
         # create the subwidgets and set their values
         self.updateWidgets()
 
     def extractRaw(self, setErrors=True):
         '''See interfaces.IForm'''
         self.widgets.setErrors = setErrors
-        #self.widgets.ignoreRequiredOnExtract = self.ignoreRequiredOnExtract
+        # self.widgets.ignoreRequiredOnExtract = self.ignoreRequiredOnExtract
         data, errors = self.widgets.extractRaw()
         value = ObjectWidgetValue()
         if self._value is not interfaces.NO_VALUE:
             # send back the original object
             value.originalValue = self._value.originalValue
         value.update(data)
 
@@ -349,17 +356,17 @@
 
             if errors:
                 # very-very-nasty: skip raising exceptions in extract
                 # while we're updating -- that happens when the widget
                 # is updated and update calls extract()
                 if self._updating:
                     # don't rebind value, send back the original object
-                    for name, widget in self.widgets.items():
-                        if widget.mode != interfaces.DISPLAY_MODE:
-                            value[name] = widget.value
+                    for name, widget_ in self.widgets.items():
+                        if widget_.mode != interfaces.DISPLAY_MODE:
+                            value[name] = widget_.value
                     return value
                 raise MultipleErrors(errors)
             return value
         else:
             return default
 
     def render(self):
@@ -368,86 +375,89 @@
         if template is None:
             # one more discriminator than in widget.Widget
             template = zope.component.queryMultiAdapter(
                 (self.context, self.request, self.form, self.field, self,
                  makeDummyObject(self.field.schema)),
                 IPageTemplate, name=self.mode)
             if template is None:
-                return super(ObjectWidget, self).render()
+                return super().render()
         return template(self)
 
 
-######## make dummy objects providing a given interface to support
-######## discriminating on field.schema
+# make dummy objects providing a given interface to support
+# discriminating on field.schema
 
 def makeDummyObject(iface):
     if iface is not None:
         @zope.interface.implementer(iface)
-        class DummyObject(object):
+        class DummyObject:
             pass
     else:
         @zope.interface.implementer(zope.interface.Interface)
-        class DummyObject(object):
+        class DummyObject:
             pass
 
     dummy = DummyObject()
     return dummy
 
 
-######## special template factory that takes the field.schema into account
-######## used by zcml.py
+# special template factory that takes the field.schema into account
+# used by zcml.py
 
-class ObjectWidgetTemplateFactory(object):
+class ObjectWidgetTemplateFactory:
     """Widget template factory."""
 
     def __init__(self, filename, contentType='text/html',
                  context=None, request=None, view=None,
                  field=None, widget=None, schema=None):
-        self.template = ViewPageTemplateFile(filename, content_type=contentType)
+        self.template = ViewPageTemplateFile(
+            filename, content_type=contentType)
         zope.component.adapter(
             util.getSpecification(context),
             util.getSpecification(request),
             util.getSpecification(view),
             util.getSpecification(field),
             util.getSpecification(widget),
             util.getSpecification(schema))(self)
         zope.interface.implementer(IPageTemplate)(self)
 
     def __call__(self, context, request, view, field, widget, schema):
         return self.template
 
 
-######## default adapters
+# default adapters
 
 @zope.interface.implementer(interfaces.IObjectFactory)
-class FactoryAdapter(object):
+class FactoryAdapter:
     """Most basic-default object factory adapter"""
     zope.component.adapts(
-        zope.interface.Interface, #context
-        interfaces.IFormLayer,    #request
-        zope.interface.Interface, #form -- but can become None easily (in tests)
-        interfaces.IWidget)       #widget
+        zope.interface.Interface,  # context
+        interfaces.IFormLayer,  # request
+        zope.interface.Interface,
+        # form -- but can become None easily (in tests)
+        interfaces.IWidget)  # widget
 
     factory = None
 
     def __init__(self, context, request, form, widget):
         self.context = context
         self.request = request
         self.form = form
         self.widget = widget
 
     def __call__(self, value):
-        #value is the extracted data from the form
+        # value is the extracted data from the form
         obj = self.factory()
         zope.event.notify(zope.lifecycleevent.ObjectCreatedEvent(obj))
         return obj
 
 
 # XXX: Probably we should offer an register factory method which allows to
 # use all discriminators e.g. context, request, form, widget as optional
 # arguments. But can probably do that later in a ZCML directive
 def registerFactoryAdapter(for_, klass):
     """register the basic FactoryAdapter for a given interface and class"""
     name = getIfName(for_)
+
     class temp(FactoryAdapter):
         factory = klass
     zope.component.provideAdapter(temp, name=name)
```

### Comparing `z3c.form-4.3/src/z3c/form/outputchecker.py` & `z3c.form-5.0/src/z3c/form/outputchecker.py`

 * *Files 2% similar despite different names*

```diff
@@ -12,16 +12,16 @@
 #
 ##############################################################################
 """Custom Output Checker
 """
 import doctest as pythondoctest
 import re
 
-import lxml.etree
 import lxml.doctestcompare
+import lxml.etree
 from lxml.doctestcompare import LHTMLOutputChecker
 from zope.testing.renormalizing import RENormalizing
 
 
 class OutputChecker(LHTMLOutputChecker, RENormalizing):
     """Doctest output checker which is better equippied to identify
     HTML markup than the checker from the ``lxml.doctestcompare``
@@ -51,15 +51,16 @@
     def text_compare(self, want, got, strip):
         if want is None:
             want = ""
         if got is None:
             got = ""
         checker = self.doctest.OutputChecker()
         return checker.check_output(
-            want, got, self.doctest.ELLIPSIS|self.doctest.NORMALIZE_WHITESPACE)
+            want, got,
+            self.doctest.ELLIPSIS | self.doctest.NORMALIZE_WHITESPACE)
 
     def check_output(self, want, got, optionflags):
         if got == want:
             return True
 
         for transformer in self.transformers:
             want = transformer(want)
@@ -83,16 +84,16 @@
         # temporarily hack example with normalized want:
         example.want = want
         result = LHTMLOutputChecker.output_difference(
             self, example, got, optionflags)
         example.want = original
 
         # repeat lines with a diff, otherwise it's wading through mud
-        difflines = [l for l in result.splitlines()
-                     if '(got:' in l]
+        difflines = [line for line in result.splitlines()
+                     if '(got:' in line]
 
         if difflines:
             result += '\nLines with differences:\n' + '\n'.join(difflines)
 
         return result
 
     def get_parser(self, want, got, optionflags):
```

### Comparing `z3c.form-4.3/src/z3c/form/subform.py` & `z3c.form-5.0/src/z3c/form/subform.py`

 * *Files 7% similar despite different names*

```diff
@@ -14,20 +14,22 @@
 """Logical Sub-Form Implementation
 
 $Id$
 """
 __docformat__ = "reStructuredText"
 import zope.interface
 
-from z3c.form import action, button, form, interfaces
+from z3c.form import button
+from z3c.form import form
+from z3c.form import interfaces
 from z3c.form.i18n import MessageFactory as _
 
 
 @zope.interface.implementer(
-        interfaces.ISubForm, interfaces.IHandlerForm)
+    interfaces.ISubForm, interfaces.IHandlerForm)
 class EditSubForm(form.BaseForm):
 
     formErrorsMessage = _('There were some errors.')
     successMessage = _('Data successfully updated.')
     noChangesMessage = _('No changes were applied.')
 
     def __init__(self, context, request, parentForm):
@@ -46,16 +48,15 @@
         if changed:
             zope.event.notify(
                 zope.lifecycleevent.ObjectModifiedEvent(content))
             self.status = self.successMessage
         else:
             self.status = self.noChangesMessage
 
-
     def update(self):
-        super(EditSubForm, self).update()
+        super().update()
         for action in self.parentForm.actions.executedActions:
             adapter = zope.component.queryMultiAdapter(
                 (self, self.request, self.getContent(), action),
                 interface=interfaces.IActionHandler)
             if adapter:
                 adapter()
```

### Comparing `z3c.form-4.3/src/z3c/form/subform.rst` & `z3c.form-5.0/src/z3c/form/subform.rst`

 * *Files 5% similar despite different names*

```diff
@@ -33,21 +33,21 @@
 
 In this example, we would like to describe a car and its owner:
 
   >>> import zope.interface
   >>> import zope.schema
 
   >>> class IOwner(zope.interface.Interface):
-  ...     name = zope.schema.TextLine(title=u'Name')
-  ...     license = zope.schema.TextLine(title=u'License')
+  ...     name = zope.schema.TextLine(title='Name')
+  ...     license = zope.schema.TextLine(title='License')
 
   >>> class ICar(zope.interface.Interface):
-  ...     model = zope.schema.TextLine(title=u'Model')
-  ...     make = zope.schema.TextLine(title=u'Make')
-  ...     owner = zope.schema.Object(title=u'Owner', schema=IOwner)
+  ...     model = zope.schema.TextLine(title='Model')
+  ...     make = zope.schema.TextLine(title='Make')
+  ...     owner = zope.schema.Object(title='Owner', schema=IOwner)
 
 Let's now implement the two interfaces and create instances, so that we can
 create edit forms for it:
 
   >>> @zope.interface.implementer(IOwner)
   ... class Owner(object):
   ...     def __init__(self, name, license):
@@ -57,16 +57,16 @@
   >>> @zope.interface.implementer(ICar)
   ... class Car(object):
   ...     def __init__(self, model, make, owner):
   ...         self.model = model
   ...         self.make = make
   ...         self.owner = owner
 
-  >>> me = Owner(u'Stephan Richter', u'MA-1231FW97')
-  >>> mycar = Car(u'Nissan', u'Sentra', me)
+  >>> me = Owner('Stephan Richter', 'MA-1231FW97')
+  >>> mycar = Car('Nissan', 'Sentra', me)
 
 We define the owner sub-form as we would any other form. The only difference
 is the template, which should not render a form-tag:
 
   >>> import os
   >>> from zope.browserpage.viewpagetemplatefile import ViewPageTemplateFile
   >>> from z3c.form import form, field, tests
@@ -148,33 +148,33 @@
     </body>
   </html>
 
 I can now submit the owner form, which should not submit any car changes I
 might have made in the form:
 
   >>> request = TestRequest(form={
-  ...     'car.widgets.model': u'BMW',
-  ...     'car.widgets.make': u'325',
-  ...     'owner.widgets.name': u'Stephan Richter',
-  ...     'owner.widgets.license': u'MA-97097A87',
-  ...     'owner.buttons.apply': u'Apply'
+  ...     'car.widgets.model': 'BMW',
+  ...     'car.widgets.make': '325',
+  ...     'owner.widgets.name': 'Stephan Richter',
+  ...     'owner.widgets.license': 'MA-97097A87',
+  ...     'owner.buttons.apply': 'Apply'
   ...     })
 
   >>> carForm = CarForm(mycar, request)
   >>> carForm.update()
 
   >>> mycar.model
-  u'Nissan'
+  'Nissan'
   >>> mycar.make
-  u'Sentra'
+  'Sentra'
 
   >>> me.name
-  u'Stephan Richter'
+  'Stephan Richter'
   >>> me.license
-  u'MA-97097A87'
+  'MA-97097A87'
 
 Also, the form should say that the data of the owner has changed:
 
   >>> print(carForm.render())
   <html xmlns="http://www.w3.org/1999/xhtml">
     <body>
       <form action=".">
@@ -226,33 +226,33 @@
     </body>
   </html>
 
 The same is true the other way around as well. Submitting the overall form
 does not submit the owner form:
 
   >>> request = TestRequest(form={
-  ...     'car.widgets.model': u'BMW',
-  ...     'car.widgets.make': u'325',
-  ...     'car.buttons.apply': u'Apply',
-  ...     'owner.widgets.name': u'Claudia Richter',
-  ...     'owner.widgets.license': u'MA-123403S2',
+  ...     'car.widgets.model': 'BMW',
+  ...     'car.widgets.make': '325',
+  ...     'car.buttons.apply': 'Apply',
+  ...     'owner.widgets.name': 'Claudia Richter',
+  ...     'owner.widgets.license': 'MA-123403S2',
   ...     })
 
   >>> carForm = CarForm(mycar, request)
   >>> carForm.update()
 
   >>> mycar.model
-  u'BMW'
+  'BMW'
   >>> mycar.make
-  u'325'
+  '325'
 
   >>> me.name
-  u'Stephan Richter'
+  'Stephan Richter'
   >>> me.license
-  u'MA-97097A87'
+  'MA-97097A87'
 
 
 Class II: The logical unit
 --------------------------
 
 In this class of sub-forms, a sub-form is often just a collection of widgets
 without any actions. Instead, the sub-form must be able to react to the
@@ -336,55 +336,55 @@
     </body>
   </html>
 
 The interesting part of this setup is that the "Apply" button calls the action
 handlers for both, the main and the sub-form:
 
   >>> request = TestRequest(form={
-  ...     'car.widgets.model': u'Ford',
-  ...     'car.widgets.make': u'F150',
-  ...     'car.buttons.apply': u'Apply',
-  ...     'owner.widgets.name': u'Claudia Richter',
-  ...     'owner.widgets.license': u'MA-991723FDG',
+  ...     'car.widgets.model': 'Ford',
+  ...     'car.widgets.make': 'F150',
+  ...     'car.buttons.apply': 'Apply',
+  ...     'owner.widgets.name': 'Claudia Richter',
+  ...     'owner.widgets.license': 'MA-991723FDG',
   ...     })
 
   >>> carForm = CarForm(mycar, request)
   >>> carForm.update()
 
   >>> mycar.model
-  u'Ford'
+  'Ford'
   >>> mycar.make
-  u'F150'
+  'F150'
   >>> me.name
-  u'Claudia Richter'
+  'Claudia Richter'
   >>> me.license
-  u'MA-991723FDG'
+  'MA-991723FDG'
 
 Let's now have a look at cases where an error happens. If an error occurs in
 the parent form, the sub-form is still submitted:
 
   >>> request = TestRequest(form={
-  ...     'car.widgets.model': u'Volvo\n~',
-  ...     'car.widgets.make': u'450',
-  ...     'car.buttons.apply': u'Apply',
-  ...     'owner.widgets.name': u'Stephan Richter',
-  ...     'owner.widgets.license': u'MA-991723FDG',
+  ...     'car.widgets.model': 'Volvo\n~',
+  ...     'car.widgets.make': '450',
+  ...     'car.buttons.apply': 'Apply',
+  ...     'owner.widgets.name': 'Stephan Richter',
+  ...     'owner.widgets.license': 'MA-991723FDG',
   ...     })
 
   >>> carForm = CarForm(mycar, request)
   >>> carForm.update()
 
   >>> mycar.model
-  u'Ford'
+  'Ford'
   >>> mycar.make
-  u'F150'
+  'F150'
   >>> me.name
-  u'Stephan Richter'
+  'Stephan Richter'
   >>> me.license
-  u'MA-991723FDG'
+  'MA-991723FDG'
 
 Let's look at the rendered form:
 
   >>> print(carForm.render())
   <html xmlns="http://www.w3.org/1999/xhtml">
     <body>
       <i>There were some errors.</i>
@@ -442,32 +442,32 @@
 package provides some sensible default behavior, it is not intended to be
 comprehensive.
 
 Let's now create an error in the sub-form, ensuring that an error message
 occurs:
 
   >>> request = TestRequest(form={
-  ...     'car.widgets.model': u'Volvo',
-  ...     'car.widgets.make': u'450',
-  ...     'car.buttons.apply': u'Apply',
-  ...     'owner.widgets.name': u'Claudia\n Richter',
-  ...     'owner.widgets.license': u'MA-991723F12',
+  ...     'car.widgets.model': 'Volvo',
+  ...     'car.widgets.make': '450',
+  ...     'car.buttons.apply': 'Apply',
+  ...     'owner.widgets.name': 'Claudia\n Richter',
+  ...     'owner.widgets.license': 'MA-991723F12',
   ...     })
 
   >>> carForm = CarForm(mycar, request)
   >>> carForm.update()
 
   >>> mycar.model
-  u'Volvo'
+  'Volvo'
   >>> mycar.make
-  u'450'
+  '450'
   >>> me.name
-  u'Stephan Richter'
+  'Stephan Richter'
   >>> me.license
-  u'MA-991723FDG'
+  'MA-991723FDG'
 
   >>> print(carForm.render()) # doctest: +NOPARSE_MARKUP
   <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
   <html xmlns="http://www.w3.org/1999/xhtml">
       ...
       <fieldset>
         <legend>Owner</legend>
@@ -482,19 +482,19 @@
      </fieldset>
      ...
   </html>
 
 If the data did not change, it is also locally reported:
 
   >>> request = TestRequest(form={
-  ...     'car.widgets.model': u'Ford',
-  ...     'car.widgets.make': u'F150',
-  ...     'car.buttons.apply': u'Apply',
-  ...     'owner.widgets.name': u'Stephan Richter',
-  ...     'owner.widgets.license': u'MA-991723FDG',
+  ...     'car.widgets.model': 'Ford',
+  ...     'car.widgets.make': 'F150',
+  ...     'car.buttons.apply': 'Apply',
+  ...     'owner.widgets.name': 'Stephan Richter',
+  ...     'owner.widgets.license': 'MA-991723FDG',
   ...     })
 
   >>> carForm = CarForm(mycar, request)
   >>> carForm.update()
   >>> print(carForm.render()) # doctest: +NOPARSE_MARKUP
   <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
   <html xmlns="http://www.w3.org/1999/xhtml">
@@ -621,22 +621,22 @@
   </body>
   </html>
 
 Let's show how we can extract the input values of the form and the subform.
 First give them some input:
 
   >>> request = TestRequest(form={
-  ...     'car.widgets.model': u'Ford',
-  ...     'car.widgets.make': u'F150',
-  ...     'owner.widgets.name': u'Stephan Richter',
-  ...     'owner.widgets.license': u'MA-991723FDG',
+  ...     'car.widgets.model': 'Ford',
+  ...     'car.widgets.make': 'F150',
+  ...     'owner.widgets.name': 'Stephan Richter',
+  ...     'owner.widgets.license': 'MA-991723FDG',
   ...     })
   >>> carForm = CarAddForm(container, request)
   >>> carForm.update()
 
 Now get the form values. This is normally done in a action handler:
 
   >>> pprint(carForm.widgets.extract())
-  ({'make': u'F150', 'model': u'Ford'}, ())
+  ({'make': 'F150', 'model': 'Ford'}, ())
 
   >>> pprint(carForm.owner.widgets.extract())
-  ({'license': u'MA-991723FDG', 'name': u'Stephan Richter'}, ())
+  ({'license': 'MA-991723FDG', 'name': 'Stephan Richter'}, ())
```

### Comparing `z3c.form-4.3/src/z3c/form/term.py` & `z3c.form-5.0/src/z3c/form/term.py`

 * *Files 4% similar despite different names*

```diff
@@ -24,15 +24,15 @@
 
 from z3c.form import interfaces
 from z3c.form import util
 from z3c.form.i18n import MessageFactory as _
 
 
 @zope.interface.implementer(interfaces.ITerms)
-class Terms(object):
+class Terms:
     """Base implementation for custom ITerms."""
 
     def getTerm(self, value):
         return self.terms.getTerm(value)
 
     def getTermByToken(self, token):
         return self.terms.getTermByToken(token)
@@ -48,30 +48,30 @@
 
     def __contains__(self, value):
         return self.terms.__contains__(value)
 
 
 @zope.interface.implementer(interfaces.ITerms)
 class SourceTerms(Terms):
-    """Base implementation for ITerms using a source instead of a vocabulary."""
+    """Base implementation for ITerms using source instead of vocabulary."""
 
     def __init__(self, context, request, form, field, source, widget):
         self.context = context
         self.request = request
         self.form = form
         self.field = field
         self.widget = widget
         self.source = source
         self.terms = zope.component.getMultiAdapter(
             (self.source, self.request),
             zope.browser.interfaces.ITerms)
 
     def getTerm(self, value):
         try:
-            return super(SourceTerms, self).getTerm(value)
+            return super().getTerm(value)
         except KeyError:
             raise LookupError(value)
 
     def getTermByToken(self, token):
         # This is rather expensive
         for value in self.source:
             term = self.getTerm(value)
@@ -130,15 +130,15 @@
         self.request = request
         self.form = form
         self.field = field
         self.widget = widget
         self.terms = vocabulary
 
 
-class MissingTermsBase(object):
+class MissingTermsBase:
     """Base class for MissingTermsMixin classes."""
 
     def _canQueryCurrentValue(self):
         return (interfaces.IContextAware.providedBy(self.widget) and
                 not self.widget.ignoreContext)
 
     def _queryCurrentValue(self):
@@ -151,34 +151,34 @@
         return util.createCSSId(util.toUnicode(value))
 
     def _makeMissingTerm(self, value):
         """Return a term that should be displayed for the missing token"""
         uvalue = util.toUnicode(value)
         return vocabulary.SimpleTerm(
             value, self._makeToken(value),
-            title=_(u'Missing: ${value}', mapping=dict(value=uvalue)))
+            title=_('Missing: ${value}', mapping=dict(value=uvalue)))
 
 
 class MissingTermsMixin(MissingTermsBase):
     """This can be used in case previous values/tokens get missing
     from the vocabulary and you still need to display/keep the values"""
 
     def getTerm(self, value):
         try:
-            return super(MissingTermsMixin, self).getTerm(value)
+            return super().getTerm(value)
         except LookupError:
             if self._canQueryCurrentValue():
                 curValue = self._queryCurrentValue()
                 if curValue == value:
                     return self._makeMissingTerm(value)
             raise
 
     def getTermByToken(self, token):
         try:
-            return super(MissingTermsMixin, self).getTermByToken(token)
+            return super().getTermByToken(token)
         except LookupError:
             if self._canQueryCurrentValue():
                 value = self._queryCurrentValue()
                 term = self._makeMissingTerm(value)
                 if term.token == token:
                     # check if the given token matches the value, if not
                     # fall back on LookupError, otherwise we might accept
@@ -191,28 +191,29 @@
 class MissingChoiceTermsVocabulary(MissingTermsMixin, ChoiceTermsVocabulary):
     """ITerms adapter for zope.schema.IChoice based implementations using
     vocabulary with missing terms support"""
 
 
 @zope.interface.implementer(interfaces.ITerms)
 class ChoiceTermsSource(SourceTerms):
-    "ITerms adapter for zope.schema.IChoice based implementations using source."
+    """ITerms adapter for zope.schema.IChoice based implementations using
+    source."""
 
     zope.component.adapts(
         zope.interface.Interface,
         interfaces.IFormLayer,
         zope.interface.Interface,
         zope.schema.interfaces.IChoice,
         zope.schema.interfaces.IIterableSource,
         interfaces.IWidget)
 
 
 class MissingChoiceTermsSource(MissingTermsMixin, ChoiceTermsSource):
-    """ITerms adapter for zope.schema.IChoice based implementations using source
-       with missing terms support."""
+    """ITerms adapter for zope.schema.IChoice based implementations using
+    source with missing terms support."""
 
 
 @zope.interface.implementer_only(interfaces.IBoolTerms)
 class BoolTerms(Terms):
     """Default yes and no terms are used by default for IBool fields."""
 
     zope.component.adapts(
@@ -273,39 +274,38 @@
 
 
 class MissingCollectionTermsMixin(MissingTermsBase):
     """`MissingTermsMixin` adapted to collections."""
 
     def getTerm(self, value):
         try:
-            return super(MissingCollectionTermsMixin, self).getTerm(value)
+            return super().getTerm(value)
         except LookupError:
             if self._canQueryCurrentValue():
                 if value in self._queryCurrentValue():
                     return self._makeMissingTerm(value)
             raise
 
     def getTermByToken(self, token):
         try:
-            return super(
-                MissingCollectionTermsMixin, self).getTermByToken(token)
+            return super().getTermByToken(token)
         except LookupError:
             if self._canQueryCurrentValue():
                 for value in self._queryCurrentValue():
                     term = self._makeMissingTerm(value)
                     if term.token == token:
                         # check if the given token matches the value, if not
                         # fall back on LookupError, otherwise we might accept
                         # any crap coming from the request
                         return term
             raise
 
     def getValue(self, token):
         try:
-            return super(MissingCollectionTermsMixin, self).getValue(token)
+            return super().getValue(token)
         except LookupError:
             if self._canQueryCurrentValue():
                 for value in self._queryCurrentValue():
                     term = self._makeMissingTerm(value)
                     if term.token == token:
                         # check if the given token matches the value, if not
                         # fall back on LookupError, otherwise we might accept
```

### Comparing `z3c.form-4.3/src/z3c/form/term.rst` & `z3c.form-5.0/src/z3c/form/term.rst`

 * *Files 3% similar despite different names*

```diff
@@ -9,42 +9,42 @@
 Vocabularies
 ------------
 
 Thus, let's create a vocabulary first:
 
   >>> from zope.schema import vocabulary
   >>> ratings = vocabulary.SimpleVocabulary([
-  ...     vocabulary.SimpleVocabulary.createTerm(0, '0', u'bad'),
-  ...     vocabulary.SimpleVocabulary.createTerm(1, '1', u'okay'),
-  ...     vocabulary.SimpleVocabulary.createTerm(2, '2', u'good')
+  ...     vocabulary.SimpleVocabulary.createTerm(0, '0', 'bad'),
+  ...     vocabulary.SimpleVocabulary.createTerm(1, '1', 'okay'),
+  ...     vocabulary.SimpleVocabulary.createTerm(2, '2', 'good')
   ...     ])
 
 Terms
 ~~~~~
 
 Now we can create the terms object:
 
   >>> from z3c.form import term
   >>> terms = term.Terms()
   >>> terms.terms = ratings
 
 Getting a term from a given value is simple:
 
   >>> terms.getTerm(0).title
-  u'bad'
+  'bad'
   >>> terms.getTerm(3)
   Traceback (most recent call last):
   ...
   LookupError: 3
 
 When converting values from their Web representation back to the internal
 representation, we have to be able to look up a term by its token:
 
   >>> terms.getTermByToken('0').title
-  u'bad'
+  'bad'
   >>> terms.getTerm('3')
   Traceback (most recent call last):
   ...
   LookupError: 3
 
 However, often we just want the value so asking for the value that is
 represented by a token saves usually one line of code:
@@ -55,15 +55,15 @@
   Traceback (most recent call last):
   ...
   LookupError: 3
 
 You can also iterate through all terms:
 
   >>> [entry.title for entry in terms]
-  [u'bad', u'okay', u'good']
+  ['bad', 'okay', 'good']
 
 Or ask how many terms you have in the first place:
 
   >>> len(terms)
   3
 
 Finally the API allows you to check whether a particular value is available in
@@ -92,27 +92,27 @@
   >>> request = z3c.form.testing.TestRequest()
   >>> import z3c.form.widget
   >>> widget = z3c.form.widget.Widget(request)
 
   >>> import zope.schema
 
   >>> ratingField = zope.schema.Choice(
-  ...     title=u'Rating',
+  ...     title='Rating',
   ...     vocabulary=ratings)
 
   >>> terms = term.ChoiceTerms(
   ...     None, request, None, ratingField, widget)
   >>> [entry.title for entry in terms]
-  [u'bad', u'okay', u'good']
+  ['bad', 'okay', 'good']
 
 Sometimes choice fields only specify a vocabulary name and the actual
 vocabulary is looked up at run time.
 
   >>> ratingField2 = zope.schema.Choice(
-  ...     title=u'Rating',
+  ...     title='Rating',
   ...     vocabulary='Ratings')
 
 Initially we get an error because the "Ratings" vocabulary is not defined:
 
   >>> terms = term.ChoiceTerms(
   ...     None, request, None, ratingField2, widget)
   Traceback (most recent call last):
@@ -129,15 +129,15 @@
   >>> vr.register('Ratings', RatingsVocabulary)
 
 We should now be able to get all terms as before:
 
   >>> terms = term.ChoiceTerms(
   ...     None, request, None, ratingField, widget)
   >>> [entry.title for entry in terms]
-  [u'bad', u'okay', u'good']
+  ['bad', 'okay', 'good']
 
 
 Missing terms
 +++++++++++++
 
 Sometimes it happens that a term goes away from the vocabulary, but our
 stored objects still reference that term.
@@ -158,21 +158,21 @@
   ...
   LookupError: 42
 
 Ooops, well this works only if the context has the right value for us.
 This is because we don't want to accept any crap that's coming from HTML.
 
   >>> class IPerson(zope.interface.Interface):
-  ...     gender = zope.schema.Choice(title=u'Gender', vocabulary='Genders')
+  ...     gender = zope.schema.Choice(title='Gender', vocabulary='Genders')
   >>> @zope.interface.implementer(IPerson)
   ... class Person(object):
   ...     gender = None
   >>> gendersVocabulary = vocabulary.SimpleVocabulary([
-  ...     vocabulary.SimpleVocabulary.createTerm(1, 'male', u'Male'),
-  ...     vocabulary.SimpleVocabulary.createTerm(2, 'female', u'Female'),
+  ...     vocabulary.SimpleVocabulary.createTerm(1, 'male', 'Male'),
+  ...     vocabulary.SimpleVocabulary.createTerm(2, 'female', 'Female'),
   ...     ])
   >>> def GendersVocabulary(obj):
   ...     return ratings
   >>> vr.register('Genders', GendersVocabulary)
 
   >>> ctx = Person()
   >>> ctx.gender = 42
@@ -198,15 +198,15 @@
   >>> missingTerm.value
   42
 
 We cannot figure the title, so we construct one.
 Override ``makeMissingTerm`` if you want your own.
 
   >>> missingTerm.title
-  u'Missing: ${value}'
+  'Missing: ${value}'
 
 Still we raise LookupError if the token does not fit the context's value:
 
   >>> missingTerm = terms.getTermByToken('99')
   Traceback (most recent call last):
   ...
   LookupError: 99
@@ -231,61 +231,61 @@
 
 A similar terms implementation exists for a ``Bool`` field:
 
   >>> truthField = zope.schema.Bool()
 
   >>> terms = term.BoolTerms(None, None, None, truthField, None)
   >>> [entry.title for entry in terms]
-  [u'yes', u'no']
+  ['yes', 'no']
 
 In case you don't like the choice of 'yes' and 'no' for the labels, we
 can subclass the ``BoolTerms`` class to control the display labels.
 
   >>> class MyBoolTerms(term.BoolTerms):
-  ...   trueLabel = u'True'
-  ...   falseLabel = u'False'
+  ...   trueLabel = 'True'
+  ...   falseLabel = 'False'
 
   >>> terms = MyBoolTerms(None, None, None, truthField, None)
   >>> [entry.title for entry in terms]
-  [u'True', u'False']
+  ['True', 'False']
 
 
 Collections
 ~~~~~~~~~~~
 
 Finally, there are a terms adapters for all collections. But we have to
 register some adapters before using it:
 
   >>> from z3c.form import term
   >>> zope.component.provideAdapter(term.CollectionTerms)
   >>> zope.component.provideAdapter(term.CollectionTermsVocabulary)
   >>> zope.component.provideAdapter(term.CollectionTermsSource)
 
   >>> ratingsField = zope.schema.List(
-  ...     title=u'Ratings',
+  ...     title='Ratings',
   ...     value_type=ratingField)
 
   >>> terms = term.CollectionTerms(
   ...     None, request, None, ratingsField, widget)
   >>> [entry.title for entry in terms]
-  [u'bad', u'okay', u'good']
+  ['bad', 'okay', 'good']
 
 
 Sources
 -------
 
 Basic sources
 ~~~~~~~~~~~~~
 
 Basic sources need no context to compute their value. Let's create a
 source first:
 
   >>> from zc.sourcefactory.basic import BasicSourceFactory
   >>> class RatingSourceFactory(BasicSourceFactory):
-  ...     _mapping = {10: u'ugly', 20: u'nice', 30: u'great'}
+  ...     _mapping = {10: 'ugly', 20: 'nice', 30: 'great'}
   ...     def getValues(self):
   ...         return self._mapping.keys()
   ...     def getTitle(self, value):
   ...         return self._mapping[value]
 
 As we did not include the configure.zcml of zc.sourcefactory we have
 to register some required adapters manually. We also need the
@@ -303,15 +303,15 @@
 Choice fields
 +++++++++++++
 
 Sources can be used with ``Choice`` fields like vocabularies.  First
 we create a field based on the source:
 
   >>> sourceRatingField = zope.schema.Choice(
-  ...     title=u'Sourced Rating',
+  ...     title='Sourced Rating',
   ...     source=RatingSourceFactory())
 
 We connect the field to a widget to see the ITerms adapter for sources
 at work:
 
   >>> terms = term.ChoiceTerms(
   ...     None, request, None, sourceRatingField, widget)
@@ -323,20 +323,20 @@
    <zc.sourcefactory.browser.source.FactoredTerm object at 0x...>,
    <zc.sourcefactory.browser.source.FactoredTerm object at 0x...>]
   >>> len(terms)
   3
   >>> [entry.token for entry in terms]
   ['10', '20', '30']
   >>> [entry.title for entry in terms]
-  [u'ugly', u'nice', u'great']
+  ['ugly', 'nice', 'great']
 
 Using a token it is possible to look up the term and the value:
 
   >>> terms.getTermByToken('20').title
-  u'nice'
+  'nice'
   >>> terms.getValue('30')
   30
 
 With can test if a value is in the source:
 
   >>> 30 in terms
   True
@@ -365,15 +365,15 @@
   ...
   LookupError: 42
 
 Ooops, well this works only if the context has the right value for us.
 This is because we don't want to accept any crap that's coming from HTML.
 
   >>> class IRating(zope.interface.Interface):
-  ...     rating = zope.schema.Choice(title=u'Sourced Rating',
+  ...     rating = zope.schema.Choice(title='Sourced Rating',
   ...                                 source=RatingSourceFactory())
   >>> @zope.interface.implementer(IRating)
   ... class Rating(object):
   ...     rating = None
 
   >>> ctx = Rating()
   >>> ctx.rating = 42
@@ -399,15 +399,15 @@
   >>> missingTerm.value
   42
 
 We cannot figure the title, so we construct one.
 Override ``makeMissingTerm`` if you want your own.
 
   >>> missingTerm.title
-  u'Missing: ${value}'
+  'Missing: ${value}'
 
 Still we raise LookupError if the token does not fit the context's value:
 
   >>> missingTerm = terms.getTermByToken('99')
   Traceback (most recent call last):
   ...
   LookupError: 99
@@ -429,34 +429,34 @@
 
 Collections
 +++++++++++
 
 Finally, there are terms adapters for all collections:
 
   >>> sourceRatingsField = zope.schema.List(
-  ...     title=u'Sourced Ratings',
+  ...     title='Sourced Ratings',
   ...     value_type=sourceRatingField)
 
   >>> terms = term.CollectionTerms(
   ...     None, request, None, sourceRatingsField, widget)
   >>> [entry.title for entry in terms]
-  [u'ugly', u'nice', u'great']
+  ['ugly', 'nice', 'great']
 
 
 Contextual sources
 ~~~~~~~~~~~~~~~~~~
 
 Contextual sources depend on the context they are called on. Let's
 create a context and a contextual source:
 
   >>> from zc.sourcefactory.contextual import BasicContextualSourceFactory
   >>> class RatingContext(object):
   ...     base_value = 10
   >>> class ContextualRatingSourceFactory(BasicContextualSourceFactory):
-  ...     _mapping = {10: u'ugly', 20: u'nice', 30: u'great'}
+  ...     _mapping = {10: 'ugly', 20: 'nice', 30: 'great'}
   ...     def getValues(self, context):
   ...         return [context.base_value + x for x in self._mapping.keys()]
   ...     def getTitle(self, context, value):
   ...         return self._mapping[value - context.base_value]
 
 As we did not include the configure.zcml of zc.sourcefactory we have
 to register some required adapters manually. We also need the
@@ -474,15 +474,15 @@
 Choice fields
 +++++++++++++
 
 Contextual sources can be used with ``Choice`` fields like
 vocabularies.  First we create a field based on the source:
 
   >>> contextualSourceRatingField = zope.schema.Choice(
-  ...     title=u'Context Sourced Rating',
+  ...     title='Context Sourced Rating',
   ...     source=ContextualRatingSourceFactory())
 
 We create an context object and connect the field to a widget to see
 the ITerms adapter for sources at work:
 
   >>> rating_context = RatingContext()
   >>> rating_context.base_value = 100
@@ -496,20 +496,20 @@
    <zc.sourcefactory.browser.source.FactoredTerm object at 0x...>,
    <zc.sourcefactory.browser.source.FactoredTerm object at 0x...>]
   >>> len(terms)
   3
   >>> [entry.token for entry in terms]
   ['110', '120', '130']
   >>> [entry.title for entry in terms]
-  [u'ugly', u'nice', u'great']
+  ['ugly', 'nice', 'great']
 
 Using a token, it is possible to look up the term and the value:
 
   >>> terms.getTermByToken('120').title
-  u'nice'
+  'nice'
   >>> terms.getValue('130')
   130
 
 With can test if a value is in the source:
 
   >>> 130 in terms
   True
@@ -518,21 +518,21 @@
 
 Collections
 +++++++++++
 
 Finally, there are terms adapters for all collections:
 
   >>> contextualSourceRatingsField = zope.schema.List(
-  ...     title=u'Contextual Sourced Ratings',
+  ...     title='Contextual Sourced Ratings',
   ...     value_type=contextualSourceRatingField)
 
   >>> terms = term.CollectionTerms(
   ...     rating_context, request, None, contextualSourceRatingsField, widget)
   >>> [entry.title for entry in terms]
-  [u'ugly', u'nice', u'great']
+  ['ugly', 'nice', 'great']
 
 
 Missing terms in collections
 ############################
 
 Sometimes it happens that a value goes away from the source, but our
 stored collection still has this value.
@@ -564,15 +564,15 @@
 
 
 Ooops, well this works only if the context has the right value for us.
 This is because we don't want to accept any crap that's coming from HTML.
 
   >>> class IRatings(zope.interface.Interface):
   ...     ratings = zope.schema.List(
-  ...         title=u'Contextual Sourced Ratings',
+  ...         title='Contextual Sourced Ratings',
   ...         value_type=contextualSourceRatingField)
   >>> @zope.interface.implementer(IRatings)
   ... class Ratings(object):
   ...     ratings = None
   ...     base_value = 10
 
   >>> ctx = Ratings()
@@ -600,15 +600,15 @@
   >>> missingTerm.value
   42
 
 We cannot figure the title, so we construct one.
 Override ``makeMissingTerm`` if you want your own.
 
   >>> missingTerm.title
-  u'Missing: ${value}'
+  'Missing: ${value}'
 
 We can get the value for a missing term:
 
   >>> terms.getValue('42')
   42
 
 Still we raise LookupError if the token does not fit the context's value:
```

### Comparing `z3c.form-4.3/src/z3c/form/term.zcml` & `z3c.form-5.0/src/z3c/form/term.zcml`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/testing.py` & `z3c.form-5.0/src/z3c/form/testing.py`

 * *Files 5% similar despite different names*

```diff
@@ -8,61 +8,63 @@
 # THIS SOFTWARE IS PROVIDED "AS IS" AND ANY AND ALL EXPRESS OR IMPLIED
 # WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 # WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS
 # FOR A PARTICULAR PURPOSE.
 #
 ##############################################################################
 """Common z3c.form test setups"""
-from __future__ import print_function
+
 import base64
-import pprint
 import os
-import re
-import six
+import pprint
 import shutil
+from doctest import register_optionflag
+
+import lxml.doctestcompare
+import lxml.html
 import zope.browserresource
 import zope.component
 import zope.configuration.xmlconfig
 import zope.interface
 import zope.schema
-
-from doctest import register_optionflag
 from zope.browserpage.viewpagetemplatefile import BoundPageTemplate
 from zope.browserpage.viewpagetemplatefile import ViewPageTemplateFile
 from zope.pagetemplate.interfaces import IPageTemplate
 from zope.publisher.browser import TestRequest
 from zope.schema.fieldproperty import FieldProperty
 from zope.security import checker
 from zope.security.interfaces import IInteraction
 from zope.security.interfaces import ISecurityPolicy
 
 import z3c.form
-from z3c.form import browser, button, converter, datamanager, error, field
-from z3c.form import form, interfaces, term, validator, widget
+from z3c.form import browser
+from z3c.form import button
 from z3c.form import contentprovider
+from z3c.form import converter
+from z3c.form import datamanager
+from z3c.form import error
+from z3c.form import field
+from z3c.form import form
+from z3c.form import interfaces
 from z3c.form import outputchecker
+from z3c.form import term
 from z3c.form import tests
-from z3c.form.browser import radio, select, text, textarea
+from z3c.form import validator
+from z3c.form import widget
+from z3c.form.browser import radio
+from z3c.form.browser import select
+from z3c.form.browser import text
+from z3c.form.browser import textarea
 
-import lxml.html
-import lxml.doctestcompare
 
 # register lxml doctest option flags
 lxml.doctestcompare.NOPARSE_MARKUP = register_optionflag('NOPARSE_MARKUP')
 
-outputChecker = outputchecker.OutputChecker(
-    patterns =(
-        # Py3 compatibility.
-        (re.compile("u('.*?')"), r"\1"),
-        (re.compile("b('.*?')"), r"\1"),
-        (re.compile("__builtin__"), r"builtins"),
-        (re.compile("<type"), r"<class"),
-        (re.compile("set\(\[(.*?)\]\)"), r"{\1}"),
-    )
-)
+outputChecker = outputchecker.OutputChecker(patterns=())
+
 
 class TestingFileUploadDataConverter(converter.FileUploadDataConverter):
     """A special file upload data converter that works with testing."""
     zope.component.adapts(
         zope.schema.interfaces.IBytes, interfaces.IFileWidget)
 
     def toFieldValue(self, value):
@@ -72,42 +74,42 @@
                 self.widget.name + '.encoding', 'plain')
 
             # allow for the case where the file contents are base64 encoded.
             if encoding == 'base64':
                 value = base64.b64decode(value)
             self.widget.request.form[self.widget.name] = value
 
-        return super(TestingFileUploadDataConverter, self).toFieldValue(value)
+        return super().toFieldValue(value)
 
 
 @zope.interface.implementer(interfaces.IFormLayer)
 class TestRequest(TestRequest):
     def __init__(self, body_instream=None, environ=None, form=None,
                  skin=None, **kw):
         if form is not None:
             lists = {}
             for k in list(form.keys()):
-                if isinstance(form[k], six.string_types):
+                if isinstance(form[k], str):
                     # ensure unicode otherwise z3c.forms burps on str
-                    form[k] = six.text_type(form[k])
+                    form[k] = str(form[k])
 
                 if k.endswith(':list'):
                     key = k.split(':', 1)[0]
                     lists.setdefault(key, []).append(form[k])
                     del form[k]
 
             form.update(lists)
 
-        super(TestRequest, self).__init__(
+        super().__init__(
             body_instream, environ, form, skin, **kw)
 
 
 @zope.interface.implementer(IInteraction)
 @zope.interface.provider(ISecurityPolicy)
-class SimpleSecurityPolicy(object):
+class SimpleSecurityPolicy:
     """Allow all access."""
 
     loggedIn = False
     allowedPermissions = ()
 
     def __init__(self, loggedIn=False, allowedPermissions=()):
         self.loggedIn = loggedIn
@@ -130,128 +132,127 @@
 
 #############################
 # classes required by ObjectWidget tests
 #
 
 class IMySubObject(zope.interface.Interface):
     foofield = zope.schema.Int(
-        title=u"My foo field",
+        title="My foo field",
         default=1111,
         max=9999,
         required=True)
     barfield = zope.schema.Int(
-        title=u"My dear bar",
+        title="My dear bar",
         default=2222,
         required=False)
 
 
 @zope.interface.implementer(IMySubObject)
-class MySubObject(object):
+class MySubObject:
 
     foofield = FieldProperty(IMySubObject['foofield'])
     barfield = FieldProperty(IMySubObject['barfield'])
 
 
 class IMySecond(zope.interface.Interface):
     subfield = zope.schema.Object(
-        title=u"Second-subobject",
+        title="Second-subobject",
         schema=IMySubObject)
-    moofield = zope.schema.TextLine(title=u"Something")
+    moofield = zope.schema.TextLine(title="Something")
 
 
 @zope.interface.implementer(IMySecond)
-class MySecond(object):
+class MySecond:
 
     subfield = FieldProperty(IMySecond['subfield'])
     moofield = FieldProperty(IMySecond['moofield'])
 
 
 class IMyObject(zope.interface.Interface):
-    subobject = zope.schema.Object(title=u'my object', schema=IMySubObject)
-    name = zope.schema.TextLine(title=u'name')
+    subobject = zope.schema.Object(title='my object', schema=IMySubObject)
+    name = zope.schema.TextLine(title='name')
 
 
 @zope.interface.implementer(IMyObject)
-class MyObject(object):
+class MyObject:
 
-    def __init__(self, name=u'', subobject=None):
+    def __init__(self, name='', subobject=None):
         self.subobject = subobject
         self.name = name
 
 
 class IMyComplexObject(zope.interface.Interface):
-    subobject = zope.schema.Object(title=u'my object', schema=IMySecond)
-    name = zope.schema.TextLine(title=u'name')
+    subobject = zope.schema.Object(title='my object', schema=IMySecond)
+    name = zope.schema.TextLine(title='name')
 
 
 class IMySubObjectMulti(zope.interface.Interface):
     foofield = zope.schema.Int(
-        title=u"My foo field",
+        title="My foo field",
         default=None,  # default is None here!
         max=9999,
         required=True)
     barfield = zope.schema.Int(
-        title=u"My dear bar",
+        title="My dear bar",
         default=2222,
         required=False)
 
 
 @zope.interface.implementer(IMySubObjectMulti)
-class MySubObjectMulti(object):
+class MySubObjectMulti:
 
     foofield = FieldProperty(IMySubObjectMulti['foofield'])
     barfield = FieldProperty(IMySubObjectMulti['barfield'])
 
 
 class IMyMultiObject(zope.interface.Interface):
     listOfObject = zope.schema.List(
-        title=u"My list field",
+        title="My list field",
         value_type=zope.schema.Object(
-            title=u'my object widget',
+            title='my object widget',
             schema=IMySubObjectMulti),
     )
-    name = zope.schema.TextLine(title=u'name')
+    name = zope.schema.TextLine(title='name')
 
 
 @zope.interface.implementer(IMyMultiObject)
-class MyMultiObject(object):
+class MyMultiObject:
 
     listOfObject = FieldProperty(IMyMultiObject['listOfObject'])
     name = FieldProperty(IMyMultiObject['name'])
 
-    def __init__(self, name=u'', listOfObject=None):
+    def __init__(self, name='', listOfObject=None):
         self.listOfObject = listOfObject
         self.name = name
 
 
 def setUp(test):
     from zope.component.testing import setUp
     setUp()
     from zope.container.testing import setUp
     setUp()
     from zope.component import hooks
     hooks.setHooks()
     from zope.traversing.testing import setUp
     setUp()
 
+    from zope.i18n.interfaces import IUserPreferredLanguages
     from zope.publisher.browser import BrowserLanguages
     from zope.publisher.interfaces.http import IHTTPRequest
-    from zope.i18n.interfaces import IUserPreferredLanguages
     zope.component.provideAdapter(BrowserLanguages, [IHTTPRequest],
-                   IUserPreferredLanguages)
+                                  IUserPreferredLanguages)
 
     from zope.site.folder import rootFolder
     site = rootFolder()
-    from zope.site.site import LocalSiteManager
     from zope.component.interfaces import ISite
+    from zope.site.site import LocalSiteManager
     if not ISite.providedBy(site):
         site.setSiteManager(LocalSiteManager(site))
     hooks.setSite(site)
     test.globs = {
-        'print_function': print_function,
         'root': site,
         'pprint': pprint.pprint}
 
 
 def setUpZPT(suite):
     setUp(suite)
 
@@ -330,15 +331,16 @@
         (None, None, None, None, interfaces.IWidget),
         interfaces.IWidgetLayoutTemplate, name=interfaces.INPUT_MODE)
     zope.component.provideAdapter(
         widget.WidgetLayoutFactory(getPath('widget_layout.pt'), 'text/html'),
         (None, None, None, None, interfaces.IWidget),
         interfaces.IWidgetLayoutTemplate, name=interfaces.DISPLAY_MODE)
     zope.component.provideAdapter(
-        widget.WidgetLayoutFactory(getPath('widget_layout_hidden.pt'), 'text/html'),
+        widget.WidgetLayoutFactory(
+            getPath('widget_layout_hidden.pt'), 'text/html'),
         (None, None, None, None, interfaces.IWidget),
         interfaces.IWidgetLayoutTemplate, name=interfaces.HIDDEN_MODE)
 
     # Text Field Widget
     zope.component.provideAdapter(
         widget.WidgetTemplateFactory(getPath('text_input.pt'), 'text/html'),
         (None, None, None, None, interfaces.ITextWidget),
@@ -356,19 +358,21 @@
     zope.component.provideAdapter(
         textarea.TextAreaFieldWidget,
         adapts=(zope.schema.interfaces.IASCII, interfaces.IFormLayer))
     zope.component.provideAdapter(
         textarea.TextAreaFieldWidget,
         adapts=(zope.schema.interfaces.IText, interfaces.IFormLayer))
     zope.component.provideAdapter(
-        widget.WidgetTemplateFactory(getPath('textarea_input.pt'), 'text/html'),
+        widget.WidgetTemplateFactory(
+            getPath('textarea_input.pt'), 'text/html'),
         (None, None, None, None, interfaces.ITextAreaWidget),
         IPageTemplate, name=interfaces.INPUT_MODE)
     zope.component.provideAdapter(
-        widget.WidgetTemplateFactory(getPath('textarea_display.pt'), 'text/html'),
+        widget.WidgetTemplateFactory(
+            getPath('textarea_display.pt'), 'text/html'),
         (None, None, None, None, interfaces.ITextAreaWidget),
         IPageTemplate, name=interfaces.DISPLAY_MODE)
 
     # Radio Field Widget
     zope.component.provideAdapter(radio.RadioFieldWidget)
     zope.component.provideAdapter(
         widget.WidgetTemplateFactory(getPath('radio_input.pt'), 'text/html'),
@@ -393,30 +397,32 @@
     zope.component.provideAdapter(select.ChoiceWidgetDispatcher)
     zope.component.provideAdapter(select.SelectFieldWidget)
     zope.component.provideAdapter(
         widget.WidgetTemplateFactory(getPath('select_input.pt'), 'text/html'),
         (None, None, None, None, interfaces.ISelectWidget),
         IPageTemplate, name=interfaces.INPUT_MODE)
     zope.component.provideAdapter(
-        widget.WidgetTemplateFactory(getPath('select_display.pt'), 'text/html'),
+        widget.WidgetTemplateFactory(
+            getPath('select_display.pt'), 'text/html'),
         (None, None, None, None, interfaces.ISelectWidget),
         IPageTemplate, name=interfaces.DISPLAY_MODE)
     zope.component.provideAdapter(
         widget.WidgetTemplateFactory(getPath('select_hidden.pt'), 'text/html'),
         (None, None, None, None, interfaces.ISelectWidget),
         IPageTemplate, name=interfaces.HIDDEN_MODE)
 
     # Checkbox Field Widget; register only templates
     zope.component.provideAdapter(
-        widget.WidgetTemplateFactory(getPath('checkbox_input.pt'), 'text/html'),
+        widget.WidgetTemplateFactory(
+            getPath('checkbox_input.pt'), 'text/html'),
         (None, None, None, None, interfaces.ICheckBoxWidget),
         IPageTemplate, name=interfaces.INPUT_MODE)
     zope.component.provideAdapter(
         widget.WidgetTemplateFactory(
-        getPath('checkbox_display.pt'), 'text/html'),
+            getPath('checkbox_display.pt'), 'text/html'),
         (None, None, None, None, interfaces.ICheckBoxWidget),
         IPageTemplate, name=interfaces.DISPLAY_MODE)
     # Submit Field Widget
     zope.component.provideAdapter(
         widget.WidgetTemplateFactory(getPath('submit_input.pt'), 'text/html'),
         (None, None, None, None, interfaces.ISubmitWidget),
         IPageTemplate, name=interfaces.INPUT_MODE)
@@ -456,16 +462,16 @@
     # Error View(s)
     zope.component.provideAdapter(error.ErrorViewSnippet)
     zope.component.provideAdapter(error.InvalidErrorViewSnippet)
     zope.component.provideAdapter(error.StandardErrorViewTemplate)
 
 
 def tearDown(test):
-    from zope.testing import cleanup
     from zope.component import hooks
+    from zope.testing import cleanup
     cleanup.cleanUp()
     hooks.resetHooks()
     hooks.setSite()
 
 
 ##########################
 def render(view, xpath='.'):
@@ -480,15 +486,15 @@
     try:
         root = lxml.etree.fromstring(string)
     except lxml.etree.XMLSyntaxError:
         root = lxml.html.fromstring(string)
 
     output = ""
     for node in root.xpath(
-        xpath, namespaces={'xmlns': 'http://www.w3.org/1999/xhtml'}):
+            xpath, namespaces={'xmlns': 'http://www.w3.org/1999/xhtml'}):
         s = lxml.etree.tounicode(node, pretty_print=True)
         s = s.replace(' xmlns="http://www.w3.org/1999/xhtml"', ' ')
         output += s
 
     if not output:
         raise ValueError("No elements matched by %s." % repr(xpath))
 
@@ -521,29 +527,30 @@
         if node.get('type') == 'radio':
             return title + ('(O)' if node.get('checked') else '( )')
         if node.get('type') == 'checkbox':
             return title + ('[x]' if node.get('checked') else '[ ]')
         if node.get('type') == 'hidden':
             return ''
         else:
-            return '%s[%s]' % (title, node.get('value') or '')
+            return '{}[{}]'.format(title, node.get('value') or '')
     if node.tag == 'textarea':
         if addTitle:
             title = node.get('name') or ''
             title += ' '
             text.append(title)
     if node.tag == 'select':
         if addTitle:
             title = node.get('name') or ''
             title += ' '
         else:
             title = ''
         option = node.find('option[@selected]')
-        return '%s[%s]' % (title, option.text if option is not None
-                                  else '[    ]')
+        return '{}[{}]'.format(
+            title,
+            option.text if option is not None else '[    ]')
     if node.tag == 'li':
         text.append('*')
     if node.tag == 'script':
         return
 
     if node.text and node.text.strip():
         text.append(node.text.strip())
@@ -553,17 +560,17 @@
         if s:
             text.append(s)
         if child.tail and child.tail.strip():
             text.append(child.tail)
     text = ' '.join(text).strip()
     # 'foo<br>bar' ends up as 'foo \nbar' due to the algorithm used above
     text = text.replace(' \n', '\n').replace('\n ', '\n').replace('\n\n', '\n')
-    if u'\xA0' in text:
+    if '\xA0' in text:
         # don't just .replace, that'll sprinkle my tests with u''
-        text = text.replace(u'\xA0', ' ')  # nbsp -> space
+        text = text.replace('\xA0', ' ')  # nbsp -> space
     if node.tag == 'li':
         text += '\n'
     if node.tag == 'div':
         text += '\n'
     return text
 
 
@@ -583,15 +590,15 @@
     if xpath is not None:
         nodes = root.xpath(xpath)
         joinon = '\n'
     else:
         nodes = root
         joinon = ''
     text = joinon.join(map(textOf, nodes))
-    lines = [l.strip() for l in text.splitlines()]
+    lines = [line.strip() for line in text.splitlines()]
     text = '\n'.join(lines)
     return text
 
 
 def getSubmitValues(content):
     root = lxml.html.fromstring(content)
     form = root.forms[0]
@@ -618,224 +625,227 @@
                             'integration.css')
     shutil.copy(cssfname, fullfname)
 
 
 ##########################################
 # integration test interfaces and classes
 
-class IntegrationBase(object):
+class IntegrationBase:
     def __init__(self, **kw):
         for k, v in kw.items():
             setattr(self, k, v)
 
     def __repr__(self):
-        items = list(self.__dict__.items())
-        items.sort()
-        return ("<" + self.__class__.__name__+"\n  "
-            + "\n  ".join(["%s: %s" % (key, pprint.pformat(value))
-            for key, value in items]) + ">")
+        items = sorted(self.__dict__.items())
+        return ("<" + self.__class__.__name__ + "\n  "
+                + "\n  ".join(["{}: {}".format(key, pprint.pformat(value))
+                               for key, value in items]) + ">")
 
 
 class IObjectWidgetSingleSubIntegration(zope.interface.Interface):
     singleInt = zope.schema.Int(
-        title=u'Int label')
+        title='Int label')
     singleBool = zope.schema.Bool(
-        title=u'Bool label',
+        title='Bool label',
         required=True)
     singleChoice = zope.schema.Choice(
-        title=u'Choice label',
+        title='Choice label',
         values=('one', 'two', 'three'))
     singleChoiceOpt = zope.schema.Choice(
-        title=u'ChoiceOpt label',
+        title='ChoiceOpt label',
         values=('four', 'five', 'six'),
         required=False)
     singleTextLine = zope.schema.TextLine(
-        title=u'TextLine label')
+        title='TextLine label')
     singleDate = zope.schema.Date(
-        title=u'Date label')
+        title='Date label')
     singleReadOnly = zope.schema.TextLine(
-        title=u'ReadOnly label',
+        title='ReadOnly label',
         readonly=True)
 
 
 @zope.interface.implementer(IObjectWidgetSingleSubIntegration)
 class ObjectWidgetSingleSubIntegration(IntegrationBase):
 
     singleInt = FieldProperty(IObjectWidgetSingleSubIntegration['singleInt'])
     singleBool = FieldProperty(IObjectWidgetSingleSubIntegration['singleBool'])
-    singleChoice = FieldProperty(IObjectWidgetSingleSubIntegration['singleChoice'])
+    singleChoice = FieldProperty(
+        IObjectWidgetSingleSubIntegration['singleChoice'])
     singleChoiceOpt = FieldProperty(
         IObjectWidgetSingleSubIntegration['singleChoiceOpt'])
     singleTextLine = FieldProperty(
         IObjectWidgetSingleSubIntegration['singleTextLine'])
     singleDate = FieldProperty(IObjectWidgetSingleSubIntegration['singleDate'])
     singleReadOnly = FieldProperty(
         IObjectWidgetSingleSubIntegration['singleReadOnly'])
 
 
 class IObjectWidgetSingleIntegration(zope.interface.Interface):
     subobj = zope.schema.Object(
-        title=u'Object label',
+        title='Object label',
         schema=IObjectWidgetSingleSubIntegration
     )
 
 
 @zope.interface.implementer(IObjectWidgetSingleIntegration)
-class ObjectWidgetSingleIntegration(object):
+class ObjectWidgetSingleIntegration:
 
     subobj = FieldProperty(IObjectWidgetSingleIntegration['subobj'])
 
 
 class IObjectWidgetMultiSubIntegration(zope.interface.Interface):
     multiInt = zope.schema.Int(
-        title=u'Int label')
+        title='Int label')
     multiBool = zope.schema.Bool(
-        title=u'Bool label',
+        title='Bool label',
         required=True)
     multiChoice = zope.schema.Choice(
-        title=u'Choice label',
+        title='Choice label',
         values=('one', 'two', 'three'))
     multiChoiceOpt = zope.schema.Choice(
-        title=u'ChoiceOpt label',
+        title='ChoiceOpt label',
         values=('four', 'five', 'six'),
         required=False)
     multiTextLine = zope.schema.TextLine(
-        title=u'TextLine label')
+        title='TextLine label')
     multiDate = zope.schema.Date(
-        title=u'Date label')
+        title='Date label')
 
 
 @zope.interface.implementer(IObjectWidgetMultiSubIntegration)
 class ObjectWidgetMultiSubIntegration(IntegrationBase):
 
     multiInt = FieldProperty(IObjectWidgetMultiSubIntegration['multiInt'])
     multiBool = FieldProperty(IObjectWidgetMultiSubIntegration['multiBool'])
-    multiChoice = FieldProperty(IObjectWidgetMultiSubIntegration['multiChoice'])
+    multiChoice = FieldProperty(
+        IObjectWidgetMultiSubIntegration['multiChoice'])
     multiChoiceOpt = FieldProperty(
         IObjectWidgetMultiSubIntegration['multiChoiceOpt'])
     multiTextLine = FieldProperty(
         IObjectWidgetMultiSubIntegration['multiTextLine'])
     multiDate = FieldProperty(IObjectWidgetMultiSubIntegration['multiDate'])
 
 
 class IObjectWidgetMultiIntegration(zope.interface.Interface):
     subobj = zope.schema.Object(
-        title=u'Object label',
+        title='Object label',
         schema=IObjectWidgetMultiSubIntegration
     )
 
 
 @zope.interface.implementer(IObjectWidgetMultiIntegration)
-class ObjectWidgetMultiIntegration(object):
+class ObjectWidgetMultiIntegration:
 
     subobj = FieldProperty(IObjectWidgetMultiIntegration['subobj'])
 
 
 class IMultiWidgetListIntegration(zope.interface.Interface):
     listOfInt = zope.schema.List(
-        title=u"ListOfInt label",
+        title="ListOfInt label",
         value_type=zope.schema.Int(
-            title=u'Int label'),
+            title='Int label'),
     )
     listOfBool = zope.schema.List(
-        title=u"ListOfBool label",
+        title="ListOfBool label",
         value_type=zope.schema.Bool(
-            title=u'Bool label',
+            title='Bool label',
             required=True),
     )
     listOfChoice = zope.schema.List(
-        title=u"ListOfChoice label",
+        title="ListOfChoice label",
         value_type=zope.schema.Choice(
-            title=u'Choice label',
+            title='Choice label',
             values=('one', 'two', 'three')
-            ),
+        ),
     )
     listOfTextLine = zope.schema.List(
-        title=u"ListOfTextLine label",
+        title="ListOfTextLine label",
         value_type=zope.schema.TextLine(
-            title=u'TextLine label'),
+            title='TextLine label'),
     )
     listOfDate = zope.schema.List(
-        title=u"ListOfDate label",
+        title="ListOfDate label",
         value_type=zope.schema.Date(
-            title=u'Date label'),
+            title='Date label'),
     )
     listOfObject = zope.schema.List(
-        title=u"ListOfObject label",
+        title="ListOfObject label",
         value_type=zope.schema.Object(
-            title=u'Object label',
+            title='Object label',
             schema=IObjectWidgetMultiSubIntegration),
     )
 
 
 @zope.interface.implementer(IMultiWidgetListIntegration)
 class MultiWidgetListIntegration(IntegrationBase):
 
     listOfInt = FieldProperty(IMultiWidgetListIntegration['listOfInt'])
     listOfBool = FieldProperty(IMultiWidgetListIntegration['listOfBool'])
     listOfChoice = FieldProperty(IMultiWidgetListIntegration['listOfChoice'])
-    listOfTextLine = FieldProperty(IMultiWidgetListIntegration['listOfTextLine'])
+    listOfTextLine = FieldProperty(
+        IMultiWidgetListIntegration['listOfTextLine'])
     listOfDate = FieldProperty(IMultiWidgetListIntegration['listOfDate'])
     listOfObject = FieldProperty(IMultiWidgetListIntegration['listOfObject'])
 
 
 class IMultiWidgetDictIntegration(zope.interface.Interface):
     dictOfInt = zope.schema.Dict(
-        title=u"DictOfInt label",
+        title="DictOfInt label",
         key_type=zope.schema.Int(
-            title=u'Int key'),
+            title='Int key'),
         value_type=zope.schema.Int(
-            title=u'Int label'),
+            title='Int label'),
     )
     dictOfBool = zope.schema.Dict(
-        title=u"DictOfBool label",
+        title="DictOfBool label",
         key_type=zope.schema.Bool(
-            title=u'Bool key',
+            title='Bool key',
             required=True),
         value_type=zope.schema.Bool(
-            title=u'Bool label',
+            title='Bool label',
             required=True),
     )
     dictOfChoice = zope.schema.Dict(
-        title=u"DictOfChoice label",
+        title="DictOfChoice label",
         key_type=zope.schema.Choice(
-            title=u'Choice key',
+            title='Choice key',
             values=('key1', 'key2', 'key3')
-            ),
+        ),
         value_type=zope.schema.Choice(
-            title=u'Choice label',
+            title='Choice label',
             values=('one', 'two', 'three')
-            ),
+        ),
     )
     dictOfTextLine = zope.schema.Dict(
-        title=u"DictOfTextLine label",
+        title="DictOfTextLine label",
         key_type=zope.schema.TextLine(
-            title=u'TextLine key'),
+            title='TextLine key'),
         value_type=zope.schema.TextLine(
-            title=u'TextLine label'),
+            title='TextLine label'),
     )
     dictOfDate = zope.schema.Dict(
-        title=u"DictOfDate label",
+        title="DictOfDate label",
         key_type=zope.schema.Date(
-            title=u'Date key'),
+            title='Date key'),
         value_type=zope.schema.Date(
-            title=u'Date label'),
+            title='Date label'),
     )
     dictOfObject = zope.schema.Dict(
-        title=u"DictOfObject label",
+        title="DictOfObject label",
         key_type=zope.schema.TextLine(
-            title=u'Object key'),
+            title='Object key'),
         value_type=zope.schema.Object(
-            title=u'Object label',
+            title='Object label',
             schema=IObjectWidgetMultiSubIntegration),
     )
 
 
 @zope.interface.implementer(IMultiWidgetDictIntegration)
 class MultiWidgetDictIntegration(IntegrationBase):
 
     dictOfInt = FieldProperty(IMultiWidgetDictIntegration['dictOfInt'])
     dictOfBool = FieldProperty(IMultiWidgetDictIntegration['dictOfBool'])
     dictOfChoice = FieldProperty(IMultiWidgetDictIntegration['dictOfChoice'])
-    dictOfTextLine = FieldProperty(IMultiWidgetDictIntegration['dictOfTextLine'])
+    dictOfTextLine = FieldProperty(
+        IMultiWidgetDictIntegration['dictOfTextLine'])
     dictOfDate = FieldProperty(IMultiWidgetDictIntegration['dictOfDate'])
     dictOfObject = FieldProperty(IMultiWidgetDictIntegration['dictOfObject'])
```

### Comparing `z3c.form-4.3/src/z3c/form/testing.rst` & `z3c.form-5.0/src/z3c/form/testing.rst`

 * *Files 1% similar despite different names*

```diff
@@ -25,20 +25,20 @@
 
   >>> dataWidget = widget.Widget(testing.TestRequest(
   ...    form={'data.testing': 'haha'}))
   >>> dataWidget.name = 'data'
 
   >>> conv = testing.TestingFileUploadDataConverter(filedata, dataWidget)
   >>> conv.toFieldValue('')
-  'haha'
+  b'haha'
 
 And now, specify a encoded string
 
   >>> import base64
   >>> encStr = base64.b64encode(b'hoohoo')
   >>> dataWidget = widget.Widget(testing.TestRequest(
   ...    form={'data.testing': encStr, 'data.encoding': 'base64'}))
   >>> dataWidget.name = 'data'
 
   >>> conv = testing.TestingFileUploadDataConverter(filedata, dataWidget)
   >>> conv.toFieldValue('')
-  'hoohoo'
+  b'hoohoo'
```

### Comparing `z3c.form-4.3/src/z3c/form/tests/integration_edit.pt` & `z3c.form-5.0/src/z3c/form/tests/integration_edit.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/tests/simple_caredit.pt` & `z3c.form-5.0/src/z3c/form/tests/simple_caredit.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/tests/simple_edit.pt` & `z3c.form-5.0/src/z3c/form/tests/simple_edit.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/tests/simple_edit_with_providers.pt` & `z3c.form-5.0/src/z3c/form/tests/simple_edit_with_providers.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/tests/simple_groupedit.pt` & `z3c.form-5.0/src/z3c/form/tests/simple_groupedit.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/tests/simple_nested_groupedit.pt` & `z3c.form-5.0/src/z3c/form/tests/simple_nested_groupedit.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/tests/simple_owneredit.pt` & `z3c.form-5.0/src/z3c/form/tests/simple_owneredit.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/tests/simple_subedit.pt` & `z3c.form-5.0/src/z3c/form/tests/simple_subedit.pt`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/tests/test_bugfix.py` & `z3c.form-5.0/src/z3c/form/tests/test_bugfix.py`

 * *Files 8% similar despite different names*

```diff
@@ -11,79 +11,83 @@
 # FOR A PARTICULAR PURPOSE.
 #
 ##############################################################################
 """Unittests for bug fixes."""
 
 import unittest
 
+
 class TestApplyChangesDictDatamanager(unittest.TestCase):
     # z3c.form.form.applyChanges could not write a value into an empty
     # content dict it got an AttributeError while accessing
     # datamanger.get(). This test makes sure that a dictionary content
     # does not need to be initialized with all keys which might be
     # written on it later on. (This was the behavior before
     # datamanger.DictionaryField.get() raised an AttributeError on not
     # existing keys.
 
     def setUp(self):
         import zope.component
         import zope.interface
+
         import z3c.form.datamanager
 
         zope.component.provideAdapter(
             z3c.form.datamanager.DictionaryField,
             (dict, zope.interface.Interface))
 
     def tearDown(self):
         import zope.component.globalregistry
+
         import z3c.form.datamanager
 
         zope.component.globalregistry.getGlobalSiteManager().unregisterAdapter(
             z3c.form.datamanager.DictionaryField,
             (dict, zope.interface.Interface))
 
     def test_applyChanges(self):
+        import zope.interface
+        import zope.schema
+
         import z3c.form.field
         import z3c.form.form
-        import zope.schema
-        import zope.interface
 
         class TestInterface(zope.interface.Interface):
-            text = zope.schema.TextLine(title=u'text')
+            text = zope.schema.TextLine(title='text')
 
         class TestForm(z3c.form.form.BaseForm):
             fields = z3c.form.field.Fields(TestInterface)
 
         # content is an empty dict, the `text` key does not yet exist
         content = dict()
         form = TestForm(content, request=None)
         data = dict(text='a')
         changes = z3c.form.form.applyChanges(form, content, data)
         self.assertEqual({TestInterface: ['text']}, changes)
         self.assertEqual({'text': 'a'}, content)
 
 
-class Mock(object):
+class Mock:
     pass
 
 
-class MockNumberFormatter(object):
+class MockNumberFormatter:
     def format(self, value):
         if value is None:
             # execution should never get here
             raise ValueError('Cannot format None')
         return str(value)
 
 
-class MockLocale(object):
+class MockLocale:
     def getFormatter(self, category):
         return MockNumberFormatter()
 
 
-class OurNone(object):
+class OurNone:
     def __eq__(self, other):
         return isinstance(other, (type(None), OurNone))
 
 
 OUR_NONE = OurNone()
 # OUR_NONE == None
 # but
@@ -96,41 +100,41 @@
 
     def test_BaseDataConverter_toWidgetValue(self):
         from z3c.form.converter import BaseDataConverter
 
         field = Mock()
         field.missing_value = None
         bdc = BaseDataConverter(field, None)
-        self.assertEqual(bdc.toWidgetValue(u''), u'')
-        self.assertEqual(bdc.toWidgetValue(None), u'')
-        self.assertEqual(bdc.toWidgetValue([]), u'[]')
+        self.assertEqual(bdc.toWidgetValue(''), '')
+        self.assertEqual(bdc.toWidgetValue(None), '')
+        self.assertEqual(bdc.toWidgetValue([]), '[]')
 
         field.missing_value = []
-        self.assertEqual(bdc.toWidgetValue(u''), u'')
-        self.assertEqual(bdc.toWidgetValue(None), u'None')
-        self.assertEqual(bdc.toWidgetValue([]), u'')
+        self.assertEqual(bdc.toWidgetValue(''), '')
+        self.assertEqual(bdc.toWidgetValue(None), 'None')
+        self.assertEqual(bdc.toWidgetValue([]), '')
 
     def test_NumberDataConverter_toWidgetValue(self):
         from z3c.form.converter import NumberDataConverter
 
         field = Mock()
         field.missing_value = None
         widget = Mock()
         widget.request = Mock()
         widget.request.locale = Mock()
         widget.request.locale.numbers = MockLocale()
         ndc = NumberDataConverter(field, widget)
-        self.assertEqual(ndc.toWidgetValue(u''), u'')
-        self.assertEqual(ndc.toWidgetValue(None), u'')
+        self.assertEqual(ndc.toWidgetValue(''), '')
+        self.assertEqual(ndc.toWidgetValue(None), '')
         # here is the real deal, OUR_NONE should be considered as None
-        self.assertEqual(ndc.toWidgetValue(OUR_NONE), u'')
-        self.assertEqual(ndc.toWidgetValue([]), u'[]')
+        self.assertEqual(ndc.toWidgetValue(OUR_NONE), '')
+        self.assertEqual(ndc.toWidgetValue([]), '[]')
 
         field.missing_value = OUR_NONE
-        self.assertEqual(ndc.toWidgetValue(u''), u'')
-        self.assertEqual(ndc.toWidgetValue(None), u'')
-        self.assertEqual(ndc.toWidgetValue(OUR_NONE), u'')
-        self.assertEqual(ndc.toWidgetValue([]), u'[]')
+        self.assertEqual(ndc.toWidgetValue(''), '')
+        self.assertEqual(ndc.toWidgetValue(None), '')
+        self.assertEqual(ndc.toWidgetValue(OUR_NONE), '')
+        self.assertEqual(ndc.toWidgetValue([]), '[]')
 
 
 def test_suite():
     return unittest.defaultTestLoader.loadTestsFromName(__name__)
```

### Comparing `z3c.form-4.3/src/z3c/form/tests/test_doc.py` & `z3c.form-5.0/src/z3c/form/tests/test_doc.py`

 * *Files 2% similar despite different names*

```diff
@@ -15,28 +15,30 @@
 
 import doctest
 import itertools
 import re
 import unittest
 
 from zope.testing import renormalizing
+
 from z3c.form import testing
 
+
 # This package will allways provide z3c.pt for it's test setup.
 # The Z3CPT_AVAILABLE hickup is usefull if someone will run the z3c.form tests
 # in his own project and doesn't use z3c.pt.
 try:
     import z3c.pt
-    import z3c.ptcompat  # nopep8
+    import z3c.ptcompat  # noqa: F401 imported but unused
     Z3CPT_AVAILABLE = True
 except ImportError:
     Z3CPT_AVAILABLE = False
 
 try:
-    import zope.app.container  # nopep8
+    import zope.app.container  # noqa: F401 imported but unused
 except ImportError:
     ADDING_AVAILABLE = False
 else:
     ADDING_AVAILABLE = True
 
 
 def test_suite():
@@ -138,14 +140,19 @@
             setUp=setUp, tearDown=testing.tearDown,
             optionflags=flags, checker=testing.outputChecker,
         ),
         doctest.DocFileSuite(
             '../hint.rst',
             setUp=setUp, tearDown=testing.tearDown,
             optionflags=flags, checker=testing.outputChecker,
+        ),
+        doctest.DocFileSuite(
+            '../browser/widget.rst',
+            setUp=setUp, tearDown=testing.tearDown,
+            optionflags=flags, checker=testing.outputChecker,
         ))
         for setUp in setups)
 
     if ADDING_AVAILABLE:
         tests = itertools.chain(tests, ((
             doctest.DocFileSuite(
                 '../adding.rst',
```

### Comparing `z3c.form-4.3/src/z3c/form/util.py` & `z3c.form-5.0/src/z3c/form/util.py`

 * *Files 8% similar despite different names*

```diff
@@ -13,88 +13,73 @@
 ##############################################################################
 """Utilities helpful to the package.
 
 """
 __docformat__ = "reStructuredText"
 import binascii
 import re
-import six
-import sys
-import types
 import string
-import zope.interface
+from collections import OrderedDict
+from functools import total_ordering
+
 import zope.contenttype
+import zope.interface
 import zope.schema
 
-from collections import OrderedDict
 from z3c.form import interfaces
 from z3c.form.i18n import MessageFactory as _
 
+
 _identifier = re.compile('[A-Za-z][a-zA-Z0-9_]*$')
-classTypes = six.class_types
+classTypes = (type,)
 _acceptableChars = string.ascii_letters + string.digits + '_-'
 
-PY3 = sys.version_info[0] >= 3
-
-try:
-    unicode
-except NameError:
-    # Py3: Define unicode.
-    unicode = str
 
 def toUnicode(obj):
     if isinstance(obj, bytes):
         return obj.decode('utf-8', 'ignore')
-    if PY3:
-        return str(obj)
-    else:
-        return unicode(obj)
+    return str(obj)
+
 
 def toBytes(obj):
     if isinstance(obj, bytes):
         return obj
-    if isinstance(obj, unicode):
+    if isinstance(obj, str):
         return obj.encode('utf-8')
-    if PY3:
-        return str(obj).encode('utf-8')
-    else:
-        return str(obj)
+    return str(obj).encode('utf-8')
+
 
 def createId(name):
     """Returns a *native* string as id of the given name."""
     if _identifier.match(name):
         return str(name).lower()
     id = binascii.hexlify(name.encode('utf-8'))
-    return id.decode() if PY3 else id
+    return id.decode()
+
+
+@total_ordering
+class MinType:
+    def __le__(self, other):
+        return True
+
+    def __eq__(self, other):
+        return (self is other)
 
 
-if PY3:
-    # py26 has no total_ordering
-    from functools import total_ordering
-    @total_ordering
-    class MinType(object):
-        def __le__(self, other):
-            return True
-
-        def __eq__(self, other):
-            return (self is other)
-
-    def sortedNone(items):
-        Min = MinType()
-        return sorted(items, key=lambda x: Min if x is None else x)
-else:
-    def sortedNone(items):
-        return sorted(items)
+def sortedNone(items):
+    Min = MinType()
+    return sorted(items, key=lambda x: Min if x is None else x)
 
 
 def createCSSId(name):
     return str(''.join([
-                (char if char in _acceptableChars else
-                      binascii.hexlify(char.encode('utf-8')).decode())
-                for char in name]))
+        (char if char in _acceptableChars else
+         binascii.hexlify(char.encode('utf-8')).decode())
+        for char in name]))
+
 
 def getSpecification(spec, force=False):
     """Get the specification of the given object.
 
     If the given object is already a specification acceptable to the component
     architecture, it is simply returned. This is true for classes
     and specification objects (which includes interfaces).
@@ -102,24 +87,24 @@
     In case of instances, an interface is generated on the fly and tagged onto
     the object. Then the interface is returned as the specification.
     """
     # If the specification is an instance, then we do some magic.
     if (force or
         (spec is not None and
          not zope.interface.interfaces.ISpecification.providedBy(spec)
-         and not isinstance(spec, classTypes)) ):
+         and not isinstance(spec, classTypes))):
 
         # Step 1: Calculate an interface name
-        ifaceName = 'IGeneratedForObject_%i' %id(spec)
+        ifaceName = 'IGeneratedForObject_%i' % id(spec)
 
         # Step 2: Find out if we already have such an interface
         existingInterfaces = [
-                i for i in zope.interface.directlyProvidedBy(spec)
-                    if i.__name__ == ifaceName
-            ]
+            i for i in zope.interface.directlyProvidedBy(spec)
+            if i.__name__ == ifaceName
+        ]
 
         # Step 3a: Return an existing interface if there is one
         if len(existingInterfaces) > 0:
             spec = existingInterfaces[0]
         # Step 3b: Create a new interface if not
         else:
             iface = zope.interface.interface.InterfaceClass(ifaceName)
@@ -140,15 +125,15 @@
 
 def getWidgetById(form, id):
     """Get a widget by it's rendered DOM element id."""
     # convert the id to a name
     name = id.replace('-', '.')
     prefix = form.prefix + form.widgets.prefix
     if not name.startswith(prefix):
-        raise ValueError("Name %r must start with prefix %r" %(name, prefix))
+        raise ValueError(f"Name {name!r} must start with prefix {prefix!r}")
     shortName = name[len(prefix):]
     return form.widgets.get(shortName, None)
 
 
 def extractContentType(form, id):
     """Extract the content type of the widget with the given id."""
     widget = getWidgetById(form, id)
@@ -204,46 +189,46 @@
 
 
 def changedWidget(widget, value, field=None, context=None):
     """figure if a widget's value changed
 
     Comparing the value of the widget context attribute and the given value"""
     if (interfaces.IContextAware.providedBy(widget)
-        and not widget.ignoreContext):
+            and not widget.ignoreContext):
         # if the widget is context aware, figure if it's field changed
         if field is None:
             field = widget.field
         if context is None:
             context = widget.context
         return changedField(field, value, context=context)
     # otherwise we cannot, return 'always changed'
     return True
 
 
 @zope.interface.implementer(interfaces.IManager)
 class Manager(OrderedDict):
     """Non-persistent IManager implementation."""
 
-    def create_according_to_list(self, d, l):
-        """ Arrange elemnts of d according to sorting of l
-        """
+    def create_according_to_list(self, d, l_):
+        """Arrange elements of d according to sorting of l_."""
         # TODO: If we are on Python 3 only reimplement on top of `move_to_end`
         self.clear()
-        for key in l:
+        for key in l_:
             if key in d:
                 self[key] = d[key]
 
     def __getitem__(self, key):
-        if not key in self:
+        if key not in self:
             try:
                 return getattr(self, key)
             except AttributeError:
                 # make sure an KeyError is raised later
                 pass
-        return super(Manager, self).__getitem__(key)
+        return super().__getitem__(key)
+
 
 @zope.interface.implementer(interfaces.ISelectionManager)
 class SelectionManager(Manager):
     """Non-persisents ISelectionManager implementation."""
 
     managerInterface = None
```

### Comparing `z3c.form-4.3/src/z3c/form/util.rst` & `z3c.form-5.0/src/z3c/form/util.rst`

 * *Files 4% similar despite different names*

```diff
@@ -11,28 +11,28 @@
 ``createId(name)`` Function
 ---------------------------
 
 This function converts an arbitrary unicode string into a valid Python
 identifier. If the name is a valid identifier, then it is just returned, but
 all upper case letters are lowered:
 
-  >>> util.createId(u'Change')
+  >>> util.createId('Change')
   'change'
 
-  >>> util.createId(u'Change_2')
+  >>> util.createId('Change_2')
   'change_2'
 
 If a name is not a valid identifier, a hex code of the string is created:
 
-  >>> util.createId(u'Change 3')
+  >>> util.createId('Change 3')
   '4368616e67652033'
 
 The function can also handle non-ASCII characters:
 
-  >>> id = util.createId(u'ndern')
+  >>> id = util.createId('ndern')
 
 Since the output depends on how Python is compiled (UCS-2 or 4), we only check
 that we have a valid id:
 
   >>> util._identifier.match(id) is not None
   True
 
@@ -41,20 +41,20 @@
 ------------------------------
 
 This function takes any unicode name and coverts it into an id that
 can be easily referenced by CSS selectors.  Characters that are in the
 ascii alphabet, are numbers, or are '-' or '_' will be left the same.
 All other characters will be converted to ordinal numbers:
 
-  >>> util.createCSSId(u'NormalId')
+  >>> util.createCSSId('NormalId')
   'NormalId'
-  >>> id = util.createCSSId(u'')
+  >>> id = util.createCSSId('')
   >>> util._identifier.match(id) is not None
   True
-  >>> util.createCSSId(u'This has spaces')
+  >>> util.createCSSId('This has spaces')
   'This20has20spaces'
 
   >>> util.createCSSId(str([(1, 'x'), ('foobar', 42)]))
   '5b2812c2027x27292c202827foobar272c2042295d'
 
 
 ``getWidgetById(form, id)`` Function
@@ -63,15 +63,15 @@
 Given a form and a widget id, this function extracts the widget for you. First
 we need to create a properly developed form:
 
   >>> import zope.interface
   >>> import zope.schema
 
   >>> class IPerson(zope.interface.Interface):
-  ...     name = zope.schema.TextLine(title=u'Name')
+  ...     name = zope.schema.TextLine(title='Name')
 
   >>> from z3c.form import form, field
   >>> class AddPerson(form.AddForm):
   ...     fields = field.Fields(IPerson)
 
   >>> from z3c.form import testing
   >>> testing.setupFormDefaults()
@@ -100,15 +100,15 @@
 
 ``extractFileName(form, id, cleanup=True, allowEmptyPostfix=False)`` Function
 -----------------------------------------------------------------------------
 
 Test the filename extraction method:
 
   >>> class IDocument(zope.interface.Interface):
-  ...     data = zope.schema.Bytes(title=u'Data')
+  ...     data = zope.schema.Bytes(title='Data')
 
 Define a widgets stub and a upload widget stub class and setup them as a
 faked form:
 
   >>> class FileUploadWidgetStub(object):
   ...     def __init__(self):
   ...         self.filename = None
@@ -138,99 +138,99 @@
 And extract the filename
 
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
   'foo.txt'
 
 Test a unicode filename:
 
-  >>> uploadForm.setFakeFileName(u'foo.txt')
+  >>> uploadForm.setFakeFileName('foo.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
-  u'foo.txt'
+  'foo.txt'
 
 Test a windows IE uploaded filename:
 
-  >>> uploadForm.setFakeFileName(u'D:\\some\\folder\\foo.txt')
+  >>> uploadForm.setFakeFileName('D:\\some\\folder\\foo.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
-  u'foo.txt'
+  'foo.txt'
 
 Test another filename:
 
-  >>> uploadForm.setFakeFileName(u'D:/some/folder/foo.txt')
+  >>> uploadForm.setFakeFileName('D:/some/folder/foo.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
-  u'foo.txt'
+  'foo.txt'
 
 Test another filename:
 
-  >>> uploadForm.setFakeFileName(u'/tmp/folder/foo.txt')
+  >>> uploadForm.setFakeFileName('/tmp/folder/foo.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
-  u'foo.txt'
+  'foo.txt'
 
 Test special characters in filename, e.g. dots:
 
-  >>> uploadForm.setFakeFileName(u'/tmp/foo.bar.txt')
+  >>> uploadForm.setFakeFileName('/tmp/foo.bar.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
-  u'foo.bar.txt'
+  'foo.bar.txt'
 
 Test some other special characters in filename:
 
-  >>> uploadForm.setFakeFileName(u'/tmp/foo-bar.v.0.1.txt')
+  >>> uploadForm.setFakeFileName('/tmp/foo-bar.v.0.1.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
-  u'foo-bar.v.0.1.txt'
+  'foo-bar.v.0.1.txt'
 
 Test special characters in file path of filename:
 
-  >>> uploadForm.setFakeFileName(u'/tmp-v.1.0/foo-bar.v.0.1.txt')
+  >>> uploadForm.setFakeFileName('/tmp-v.1.0/foo-bar.v.0.1.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
-  u'foo-bar.v.0.1.txt'
+  'foo-bar.v.0.1.txt'
 
 Test optional keyword arguments. But remember it's hard for Zope to guess the
 content type for filenames without extensions:
 
-  >>> uploadForm.setFakeFileName(u'minimal')
+  >>> uploadForm.setFakeFileName('minimal')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True,
   ...     allowEmptyPostfix=True)
-  u'minimal'
+  'minimal'
 
-  >>> uploadForm.setFakeFileName(u'/tmp/minimal')
+  >>> uploadForm.setFakeFileName('/tmp/minimal')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True,
   ...     allowEmptyPostfix=True)
-  u'minimal'
+  'minimal'
 
-  >>> uploadForm.setFakeFileName(u'D:\\some\\folder\\minimal')
+  >>> uploadForm.setFakeFileName('D:\\some\\folder\\minimal')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True,
   ...     allowEmptyPostfix=True)
-  u'minimal'
+  'minimal'
 
 There will be a ValueError if we get a empty filename by default:
 
-  >>> uploadForm.setFakeFileName(u'/tmp/minimal')
+  >>> uploadForm.setFakeFileName('/tmp/minimal')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=True)
   Traceback (most recent call last):
   ...
   ValueError: Missing filename extension.
 
 We also can skip removing a path from a upload. Note only IE will upload a
 path in a upload ``<input type="file" ...>`` field:
 
-  >>> uploadForm.setFakeFileName(u'/tmp/foo.txt')
+  >>> uploadForm.setFakeFileName('/tmp/foo.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=False)
-  u'/tmp/foo.txt'
+  '/tmp/foo.txt'
 
-  >>> uploadForm.setFakeFileName(u'/tmp-v.1.0/foo-bar.v.0.1.txt')
+  >>> uploadForm.setFakeFileName('/tmp-v.1.0/foo-bar.v.0.1.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=False)
-  u'/tmp-v.1.0/foo-bar.v.0.1.txt'
+  '/tmp-v.1.0/foo-bar.v.0.1.txt'
 
-  >>> uploadForm.setFakeFileName(u'D:\\some\\folder\\foo.txt')
+  >>> uploadForm.setFakeFileName('D:\\some\\folder\\foo.txt')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=False)
-  u'D:\\some\\folder\\foo.txt'
+  'D:\\some\\folder\\foo.txt'
 
 And missing filename extensions are also not allowed by deafault if we skip
 the filename:
 
-  >>> uploadForm.setFakeFileName(u'/tmp/minimal')
+  >>> uploadForm.setFakeFileName('/tmp/minimal')
   >>> util.extractFileName(uploadForm, 'form.widgets.data', cleanup=False)
   Traceback (most recent call last):
   ...
   ValueError: Missing filename extension.
 
 
 ``extractContentType(form, id)`` Function
@@ -424,15 +424,15 @@
 `changedField()` function
 -------------------------
 
 Decide whether a field was changed/modified.
 
   >>> class IPerson(zope.interface.Interface):
   ...     login = zope.schema.TextLine(
-  ...         title=u'Login')
+  ...         title='Login')
   ...     address = zope.schema.Object(
   ...         schema=zope.interface.Interface)
 
   >>> @zope.interface.implementer(IPerson)
   ... class Person(object):
   ...     login = 'johndoe'
   >>> person = Person()
```

### Comparing `z3c.form-4.3/src/z3c/form/validator.py` & `z3c.form-5.0/src/z3c/form/validator.py`

 * *Files 3% similar despite different names*

```diff
@@ -19,19 +19,20 @@
 
 import copy
 
 import zope.component
 import zope.interface
 import zope.schema
 
-from z3c.form import interfaces, util
+from z3c.form import interfaces
+from z3c.form import util
 
 
 @zope.interface.implementer(interfaces.IValidator)
-class StrictSimpleFieldValidator(object):
+class StrictSimpleFieldValidator:
     """Strict Simple Field Validator
 
     validates all incoming values"""
     zope.component.adapts(
         zope.interface.Interface,
         zope.interface.Interface,
         zope.interface.Interface,
@@ -54,15 +55,15 @@
             # make the field not-required while checking
             field = copy.copy(field)
             field.required = False
         if context is not None:
             field = field.bind(context)
         if value is interfaces.NOT_CHANGED:
             if (interfaces.IContextAware.providedBy(widget) and
-                not widget.ignoreContext):
+                    not widget.ignoreContext):
                 # get value from context
                 value = zope.component.getMultiAdapter(
                     (context, field),
                     interfaces.IDataManager).query()
             else:
                 value = interfaces.NO_VALUE
             if value is interfaces.NO_VALUE:
@@ -72,15 +73,15 @@
                     (context, self.request, self.view, field, widget),
                     interfaces.IValue, name='default')
                 if adapter:
                     value = adapter.get()
         return field.validate(value)
 
     def __repr__(self):
-        return "<%s for %s['%s']>" %(
+        return "<{} for {}['{}']>".format(
             self.__class__.__name__,
             self.field.interface.getName(),
             self.field.__name__)
 
 
 class SimpleFieldValidator(StrictSimpleFieldValidator):
     """Simple Field Validator
@@ -88,28 +89,29 @@
     ignores unchanged values"""
 
     def validate(self, value, force=False):
         """See interfaces.IValidator"""
         if value is self.field.missing_value:
             # let missing values run into stricter validation
             # most important case is not let required fields pass
-            return super(SimpleFieldValidator, self).validate(value, force)
+            return super().validate(value, force)
 
         if not force:
             if value is interfaces.NOT_CHANGED:
                 # no need to validate unchanged values
                 return
 
             if self.widget and not util.changedWidget(
-                self.widget, value, field=self.field, context=self.context):
+                    self.widget, value, field=self.field,
+                    context=self.context):
                 # if new value == old value, no need to validate
                 return
 
         # otherwise StrictSimpleFieldValidator will do the job
-        return super(SimpleFieldValidator, self).validate(value, force)
+        return super().validate(value, force)
 
 
 class FileUploadValidator(StrictSimpleFieldValidator):
     """File upload validator
     """
     zope.component.adapts(
         zope.interface.Interface,
@@ -119,15 +121,20 @@
         interfaces.IFileWidget)
     # only FileUploadDataConverter seems to use NOT_CHANGED, but that needs
     # to be validated, because file upload is a special case
     # the most special case if when an ad-hoc IBytes field is required
 
 
 def WidgetValidatorDiscriminators(
-    validator, context=None, request=None, view=None, field=None, widget=None):
+        validator,
+        context=None,
+        request=None,
+        view=None,
+        field=None,
+        widget=None):
     zope.component.adapter(
         util.getSpecification(context),
         util.getSpecification(request),
         util.getSpecification(view),
         util.getSpecification(field),
         util.getSpecification(widget))(validator)
 
@@ -143,15 +150,15 @@
 
     This exception is part of the internal implementation of checkInvariants.
 
     """
 
 
 @zope.interface.implementer(interfaces.IData)
-class Data(object):
+class Data:
 
     def __init__(self, schema, data, context):
         self._Data_data___ = data
         self._Data_schema___ = schema
         zope.interface.alsoProvides(self, schema)
         self.__context__ = context
 
@@ -176,15 +183,15 @@
         # Optimization: Once we know we have a good value, set it as an
         # attribute for faster access.
         setattr(self, name, value)
         return value
 
 
 @zope.interface.implementer(interfaces.IManagerValidator)
-class InvariantsValidator(object):
+class InvariantsValidator:
     """Simple Field Validator"""
     zope.component.adapts(
         zope.interface.Interface,
         zope.interface.Interface,
         zope.interface.Interface,
         zope.interface.interfaces.IInterface,
         zope.interface.Interface)
@@ -201,25 +208,25 @@
         return self.validateObject(Data(self.schema, data, self.context))
 
     def validateObject(self, object):
         errors = []
         try:
             self.schema.validateInvariants(object, errors)
         except zope.interface.Invalid:
-            pass # Just collect the errors
+            pass  # Just collect the errors
 
         return tuple([error for error in errors
                       if not isinstance(error, NoInputData)])
 
     def __repr__(self):
-        return '<%s for %s>' %(self.__class__.__name__, self.schema.getName())
+        return f'<{self.__class__.__name__} for {self.schema.getName()}>'
 
 
 def WidgetsValidatorDiscriminators(
-    validator,
-    context=None, request=None, view=None, schema=None, manager=None):
+        validator,
+        context=None, request=None, view=None, schema=None, manager=None):
     zope.component.adapter(
         util.getSpecification(context),
         util.getSpecification(request),
         util.getSpecification(view),
         util.getSpecification(schema),
         util.getSpecification(manager))(validator)
```

### Comparing `z3c.form-4.3/src/z3c/form/validator.rst` & `z3c.form-5.0/src/z3c/form/validator.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/value.py` & `z3c.form-5.0/src/z3c/form/value.py`

 * *Files 8% similar despite different names*

```diff
@@ -12,63 +12,65 @@
 #
 ##############################################################################
 """Attribute Value Implementation
 
 $Id$
 """
 __docformat__ = "reStructuredText"
-import zope.interface
 import zope.component
+import zope.interface
+
+from z3c.form import interfaces
+from z3c.form import util
 
-from z3c.form import interfaces, util
 
 @zope.interface.implementer(interfaces.IValue)
-class StaticValue(object):
+class StaticValue:
     """Static value adapter."""
 
     def __init__(self, value):
         self.value = value
 
     def get(self):
         return self.value
 
     def __repr__(self):
-        return '<%s %r>' % (self.__class__.__name__, self.value)
+        return '<{} {!r}>'.format(self.__class__.__name__, self.value)
 
 
 @zope.interface.implementer(interfaces.IValue)
-class ComputedValue(object):
+class ComputedValue:
     """Static value adapter."""
 
     def __init__(self, func):
         self.func = func
 
     def get(self):
         return self.func(self)
 
     def __repr__(self):
-        return '<%s %r>' % (self.__class__.__name__, self.get())
+        return '<{} {!r}>'.format(self.__class__.__name__, self.get())
 
 
-class ValueFactory(object):
+class ValueFactory:
     """Computed value factory."""
 
     def __init__(self, value, valueClass, discriminators):
         self.value = value
         self.valueClass = valueClass
         self.discriminators = discriminators
 
     def __call__(self, *args):
         sv = self.valueClass(self.value)
         for name, value in zip(self.discriminators, args):
             setattr(sv, name, value)
         return sv
 
 
-class ValueCreator(object):
+class ValueCreator:
     """Base class for value creator"""
 
     valueClass = StaticValue
 
     def __init__(self, discriminators):
         self.discriminators = discriminators
```

### Comparing `z3c.form-4.3/src/z3c/form/value.rst` & `z3c.form-5.0/src/z3c/form/value.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/widget-graph.dot` & `z3c.form-5.0/src/z3c/form/widget-graph.dot`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/widget-graph.png` & `z3c.form-5.0/src/z3c/form/widget-graph.png`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/widget-graph.ps` & `z3c.form-5.0/src/z3c/form/widget-graph.ps`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c/form/widget.py` & `z3c.form-5.0/src/z3c/form/widget.py`

 * *Files 1% similar despite different names*

```diff
@@ -7,40 +7,39 @@
 # Version 2.1 (ZPL).  A copy of the ZPL should accompany this distribution.
 # THIS SOFTWARE IS PROVIDED "AS IS" AND ANY AND ALL EXPRESS OR IMPLIED
 # WARRANTIES ARE DISCLAIMED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 # WARRANTIES OF TITLE, MERCHANTABILITY, AGAINST INFRINGEMENT, AND FITNESS
 # FOR A PARTICULAR PURPOSE.
 #
 ##############################################################################
-"""Widget Framework Implementation
-
-$Id$
-"""
+"""Widget Framework Implementation."""
 __docformat__ = "reStructuredText"
-import json
 
-import zope.interface
 import zope.component
+import zope.interface
 import zope.location
 import zope.schema.interfaces
 from zope.browserpage.viewpagetemplatefile import ViewPageTemplateFile
 from zope.i18n import translate
 from zope.pagetemplate.interfaces import IPageTemplate
 from zope.schema.fieldproperty import FieldProperty
 
-from z3c.form import interfaces, util, value
+from z3c.form import interfaces
+from z3c.form import util
+from z3c.form import value
+
 
 PLACEHOLDER = object()
 
 StaticWidgetAttribute = value.StaticValueCreator(
     discriminators=('context', 'request', 'view', 'field', 'widget')
-    )
+)
 ComputedWidgetAttribute = value.ComputedValueCreator(
     discriminators=('context', 'request', 'view', 'field', 'widget')
-    )
+)
 
 
 @zope.interface.implementer(interfaces.IWidget)
 class Widget(zope.location.Location):
     """Widget base class."""
 
     # widget specific attributes
@@ -78,33 +77,33 @@
     def update(self):
         """See z3c.form.interfaces.IWidget."""
         # Step 1: Determine the value.
         value = interfaces.NO_VALUE
         lookForDefault = False
         # Step 1.1: If possible, get a value from the request
         if not self.ignoreRequest:
-            #at this turn we do not need errors to be set on widgets
-            #errors will be set when extract gets called from form.extractData
+            # at this turn we do not need errors to be set on widgets
+            # errors will be set when extract gets called from form.extractData
             self.setErrors = False
             widget_value = self.extract()
             if widget_value is not interfaces.NO_VALUE:
                 # Once we found the value in the request, it takes precendence
                 # over everything and nothing else has to be done.
                 self.value = widget_value
                 value = PLACEHOLDER
         # Step 1.2: If we have a widget with a field and we have no value yet,
         #           we have some more possible locations to get the value
         if (interfaces.IFieldWidget.providedBy(self) and
             value is interfaces.NO_VALUE and
-            value is not PLACEHOLDER):
+                value is not PLACEHOLDER):
             # Step 1.2.1: If the widget knows about its context and the
             #              context is to be used to extract a value, get
             #              it now via a data manager.
             if (interfaces.IContextAware.providedBy(self) and
-                not self.ignoreContext):
+                    not self.ignoreContext):
                 value = zope.component.getMultiAdapter(
                     (self.context, self.field),
                     interfaces.IDataManager).query()
             # Step 1.2.2: If we still do not have a value, we can always use
             #             the default value of the field, if set
             # NOTE: It should check field.default is not missing_value, but
             # that requires fixing zope.schema first
@@ -116,15 +115,15 @@
                 if default_value is not None and self.showDefault:
                     value = field.default
                     lookForDefault = True
 
         # Step 1.3: If we still have not found a value, then we try to get it
         #           from an attribute value
         if ((value is interfaces.NO_VALUE or lookForDefault)
-            and self.showDefault):
+                and self.showDefault):
             adapter = zope.component.queryMultiAdapter(
                 (self.context, self.request, self.form, self.field, self),
                 interfaces.IValue, name='default')
             if adapter:
                 value = adapter.get()
         # Step 1.4: Convert the value to one that the widget can understand
         if value not in (interfaces.NO_VALUE, PLACEHOLDER):
@@ -171,15 +170,15 @@
         if layout is None:
             layout = zope.component.getMultiAdapter(
                 (self.context, self.request, self.form, self.field, self),
                 interfaces.IWidgetLayoutTemplate, name=self.mode)
         return layout(self)
 
     def __repr__(self):
-        return '<%s %r>' % (self.__class__.__name__, self.name)
+        return '<{} {!r}>'.format(self.__class__.__name__, self.name)
 
 
 @zope.interface.implementer(interfaces.ISequenceWidget)
 class SequenceWidget(Widget):
     """Term based sequence widget base.
 
     The sequence widget is used for select items from a sequence. Don't get
@@ -227,20 +226,20 @@
                 interfaces.ITerms)
         return self.terms
 
     def update(self):
         """See z3c.form.interfaces.IWidget."""
         # Create terms first, since we need them for the generic update.
         self.updateTerms()
-        super(SequenceWidget, self).update()
+        super().update()
 
     def extract(self, default=interfaces.NO_VALUE):
         """See z3c.form.interfaces.IWidget."""
         if (self.name not in self.request and
-            self.name + '-empty-marker' in self.request):
+                self.name + '-empty-marker' in self.request):
             return ()
         value = self.request.get(self.name, default)
         if value != default:
             if not isinstance(value, (tuple, list)):
                 # this is here to make any single value a tuple
                 value = (value,)
             if not isinstance(value, tuple):
@@ -254,29 +253,29 @@
                 try:
                     self.terms.getTermByToken(token)
                 except LookupError:
                     return default
         return value
 
     def json_data(self):
-        data = super(SequenceWidget, self).json_data()
+        data = super().json_data()
         data['type'] = 'sequence'
         return data
 
 
 @zope.interface.implementer(interfaces.IMultiWidget)
 class MultiWidget(Widget):
     """None Term based sequence widget base.
 
     The multi widget is used for ITuple, IList or IDict if no other widget is
     defined.
 
-    Some IList, ITuple or IDict are using another specialized widget if they can
-    choose from a collection. e.g. a IList of IChoice. The base class of such
-    widget is the ISequenceWidget.
+    Some IList, ITuple or IDict are using another specialized widget if they
+    can choose from a collection. e.g. a IList of IChoice. The base class of
+    such widget is the ISequenceWidget.
 
     This widget can handle none collection based sequences and offers add or
     remove values to or from the sequence. Each sequence value get rendered by
     it's own relevant widget. e.g. IList of ITextLine or ITuple of IInt
 
     Each widget get rendered within a sequence value. This means each internal
     widget will represent one value from the multi widget value. Based on the
@@ -294,15 +293,15 @@
     key_widgets = None
     _value = None
     _widgets_updated = False
 
     _mode = FieldProperty(interfaces.IWidget['mode'])
 
     def __init__(self, request):
-        super(MultiWidget, self).__init__(request)
+        super().__init__(request)
         self.widgets = []
         self.key_widgets = []
         self._value = []
 
     @property
     def is_dict(self):
         return getattr(self.field, 'key_type', None) is not None
@@ -336,26 +335,27 @@
     def getWidget(self, idx, prefix=None, type_field="value_type"):
         """Setup widget based on index id with or without value."""
         valueType = getattr(self.field, type_field)
         widget = zope.component.getMultiAdapter(
             (valueType, self.request), interfaces.IFieldWidget)
         self.setName(widget, idx, prefix)
         widget.mode = self.mode
-        #set widget.form (objectwidget needs this)
+        # set widget.form (objectwidget needs this)
         if interfaces.IFormAware.providedBy(self):
             widget.form = self.form
             zope.interface.alsoProvides(
                 widget, interfaces.IFormAware)
         widget.update()
         return widget
 
     def setName(self, widget, idx, prefix=None):
-        names = lambda id: [str(n) for n in [id]+[prefix, idx] if n is not None]
-        widget.name = '.'.join([str(self.name)]+names(None))
-        widget.id = '-'.join([str(self.id)]+names(None))
+        def names(id): return [str(n)
+                               for n in [id] + [prefix, idx] if n is not None]
+        widget.name = '.'.join([str(self.name)] + names(None))
+        widget.id = '-'.join([str(self.id)] + names(None))
 
     def appendAddingWidget(self):
         """Simply append a new empty widget with correct (counter) name."""
         # since we start with idx 0 (zero) we can use the len as next idx
         idx = len(self.widgets)
         widget = self.getWidget(idx)
         self.widgets.append(widget)
@@ -417,57 +417,57 @@
     def updateWidgets(self):
         """Setup internal widgets based on the value_type for each value item.
         """
         oldLen = len(self.widgets)
         # Ensure at least min_length widgets are shown
         if (zope.schema.interfaces.IMinMaxLen.providedBy(self.field) and
             self.mode == interfaces.INPUT_MODE and self.allowAdding and
-            oldLen < self.field.min_length):
+                oldLen < self.field.min_length):
             oldLen = self.field.min_length
         self.widgets = []
         self.key_widgets = []
         keys = set()
         idx = 0
         if self.value:
             if self.is_dict:
                 # mainly sorting for testing reasons
                 # and dict's have no order!, but
                 # XXX: this should be done in the converter... here we get
                 #      always strings as keys, sorting an str(int/date) is lame
                 #      also, newly added item should be the last...
                 try:
                     items = util.sortedNone(self.value)
-                except:
+                except BaseException:
                     # just in case it's impossible to sort don't fail
                     items = self.value
             else:
-                items = zip([None]*len(self.value), self.value)
+                items = zip([None] * len(self.value), self.value)
             for key, v in items:
                 widget = self.getWidget(idx)
                 self.applyValue(widget, v)
                 self.widgets.append(widget)
 
                 if self.is_dict:
                     # This is needed, since sequence widgets (such as for
                     # choices) return lists of values.
                     hash_key = key if not isinstance(key, list) else tuple(key)
                     widget = self.getWidget(idx, "key", "key_type")
                     self.applyValue(widget, key)
                     if hash_key in keys and widget.error is None:
-                        error = zope.interface.Invalid(u'Duplicate key')
+                        error = zope.interface.Invalid('Duplicate key')
                         view = zope.component.getMultiAdapter(
                             (error, self.request, widget, widget.field,
                              self.form, self.context),
                             interfaces.IErrorViewSnippet)
                         view.update()
                         widget.error = view
                     self.key_widgets.append(widget)
                     keys.add(hash_key)
                 else:
-                    #makes the template easier to have this the same length
+                    # makes the template easier to have this the same length
                     self.key_widgets.append(None)
                 idx += 1
         missing = oldLen - len(self.widgets)
         if missing > 0:
             # add previous existing new added widgtes
             for i in range(missing):
                 widget = self.getWidget(idx)
@@ -490,27 +490,30 @@
         min_length = self.field.min_length
         num_items = len(self.widgets)
         self.allowAdding = bool((not max_length) or (num_items < max_length))
         self.allowRemoving = bool(num_items and (num_items > min_length))
 
     @property
     def value(self):
-        """This invokes updateWidgets on any value change e.g. update/extract."""
+        """This invokes updateWidgets on any value change.
+
+        e. g. update/extract.
+        """
         return self._value
 
     @value.setter
     def value(self, value):
         self._value = value
         # ensure that we apply our new values to the widgets
         self.updateWidgets()
 
     def update(self):
         """See z3c.form.interfaces.IWidget."""
         # Ensure that updateWidgets is called.
-        super(MultiWidget, self).update()
+        super().update()
         if not self._widgets_updated:
             self.updateWidgets()
 
     def extract(self, default=interfaces.NO_VALUE):
         # This method is responsible to get the widgets value based on the
         # request and nothing else.
         # We have to setup the widgets for extract their values, because we
@@ -532,77 +535,80 @@
                 key_widget = self.getWidget(idx, "key", "key_type")
                 append((key_widget.value, widget.value))
             else:
                 append(widget.value)
         return values
 
     def json_data(self):
-        data = super(MultiWidget, self).json_data()
+        data = super().json_data()
         data['widgets'] = [widget.json_data() for widget in self.widgets]
         data['type'] = 'multi'
         return data
 
+
 def FieldWidget(field, widget):
     """Set the field for the widget."""
     widget.field = field
     if not interfaces.IFieldWidget.providedBy(widget):
         zope.interface.alsoProvides(widget, interfaces.IFieldWidget)
     # Initial values are set. They can be overridden while updating the widget
     # itself later on.
     widget.name = field.__name__
     widget.id = field.__name__.replace('.', '-')
     widget.label = field.title
     widget.required = field.required
     return widget
 
 
-class WidgetTemplateFactory(object):
+class WidgetTemplateFactory:
     """Widget template factory."""
 
     def __init__(self, filename, contentType='text/html',
                  context=None, request=None, view=None,
                  field=None, widget=None):
-        self.template = ViewPageTemplateFile(filename, content_type=contentType)
+        self.template = ViewPageTemplateFile(
+            filename, content_type=contentType)
         zope.component.adapter(
             util.getSpecification(context),
             util.getSpecification(request),
             util.getSpecification(view),
             util.getSpecification(field),
             util.getSpecification(widget))(self)
         zope.interface.implementer(IPageTemplate)(self)
 
     def __call__(self, context, request, view, field, widget):
         return self.template
 
 
-class WidgetLayoutFactory(object):
+class WidgetLayoutFactory:
     """Widget layout template factory."""
 
     def __init__(self, filename, contentType='text/html',
                  context=None, request=None, view=None,
                  field=None, widget=None):
-        self.template = ViewPageTemplateFile(filename, content_type=contentType)
+        self.template = ViewPageTemplateFile(
+            filename, content_type=contentType)
         zope.component.adapter(
             util.getSpecification(context),
             util.getSpecification(request),
             util.getSpecification(view),
             util.getSpecification(field),
             util.getSpecification(widget))(self)
         zope.interface.implementer(interfaces.IWidgetLayoutTemplate)(self)
 
     def __call__(self, context, request, view, field, widget):
         return self.template
 
 
 @zope.interface.implementer(interfaces.IWidgetEvent)
-class WidgetEvent(object):
+class WidgetEvent:
 
     def __init__(self, widget):
         self.widget = widget
 
     def __repr__(self):
-        return '<%s %r>' % (self.__class__.__name__, self.widget)
+        return '<{} {!r}>'.format(self.__class__.__name__, self.widget)
 
 
 @zope.interface.implementer_only(interfaces.IAfterWidgetUpdateEvent)
 class AfterWidgetUpdateEvent(WidgetEvent):
     pass
```

### Comparing `z3c.form-4.3/src/z3c/form/widget.rst` & `z3c.form-5.0/src/z3c/form/widget.rst`

 * *Files 2% similar despite different names*

```diff
@@ -58,15 +58,15 @@
 
 In this case we instantiated a generic widget. A full set of simple
 browser-based widgets can be found in the ``browser/`` package. Since no
 helper components are around to fill the attributes of the widget, we have to
 do it by hand:
 
   >>> age.name = 'age'
-  >>> age.label = u'Age'
+  >>> age.label = 'Age'
   >>> age.value = '39'
 
 The most important attributes are the "name" and the "value". The name is used
 to identify the widget within the form. The value is either the value to be
 manipulated or the default value. The value must be provided in the form the
 widget needs it. It is the responsibility of a data converter to convert
 between the widget value and the desired internal value.
@@ -166,15 +166,15 @@
 --------------------------------
 
 An extended form of the widget allows fields to control several of the
 widget's properties. Let's create a field first:
 
   >>> ageField = zope.schema.Int(
   ...     __name__ = 'age',
-  ...     title = u'Age',
+  ...     title = 'Age',
   ...     min = 0,
   ...     max = 130)
 
 We can now use our simple widget and create a field widget from it:
 
   >>> ageWidget = widget.FieldWidget(ageField, age)
 
@@ -248,15 +248,15 @@
 The result is that the context value takes over precendence over the default
 value:
 
   >>> ageWidget.request = TestRequest()
   >>> ageWidget.update()
   Traceback (most recent call last):
   ...
-  ComponentLookupError: ((...), <InterfaceClass ...IDataManager>, u'')
+  ComponentLookupError: ((...), <InterfaceClass ...IDataManager>, '')
 
 This call fails because the widget does not know how to extract the value from
 the context. Registering a data manager for the widget does the trick:
 
   >>> from z3c.form import datamanager
   >>> zope.component.provideAdapter(datamanager.AttributeField)
 
@@ -351,39 +351,39 @@
 code to adjust certain attributes, even though hooks exist. The easiest way to
 change those attribute values is actually to provide an adapter that provides
 the custom value.
 
 We can create a custom label for the age widget:
 
   >>> AgeLabel = widget.StaticWidgetAttribute(
-  ...     u'Current Age',
+  ...     'Current Age',
   ...     context=None, request=None, view=None, field=ageField, widget=None)
 
 Clearly, this code does not require us to touch the orginal form and widget
 code, given that we have enough control over the selection. In the example
 above, all the selection discriminators are listed for demonstration
 purposes. Of course, the label in this case can be created as follows:
 
-  >>> AgeLabel = widget.StaticWidgetAttribute(u'Current Age', field=ageField)
+  >>> AgeLabel = widget.StaticWidgetAttribute('Current Age', field=ageField)
 
 Much better, isn't it? Initially the label is the title of the field:
 
   >>> ageWidget.label
-  u'Age'
+  'Age'
 
 Let's now simply register the label as a named adapter; the name is the name
 of the attribute to change:
 
   >>> zope.component.provideAdapter(AgeLabel, name='label')
 
 Asking the widget for the label now will return the newly registered label:
 
   >>> ageWidget.update()
   >>> ageWidget.label
-  u'Current Age'
+  'Current Age'
 
 Of course, simply setting the label or changing the label extraction via a
 sub-class are other options you might want to consider. Furthermore, you
 could also create a computed attribute value or implement your own component.
 
 Overriding other attributes, such as ``required``, is done in the same
 way. If any widget provides new attributes, they are also overridable this
@@ -461,17 +461,17 @@
   >>> from zope.schema import vocabulary
   >>> @zope.interface.implementer(interfaces.ITerms)
   ... class Terms(vocabulary.SimpleVocabulary):
   ...     def getValue(self, token):
   ...         return self.getTermByToken(token).value
 
   >>> terms = Terms(
-  ...   [Terms.createTerm(1, 'v1', u'Value 1'),
-  ...    Terms.createTerm(2, 'v2', u'Value 2'),
-  ...    Terms.createTerm(3, 'v3', u'Value 3')])
+  ...   [Terms.createTerm(1, 'v1', 'Value 1'),
+  ...    Terms.createTerm(2, 'v2', 'Value 2'),
+  ...    Terms.createTerm(3, 'v3', 'Value 3')])
   >>> seqWidget.terms = terms
 
 Once the ``terms`` attribute is set, updating the widgets does not change the
 terms:
 
   >>> seqWidget.update()
   >>> [term.value for term in seqWidget.terms]
@@ -510,48 +510,48 @@
   ('--NOVALUE--',)
 
 Since the value of the widget is a tuple of tokens, when displaying the
 values, they have to be converted to the title of the term:
 
   >>> seqWidget.value = ('v1', 'v2')
   >>> seqWidget.displayValue
-  [u'Value 1', u'Value 2']
+  ['Value 1', 'Value 2']
 
 Unknown values/terms get silently ignored.
 
   >>> seqWidget.value = ('v3', 'v4')
   >>> seqWidget.displayValue
-  [u'Value 3']
+  ['Value 3']
 
 When input forms are directly switched to display forms within the same
 request, it can happen that the value contains the "--NOVALUE--" token
 entry. This entry should be silently ignored:
 
   >>> seqWidget.value = (seqWidget.noValueToken,)
   >>> seqWidget.displayValue
   []
 
 To demonstrate how the terms is automatically chosen by a widget, we should
 instantiate a field widget. Let's do this with a choice field:
 
   >>> seqField = zope.schema.Choice(
-  ...     title=u'Sequence Field',
+  ...     title='Sequence Field',
   ...     vocabulary=terms)
 
 Let's now create the field widget:
 
   >>> seqWidget = widget.FieldWidget(seqField, widget.SequenceWidget(request))
   >>> seqWidget.terms
 
 The terms should be available as soon as the widget is updated:
 
   >>> seqWidget.update()
   Traceback (most recent call last):
   ...
-  ComponentLookupError: ((...), <InterfaceClass ...ITerms>, u'')
+  ComponentLookupError: ((...), <InterfaceClass ...ITerms>, '')
 
 This failed, because we did not register an adapter for the terms yet. After
 the adapter is registered, everything should work as expected:
 
   >>> from z3c.form import term
   >>> zope.component.provideAdapter(term.ChoiceTermsVocabulary)
   >>> zope.component.provideAdapter(term.ChoiceTerms)
@@ -622,43 +622,43 @@
   >>> multiWidget.request = TestRequest(form={'multi.name.count':'0'})
   >>> multiWidget.extract()
   []
 
 If we provide real values within the request, we will get it back:
 
   >>> multiWidget.request = TestRequest(form={'multi.name.count':'2',
-  ...                                         'multi.name.0':u'42',
-  ...                                         'multi.name.1':u'43'})
+  ...                                         'multi.name.0':'42',
+  ...                                         'multi.name.1':'43'})
   >>> multiWidget.extract()
-  [u'42', u'43']
+  ['42', '43']
 
 If we provide a bad value we will get the bad value within the extract method.
 Our widget update process will validate this bad value later:
 
   >>> multiWidget.request = TestRequest(form={'multi.name.count':'1',
-  ...                                         'multi.name.0':u'bad'})
+  ...                                         'multi.name.0':'bad'})
   >>> multiWidget.extract()
-  [u'bad']
+  ['bad']
 
 Storing a widget value forces to update the (sub) widgets. This forces also to
 validate the (sub) widget values. To show this we need to register a
 validator:
 
   >>> from z3c.form.validator import SimpleFieldValidator
   >>> zope.component.provideAdapter(SimpleFieldValidator)
 
 Since the value of the widget is a list of (widget) value items, when
 displaying the values, they can be used as they are:
 
   >>> multiWidget.request = TestRequest(form={'multi.name.count':'2',
-  ...                                         'multi.name.0':u'42',
-  ...                                         'multi.name.1':u'43'})
+  ...                                         'multi.name.0':'42',
+  ...                                         'multi.name.1':'43'})
   >>> multiWidget.value = multiWidget.extract()
   >>> multiWidget.value
-  [u'42', u'43']
+  ['42', '43']
 
 Each widget normally gets first processed by it's update method call after
 initialization. This update call forces to call extract, which first will get
 the right amount of (sub) widgets by the given counter value. Based on that
 counter value the right amount of widgets will get created. Each widget will
 return it's own value and this collected values get returned by the extract
 method. The multi widget update method will then store this values if any given
@@ -668,33 +668,33 @@
 widget widgets based on the given values and apply the right value for them.
 After that the multi widget is ready for rendering. The good thing about that
 pattern is that it is possible to set a value before or after the update method
 is called. At any time if we change the multi widget value the (sub) widgets
 get updated within the new relevant value.
 
   >>> multiRequest = TestRequest(form={'multi.name.count':'2',
-  ...                                  'multi.name.0':u'42',
-  ...                                  'multi.name.1':u'43'})
+  ...                                  'multi.name.0':'42',
+  ...                                  'multi.name.1':'43'})
 
   >>> multiWidget = widget.FieldWidget(multiField, widget.MultiWidget(
   ...     multiRequest))
   >>> multiWidget.name = 'multi.name'
   >>> multiWidget.value
   []
 
   >>> multiWidget.update()
 
   >>> multiWidget.widgets[0].value
-  u'42'
+  '42'
 
   >>> multiWidget.widgets[1].value
-  u'43'
+  '43'
 
   >>> multiWidget.value
-  [u'42', u'43']
+  ['42', '43']
 
 MultiWidget also declares the ``allowAdding`` and ``allowRemoving``
 attributes that can be used in browser presentation to control add/remove
 button availability. To ease working with common cases, the
 ``updateAllowAddRemove`` method provided that will set those attributes
 in respect to field's min_length and max_length, if the field provides
 zope.schema.interfaces.IMinMaxLen interface.
@@ -723,36 +723,36 @@
 
   >>> multiWidget.updateAllowAddRemove()
   >>> multiWidget.allowAdding, multiWidget.allowRemoving
   (True, False)
 
 Minimum length:
 
-  >>> multiWidget.value = [u'3', u'5']
+  >>> multiWidget.value = ['3', '5']
   >>> multiWidget.updateAllowAddRemove()
   >>> multiWidget.allowAdding, multiWidget.allowRemoving
   (True, False)
 
 Some allowed length:
 
-  >>> multiWidget.value = [u'3', u'5', u'8', u'6']
+  >>> multiWidget.value = ['3', '5', '8', '6']
   >>> multiWidget.updateAllowAddRemove()
   >>> multiWidget.allowAdding, multiWidget.allowRemoving
   (True, True)
 
 Maximum length:
 
-  >>> multiWidget.value = [u'3', u'5', u'8', u'6', u'42']
+  >>> multiWidget.value = ['3', '5', '8', '6', '42']
   >>> multiWidget.updateAllowAddRemove()
   >>> multiWidget.allowAdding, multiWidget.allowRemoving
   (False, True)
 
 Over maximum length:
 
-  >>> multiWidget.value = [u'3', u'5', u'8', u'6', u'42', u'45']
+  >>> multiWidget.value = ['3', '5', '8', '6', '42', '45']
   >>> multiWidget.updateAllowAddRemove()
   >>> multiWidget.allowAdding, multiWidget.allowRemoving
   (False, True)
 
 I know a guy who once switched widget mode in the middle. All simple widgets
 are easy to hack, but multiWidget needs to update all subwidgets:
 
@@ -839,32 +839,32 @@
   ...     key_type=zope.schema.Int(),
   ...     value_type=zope.schema.Int(default=42))
   >>> multiWidget.field = multiField
   >>> multiWidget.name = 'multi.name'
 
 Now if we set the value to a list we get an error:
 
-  >>> multiWidget.value = [u'3', u'5', u'8', u'6', u'42', u'45']
+  >>> multiWidget.value = ['3', '5', '8', '6', '42', '45']
   Traceback (most recent call last):
   ...
   ValueError: need more than 1 value to unpack
 
 but a dictionary is good.
 
-  >>> multiWidget.value = [(u'1', u'3'), (u'2', u'5'), (u'3', u'8'), (u'4', u'6'), (u'5', u'42'), (u'6', u'45')]
+  >>> multiWidget.value = [('1', '3'), ('2', '5'), ('3', '8'), ('4', '6'), ('5', '42'), ('6', '45')]
 
 and our requests now have to include keys as well as values
 
   >>> multiWidget.request = TestRequest(form={'multi.name.count':'2',
-  ...                                         'multi.name.key.0':u'1',
-  ...                                         'multi.name.0':u'42',
-  ...                                         'multi.name.key.1':u'2',
-  ...                                         'multi.name.1':u'43'})
+  ...                                         'multi.name.key.0':'1',
+  ...                                         'multi.name.0':'42',
+  ...                                         'multi.name.key.1':'2',
+  ...                                         'multi.name.1':'43'})
   >>> multiWidget.extract()
-  [(u'1', u'42'), (u'2', u'43')]
+  [('1', '42'), ('2', '43')]
 
 Let's define a field with min and max length constraints and create
 a widget for it.
 
   >>> multiField = zope.schema.Dict(
   ...     key_type=zope.schema.Int(),
   ...     value_type=zope.schema.Int(default=42),
```

#### html2text {}

```diff
@@ -31,15 +31,15 @@
 -------------------------------- When using the widget API by itself, the
 simplest way to use it is to just instantiate it using the request: >>> from
 z3c.form.testing import TestRequest >>> from z3c.form import widget >>> request
 = TestRequest() >>> age = widget.Widget(request) In this case we instantiated a
 generic widget. A full set of simple browser-based widgets can be found in the
 ``browser/`` package. Since no helper components are around to fill the
 attributes of the widget, we have to do it by hand: >>> age.name = 'age' >>>
-age.label = u'Age' >>> age.value = '39' The most important attributes are the
+age.label = 'Age' >>> age.value = '39' The most important attributes are the
 "name" and the "value". The name is used to identify the widget within the
 form. The value is either the value to be manipulated or the default value. The
 value must be provided in the form the widget needs it. It is the
 responsibility of a data converter to convert between the widget value and the
 desired internal value. Before we can render the widget, we have to register a
 template for the widget. The first step is to define the template: >>> import
 tempfile >>> textWidgetTemplate = tempfile.mktemp('text.pt') >>> with open
@@ -79,16 +79,16 @@
 ] Additionally the widget provides a dictionary representation of its data
 through a json_data() method: >>> from pprint import pprint >>> pprint
 (age.json_data()) {'error': '', 'id': '', 'label': 'Age', 'mode': 'input',
 'name': 'age', 'required': False, 'type': 'text', 'value': '39'} Creating and
 Using Field Widgets -------------------------------- An extended form of the
 widget allows fields to control several of the widget's properties. Let's
 create a field first: >>> ageField = zope.schema.Int( ... __name__ = 'age', ...
-title = u'Age', ... min = 0, ... max = 130) We can now use our simple widget
-and create a field widget from it: >>> ageWidget = widget.FieldWidget(ageField,
+title = 'Age', ... min = 0, ... max = 130) We can now use our simple widget and
+create a field widget from it: >>> ageWidget = widget.FieldWidget(ageField,
 age) Such a widget provides ``IFieldWidget``: >>>
 interfaces.IFieldWidget.providedBy(ageWidget) True Of course, this is more
 commonly done using an adapter. Commonly those adapters look like this: >>>
 @zope.component.adapter(zope.schema.Int, TestRequest) ...
 @zope.interface.implementer(interfaces.IFieldWidget) ... def IntWidget(field,
 request): ... return widget.FieldWidget(field, widget.Widget(request)) >>>
 zope.component.provideAdapter(IntWidget) >>> ageWidget =
@@ -113,15 +113,15 @@
 ---------------------------------- When widgets represent an attribute value of
 an object, then this object must be set as the context of the widget: >>> class
 Person(object): ... age = 45 >>> person = Person() >>> ageWidget.context =
 person >>> zope.interface.alsoProvides(ageWidget, interfaces.IContextAware) The
 result is that the context value takes over precendence over the default value:
 >>> ageWidget.request = TestRequest() >>> ageWidget.update() Traceback (most
 recent call last): ... ComponentLookupError: ((...),
-..IDataManager>, u'') This call fails because the widget does not know how to
+..IDataManager>, '') This call fails because the widget does not know how to
 extract the value from the context. Registering a data manager for the widget
 does the trick: >>> from z3c.form import datamanager >>>
 zope.component.provideAdapter(datamanager.AttributeField) >>> ageWidget.update
 () >>> print(ageWidget.render()) [45                  ] If the context value is
 unknown (None), the default value kicks in. >>> person.age = None >>>
 ageWidget.update() >>> print(ageWidget.render()) [30                  ] Unless
 the widget is explicitely asked to not to show defaults. This is handy for
@@ -152,26 +152,26 @@
 ..>) Let's clean up the setup: >>> management.endInteraction() >>> newPolicy =
 management.setSecurityPolicy(oldPolicy) >>> management.newInteraction() >>>
 ageWidget.context = Person() Dynamically Changing Attribute Values ------------
 ------------------------- Once widgets are used within a framework, it is very
 tedious to write Python code to adjust certain attributes, even though hooks
 exist. The easiest way to change those attribute values is actually to provide
 an adapter that provides the custom value. We can create a custom label for the
-age widget: >>> AgeLabel = widget.StaticWidgetAttribute( ... u'Current Age',
-... context=None, request=None, view=None, field=ageField, widget=None)
-Clearly, this code does not require us to touch the orginal form and widget
-code, given that we have enough control over the selection. In the example
-above, all the selection discriminators are listed for demonstration purposes.
-Of course, the label in this case can be created as follows: >>> AgeLabel =
-widget.StaticWidgetAttribute(u'Current Age', field=ageField) Much better, isn't
-it? Initially the label is the title of the field: >>> ageWidget.label u'Age'
+age widget: >>> AgeLabel = widget.StaticWidgetAttribute( ... 'Current Age', ...
+context=None, request=None, view=None, field=ageField, widget=None) Clearly,
+this code does not require us to touch the orginal form and widget code, given
+that we have enough control over the selection. In the example above, all the
+selection discriminators are listed for demonstration purposes. Of course, the
+label in this case can be created as follows: >>> AgeLabel =
+widget.StaticWidgetAttribute('Current Age', field=ageField) Much better, isn't
+it? Initially the label is the title of the field: >>> ageWidget.label 'Age'
 Let's now simply register the label as a named adapter; the name is the name of
 the attribute to change: >>> zope.component.provideAdapter(AgeLabel,
 name='label') Asking the widget for the label now will return the newly
-registered label: >>> ageWidget.update() >>> ageWidget.label u'Current Age' Of
+registered label: >>> ageWidget.update() >>> ageWidget.label 'Current Age' Of
 course, simply setting the label or changing the label extraction via a sub-
 class are other options you might want to consider. Furthermore, you could also
 create a computed attribute value or implement your own component. Overriding
 other attributes, such as ``required``, is done in the same way. If any widget
 provides new attributes, they are also overridable this way. For example, the
 selection widget defines a label for the option that no value was selected. We
 often want to override this, because the German translation sucks or the
@@ -200,48 +200,47 @@
 TestRequest() >>> seqWidget = widget.SequenceWidget(request) >>> seqWidget.name
 = 'seq' >>> seqWidget.terms is None True There are two ways terms can be added,
 either manually or via an adapter. Those term objects must provide ``ITerms``.
 There is no simple default implementation, so we have to provide one ourselves:
 >>> from zope.schema import vocabulary >>> @zope.interface.implementer
 (interfaces.ITerms) ... class Terms(vocabulary.SimpleVocabulary): ... def
 getValue(self, token): ... return self.getTermByToken(token).value >>> terms =
-Terms( ... [Terms.createTerm(1, 'v1', u'Value 1'), ... Terms.createTerm(2,
-'v2', u'Value 2'), ... Terms.createTerm(3, 'v3', u'Value 3')]) >>>
-seqWidget.terms = terms Once the ``terms`` attribute is set, updating the
-widgets does not change the terms: >>> seqWidget.update() >>> [term.value for
-term in seqWidget.terms] [1, 2, 3] The value of a sequence widget is a tuple/
-list of term tokens. When extracting values from the request, the values must
-be valid tokens, otherwise the default value is returned: >>> seqWidget.request
-= TestRequest(form={'seq': ['v1']}) >>> seqWidget.extract() ('v1',) >>>
-seqWidget.request = TestRequest(form={'seq': ['v4']}) >>> seqWidget.extract()
->>> seqWidget.request = TestRequest(form={'seq-empty-marker': '1'}) >>>
-seqWidget.extract() () Note that we also support single values being returned
-outside a sequence. The extracted value is then wrapped by a tuple. This
-feature is useful when integrating with third-party client frameworks that do
-not know about the Zope naming conventions. >>> seqWidget.request = TestRequest
-(form={'seq': 'v1'}) >>> seqWidget.extract() ('v1',) If the no-value token has
-been selected, it is returned without further verification: >>>
-seqWidget.request = TestRequest(form={'seq': [seqWidget.noValueToken]}) >>>
-seqWidget.extract() ('--NOVALUE--',) Since the value of the widget is a tuple
-of tokens, when displaying the values, they have to be converted to the title
-of the term: >>> seqWidget.value = ('v1', 'v2') >>> seqWidget.displayValue
-[u'Value 1', u'Value 2'] Unknown values/terms get silently ignored. >>>
-seqWidget.value = ('v3', 'v4') >>> seqWidget.displayValue [u'Value 3'] When
-input forms are directly switched to display forms within the same request, it
-can happen that the value contains the "--NOVALUE--" token entry. This entry
-should be silently ignored: >>> seqWidget.value = (seqWidget.noValueToken,) >>>
-seqWidget.displayValue [] To demonstrate how the terms is automatically chosen
-by a widget, we should instantiate a field widget. Let's do this with a choice
-field: >>> seqField = zope.schema.Choice( ... title=u'Sequence Field', ...
-vocabulary=terms) Let's now create the field widget: >>> seqWidget =
-widget.FieldWidget(seqField, widget.SequenceWidget(request)) >>>
-seqWidget.terms The terms should be available as soon as the widget is updated:
->>> seqWidget.update() Traceback (most recent call last): ...
-ComponentLookupError: ((...),
-..ITerms>, u'') This failed, because we did not register an adapter for the
+Terms( ... [Terms.createTerm(1, 'v1', 'Value 1'), ... Terms.createTerm(2, 'v2',
+'Value 2'), ... Terms.createTerm(3, 'v3', 'Value 3')]) >>> seqWidget.terms =
+terms Once the ``terms`` attribute is set, updating the widgets does not change
+the terms: >>> seqWidget.update() >>> [term.value for term in seqWidget.terms]
+[1, 2, 3] The value of a sequence widget is a tuple/list of term tokens. When
+extracting values from the request, the values must be valid tokens, otherwise
+the default value is returned: >>> seqWidget.request = TestRequest(form={'seq':
+['v1']}) >>> seqWidget.extract() ('v1',) >>> seqWidget.request = TestRequest
+(form={'seq': ['v4']}) >>> seqWidget.extract()  >>> seqWidget.request =
+TestRequest(form={'seq-empty-marker': '1'}) >>> seqWidget.extract() () Note
+that we also support single values being returned outside a sequence. The
+extracted value is then wrapped by a tuple. This feature is useful when
+integrating with third-party client frameworks that do not know about the Zope
+naming conventions. >>> seqWidget.request = TestRequest(form={'seq': 'v1'}) >>>
+seqWidget.extract() ('v1',) If the no-value token has been selected, it is
+returned without further verification: >>> seqWidget.request = TestRequest
+(form={'seq': [seqWidget.noValueToken]}) >>> seqWidget.extract() ('--NOVALUE--
+',) Since the value of the widget is a tuple of tokens, when displaying the
+values, they have to be converted to the title of the term: >>> seqWidget.value
+= ('v1', 'v2') >>> seqWidget.displayValue ['Value 1', 'Value 2'] Unknown
+values/terms get silently ignored. >>> seqWidget.value = ('v3', 'v4') >>>
+seqWidget.displayValue ['Value 3'] When input forms are directly switched to
+display forms within the same request, it can happen that the value contains
+the "--NOVALUE--" token entry. This entry should be silently ignored: >>>
+seqWidget.value = (seqWidget.noValueToken,) >>> seqWidget.displayValue [] To
+demonstrate how the terms is automatically chosen by a widget, we should
+instantiate a field widget. Let's do this with a choice field: >>> seqField =
+zope.schema.Choice( ... title='Sequence Field', ... vocabulary=terms) Let's now
+create the field widget: >>> seqWidget = widget.FieldWidget(seqField,
+widget.SequenceWidget(request)) >>> seqWidget.terms The terms should be
+available as soon as the widget is updated: >>> seqWidget.update() Traceback
+(most recent call last): ... ComponentLookupError: ((...),
+..ITerms>, '') This failed, because we did not register an adapter for the
 terms yet. After the adapter is registered, everything should work as expected:
 >>> from z3c.form import term >>> zope.component.provideAdapter
 (term.ChoiceTermsVocabulary) >>> zope.component.provideAdapter
 (term.ChoiceTerms) >>> seqWidget.update() >>> seqWidget.terms
 form.term.ChoiceTermsVocabulary object at ...> The representation of this
 widget as json looks a bit different: >>> from pprint import pprint >>> pprint
 (seqWidget.json_data()) {'error': '', 'id': '', 'label': 'Sequence Field',
@@ -266,69 +265,68 @@
 a request. The counter is a marker for build the right amount of enumerated
 widgets. If we provide no request we will get no value: >>> multiWidget.extract
 ()  If we provide an empty counter we will get an empty list. This is
 accordance with Widget.extract(), where a missing request value is  and an
 empty ('') request value is ''. >>> multiWidget.request = TestRequest(form=
 {'multi.name.count':'0'}) >>> multiWidget.extract() [] If we provide real
 values within the request, we will get it back: >>> multiWidget.request =
-TestRequest(form={'multi.name.count':'2', ... 'multi.name.0':u'42', ...
-'multi.name.1':u'43'}) >>> multiWidget.extract() [u'42', u'43'] If we provide a
+TestRequest(form={'multi.name.count':'2', ... 'multi.name.0':'42', ...
+'multi.name.1':'43'}) >>> multiWidget.extract() ['42', '43'] If we provide a
 bad value we will get the bad value within the extract method. Our widget
 update process will validate this bad value later: >>> multiWidget.request =
-TestRequest(form={'multi.name.count':'1', ... 'multi.name.0':u'bad'}) >>>
-multiWidget.extract() [u'bad'] Storing a widget value forces to update the
-(sub) widgets. This forces also to validate the (sub) widget values. To show
-this we need to register a validator: >>> from z3c.form.validator import
+TestRequest(form={'multi.name.count':'1', ... 'multi.name.0':'bad'}) >>>
+multiWidget.extract() ['bad'] Storing a widget value forces to update the (sub)
+widgets. This forces also to validate the (sub) widget values. To show this we
+need to register a validator: >>> from z3c.form.validator import
 SimpleFieldValidator >>> zope.component.provideAdapter(SimpleFieldValidator)
 Since the value of the widget is a list of (widget) value items, when
 displaying the values, they can be used as they are: >>> multiWidget.request =
-TestRequest(form={'multi.name.count':'2', ... 'multi.name.0':u'42', ...
-'multi.name.1':u'43'}) >>> multiWidget.value = multiWidget.extract() >>>
-multiWidget.value [u'42', u'43'] Each widget normally gets first processed by
+TestRequest(form={'multi.name.count':'2', ... 'multi.name.0':'42', ...
+'multi.name.1':'43'}) >>> multiWidget.value = multiWidget.extract() >>>
+multiWidget.value ['42', '43'] Each widget normally gets first processed by
 it's update method call after initialization. This update call forces to call
 extract, which first will get the right amount of (sub) widgets by the given
 counter value. Based on that counter value the right amount of widgets will get
 created. Each widget will return it's own value and this collected values get
 returned by the extract method. The multi widget update method will then store
 this values if any given as multi widget value argument. If extract doesn't
 return a value the multi widget update method will use it's default value. If
 we store a given value from the extract as multi widget value, this will force
 to setup the multi widget widgets based on the given values and apply the right
 value for them. After that the multi widget is ready for rendering. The good
 thing about that pattern is that it is possible to set a value before or after
 the update method is called. At any time if we change the multi widget value
 the (sub) widgets get updated within the new relevant value. >>> multiRequest =
-TestRequest(form={'multi.name.count':'2', ... 'multi.name.0':u'42', ...
-'multi.name.1':u'43'}) >>> multiWidget = widget.FieldWidget(multiField,
+TestRequest(form={'multi.name.count':'2', ... 'multi.name.0':'42', ...
+'multi.name.1':'43'}) >>> multiWidget = widget.FieldWidget(multiField,
 widget.MultiWidget( ... multiRequest)) >>> multiWidget.name = 'multi.name' >>>
 multiWidget.value [] >>> multiWidget.update() >>> multiWidget.widgets[0].value
-u'42' >>> multiWidget.widgets[1].value u'43' >>> multiWidget.value [u'42',
-u'43'] MultiWidget also declares the ``allowAdding`` and ``allowRemoving``
-attributes that can be used in browser presentation to control add/remove
-button availability. To ease working with common cases, the
-``updateAllowAddRemove`` method provided that will set those attributes in
-respect to field's min_length and max_length, if the field provides
-zope.schema.interfaces.IMinMaxLen interface. Let's define a field with min and
-max length constraints and create a widget for it. >>> multiField =
-zope.schema.List( ... value_type=zope.schema.Int(), ... min_length=2, ...
-max_length=5) >>> request = TestRequest() >>> multiWidget = widget.FieldWidget
-(multiField, widget.MultiWidget(request)) Lets ensure that the minimum number
-of widgets are created. >>> multiWidget.update() >>> len(multiWidget.widgets) 2
-Now, let's check if the function will do the right thing depending on the
-value: No value: >>> multiWidget.updateAllowAddRemove() >>>
-multiWidget.allowAdding, multiWidget.allowRemoving (True, False) Minimum
-length: >>> multiWidget.value = [u'3', u'5'] >>>
-multiWidget.updateAllowAddRemove() >>> multiWidget.allowAdding,
+'42' >>> multiWidget.widgets[1].value '43' >>> multiWidget.value ['42', '43']
+MultiWidget also declares the ``allowAdding`` and ``allowRemoving`` attributes
+that can be used in browser presentation to control add/remove button
+availability. To ease working with common cases, the ``updateAllowAddRemove``
+method provided that will set those attributes in respect to field's min_length
+and max_length, if the field provides zope.schema.interfaces.IMinMaxLen
+interface. Let's define a field with min and max length constraints and create
+a widget for it. >>> multiField = zope.schema.List( ...
+value_type=zope.schema.Int(), ... min_length=2, ... max_length=5) >>> request =
+TestRequest() >>> multiWidget = widget.FieldWidget(multiField,
+widget.MultiWidget(request)) Lets ensure that the minimum number of widgets are
+created. >>> multiWidget.update() >>> len(multiWidget.widgets) 2 Now, let's
+check if the function will do the right thing depending on the value: No value:
+>>> multiWidget.updateAllowAddRemove() >>> multiWidget.allowAdding,
+multiWidget.allowRemoving (True, False) Minimum length: >>> multiWidget.value =
+['3', '5'] >>> multiWidget.updateAllowAddRemove() >>> multiWidget.allowAdding,
 multiWidget.allowRemoving (True, False) Some allowed length: >>>
-multiWidget.value = [u'3', u'5', u'8', u'6'] >>>
+multiWidget.value = ['3', '5', '8', '6'] >>> multiWidget.updateAllowAddRemove()
+>>> multiWidget.allowAdding, multiWidget.allowRemoving (True, True) Maximum
+length: >>> multiWidget.value = ['3', '5', '8', '6', '42'] >>>
 multiWidget.updateAllowAddRemove() >>> multiWidget.allowAdding,
-multiWidget.allowRemoving (True, True) Maximum length: >>> multiWidget.value =
-[u'3', u'5', u'8', u'6', u'42'] >>> multiWidget.updateAllowAddRemove() >>>
-multiWidget.allowAdding, multiWidget.allowRemoving (False, True) Over maximum
-length: >>> multiWidget.value = [u'3', u'5', u'8', u'6', u'42', u'45'] >>>
+multiWidget.allowRemoving (False, True) Over maximum length: >>>
+multiWidget.value = ['3', '5', '8', '6', '42', '45'] >>>
 multiWidget.updateAllowAddRemove() >>> multiWidget.allowAdding,
 multiWidget.allowRemoving (False, True) I know a guy who once switched widget
 mode in the middle. All simple widgets are easy to hack, but multiWidget needs
 to update all subwidgets: >>> [w.mode for w in multiWidget.widgets] ['input',
 'input', 'input', 'input', 'input', 'input'] Switch the multiWidget mode: >>>
 multiWidget.mode = interfaces.DISPLAY_MODE Yes, all subwidgets switch mode: >>>
 [w.mode for w in multiWidget.widgets] ['display', 'display', 'display',
@@ -346,22 +344,22 @@
 'name': '.4', 'required': True, 'type': 'text', 'value': '42'}, {'error': '',
 'id': '-5', 'label': '', 'mode': 'display', 'name': '.5', 'required': True,
 'type': 'text', 'value': '45'}]} Multi Dict Widget ----------------- We can
 also use a multiWidget in Dict mode by just using a field which a Dict: >>>
 multiField = zope.schema.Dict( ... key_type=zope.schema.Int(), ...
 value_type=zope.schema.Int(default=42)) >>> multiWidget.field = multiField >>>
 multiWidget.name = 'multi.name' Now if we set the value to a list we get an
-error: >>> multiWidget.value = [u'3', u'5', u'8', u'6', u'42', u'45'] Traceback
-(most recent call last): ... ValueError: need more than 1 value to unpack but a
-dictionary is good. >>> multiWidget.value = [(u'1', u'3'), (u'2', u'5'), (u'3',
-u'8'), (u'4', u'6'), (u'5', u'42'), (u'6', u'45')] and our requests now have to
+error: >>> multiWidget.value = ['3', '5', '8', '6', '42', '45'] Traceback (most
+recent call last): ... ValueError: need more than 1 value to unpack but a
+dictionary is good. >>> multiWidget.value = [('1', '3'), ('2', '5'), ('3',
+'8'), ('4', '6'), ('5', '42'), ('6', '45')] and our requests now have to
 include keys as well as values >>> multiWidget.request = TestRequest(form=
-{'multi.name.count':'2', ... 'multi.name.key.0':u'1', ... 'multi.name.0':u'42',
-... 'multi.name.key.1':u'2', ... 'multi.name.1':u'43'}) >>> multiWidget.extract
-() [(u'1', u'42'), (u'2', u'43')] Let's define a field with min and max length
+{'multi.name.count':'2', ... 'multi.name.key.0':'1', ... 'multi.name.0':'42',
+... 'multi.name.key.1':'2', ... 'multi.name.1':'43'}) >>> multiWidget.extract()
+[('1', '42'), ('2', '43')] Let's define a field with min and max length
 constraints and create a widget for it. >>> multiField = zope.schema.Dict( ...
 key_type=zope.schema.Int(), ... value_type=zope.schema.Int(default=42), ...
 min_length=2, ... max_length=5) >>> request = TestRequest() >>> multiWidget =
 widget.FieldWidget(multiField, widget.MultiWidget(request)) Lets ensure that
 the minimum number of widgets are created. >>> multiWidget.update() >>> len
 (multiWidget.widgets) 2 We can add new items >>> multiWidget.appendAddingWidget
 () >>> multiWidget.appendAddingWidget() >>> multiWidget.update() >>> len
```

### Comparing `z3c.form-4.3/src/z3c/form/zcml.py` & `z3c.form-5.0/src/z3c/form/zcml.py`

 * *Files 9% similar despite different names*

```diff
@@ -14,27 +14,27 @@
 """
 $Id$
 """
 __docformat__ = "reStructuredText"
 
 import os
 
-import zope.interface
 import zope.component.zcml
-import zope.schema
 import zope.configuration.fields
+import zope.interface
+import zope.schema
 from zope.configuration.exceptions import ConfigurationError
 from zope.pagetemplate.interfaces import IPageTemplate
 from zope.publisher.interfaces.browser import IDefaultBrowserLayer
 
 from z3c.form import interfaces
 from z3c.form.i18n import MessageFactory as _
-from z3c.form.widget import WidgetTemplateFactory
 from z3c.form.object import ObjectWidgetTemplateFactory
 from z3c.form.widget import WidgetLayoutFactory
+from z3c.form.widget import WidgetTemplateFactory
 
 
 class IWidgetTemplateDirective(zope.interface.Interface):
     """Parameters for the widget template directive."""
 
     template = zope.configuration.fields.Path(
         title=_('Layout template.'),
@@ -49,15 +49,15 @@
         default=interfaces.INPUT_MODE,
         required=False)
 
     for_ = zope.configuration.fields.GlobalObject(
         title=_('View'),
         description=_('The view for which the template should be available'),
         default=zope.interface.Interface,
-        required = False)
+        required=False)
 
     layer = zope.configuration.fields.GlobalObject(
         title=_('Layer'),
         description=_('The layer for which the template should be available'),
         default=IDefaultBrowserLayer,
         required=False)
 
@@ -81,69 +81,89 @@
 
     contentType = zope.schema.ASCIILine(
         title=_('Content Type'),
         description=_('The content type identifies the type of data.'),
         default='text/html',
         required=False)
 
+
 class IObjectWidgetTemplateDirective(IWidgetTemplateDirective):
     schema = zope.configuration.fields.GlobalObject(
         title=_('Schema'),
-        description=_('The schema of the field for which the template should be available'),
+        description=_('The schema of the field for which the template should'
+                      ' be available'),
         default=zope.interface.Interface,
         required=False)
 
 
 def widgetTemplateDirective(
-    _context, template, for_=zope.interface.Interface,
-    layer=IDefaultBrowserLayer, view=None, field=None, widget=None,
-    mode=interfaces.INPUT_MODE, contentType='text/html'):
+        _context, template, for_=zope.interface.Interface,
+        layer=IDefaultBrowserLayer, view=None, field=None, widget=None,
+        mode=interfaces.INPUT_MODE, contentType='text/html'):
 
     # Make sure that the template exists
     template = os.path.abspath(str(_context.path(template)))
     if not os.path.isfile(template):
         raise ConfigurationError("No such file", template)
 
     factory = WidgetTemplateFactory(template, contentType)
     zope.interface.directlyProvides(factory, IPageTemplate)
 
     # register the template
     zope.component.zcml.adapter(_context, (factory,), IPageTemplate,
-        (for_, layer, view, field, widget), name=mode)
+                                (for_, layer, view, field, widget), name=mode)
 
 
 def widgetLayoutTemplateDirective(
-    _context, template, for_=zope.interface.Interface,
-    layer=IDefaultBrowserLayer, view=None, field=None, widget=None,
-    mode=interfaces.INPUT_MODE, contentType='text/html'):
+        _context, template, for_=zope.interface.Interface,
+        layer=IDefaultBrowserLayer, view=None, field=None, widget=None,
+        mode=interfaces.INPUT_MODE, contentType='text/html'):
 
     # Make sure that the template exists
     template = os.path.abspath(str(_context.path(template)))
     if not os.path.isfile(template):
         raise ConfigurationError("No such file", template)
 
     factory = WidgetLayoutFactory(template, contentType)
     zope.interface.directlyProvides(factory, interfaces.IWidgetLayoutTemplate)
 
     # register the template
-    zope.component.zcml.adapter(_context, (factory,),
-        interfaces.IWidgetLayoutTemplate, (for_, layer, view, field, widget),
+    zope.component.zcml.adapter(
+        _context,
+        (factory,
+         ),
+        interfaces.IWidgetLayoutTemplate,
+        (for_,
+         layer,
+         view,
+         field,
+         widget),
         name=mode)
 
 
 def objectWidgetTemplateDirective(
-    _context, template, for_=zope.interface.Interface,
-    layer=IDefaultBrowserLayer, view=None, field=None, widget=None,
-    schema=None,
-    mode=interfaces.INPUT_MODE, contentType='text/html'):
+        _context, template, for_=zope.interface.Interface,
+        layer=IDefaultBrowserLayer, view=None, field=None, widget=None,
+        schema=None,
+        mode=interfaces.INPUT_MODE, contentType='text/html'):
 
     # Make sure that the template exists
     template = os.path.abspath(str(_context.path(template)))
     if not os.path.isfile(template):
         raise ConfigurationError("No such file", template)
 
     factory = ObjectWidgetTemplateFactory(template, contentType)
     zope.interface.directlyProvides(factory, IPageTemplate)
 
     # register the template
-    zope.component.zcml.adapter(_context, (factory,), IPageTemplate,
-        (for_, layer, view, field, widget, schema), name=mode)
+    zope.component.zcml.adapter(
+        _context,
+        (factory,
+         ),
+        IPageTemplate,
+        (for_,
+         layer,
+         view,
+         field,
+         widget,
+         schema),
+        name=mode)
```

### Comparing `z3c.form-4.3/src/z3c/form/zcml.rst` & `z3c.form-5.0/src/z3c/form/zcml.rst`

 * *Files identical despite different names*

### Comparing `z3c.form-4.3/src/z3c.form.egg-info/PKG-INFO` & `z3c.form-5.0/src/z3c.form.egg-info/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,36 +1,33 @@
 Metadata-Version: 2.1
 Name: z3c.form
-Version: 4.3
+Version: 5.0
 Summary: An advanced form and widget framework for Zope 3
 Home-page: https://github.com/zopefoundation/z3c.form
 Author: Stephan Richter, Roger Ineichen and the Zope Community
-Author-email: zope-dev@zope.org
+Author-email: zope-dev@zope.dev
 License: ZPL 2.1
 Keywords: zope3 form widget
-Platform: UNKNOWN
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Environment :: Web Environment
 Classifier: Intended Audience :: Developers
 Classifier: License :: OSI Approved :: Zope Public License
 Classifier: Programming Language :: Python
-Classifier: Programming Language :: Python :: 2
-Classifier: Programming Language :: Python :: 2.7
 Classifier: Programming Language :: Python :: 3
-Classifier: Programming Language :: Python :: 3.5
-Classifier: Programming Language :: Python :: 3.6
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
 Classifier: Programming Language :: Python :: Implementation :: CPython
 Classifier: Natural Language :: English
 Classifier: Operating System :: OS Independent
 Classifier: Topic :: Internet :: WWW/HTTP
 Classifier: Framework :: Zope :: 3
+Requires-Python: >=3.7
 Provides-Extra: extra
 Provides-Extra: test
 Provides-Extra: adding
 Provides-Extra: docs
 License-File: LICENSE.txt
 
 ==========
@@ -77,14 +74,28 @@
 
 
 
 =========
 Changelog
 =========
 
+5.0 (2023-07-17)
+----------------
+
+- Add support for Python 3.11.
+
+- Drop support for Python 2.7, 3.5, 3.6.
+
+- Drop deprecated support for ``python setup.py test``.
+
+- HTMLFormElement.addClass: Improve removal of duplicates. It's now possible to
+  add multiple classes as whitespace separated string and still detect class
+  duplicates.
+
+
 4.3 (2022-03-24)
 ----------------
 
 - Add support for Python 3.10.
 
 - Update tests to ``lxml > 4.7``, thus requiring at least that version.
   (`#107 <https://github.com/zopefoundation/z3c.form/issues/107>`_)
@@ -1428,9 +1439,7 @@
 - Feature: Added compatibility for Zope 3.3 and thus Zope 2.10.
 
 
 1.0.0 (2007-05-24)
 ------------------
 
 - Initial Release
-
-
```

### Comparing `z3c.form-4.3/src/z3c.form.egg-info/SOURCES.txt` & `z3c.form-5.0/src/z3c.form.egg-info/SOURCES.txt`

 * *Files 0% similar despite different names*

```diff
@@ -241,14 +241,15 @@
 src/z3c/form/browser/textlines.py
 src/z3c/form/browser/textlines.rst
 src/z3c/form/browser/textlines.zcml
 src/z3c/form/browser/textlines_display.pt
 src/z3c/form/browser/textlines_hidden.pt
 src/z3c/form/browser/textlines_input.pt
 src/z3c/form/browser/widget.py
+src/z3c/form/browser/widget.rst
 src/z3c/form/browser/widget.zcml
 src/z3c/form/browser/widget_layout.pt
 src/z3c/form/browser/widget_layout_hidden.pt
 src/z3c/form/locales/z3c.form.pot
 src/z3c/form/locales/cs/LC_MESSAGES/z3c.form.po
 src/z3c/form/locales/da/LC_MESSAGES/z3c.form.po
 src/z3c/form/locales/de/LC_MESSAGES/z3c.form.po
```

### Comparing `z3c.form-4.3/src/z3c.form.egg-info/requires.txt` & `z3c.form-5.0/src/z3c.form.egg-info/requires.txt`

 * *Files 2% similar despite different names*

```diff
@@ -1,9 +1,8 @@
 setuptools
-six
 zope.browser
 zope.browserpage
 zope.browserresource
 zope.component
 zope.configuration>=4.3
 zope.contentprovider
 zope.event
```

### Comparing `z3c.form-4.3/tox.ini` & `z3c.form-5.0/tox.ini`

 * *Files 11% similar despite different names*

```diff
@@ -1,20 +1,18 @@
 # Generated from:
 # https://github.com/zopefoundation/meta/tree/master/config/pure-python
 [tox]
 minversion = 3.18
 envlist =
     lint
-    py27
-    py35
-    py36
     py37
     py38
     py39
     py310
+    py311
     docs
     coverage
 
 [testenv]
 usedevelop = true
 deps =
     zope.testrunner
@@ -22,21 +20,34 @@
     zope-testrunner --test-path=src {posargs:-vc}
 extras =
     test
 
 [testenv:lint]
 basepython = python3
 skip_install = true
+commands =
+    isort --check-only --diff {toxinidir}/src {toxinidir}/setup.py
+    flake8 src setup.py
+    check-manifest
+    check-python-versions
 deps =
     check-manifest
     check-python-versions >= 0.19.1
     wheel
+    flake8
+    isort
+
+[testenv:isort-apply]
+basepython = python3
+skip_install = true
+commands_pre =
+deps =
+    isort
 commands =
-    check-manifest
-    check-python-versions
+    isort {toxinidir}/src {toxinidir}/setup.py []
 
 [testenv:docs]
 basepython = python3
 skip_install = false
 extras =
     docs
 commands_pre =
@@ -45,25 +56,23 @@
 
 [testenv:coverage]
 basepython = python3
 allowlist_externals =
     mkdir
 deps =
     coverage
-    coverage-python-version
     zope.testrunner
 commands =
     mkdir -p {toxinidir}/parts/htmlcov
     coverage run -m zope.testrunner --test-path=src {posargs:-vc}
-    coverage html
-    coverage report -m --fail-under=95
+    coverage html --ignore-errors
+    coverage report --ignore-errors --show-missing --fail-under=95
 
 [coverage:run]
 branch = True
-plugins = coverage_python_version
 source = z3c.form
 
 [coverage:report]
 precision = 2
 exclude_lines =
     pragma: no cover
     pragma: nocover
```

